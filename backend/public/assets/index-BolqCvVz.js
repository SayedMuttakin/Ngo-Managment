function Y3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qh={exports:{}},Eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function G3(){if(uw)return Eo;uw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var f in i)f!=="key"&&(o[f]=i[f])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Eo.Fragment=t,Eo.jsx=n,Eo.jsxs=n,Eo}var dw;function X3(){return dw||(dw=1,qh.exports=G3()),qh.exports}var s=X3(),Hh={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function V3(){if(fw)return tt;fw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S($,ie,L){this.props=$,this.context=ie,this.refs=N,this.updater=L||b}S.prototype.isReactComponent={},S.prototype.setState=function($,ie){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ie,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=S.prototype;function T($,ie,L){this.props=$,this.context=ie,this.refs=N,this.updater=L||b}var D=T.prototype=new A;D.constructor=T,j(D,S.prototype),D.isPureReactComponent=!0;var O=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function M($,ie,L,ce,Ne,Ce){return L=Ce.ref,{$$typeof:e,type:$,key:ie,ref:L!==void 0?L:null,props:Ce}}function I($,ie){return M($.type,ie,void 0,void 0,void 0,$.props)}function R($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function U($){var ie={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(L){return ie[L]})}var V=/\/+/g;function H($,ie){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):ie.toString(36)}function W(){}function Q($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(W,W):($.status="pending",$.then(function(ie){$.status==="pending"&&($.status="fulfilled",$.value=ie)},function(ie){$.status==="pending"&&($.status="rejected",$.reason=ie)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ve($,ie,L,ce,Ne){var Ce=typeof $;(Ce==="undefined"||Ce==="boolean")&&($=null);var me=!1;if($===null)me=!0;else switch(Ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch($.$$typeof){case e:case t:me=!0;break;case g:return me=$._init,ve(me($._payload),ie,L,ce,Ne)}}if(me)return Ne=Ne($),me=ce===""?"."+H($,0):ce,O(Ne)?(L="",me!=null&&(L=me.replace(V,"$&/")+"/"),ve(Ne,ie,L,"",function(B){return B})):Ne!=null&&(R(Ne)&&(Ne=I(Ne,L+(Ne.key==null||$&&$.key===Ne.key?"":(""+Ne.key).replace(V,"$&/")+"/")+me)),ie.push(Ne)),1;me=0;var _=ce===""?".":ce+":";if(O($))for(var q=0;q<$.length;q++)ce=$[q],Ce=_+H(ce,q),me+=ve(ce,ie,L,Ce,Ne);else if(q=y($),typeof q=="function")for($=q.call($),q=0;!(ce=$.next()).done;)ce=ce.value,Ce=_+H(ce,q++),me+=ve(ce,ie,L,Ce,Ne);else if(Ce==="object"){if(typeof $.then=="function")return ve(Q($),ie,L,ce,Ne);throw ie=String($),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y($,ie,L){if($==null)return $;var ce=[],Ne=0;return ve($,ce,"","",function(Ce){return ie.call(L,Ce,Ne++)}),ce}function re($){if($._status===-1){var ie=$._result;ie=ie(),ie.then(function(L){($._status===0||$._status===-1)&&($._status=1,$._result=L)},function(L){($._status===0||$._status===-1)&&($._status=2,$._result=L)}),$._status===-1&&($._status=0,$._result=ie)}if($._status===1)return $._result.default;throw $._result}var ge=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Ee(){}return tt.Children={map:Y,forEach:function($,ie,L){Y($,function(){ie.apply(this,arguments)},L)},count:function($){var ie=0;return Y($,function(){ie++}),ie},toArray:function($){return Y($,function(ie){return ie})||[]},only:function($){if(!R($))throw Error("React.Children.only expected to receive a single React element child.");return $}},tt.Component=S,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=T,tt.StrictMode=r,tt.Suspense=h,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,tt.__COMPILER_RUNTIME={__proto__:null,c:function($){return E.H.useMemoCache($)}},tt.cache=function($){return function(){return $.apply(null,arguments)}},tt.cloneElement=function($,ie,L){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ce=j({},$.props),Ne=$.key,Ce=void 0;if(ie!=null)for(me in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(Ne=""+ie.key),ie)!P.call(ie,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ie.ref===void 0||(ce[me]=ie[me]);var me=arguments.length-2;if(me===1)ce.children=L;else if(1<me){for(var _=Array(me),q=0;q<me;q++)_[q]=arguments[q+2];ce.children=_}return M($.type,Ne,void 0,void 0,Ce,ce)},tt.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},tt.createElement=function($,ie,L){var ce,Ne={},Ce=null;if(ie!=null)for(ce in ie.key!==void 0&&(Ce=""+ie.key),ie)P.call(ie,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ne[ce]=ie[ce]);var me=arguments.length-2;if(me===1)Ne.children=L;else if(1<me){for(var _=Array(me),q=0;q<me;q++)_[q]=arguments[q+2];Ne.children=_}if($&&$.defaultProps)for(ce in me=$.defaultProps,me)Ne[ce]===void 0&&(Ne[ce]=me[ce]);return M($,Ce,void 0,void 0,null,Ne)},tt.createRef=function(){return{current:null}},tt.forwardRef=function($){return{$$typeof:f,render:$}},tt.isValidElement=R,tt.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:re}},tt.memo=function($,ie){return{$$typeof:m,type:$,compare:ie===void 0?null:ie}},tt.startTransition=function($){var ie=E.T,L={};E.T=L;try{var ce=$(),Ne=E.S;Ne!==null&&Ne(L,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ee,ge)}catch(Ce){ge(Ce)}finally{E.T=ie}},tt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},tt.use=function($){return E.H.use($)},tt.useActionState=function($,ie,L){return E.H.useActionState($,ie,L)},tt.useCallback=function($,ie){return E.H.useCallback($,ie)},tt.useContext=function($){return E.H.useContext($)},tt.useDebugValue=function(){},tt.useDeferredValue=function($,ie){return E.H.useDeferredValue($,ie)},tt.useEffect=function($,ie,L){var ce=E.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect($,ie)},tt.useId=function(){return E.H.useId()},tt.useImperativeHandle=function($,ie,L){return E.H.useImperativeHandle($,ie,L)},tt.useInsertionEffect=function($,ie){return E.H.useInsertionEffect($,ie)},tt.useLayoutEffect=function($,ie){return E.H.useLayoutEffect($,ie)},tt.useMemo=function($,ie){return E.H.useMemo($,ie)},tt.useOptimistic=function($,ie){return E.H.useOptimistic($,ie)},tt.useReducer=function($,ie,L){return E.H.useReducer($,ie,L)},tt.useRef=function($){return E.H.useRef($)},tt.useState=function($){return E.H.useState($)},tt.useSyncExternalStore=function($,ie,L){return E.H.useSyncExternalStore($,ie,L)},tt.useTransition=function(){return E.H.useTransition()},tt.version="19.1.1",tt}var mw;function yi(){return mw||(mw=1,Hh.exports=V3()),Hh.exports}var w=yi();const cd=Ia(w),W3=Y3({__proto__:null,default:cd},[w]);var Fh={exports:{}},To={},Kh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function Z3(){return hw||(hw=1,(function(e){function t(Y,re){var ge=Y.length;Y.push(re);e:for(;0<ge;){var Ee=ge-1>>>1,$=Y[Ee];if(0<i($,re))Y[Ee]=re,Y[ge]=$,ge=Ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],ge=Y.pop();if(ge!==re){Y[0]=ge;e:for(var Ee=0,$=Y.length,ie=$>>>1;Ee<ie;){var L=2*(Ee+1)-1,ce=Y[L],Ne=L+1,Ce=Y[Ne];if(0>i(ce,ge))Ne<$&&0>i(Ce,ce)?(Y[Ee]=Ce,Y[Ne]=ge,Ee=Ne):(Y[Ee]=ce,Y[L]=ge,Ee=L);else if(Ne<$&&0>i(Ce,ge))Y[Ee]=Ce,Y[Ne]=ge,Ee=Ne;else break e}}return re}function i(Y,re){var ge=Y.sortIndex-re.sortIndex;return ge!==0?ge:Y.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],g=1,x=null,y=3,b=!1,j=!1,N=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function O(Y){for(var re=n(m);re!==null;){if(re.callback===null)r(m);else if(re.startTime<=Y)r(m),re.sortIndex=re.expirationTime,t(h,re);else break;re=n(m)}}function E(Y){if(N=!1,O(Y),!j)if(n(h)!==null)j=!0,P||(P=!0,H());else{var re=n(m);re!==null&&ve(E,re.startTime-Y)}}var P=!1,M=-1,I=5,R=-1;function U(){return S?!0:!(e.unstable_now()-R<I)}function V(){if(S=!1,P){var Y=e.unstable_now();R=Y;var re=!0;try{e:{j=!1,N&&(N=!1,T(M),M=-1),b=!0;var ge=y;try{t:{for(O(Y),x=n(h);x!==null&&!(x.expirationTime>Y&&U());){var Ee=x.callback;if(typeof Ee=="function"){x.callback=null,y=x.priorityLevel;var $=Ee(x.expirationTime<=Y);if(Y=e.unstable_now(),typeof $=="function"){x.callback=$,O(Y),re=!0;break t}x===n(h)&&r(h),O(Y)}else r(h);x=n(h)}if(x!==null)re=!0;else{var ie=n(m);ie!==null&&ve(E,ie.startTime-Y),re=!1}}break e}finally{x=null,y=ge,b=!1}re=void 0}}finally{re?H():P=!1}}}var H;if(typeof D=="function")H=function(){D(V)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Q=W.port2;W.port1.onmessage=V,H=function(){Q.postMessage(null)}}else H=function(){A(V,0)};function ve(Y,re){M=A(function(){Y(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var ge=y;y=re;try{return Y()}finally{y=ge}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=y;y=Y;try{return re()}finally{y=ge}},e.unstable_scheduleCallback=function(Y,re,ge){var Ee=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ee+ge:Ee):ge=Ee,Y){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ge+$,Y={id:g++,callback:re,priorityLevel:Y,startTime:ge,expirationTime:$,sortIndex:-1},ge>Ee?(Y.sortIndex=ge,t(m,Y),n(h)===null&&Y===n(m)&&(N?(T(M),M=-1):N=!0,ve(E,ge-Ee))):(Y.sortIndex=$,t(h,Y),j||b||(j=!0,P||(P=!0,H()))),Y},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(Y){var re=y;return function(){var ge=y;y=re;try{return Y.apply(this,arguments)}finally{y=ge}}}})(Yh)),Yh}var gw;function Q3(){return gw||(gw=1,Kh.exports=Z3()),Kh.exports}var Gh={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function J3(){if(pw)return Pn;pw=1;var e=yi();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pn.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},Pn.flushSync=function(h){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=m,r.p=g,r.d.f()}},Pn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},Pn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Pn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:b}):g==="script"&&r.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},Pn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin);r.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pn.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},Pn.requestFormReset=function(h){r.d.r(h)},Pn.unstable_batchedUpdates=function(h,m){return h(m)},Pn.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.1.1",Pn}var xw;function A2(){if(xw)return Gh.exports;xw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gh.exports=J3(),Gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function e5(){if(yw)return To;yw=1;var e=Q3(),t=yi(),n=A2();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function u(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var c=a,d=l;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return f(p),a;if(v===d)return f(p),l;v=v.sibling}throw Error(r(188))}if(c.return!==d.return)c=p,d=v;else{for(var C=!1,k=p.child;k;){if(k===c){C=!0,c=p,d=v;break}if(k===d){C=!0,d=p,c=v;break}k=k.sibling}if(!C){for(k=v.child;k;){if(k===c){C=!0,c=v,d=p;break}if(k===d){C=!0,d=v,c=p;break}k=k.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:l}function m(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=m(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var W=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===W?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case D:return(a.displayName||"Context")+".Provider";case T:return(a._context.displayName||"Context")+".Consumer";case O:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:Q(a.type)||"Memo";case I:l=a._payload,a=a._init;try{return Q(a(l))}catch{}}return null}var ve=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ee=[],$=-1;function ie(a){return{current:a}}function L(a){0>$||(a.current=Ee[$],Ee[$]=null,$--)}function ce(a,l){$++,Ee[$]=a.current,a.current=l}var Ne=ie(null),Ce=ie(null),me=ie(null),_=ie(null);function q(a,l){switch(ce(me,l),ce(Ce,a),ce(Ne,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?L1(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=L1(l),a=B1(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(Ne),ce(Ne,a)}function B(){L(Ne),L(Ce),L(me)}function le(a){a.memoizedState!==null&&ce(_,a);var l=Ne.current,c=B1(l,a.type);l!==c&&(ce(Ce,a),ce(Ne,c))}function ne(a){Ce.current===a&&(L(Ne),L(Ce)),_.current===a&&(L(_),No._currentValue=ge)}var z=Object.prototype.hasOwnProperty,G=e.unstable_scheduleCallback,F=e.unstable_cancelCallback,X=e.unstable_shouldYield,he=e.unstable_requestPaint,J=e.unstable_now,ye=e.unstable_getCurrentPriorityLevel,Se=e.unstable_ImmediatePriority,ee=e.unstable_UserBlockingPriority,De=e.unstable_NormalPriority,Ue=e.unstable_LowPriority,Me=e.unstable_IdlePriority,Le=e.log,wt=e.unstable_setDisableYieldValue,Ze=null,Re=null;function Oe(a){if(typeof Le=="function"&&wt(a),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Ze,a)}catch{}}var Qe=Math.clz32?Math.clz32:st,jt=Math.log,Ie=Math.LN2;function st(a){return a>>>=0,a===0?32:31-(jt(a)/Ie|0)|0}var Ke=256,Xe=4194304;function Ye(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ct(a,l,c){var d=a.pendingLanes;if(d===0)return 0;var p=0,v=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var k=d&134217727;return k!==0?(d=k&~v,d!==0?p=Ye(d):(C&=k,C!==0?p=Ye(C):c||(c=k&~a,c!==0&&(p=Ye(c))))):(k=d&~v,k!==0?p=Ye(k):C!==0?p=Ye(C):c||(c=d&~a,c!==0&&(p=Ye(c)))),p===0?0:l!==0&&l!==p&&(l&v)===0&&(v=p&-p,c=l&-l,v>=c||v===32&&(c&4194048)!==0)?l:p}function pe(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Je(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xe(){var a=Ke;return Ke<<=1,(Ke&4194048)===0&&(Ke=256),a}function be(){var a=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),a}function Be(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function Pe(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function et(a,l,c,d,p,v){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var k=a.entanglements,K=a.expirationTimes,se=a.hiddenUpdates;for(c=C&~c;0<c;){var we=31-Qe(c),Ae=1<<we;k[we]=0,K[we]=-1;var oe=se[we];if(oe!==null)for(se[we]=null,we=0;we<oe.length;we++){var ue=oe[we];ue!==null&&(ue.lane&=-536870913)}c&=~Ae}d!==0&&ft(a,d,0),v!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=v&~(C&~l))}function ft(a,l,c){a.pendingLanes|=l,a.suspendedLanes&=~l;var d=31-Qe(l);a.entangledLanes|=l,a.entanglements[d]=a.entanglements[d]|1073741824|c&4194090}function qt(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var d=31-Qe(c),p=1<<d;p&l|a[d]&l&&(a[d]|=l),c&=~p}}function dn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function pr(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:aw(a.type))}function ki(a,l){var c=re.p;try{return re.p=a,l()}finally{re.p=c}}var pt=Math.random().toString(36).slice(2),rt="__reactFiber$"+pt,Ht="__reactProps$"+pt,ut="__reactContainer$"+pt,at="__reactEvents$"+pt,Ha="__reactListeners$"+pt,jn="__reactHandles$"+pt,Fa="__reactResources$"+pt,na="__reactMarker$"+pt;function _i(a){delete a[rt],delete a[Ht],delete a[at],delete a[Ha],delete a[jn]}function Ka(a){var l=a[rt];if(l)return l;for(var c=a.parentNode;c;){if(l=c[ut]||c[rt]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=H1(a);a!==null;){if(c=a[rt])return c;a=H1(a)}return l}a=c,c=a.parentNode}return null}function Un(a){if(a=a[rt]||a[ut]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Pt(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Pl(a){var l=a[Fa];return l||(l=a[Fa]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Et(a){a[na]=!0}var Ac=new Set,Cc={};function Ml(a,l){vs(a,l),vs(a+"Capture",l)}function vs(a,l){for(Cc[a]=l,a=0;a<l.length;a++)Ac.add(l[a])}var LT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ty={},Oy={};function BT(a){return z.call(Oy,a)?!0:z.call(Ty,a)?!1:LT.test(a)?Oy[a]=!0:(Ty[a]=!0,!1)}function Dc(a,l,c){if(BT(l))if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+c)}}function Ec(a,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+c)}}function ra(a,l,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(l,c,""+d)}}var If,Py;function bs(a){if(If===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);If=l&&l[1]||"",Py=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+If+a+Py}var Rf=!1;function Lf(a,l){if(!a||Rf)return"";Rf=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ue){var oe=ue}Reflect.construct(a,[],Ae)}else{try{Ae.call()}catch(ue){oe=ue}a.call(Ae.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(Ae=a())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),C=v[0],k=v[1];if(C&&k){var K=C.split(`
`),se=k.split(`
`);for(p=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;if(d===K.length||p===se.length)for(d=K.length-1,p=se.length-1;1<=d&&0<=p&&K[d]!==se[p];)p--;for(;1<=d&&0<=p;d--,p--)if(K[d]!==se[p]){if(d!==1||p!==1)do if(d--,p--,0>p||K[d]!==se[p]){var we=`
`+K[d].replace(" at new "," at ");return a.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",a.displayName)),we}while(1<=d&&0<=p);break}}}finally{Rf=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?bs(c):""}function UT(a){switch(a.tag){case 26:case 27:case 5:return bs(a.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return Lf(a.type,!1);case 11:return Lf(a.type.render,!1);case 1:return Lf(a.type,!0);case 31:return bs("Activity");default:return""}}function My(a){try{var l="";do l+=UT(a),a=a.return;while(a);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function xr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ky(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function zT(a){var l=ky(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),d=""+a[l];if(!a.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return p.call(this)},set:function(C){d=""+C,v.call(this,C)}}),Object.defineProperty(a,l,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Tc(a){a._valueTracker||(a._valueTracker=zT(a))}function _y(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),d="";return a&&(d=ky(a)?a.checked?"true":"false":a.value),a=d,a!==c?(l.setValue(a),!0):!1}function Oc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var qT=/[\n"\\]/g;function yr(a){return a.replace(qT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Bf(a,l,c,d,p,v,C,k){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),l!=null?C==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+xr(l)):a.value!==""+xr(l)&&(a.value=""+xr(l)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),l!=null?Uf(a,C,xr(l)):c!=null?Uf(a,C,xr(c)):d!=null&&a.removeAttribute("value"),p==null&&v!=null&&(a.defaultChecked=!!v),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+xr(k):a.removeAttribute("name")}function $y(a,l,c,d,p,v,C,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),l!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;c=c!=null?""+xr(c):"",l=l!=null?""+xr(l):c,k||l===a.value||(a.value=l),a.defaultValue=l}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=k?a.checked:!!d,a.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C)}function Uf(a,l,c){l==="number"&&Oc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ws(a,l,c,d){if(a=a.options,l){l={};for(var p=0;p<c.length;p++)l["$"+c[p]]=!0;for(c=0;c<a.length;c++)p=l.hasOwnProperty("$"+a[c].value),a[c].selected!==p&&(a[c].selected=p),p&&d&&(a[c].defaultSelected=!0)}else{for(c=""+xr(c),l=null,p=0;p<a.length;p++){if(a[p].value===c){a[p].selected=!0,d&&(a[p].defaultSelected=!0);return}l!==null||a[p].disabled||(l=a[p])}l!==null&&(l.selected=!0)}}function Iy(a,l,c){if(l!=null&&(l=""+xr(l),l!==a.value&&(a.value=l),c==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=c!=null?""+xr(c):""}function Ry(a,l,c,d){if(l==null){if(d!=null){if(c!=null)throw Error(r(92));if(ve(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),l=c}c=xr(l),a.defaultValue=c,d=a.textContent,d===c&&d!==""&&d!==null&&(a.value=d)}function js(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var HT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ly(a,l,c){var d=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":d?a.setProperty(l,c):typeof c!="number"||c===0||HT.has(l)?l==="float"?a.cssFloat=c:a[l]=(""+c).trim():a[l]=c+"px"}function By(a,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var p in l)d=l[p],l.hasOwnProperty(p)&&c[p]!==d&&Ly(a,p,d)}else for(var v in l)l.hasOwnProperty(v)&&Ly(a,v,l[v])}function zf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pc(a){return KT.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var qf=null;function Hf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ns=null,Ss=null;function Uy(a){var l=Un(a);if(l&&(a=l.stateNode)){var c=a[Ht]||null;e:switch(a=l.stateNode,l.type){case"input":if(Bf(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yr(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var d=c[l];if(d!==a&&d.form===a.form){var p=d[Ht]||null;if(!p)throw Error(r(90));Bf(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<c.length;l++)d=c[l],d.form===a.form&&_y(d)}break e;case"textarea":Iy(a,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&ws(a,!!c.multiple,l,!1)}}}var Ff=!1;function zy(a,l,c){if(Ff)return a(l,c);Ff=!0;try{var d=a(l);return d}finally{if(Ff=!1,(Ns!==null||Ss!==null)&&(pu(),Ns&&(l=Ns,a=Ss,Ss=Ns=null,Uy(l),a)))for(l=0;l<a.length;l++)Uy(a[l])}}function $i(a,l){var c=a.stateNode;if(c===null)return null;var d=c[Ht]||null;if(d===null)return null;c=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=!1;if(aa)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Kf=!1}var Ya=null,Yf=null,Mc=null;function qy(){if(Mc)return Mc;var a,l=Yf,c=l.length,d,p="value"in Ya?Ya.value:Ya.textContent,v=p.length;for(a=0;a<c&&l[a]===p[a];a++);var C=c-a;for(d=1;d<=C&&l[c-d]===p[v-d];d++);return Mc=p.slice(a,1<d?1-d:void 0)}function kc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function _c(){return!0}function Hy(){return!1}function zn(a){function l(c,d,p,v,C){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(c=a[k],this[k]=c?c(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_c:Hy,this.isPropagationStopped=Hy,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),l}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=zn(kl),Ri=g({},kl,{view:0,detail:0}),YT=zn(Ri),Gf,Xf,Li,Ic=g({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Li&&(Li&&a.type==="mousemove"?(Gf=a.screenX-Li.screenX,Xf=a.screenY-Li.screenY):Xf=Gf=0,Li=a),Gf)},movementY:function(a){return"movementY"in a?a.movementY:Xf}}),Fy=zn(Ic),GT=g({},Ic,{dataTransfer:0}),XT=zn(GT),VT=g({},Ri,{relatedTarget:0}),Vf=zn(VT),WT=g({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),ZT=zn(WT),QT=g({},kl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),JT=zn(QT),eO=g({},kl,{data:0}),Ky=zn(eO),tO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aO(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=rO[a])?!!l[a]:!1}function Wf(){return aO}var lO=g({},Ri,{key:function(a){if(a.key){var l=tO[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=kc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?nO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wf,charCode:function(a){return a.type==="keypress"?kc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?kc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sO=zn(lO),iO=g({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=zn(iO),oO=g({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wf}),cO=zn(oO),uO=g({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dO=zn(uO),fO=g({},Ic,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),mO=zn(fO),hO=g({},kl,{newState:0,oldState:0}),gO=zn(hO),pO=[9,13,27,32],Zf=aa&&"CompositionEvent"in window,Bi=null;aa&&"documentMode"in document&&(Bi=document.documentMode);var xO=aa&&"TextEvent"in window&&!Bi,Gy=aa&&(!Zf||Bi&&8<Bi&&11>=Bi),Xy=" ",Vy=!1;function Wy(a,l){switch(a){case"keyup":return pO.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var As=!1;function yO(a,l){switch(a){case"compositionend":return Zy(l);case"keypress":return l.which!==32?null:(Vy=!0,Xy);case"textInput":return a=l.data,a===Xy&&Vy?null:a;default:return null}}function vO(a,l){if(As)return a==="compositionend"||!Zf&&Wy(a,l)?(a=qy(),Mc=Yf=Ya=null,As=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Gy&&l.locale!=="ko"?null:l.data;default:return null}}var bO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!bO[a.type]:l==="textarea"}function Jy(a,l,c,d){Ns?Ss?Ss.push(d):Ss=[d]:Ns=d,l=ju(l,"onChange"),0<l.length&&(c=new $c("onChange","change",null,c,d),a.push({event:c,listeners:l}))}var Ui=null,zi=null;function wO(a){k1(a,0)}function Rc(a){var l=Pt(a);if(_y(l))return a}function ev(a,l){if(a==="change")return l}var tv=!1;if(aa){var Qf;if(aa){var Jf="oninput"in document;if(!Jf){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),Jf=typeof nv.oninput=="function"}Qf=Jf}else Qf=!1;tv=Qf&&(!document.documentMode||9<document.documentMode)}function rv(){Ui&&(Ui.detachEvent("onpropertychange",av),zi=Ui=null)}function av(a){if(a.propertyName==="value"&&Rc(zi)){var l=[];Jy(l,zi,a,Hf(a)),zy(wO,l)}}function jO(a,l,c){a==="focusin"?(rv(),Ui=l,zi=c,Ui.attachEvent("onpropertychange",av)):a==="focusout"&&rv()}function NO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Rc(zi)}function SO(a,l){if(a==="click")return Rc(l)}function AO(a,l){if(a==="input"||a==="change")return Rc(l)}function CO(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Zn=typeof Object.is=="function"?Object.is:CO;function qi(a,l){if(Zn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),d=Object.keys(l);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!z.call(l,p)||!Zn(a[p],l[p]))return!1}return!0}function lv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function sv(a,l){var c=lv(a);a=0;for(var d;c;){if(c.nodeType===3){if(d=a+c.textContent.length,a<=l&&d>=l)return{node:c,offset:l-a};a=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=lv(c)}}function iv(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?iv(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ov(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Oc(a.document);l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=Oc(a.document)}return l}function em(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var DO=aa&&"documentMode"in document&&11>=document.documentMode,Cs=null,tm=null,Hi=null,nm=!1;function cv(a,l,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;nm||Cs==null||Cs!==Oc(d)||(d=Cs,"selectionStart"in d&&em(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Hi&&qi(Hi,d)||(Hi=d,d=ju(tm,"onSelect"),0<d.length&&(l=new $c("onSelect","select",null,l,c),a.push({event:l,listeners:d}),l.target=Cs)))}function _l(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var Ds={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionrun:_l("Transition","TransitionRun"),transitionstart:_l("Transition","TransitionStart"),transitioncancel:_l("Transition","TransitionCancel"),transitionend:_l("Transition","TransitionEnd")},rm={},uv={};aa&&(uv=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function $l(a){if(rm[a])return rm[a];if(!Ds[a])return a;var l=Ds[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in uv)return rm[a]=l[c];return a}var dv=$l("animationend"),fv=$l("animationiteration"),mv=$l("animationstart"),EO=$l("transitionrun"),TO=$l("transitionstart"),OO=$l("transitioncancel"),hv=$l("transitionend"),gv=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function Ir(a,l){gv.set(a,l),Ml(l,[a])}var pv=new WeakMap;function vr(a,l){if(typeof a=="object"&&a!==null){var c=pv.get(a);return c!==void 0?c:(l={value:a,source:l,stack:My(l)},pv.set(a,l),l)}return{value:a,source:l,stack:My(l)}}var br=[],Es=0,lm=0;function Lc(){for(var a=Es,l=lm=Es=0;l<a;){var c=br[l];br[l++]=null;var d=br[l];br[l++]=null;var p=br[l];br[l++]=null;var v=br[l];if(br[l++]=null,d!==null&&p!==null){var C=d.pending;C===null?p.next=p:(p.next=C.next,C.next=p),d.pending=p}v!==0&&xv(c,p,v)}}function Bc(a,l,c,d){br[Es++]=a,br[Es++]=l,br[Es++]=c,br[Es++]=d,lm|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function sm(a,l,c,d){return Bc(a,l,c,d),Uc(a)}function Ts(a,l){return Bc(a,null,null,l),Uc(a)}function xv(a,l,c){a.lanes|=c;var d=a.alternate;d!==null&&(d.lanes|=c);for(var p=!1,v=a.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(p=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,p&&l!==null&&(p=31-Qe(c),a=v.hiddenUpdates,d=a[p],d===null?a[p]=[l]:d.push(l),l.lane=c|536870912),v):null}function Uc(a){if(50<go)throw go=0,fh=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Os={};function PO(a,l,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(a,l,c,d){return new PO(a,l,c,d)}function im(a){return a=a.prototype,!(!a||!a.isReactComponent)}function la(a,l){var c=a.alternate;return c===null?(c=Qn(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function yv(a,l){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,l=c.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function zc(a,l,c,d,p,v){var C=0;if(d=a,typeof a=="function")im(a)&&(C=1);else if(typeof a=="string")C=k3(a,c,Ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=Qn(31,c,l,p),a.elementType=R,a.lanes=v,a;case j:return Il(c.children,p,v,l);case N:C=8,p|=24;break;case S:return a=Qn(12,c,l,p|2),a.elementType=S,a.lanes=v,a;case E:return a=Qn(13,c,l,p),a.elementType=E,a.lanes=v,a;case P:return a=Qn(19,c,l,p),a.elementType=P,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:case D:C=10;break e;case T:C=9;break e;case O:C=11;break e;case M:C=14;break e;case I:C=16,d=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),d=null}return l=Qn(C,c,l,p),l.elementType=a,l.type=d,l.lanes=v,l}function Il(a,l,c,d){return a=Qn(7,a,d,l),a.lanes=c,a}function om(a,l,c){return a=Qn(6,a,null,l),a.lanes=c,a}function cm(a,l,c){return l=Qn(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Ps=[],Ms=0,qc=null,Hc=0,wr=[],jr=0,Rl=null,sa=1,ia="";function Ll(a,l){Ps[Ms++]=Hc,Ps[Ms++]=qc,qc=a,Hc=l}function vv(a,l,c){wr[jr++]=sa,wr[jr++]=ia,wr[jr++]=Rl,Rl=a;var d=sa;a=ia;var p=32-Qe(d)-1;d&=~(1<<p),c+=1;var v=32-Qe(l)+p;if(30<v){var C=p-p%5;v=(d&(1<<C)-1).toString(32),d>>=C,p-=C,sa=1<<32-Qe(l)+p|c<<p|d,ia=v+a}else sa=1<<v|c<<p|d,ia=a}function um(a){a.return!==null&&(Ll(a,1),vv(a,1,0))}function dm(a){for(;a===qc;)qc=Ps[--Ms],Ps[Ms]=null,Hc=Ps[--Ms],Ps[Ms]=null;for(;a===Rl;)Rl=wr[--jr],wr[jr]=null,ia=wr[--jr],wr[jr]=null,sa=wr[--jr],wr[jr]=null}var In=null,Ft=null,xt=!1,Bl=null,Kr=!1,fm=Error(r(519));function Ul(a){var l=Error(r(418,""));throw Yi(vr(l,a)),fm}function bv(a){var l=a.stateNode,c=a.type,d=a.memoizedProps;switch(l[rt]=a,l[Ht]=d,c){case"dialog":ot("cancel",l),ot("close",l);break;case"iframe":case"object":case"embed":ot("load",l);break;case"video":case"audio":for(c=0;c<xo.length;c++)ot(xo[c],l);break;case"source":ot("error",l);break;case"img":case"image":case"link":ot("error",l),ot("load",l);break;case"details":ot("toggle",l);break;case"input":ot("invalid",l),$y(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Tc(l);break;case"select":ot("invalid",l);break;case"textarea":ot("invalid",l),Ry(l,d.value,d.defaultValue,d.children),Tc(l)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||d.suppressHydrationWarning===!0||R1(l.textContent,c)?(d.popover!=null&&(ot("beforetoggle",l),ot("toggle",l)),d.onScroll!=null&&ot("scroll",l),d.onScrollEnd!=null&&ot("scrollend",l),d.onClick!=null&&(l.onclick=Nu),l=!0):l=!1,l||Ul(a)}function wv(a){for(In=a.return;In;)switch(In.tag){case 5:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:In=In.return}}function Fi(a){if(a!==In)return!1;if(!xt)return wv(a),xt=!0,!1;var l=a.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Eh(a.type,a.memoizedProps)),c=!c),c&&Ft&&Ul(a),wv(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(l===0){Ft=Lr(a.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;a=a.nextSibling}Ft=null}}else l===27?(l=Ft,ol(a.type)?(a=Mh,Mh=null,Ft=a):Ft=l):Ft=In?Lr(a.stateNode.nextSibling):null;return!0}function Ki(){Ft=In=null,xt=!1}function jv(){var a=Bl;return a!==null&&(Fn===null?Fn=a:Fn.push.apply(Fn,a),Bl=null),a}function Yi(a){Bl===null?Bl=[a]:Bl.push(a)}var mm=ie(null),zl=null,oa=null;function Ga(a,l,c){ce(mm,l._currentValue),l._currentValue=c}function ca(a){a._currentValue=mm.current,L(mm)}function hm(a,l,c){for(;a!==null;){var d=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),a===c)break;a=a.return}}function gm(a,l,c,d){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var v=p.dependencies;if(v!==null){var C=p.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=p;for(var K=0;K<l.length;K++)if(k.context===l[K]){v.lanes|=c,k=v.alternate,k!==null&&(k.lanes|=c),hm(v.return,c,a),d||(C=null);break e}v=k.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(r(341));C.lanes|=c,v=C.alternate,v!==null&&(v.lanes|=c),hm(C,c,a),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===a){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function Gi(a,l,c,d){a=null;for(var p=l,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var k=p.type;Zn(p.pendingProps.value,C.value)||(a!==null?a.push(k):a=[k])}}else if(p===_.current){if(C=p.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(No):a=[No])}p=p.return}a!==null&&gm(l,a,c,d),l.flags|=262144}function Fc(a){for(a=a.firstContext;a!==null;){if(!Zn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){zl=a,oa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function On(a){return Nv(zl,a)}function Kc(a,l){return zl===null&&ql(a),Nv(a,l)}function Nv(a,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},oa===null){if(a===null)throw Error(r(308));oa=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else oa=oa.next=l;return c}var MO=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(c,d){a.push(d)}};this.abort=function(){l.aborted=!0,a.forEach(function(c){return c()})}},kO=e.unstable_scheduleCallback,_O=e.unstable_NormalPriority,rn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new MO,data:new Map,refCount:0}}function Xi(a){a.refCount--,a.refCount===0&&kO(_O,function(){a.controller.abort()})}var Vi=null,xm=0,ks=0,_s=null;function $O(a,l){if(Vi===null){var c=Vi=[];xm=0,ks=vh(),_s={status:"pending",value:void 0,then:function(d){c.push(d)}}}return xm++,l.then(Sv,Sv),l}function Sv(){if(--xm===0&&Vi!==null){_s!==null&&(_s.status="fulfilled");var a=Vi;Vi=null,ks=0,_s=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function IO(a,l){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return a.then(function(){d.status="fulfilled",d.value=l;for(var p=0;p<c.length;p++)(0,c[p])(l)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var Av=Y.S;Y.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&$O(a,l),Av!==null&&Av(a,l)};var Hl=ie(null);function ym(){var a=Hl.current;return a!==null?a:Mt.pooledCache}function Yc(a,l){l===null?ce(Hl,Hl.current):ce(Hl,l.pool)}function Cv(){var a=ym();return a===null?null:{parent:rn._currentValue,pool:a}}var Wi=Error(r(460)),Dv=Error(r(474)),Gc=Error(r(542)),vm={then:function(){}};function Ev(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Xc(){}function Tv(a,l,c){switch(c=a[c],c===void 0?a.push(l):c!==l&&(l.then(Xc,Xc),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Pv(a),a;default:if(typeof l.status=="string")l.then(Xc,Xc);else{if(a=Mt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(d){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=d}},function(d){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Pv(a),a}throw Zi=l,Wi}}var Zi=null;function Ov(){if(Zi===null)throw Error(r(459));var a=Zi;return Zi=null,a}function Pv(a){if(a===Wi||a===Gc)throw Error(r(483))}var Xa=!1;function bm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Va(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Wa(a,l,c){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(yt&2)!==0){var p=d.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),d.pending=l,l=Uc(a),xv(a,null,c),l}return Bc(a,d,l,c),Uc(a)}function Qi(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var d=l.lanes;d&=a.pendingLanes,c|=d,l.lanes=c,qt(a,c)}}function jm(a,l){var c=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?p=v=C:v=v.next=C,c=c.next}while(c!==null);v===null?p=v=l:v=v.next=l}else p=v=l;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}var Nm=!1;function Ji(){if(Nm){var a=_s;if(a!==null)throw a}}function eo(a,l,c,d){Nm=!1;var p=a.updateQueue;Xa=!1;var v=p.firstBaseUpdate,C=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var K=k,se=K.next;K.next=null,C===null?v=se:C.next=se,C=K;var we=a.alternate;we!==null&&(we=we.updateQueue,k=we.lastBaseUpdate,k!==C&&(k===null?we.firstBaseUpdate=se:k.next=se,we.lastBaseUpdate=K))}if(v!==null){var Ae=p.baseState;C=0,we=se=K=null,k=v;do{var oe=k.lane&-536870913,ue=oe!==k.lane;if(ue?(dt&oe)===oe:(d&oe)===oe){oe!==0&&oe===ks&&(Nm=!0),we!==null&&(we=we.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var We=a,Ge=k;oe=l;var At=c;switch(Ge.tag){case 1:if(We=Ge.payload,typeof We=="function"){Ae=We.call(At,Ae,oe);break e}Ae=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ge.payload,oe=typeof We=="function"?We.call(At,Ae,oe):We,oe==null)break e;Ae=g({},Ae,oe);break e;case 2:Xa=!0}}oe=k.callback,oe!==null&&(a.flags|=64,ue&&(a.flags|=8192),ue=p.callbacks,ue===null?p.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},we===null?(se=we=ue,K=Ae):we=we.next=ue,C|=oe;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;ue=k,k=ue.next,ue.next=null,p.lastBaseUpdate=ue,p.shared.pending=null}}while(!0);we===null&&(K=Ae),p.baseState=K,p.firstBaseUpdate=se,p.lastBaseUpdate=we,v===null&&(p.shared.lanes=0),al|=C,a.lanes=C,a.memoizedState=Ae}}function Mv(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function kv(a,l){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Mv(c[a],l)}var $s=ie(null),Vc=ie(0);function _v(a,l){a=pa,ce(Vc,a),ce($s,l),pa=a|l.baseLanes}function Sm(){ce(Vc,pa),ce($s,$s.current)}function Am(){pa=Vc.current,L($s),L(Vc)}var Za=0,nt=null,Nt=null,Jt=null,Wc=!1,Is=!1,Fl=!1,Zc=0,to=0,Rs=null,RO=0;function Xt(){throw Error(r(321))}function Cm(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!Zn(a[c],l[c]))return!1;return!0}function Dm(a,l,c,d,p,v){return Za=v,nt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=a===null||a.memoizedState===null?xb:yb,Fl=!1,v=c(d,p),Fl=!1,Is&&(v=Iv(l,c,d,p)),$v(a),v}function $v(a){Y.H=ru;var l=Nt!==null&&Nt.next!==null;if(Za=0,Jt=Nt=nt=null,Wc=!1,to=0,Rs=null,l)throw Error(r(300));a===null||fn||(a=a.dependencies,a!==null&&Fc(a)&&(fn=!0))}function Iv(a,l,c,d){nt=a;var p=0;do{if(Is&&(Rs=null),to=0,Is=!1,25<=p)throw Error(r(301));if(p+=1,Jt=Nt=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Y.H=FO,v=l(c,d)}while(Is);return v}function LO(){var a=Y.H,l=a.useState()[0];return l=typeof l.then=="function"?no(l):l,a=a.useState()[0],(Nt!==null?Nt.memoizedState:null)!==a&&(nt.flags|=1024),l}function Em(){var a=Zc!==0;return Zc=0,a}function Tm(a,l,c){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~c}function Om(a){if(Wc){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Wc=!1}Za=0,Jt=Nt=nt=null,Is=!1,to=Zc=0,Rs=null}function qn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?nt.memoizedState=Jt=a:Jt=Jt.next=a,Jt}function en(){if(Nt===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var l=Jt===null?nt.memoizedState:Jt.next;if(l!==null)Jt=l,Nt=a;else{if(a===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Nt=a,a={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Jt===null?nt.memoizedState=Jt=a:Jt=Jt.next=a}return Jt}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function no(a){var l=to;return to+=1,Rs===null&&(Rs=[]),a=Tv(Rs,a,l),l=nt,(Jt===null?l.memoizedState:Jt.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?xb:yb),a}function Qc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return no(a);if(a.$$typeof===D)return On(a)}throw Error(r(438,String(a)))}function Mm(a){var l=null,c=nt.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var d=nt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=Pm(),nt.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(a),d=0;d<a;d++)c[d]=U;return l.index++,c}function ua(a,l){return typeof l=="function"?l(a):l}function Jc(a){var l=en();return km(l,Nt,a)}function km(a,l,c){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var p=a.baseQueue,v=d.pending;if(v!==null){if(p!==null){var C=p.next;p.next=v.next,v.next=C}l.baseQueue=p=v,d.pending=null}if(v=a.baseState,p===null)a.memoizedState=v;else{l=p.next;var k=C=null,K=null,se=l,we=!1;do{var Ae=se.lane&-536870913;if(Ae!==se.lane?(dt&Ae)===Ae:(Za&Ae)===Ae){var oe=se.revertLane;if(oe===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ae===ks&&(we=!0);else if((Za&oe)===oe){se=se.next,oe===ks&&(we=!0);continue}else Ae={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(k=K=Ae,C=v):K=K.next=Ae,nt.lanes|=oe,al|=oe;Ae=se.action,Fl&&c(v,Ae),v=se.hasEagerState?se.eagerState:c(v,Ae)}else oe={lane:Ae,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(k=K=oe,C=v):K=K.next=oe,nt.lanes|=Ae,al|=Ae;se=se.next}while(se!==null&&se!==l);if(K===null?C=v:K.next=k,!Zn(v,a.memoizedState)&&(fn=!0,we&&(c=_s,c!==null)))throw c;a.memoizedState=v,a.baseState=C,a.baseQueue=K,d.lastRenderedState=v}return p===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function _m(a){var l=en(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var d=c.dispatch,p=c.pending,v=l.memoizedState;if(p!==null){c.pending=null;var C=p=p.next;do v=a(v,C.action),C=C.next;while(C!==p);Zn(v,l.memoizedState)||(fn=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),c.lastRenderedState=v}return[v,d]}function Rv(a,l,c){var d=nt,p=en(),v=xt;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=l();var C=!Zn((Nt||p).memoizedState,c);C&&(p.memoizedState=c,fn=!0),p=p.queue;var k=Uv.bind(null,d,p,a);if(ro(2048,8,k,[a]),p.getSnapshot!==l||C||Jt!==null&&Jt.memoizedState.tag&1){if(d.flags|=2048,Ls(9,eu(),Bv.bind(null,d,p,c,l),null),Mt===null)throw Error(r(349));v||(Za&124)!==0||Lv(d,l,c)}return c}function Lv(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=nt.updateQueue,l===null?(l=Pm(),nt.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function Bv(a,l,c,d){l.value=c,l.getSnapshot=d,zv(l)&&qv(a)}function Uv(a,l,c){return c(function(){zv(l)&&qv(a)})}function zv(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!Zn(a,c)}catch{return!0}}function qv(a){var l=Ts(a,2);l!==null&&rr(l,a,2)}function $m(a){var l=qn();if(typeof a=="function"){var c=a;if(a=c(),Fl){Oe(!0);try{c()}finally{Oe(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:a},l}function Hv(a,l,c,d){return a.baseState=c,km(a,Nt,typeof d=="function"?d:ua)}function BO(a,l,c,d,p){if(nu(a))throw Error(r(485));if(a=l.action,a!==null){var v={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};Y.T!==null?c(!0):v.isTransition=!1,d(v),c=l.pending,c===null?(v.next=l.pending=v,Fv(l,v)):(v.next=c.next,l.pending=c.next=v)}}function Fv(a,l){var c=l.action,d=l.payload,p=a.state;if(l.isTransition){var v=Y.T,C={};Y.T=C;try{var k=c(p,d),K=Y.S;K!==null&&K(C,k),Kv(a,l,k)}catch(se){Im(a,l,se)}finally{Y.T=v}}else try{v=c(p,d),Kv(a,l,v)}catch(se){Im(a,l,se)}}function Kv(a,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Yv(a,l,d)},function(d){return Im(a,l,d)}):Yv(a,l,c)}function Yv(a,l,c){l.status="fulfilled",l.value=c,Gv(l),a.state=c,l=a.pending,l!==null&&(c=l.next,c===l?a.pending=null:(c=c.next,l.next=c,Fv(a,c)))}function Im(a,l,c){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=c,Gv(l),l=l.next;while(l!==d)}a.action=null}function Gv(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Xv(a,l){return l}function Vv(a,l){if(xt){var c=Mt.formState;if(c!==null){e:{var d=nt;if(xt){if(Ft){t:{for(var p=Ft,v=Kr;p.nodeType!==8;){if(!v){p=null;break t}if(p=Lr(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ft=Lr(p.nextSibling),d=p.data==="F!";break e}}Ul(d)}d=!1}d&&(l=c[0])}}return c=qn(),c.memoizedState=c.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:l},c.queue=d,c=hb.bind(null,nt,d),d.dispatch=c,d=$m(!1),v=zm.bind(null,nt,!1,d.queue),d=qn(),p={state:l,dispatch:null,action:a,pending:null},d.queue=p,c=BO.bind(null,nt,p,v,c),p.dispatch=c,d.memoizedState=a,[l,c,!1]}function Wv(a){var l=en();return Zv(l,Nt,a)}function Zv(a,l,c){if(l=km(a,l,Xv)[0],a=Jc(ua)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=no(l)}catch(C){throw C===Wi?Gc:C}else d=l;l=en();var p=l.queue,v=p.dispatch;return c!==l.memoizedState&&(nt.flags|=2048,Ls(9,eu(),UO.bind(null,p,c),null)),[d,v,a]}function UO(a,l){a.action=l}function Qv(a){var l=en(),c=Nt;if(c!==null)return Zv(l,c,a);en(),l=l.memoizedState,c=en();var d=c.queue.dispatch;return c.memoizedState=a,[l,d,!1]}function Ls(a,l,c,d){return a={tag:a,create:c,deps:d,inst:l,next:null},l=nt.updateQueue,l===null&&(l=Pm(),nt.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,l.lastEffect=a),a}function eu(){return{destroy:void 0,resource:void 0}}function Jv(){return en().memoizedState}function tu(a,l,c,d){var p=qn();d=d===void 0?null:d,nt.flags|=a,p.memoizedState=Ls(1|l,eu(),c,d)}function ro(a,l,c,d){var p=en();d=d===void 0?null:d;var v=p.memoizedState.inst;Nt!==null&&d!==null&&Cm(d,Nt.memoizedState.deps)?p.memoizedState=Ls(l,v,c,d):(nt.flags|=a,p.memoizedState=Ls(1|l,v,c,d))}function eb(a,l){tu(8390656,8,a,l)}function tb(a,l){ro(2048,8,a,l)}function nb(a,l){return ro(4,2,a,l)}function rb(a,l){return ro(4,4,a,l)}function ab(a,l){if(typeof l=="function"){a=a();var c=l(a);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function lb(a,l,c){c=c!=null?c.concat([a]):null,ro(4,4,ab.bind(null,l,a),c)}function Rm(){}function sb(a,l){var c=en();l=l===void 0?null:l;var d=c.memoizedState;return l!==null&&Cm(l,d[1])?d[0]:(c.memoizedState=[a,l],a)}function ib(a,l){var c=en();l=l===void 0?null:l;var d=c.memoizedState;if(l!==null&&Cm(l,d[1]))return d[0];if(d=a(),Fl){Oe(!0);try{a()}finally{Oe(!1)}}return c.memoizedState=[d,l],d}function Lm(a,l,c){return c===void 0||(Za&1073741824)!==0?a.memoizedState=l:(a.memoizedState=c,a=u1(),nt.lanes|=a,al|=a,c)}function ob(a,l,c,d){return Zn(c,l)?c:$s.current!==null?(a=Lm(a,c,d),Zn(a,l)||(fn=!0),a):(Za&42)===0?(fn=!0,a.memoizedState=c):(a=u1(),nt.lanes|=a,al|=a,l)}function cb(a,l,c,d,p){var v=re.p;re.p=v!==0&&8>v?v:8;var C=Y.T,k={};Y.T=k,zm(a,!1,l,c);try{var K=p(),se=Y.S;if(se!==null&&se(k,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var we=IO(K,d);ao(a,l,we,nr(a))}else ao(a,l,d,nr(a))}catch(Ae){ao(a,l,{then:function(){},status:"rejected",reason:Ae},nr())}finally{re.p=v,Y.T=C}}function zO(){}function Bm(a,l,c,d){if(a.tag!==5)throw Error(r(476));var p=ub(a).queue;cb(a,p,l,ge,c===null?zO:function(){return db(a),c(d)})}function ub(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ge},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:c},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function db(a){var l=ub(a).next.queue;ao(a,l,{},nr())}function Um(){return On(No)}function fb(){return en().memoizedState}function mb(){return en().memoizedState}function qO(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var c=nr();a=Va(c);var d=Wa(l,a,c);d!==null&&(rr(d,l,c),Qi(d,l,c)),l={cache:pm()},a.payload=l;return}l=l.return}}function HO(a,l,c){var d=nr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},nu(a)?gb(l,c):(c=sm(a,l,c,d),c!==null&&(rr(c,a,d),pb(c,l,d)))}function hb(a,l,c){var d=nr();ao(a,l,c,d)}function ao(a,l,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(nu(a))gb(l,p);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var C=l.lastRenderedState,k=v(C,c);if(p.hasEagerState=!0,p.eagerState=k,Zn(k,C))return Bc(a,l,p,0),Mt===null&&Lc(),!1}catch{}finally{}if(c=sm(a,l,p,d),c!==null)return rr(c,a,d),pb(c,l,d),!0}return!1}function zm(a,l,c,d){if(d={lane:2,revertLane:vh(),action:d,hasEagerState:!1,eagerState:null,next:null},nu(a)){if(l)throw Error(r(479))}else l=sm(a,c,d,2),l!==null&&rr(l,a,2)}function nu(a){var l=a.alternate;return a===nt||l!==null&&l===nt}function gb(a,l){Is=Wc=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function pb(a,l,c){if((c&4194048)!==0){var d=l.lanes;d&=a.pendingLanes,c|=d,l.lanes=c,qt(a,c)}}var ru={readContext:On,use:Qc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},xb={readContext:On,use:Qc,useCallback:function(a,l){return qn().memoizedState=[a,l===void 0?null:l],a},useContext:On,useEffect:eb,useImperativeHandle:function(a,l,c){c=c!=null?c.concat([a]):null,tu(4194308,4,ab.bind(null,l,a),c)},useLayoutEffect:function(a,l){return tu(4194308,4,a,l)},useInsertionEffect:function(a,l){tu(4,2,a,l)},useMemo:function(a,l){var c=qn();l=l===void 0?null:l;var d=a();if(Fl){Oe(!0);try{a()}finally{Oe(!1)}}return c.memoizedState=[d,l],d},useReducer:function(a,l,c){var d=qn();if(c!==void 0){var p=c(l);if(Fl){Oe(!0);try{c(l)}finally{Oe(!1)}}}else p=l;return d.memoizedState=d.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},d.queue=a,a=a.dispatch=HO.bind(null,nt,a),[d.memoizedState,a]},useRef:function(a){var l=qn();return a={current:a},l.memoizedState=a},useState:function(a){a=$m(a);var l=a.queue,c=hb.bind(null,nt,l);return l.dispatch=c,[a.memoizedState,c]},useDebugValue:Rm,useDeferredValue:function(a,l){var c=qn();return Lm(c,a,l)},useTransition:function(){var a=$m(!1);return a=cb.bind(null,nt,a.queue,!0,!1),qn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,c){var d=nt,p=qn();if(xt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),Mt===null)throw Error(r(349));(dt&124)!==0||Lv(d,l,c)}p.memoizedState=c;var v={value:c,getSnapshot:l};return p.queue=v,eb(Uv.bind(null,d,v,a),[a]),d.flags|=2048,Ls(9,eu(),Bv.bind(null,d,v,c,l),null),c},useId:function(){var a=qn(),l=Mt.identifierPrefix;if(xt){var c=ia,d=sa;c=(d&~(1<<32-Qe(d)-1)).toString(32)+c,l=""+l+"R"+c,c=Zc++,0<c&&(l+="H"+c.toString(32)),l+=""}else c=RO++,l=""+l+"r"+c.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:Um,useFormState:Vv,useActionState:Vv,useOptimistic:function(a){var l=qn();l.memoizedState=l.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=zm.bind(null,nt,!0,c),c.dispatch=l,[a,l]},useMemoCache:Mm,useCacheRefresh:function(){return qn().memoizedState=qO.bind(null,nt)}},yb={readContext:On,use:Qc,useCallback:sb,useContext:On,useEffect:tb,useImperativeHandle:lb,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ib,useReducer:Jc,useRef:Jv,useState:function(){return Jc(ua)},useDebugValue:Rm,useDeferredValue:function(a,l){var c=en();return ob(c,Nt.memoizedState,a,l)},useTransition:function(){var a=Jc(ua)[0],l=en().memoizedState;return[typeof a=="boolean"?a:no(a),l]},useSyncExternalStore:Rv,useId:fb,useHostTransitionStatus:Um,useFormState:Wv,useActionState:Wv,useOptimistic:function(a,l){var c=en();return Hv(c,Nt,a,l)},useMemoCache:Mm,useCacheRefresh:mb},FO={readContext:On,use:Qc,useCallback:sb,useContext:On,useEffect:tb,useImperativeHandle:lb,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ib,useReducer:_m,useRef:Jv,useState:function(){return _m(ua)},useDebugValue:Rm,useDeferredValue:function(a,l){var c=en();return Nt===null?Lm(c,a,l):ob(c,Nt.memoizedState,a,l)},useTransition:function(){var a=_m(ua)[0],l=en().memoizedState;return[typeof a=="boolean"?a:no(a),l]},useSyncExternalStore:Rv,useId:fb,useHostTransitionStatus:Um,useFormState:Qv,useActionState:Qv,useOptimistic:function(a,l){var c=en();return Nt!==null?Hv(c,Nt,a,l):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:mb},Bs=null,lo=0;function au(a){var l=lo;return lo+=1,Bs===null&&(Bs=[]),Tv(Bs,a,l)}function so(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function lu(a,l){throw l.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function vb(a){var l=a._init;return l(a._payload)}function bb(a){function l(te,Z){if(a){var ae=te.deletions;ae===null?(te.deletions=[Z],te.flags|=16):ae.push(Z)}}function c(te,Z){if(!a)return null;for(;Z!==null;)l(te,Z),Z=Z.sibling;return null}function d(te){for(var Z=new Map;te!==null;)te.key!==null?Z.set(te.key,te):Z.set(te.index,te),te=te.sibling;return Z}function p(te,Z){return te=la(te,Z),te.index=0,te.sibling=null,te}function v(te,Z,ae){return te.index=ae,a?(ae=te.alternate,ae!==null?(ae=ae.index,ae<Z?(te.flags|=67108866,Z):ae):(te.flags|=67108866,Z)):(te.flags|=1048576,Z)}function C(te){return a&&te.alternate===null&&(te.flags|=67108866),te}function k(te,Z,ae,je){return Z===null||Z.tag!==6?(Z=om(ae,te.mode,je),Z.return=te,Z):(Z=p(Z,ae),Z.return=te,Z)}function K(te,Z,ae,je){var $e=ae.type;return $e===j?we(te,Z,ae.props.children,je,ae.key):Z!==null&&(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===I&&vb($e)===Z.type)?(Z=p(Z,ae.props),so(Z,ae),Z.return=te,Z):(Z=zc(ae.type,ae.key,ae.props,null,te.mode,je),so(Z,ae),Z.return=te,Z)}function se(te,Z,ae,je){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=cm(ae,te.mode,je),Z.return=te,Z):(Z=p(Z,ae.children||[]),Z.return=te,Z)}function we(te,Z,ae,je,$e){return Z===null||Z.tag!==7?(Z=Il(ae,te.mode,je,$e),Z.return=te,Z):(Z=p(Z,ae),Z.return=te,Z)}function Ae(te,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=om(""+Z,te.mode,ae),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return ae=zc(Z.type,Z.key,Z.props,null,te.mode,ae),so(ae,Z),ae.return=te,ae;case b:return Z=cm(Z,te.mode,ae),Z.return=te,Z;case I:var je=Z._init;return Z=je(Z._payload),Ae(te,Z,ae)}if(ve(Z)||H(Z))return Z=Il(Z,te.mode,ae,null),Z.return=te,Z;if(typeof Z.then=="function")return Ae(te,au(Z),ae);if(Z.$$typeof===D)return Ae(te,Kc(te,Z),ae);lu(te,Z)}return null}function oe(te,Z,ae,je){var $e=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $e!==null?null:k(te,Z,""+ae,je);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ae.key===$e?K(te,Z,ae,je):null;case b:return ae.key===$e?se(te,Z,ae,je):null;case I:return $e=ae._init,ae=$e(ae._payload),oe(te,Z,ae,je)}if(ve(ae)||H(ae))return $e!==null?null:we(te,Z,ae,je,null);if(typeof ae.then=="function")return oe(te,Z,au(ae),je);if(ae.$$typeof===D)return oe(te,Z,Kc(te,ae),je);lu(te,ae)}return null}function ue(te,Z,ae,je,$e){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return te=te.get(ae)||null,k(Z,te,""+je,$e);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return te=te.get(je.key===null?ae:je.key)||null,K(Z,te,je,$e);case b:return te=te.get(je.key===null?ae:je.key)||null,se(Z,te,je,$e);case I:var lt=je._init;return je=lt(je._payload),ue(te,Z,ae,je,$e)}if(ve(je)||H(je))return te=te.get(ae)||null,we(Z,te,je,$e,null);if(typeof je.then=="function")return ue(te,Z,ae,au(je),$e);if(je.$$typeof===D)return ue(te,Z,ae,Kc(Z,je),$e);lu(Z,je)}return null}function We(te,Z,ae,je){for(var $e=null,lt=null,ze=Z,Ve=Z=0,hn=null;ze!==null&&Ve<ae.length;Ve++){ze.index>Ve?(hn=ze,ze=null):hn=ze.sibling;var mt=oe(te,ze,ae[Ve],je);if(mt===null){ze===null&&(ze=hn);break}a&&ze&&mt.alternate===null&&l(te,ze),Z=v(mt,Z,Ve),lt===null?$e=mt:lt.sibling=mt,lt=mt,ze=hn}if(Ve===ae.length)return c(te,ze),xt&&Ll(te,Ve),$e;if(ze===null){for(;Ve<ae.length;Ve++)ze=Ae(te,ae[Ve],je),ze!==null&&(Z=v(ze,Z,Ve),lt===null?$e=ze:lt.sibling=ze,lt=ze);return xt&&Ll(te,Ve),$e}for(ze=d(ze);Ve<ae.length;Ve++)hn=ue(ze,te,Ve,ae[Ve],je),hn!==null&&(a&&hn.alternate!==null&&ze.delete(hn.key===null?Ve:hn.key),Z=v(hn,Z,Ve),lt===null?$e=hn:lt.sibling=hn,lt=hn);return a&&ze.forEach(function(ml){return l(te,ml)}),xt&&Ll(te,Ve),$e}function Ge(te,Z,ae,je){if(ae==null)throw Error(r(151));for(var $e=null,lt=null,ze=Z,Ve=Z=0,hn=null,mt=ae.next();ze!==null&&!mt.done;Ve++,mt=ae.next()){ze.index>Ve?(hn=ze,ze=null):hn=ze.sibling;var ml=oe(te,ze,mt.value,je);if(ml===null){ze===null&&(ze=hn);break}a&&ze&&ml.alternate===null&&l(te,ze),Z=v(ml,Z,Ve),lt===null?$e=ml:lt.sibling=ml,lt=ml,ze=hn}if(mt.done)return c(te,ze),xt&&Ll(te,Ve),$e;if(ze===null){for(;!mt.done;Ve++,mt=ae.next())mt=Ae(te,mt.value,je),mt!==null&&(Z=v(mt,Z,Ve),lt===null?$e=mt:lt.sibling=mt,lt=mt);return xt&&Ll(te,Ve),$e}for(ze=d(ze);!mt.done;Ve++,mt=ae.next())mt=ue(ze,te,Ve,mt.value,je),mt!==null&&(a&&mt.alternate!==null&&ze.delete(mt.key===null?Ve:mt.key),Z=v(mt,Z,Ve),lt===null?$e=mt:lt.sibling=mt,lt=mt);return a&&ze.forEach(function(K3){return l(te,K3)}),xt&&Ll(te,Ve),$e}function At(te,Z,ae,je){if(typeof ae=="object"&&ae!==null&&ae.type===j&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:e:{for(var $e=ae.key;Z!==null;){if(Z.key===$e){if($e=ae.type,$e===j){if(Z.tag===7){c(te,Z.sibling),je=p(Z,ae.props.children),je.return=te,te=je;break e}}else if(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===I&&vb($e)===Z.type){c(te,Z.sibling),je=p(Z,ae.props),so(je,ae),je.return=te,te=je;break e}c(te,Z);break}else l(te,Z);Z=Z.sibling}ae.type===j?(je=Il(ae.props.children,te.mode,je,ae.key),je.return=te,te=je):(je=zc(ae.type,ae.key,ae.props,null,te.mode,je),so(je,ae),je.return=te,te=je)}return C(te);case b:e:{for($e=ae.key;Z!==null;){if(Z.key===$e)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){c(te,Z.sibling),je=p(Z,ae.children||[]),je.return=te,te=je;break e}else{c(te,Z);break}else l(te,Z);Z=Z.sibling}je=cm(ae,te.mode,je),je.return=te,te=je}return C(te);case I:return $e=ae._init,ae=$e(ae._payload),At(te,Z,ae,je)}if(ve(ae))return We(te,Z,ae,je);if(H(ae)){if($e=H(ae),typeof $e!="function")throw Error(r(150));return ae=$e.call(ae),Ge(te,Z,ae,je)}if(typeof ae.then=="function")return At(te,Z,au(ae),je);if(ae.$$typeof===D)return At(te,Z,Kc(te,ae),je);lu(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Z!==null&&Z.tag===6?(c(te,Z.sibling),je=p(Z,ae),je.return=te,te=je):(c(te,Z),je=om(ae,te.mode,je),je.return=te,te=je),C(te)):c(te,Z)}return function(te,Z,ae,je){try{lo=0;var $e=At(te,Z,ae,je);return Bs=null,$e}catch(ze){if(ze===Wi||ze===Gc)throw ze;var lt=Qn(29,ze,null,te.mode);return lt.lanes=je,lt.return=te,lt}finally{}}}var Us=bb(!0),wb=bb(!1),Nr=ie(null),Yr=null;function Qa(a){var l=a.alternate;ce(an,an.current&1),ce(Nr,a),Yr===null&&(l===null||$s.current!==null||l.memoizedState!==null)&&(Yr=a)}function jb(a){if(a.tag===22){if(ce(an,an.current),ce(Nr,a),Yr===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Yr=a)}}else Ja()}function Ja(){ce(an,an.current),ce(Nr,Nr.current)}function da(a){L(Nr),Yr===a&&(Yr=null),L(an)}var an=ie(0);function su(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Ph(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function qm(a,l,c,d){l=a.memoizedState,c=c(d,l),c=c==null?l:g({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Hm={enqueueSetState:function(a,l,c){a=a._reactInternals;var d=nr(),p=Va(d);p.payload=l,c!=null&&(p.callback=c),l=Wa(a,p,d),l!==null&&(rr(l,a,d),Qi(l,a,d))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var d=nr(),p=Va(d);p.tag=1,p.payload=l,c!=null&&(p.callback=c),l=Wa(a,p,d),l!==null&&(rr(l,a,d),Qi(l,a,d))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=nr(),d=Va(c);d.tag=2,l!=null&&(d.callback=l),l=Wa(a,d,c),l!==null&&(rr(l,a,c),Qi(l,a,c))}};function Nb(a,l,c,d,p,v,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,v,C):l.prototype&&l.prototype.isPureReactComponent?!qi(c,d)||!qi(p,v):!0}function Sb(a,l,c,d){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,d),l.state!==a&&Hm.enqueueReplaceState(l,l.state,null)}function Kl(a,l){var c=l;if("ref"in l){c={};for(var d in l)d!=="ref"&&(c[d]=l[d])}if(a=a.defaultProps){c===l&&(c=g({},c));for(var p in a)c[p]===void 0&&(c[p]=a[p])}return c}var iu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Ab(a){iu(a)}function Cb(a){console.error(a)}function Db(a){iu(a)}function ou(a,l){try{var c=a.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function Eb(a,l,c){try{var d=a.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Fm(a,l,c){return c=Va(c),c.tag=3,c.payload={element:null},c.callback=function(){ou(a,l)},c}function Tb(a){return a=Va(a),a.tag=3,a}function Ob(a,l,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;a.payload=function(){return p(v)},a.callback=function(){Eb(l,c,d)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){Eb(l,c,d),typeof p!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function KO(a,l,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=c.alternate,l!==null&&Gi(l,c,p,!0),c=Nr.current,c!==null){switch(c.tag){case 13:return Yr===null?hh():c.alternate===null&&Kt===0&&(Kt=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===vm?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([d]):l.add(d),ph(a,d,p)),!1;case 22:return c.flags|=65536,d===vm?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([d]):c.add(d)),ph(a,d,p)),!1}throw Error(r(435,c.tag))}return ph(a,d,p),hh(),!1}if(xt)return l=Nr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,d!==fm&&(a=Error(r(422),{cause:d}),Yi(vr(a,c)))):(d!==fm&&(l=Error(r(423),{cause:d}),Yi(vr(l,c))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,d=vr(d,c),p=Fm(a.stateNode,d,p),jm(a,p),Kt!==4&&(Kt=2)),!1;var v=Error(r(520),{cause:d});if(v=vr(v,c),ho===null?ho=[v]:ho.push(v),Kt!==4&&(Kt=2),l===null)return!0;d=vr(d,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,a=p&-p,c.lanes|=a,a=Fm(c.stateNode,d,a),jm(c,a),!1;case 1:if(l=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ll===null||!ll.has(v))))return c.flags|=65536,p&=-p,c.lanes|=p,p=Tb(p),Ob(p,a,c,d),jm(c,p),!1}c=c.return}while(c!==null);return!1}var Pb=Error(r(461)),fn=!1;function Nn(a,l,c,d){l.child=a===null?wb(l,null,c,d):Us(l,a.child,c,d)}function Mb(a,l,c,d,p){c=c.render;var v=l.ref;if("ref"in d){var C={};for(var k in d)k!=="ref"&&(C[k]=d[k])}else C=d;return ql(l),d=Dm(a,l,c,C,v,p),k=Em(),a!==null&&!fn?(Tm(a,l,p),fa(a,l,p)):(xt&&k&&um(l),l.flags|=1,Nn(a,l,d,p),l.child)}function kb(a,l,c,d,p){if(a===null){var v=c.type;return typeof v=="function"&&!im(v)&&v.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=v,_b(a,l,v,d,p)):(a=zc(c.type,null,d,l,l.mode,p),a.ref=l.ref,a.return=l,l.child=a)}if(v=a.child,!Qm(a,p)){var C=v.memoizedProps;if(c=c.compare,c=c!==null?c:qi,c(C,d)&&a.ref===l.ref)return fa(a,l,p)}return l.flags|=1,a=la(v,d),a.ref=l.ref,a.return=l,l.child=a}function _b(a,l,c,d,p){if(a!==null){var v=a.memoizedProps;if(qi(v,d)&&a.ref===l.ref)if(fn=!1,l.pendingProps=d=v,Qm(a,p))(a.flags&131072)!==0&&(fn=!0);else return l.lanes=a.lanes,fa(a,l,p)}return Km(a,l,c,d,p)}function $b(a,l,c){var d=l.pendingProps,p=d.children,v=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,a!==null){for(p=l.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;l.childLanes=v&~d}else l.childLanes=0,l.child=null;return Ib(a,l,d,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Yc(l,v!==null?v.cachePool:null),v!==null?_v(l,v):Sm(),jb(l);else return l.lanes=l.childLanes=536870912,Ib(a,l,v!==null?v.baseLanes|c:c,c)}else v!==null?(Yc(l,v.cachePool),_v(l,v),Ja(),l.memoizedState=null):(a!==null&&Yc(l,null),Sm(),Ja());return Nn(a,l,p,c),l.child}function Ib(a,l,c,d){var p=ym();return p=p===null?null:{parent:rn._currentValue,pool:p},l.memoizedState={baseLanes:c,cachePool:p},a!==null&&Yc(l,null),Sm(),jb(l),a!==null&&Gi(a,l,d,!0),null}function cu(a,l){var c=l.ref;if(c===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(l.flags|=4194816)}}function Km(a,l,c,d,p){return ql(l),c=Dm(a,l,c,d,void 0,p),d=Em(),a!==null&&!fn?(Tm(a,l,p),fa(a,l,p)):(xt&&d&&um(l),l.flags|=1,Nn(a,l,c,p),l.child)}function Rb(a,l,c,d,p,v){return ql(l),l.updateQueue=null,c=Iv(l,d,c,p),$v(a),d=Em(),a!==null&&!fn?(Tm(a,l,v),fa(a,l,v)):(xt&&d&&um(l),l.flags|=1,Nn(a,l,c,v),l.child)}function Lb(a,l,c,d,p){if(ql(l),l.stateNode===null){var v=Os,C=c.contextType;typeof C=="object"&&C!==null&&(v=On(C)),v=new c(d,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Hm,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=d,v.state=l.memoizedState,v.refs={},bm(l),C=c.contextType,v.context=typeof C=="object"&&C!==null?On(C):Os,v.state=l.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(qm(l,c,C,d),v.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Hm.enqueueReplaceState(v,v.state,null),eo(l,d,v,p),Ji(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(a===null){v=l.stateNode;var k=l.memoizedProps,K=Kl(c,k);v.props=K;var se=v.context,we=c.contextType;C=Os,typeof we=="object"&&we!==null&&(C=On(we));var Ae=c.getDerivedStateFromProps;we=typeof Ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,we||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||se!==C)&&Sb(l,v,d,C),Xa=!1;var oe=l.memoizedState;v.state=oe,eo(l,d,v,p),Ji(),se=l.memoizedState,k||oe!==se||Xa?(typeof Ae=="function"&&(qm(l,c,Ae,d),se=l.memoizedState),(K=Xa||Nb(l,c,K,d,oe,se,C))?(we||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=se),v.props=d,v.state=se,v.context=C,d=K):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{v=l.stateNode,wm(a,l),C=l.memoizedProps,we=Kl(c,C),v.props=we,Ae=l.pendingProps,oe=v.context,se=c.contextType,K=Os,typeof se=="object"&&se!==null&&(K=On(se)),k=c.getDerivedStateFromProps,(se=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==Ae||oe!==K)&&Sb(l,v,d,K),Xa=!1,oe=l.memoizedState,v.state=oe,eo(l,d,v,p),Ji();var ue=l.memoizedState;C!==Ae||oe!==ue||Xa||a!==null&&a.dependencies!==null&&Fc(a.dependencies)?(typeof k=="function"&&(qm(l,c,k,d),ue=l.memoizedState),(we=Xa||Nb(l,c,we,d,oe,ue,K)||a!==null&&a.dependencies!==null&&Fc(a.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ue,K),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ue,K)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ue),v.props=d,v.state=ue,v.context=K,d=we):(typeof v.componentDidUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(l.flags|=1024),d=!1)}return v=d,cu(a,l),d=(l.flags&128)!==0,v||d?(v=l.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,a!==null&&d?(l.child=Us(l,a.child,null,p),l.child=Us(l,null,c,p)):Nn(a,l,c,p),l.memoizedState=v.state,a=l.child):a=fa(a,l,p),a}function Bb(a,l,c,d){return Ki(),l.flags|=256,Nn(a,l,c,d),l.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(a){return{baseLanes:a,cachePool:Cv()}}function Xm(a,l,c){return a=a!==null?a.childLanes&~c:0,l&&(a|=Sr),a}function Ub(a,l,c){var d=l.pendingProps,p=!1,v=(l.flags&128)!==0,C;if((C=v)||(C=a!==null&&a.memoizedState===null?!1:(an.current&2)!==0),C&&(p=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,a===null){if(xt){if(p?Qa(l):Ja(),xt){var k=Ft,K;if(K=k){e:{for(K=k,k=Kr;K.nodeType!==8;){if(!k){k=null;break e}if(K=Lr(K.nextSibling),K===null){k=null;break e}}k=K}k!==null?(l.memoizedState={dehydrated:k,treeContext:Rl!==null?{id:sa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},K=Qn(18,null,null,0),K.stateNode=k,K.return=l,l.child=K,In=l,Ft=null,K=!0):K=!1}K||Ul(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Ph(k)?l.lanes=32:l.lanes=536870912,null;da(l)}return k=d.children,d=d.fallback,p?(Ja(),p=l.mode,k=uu({mode:"hidden",children:k},p),d=Il(d,p,c,null),k.return=l,d.return=l,k.sibling=d,l.child=k,p=l.child,p.memoizedState=Gm(c),p.childLanes=Xm(a,C,c),l.memoizedState=Ym,d):(Qa(l),Vm(l,k))}if(K=a.memoizedState,K!==null&&(k=K.dehydrated,k!==null)){if(v)l.flags&256?(Qa(l),l.flags&=-257,l=Wm(a,l,c)):l.memoizedState!==null?(Ja(),l.child=a.child,l.flags|=128,l=null):(Ja(),p=d.fallback,k=l.mode,d=uu({mode:"visible",children:d.children},k),p=Il(p,k,c,null),p.flags|=2,d.return=l,p.return=l,d.sibling=p,l.child=d,Us(l,a.child,null,c),d=l.child,d.memoizedState=Gm(c),d.childLanes=Xm(a,C,c),l.memoizedState=Ym,l=p);else if(Qa(l),Ph(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var se=C.dgst;C=se,d=Error(r(419)),d.stack="",d.digest=C,Yi({value:d,source:null,stack:null}),l=Wm(a,l,c)}else if(fn||Gi(a,l,c,!1),C=(c&a.childLanes)!==0,fn||C){if(C=Mt,C!==null&&(d=c&-c,d=(d&42)!==0?1:dn(d),d=(d&(C.suspendedLanes|c))!==0?0:d,d!==0&&d!==K.retryLane))throw K.retryLane=d,Ts(a,d),rr(C,a,d),Pb;k.data==="$?"||hh(),l=Wm(a,l,c)}else k.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=K.treeContext,Ft=Lr(k.nextSibling),In=l,xt=!0,Bl=null,Kr=!1,a!==null&&(wr[jr++]=sa,wr[jr++]=ia,wr[jr++]=Rl,sa=a.id,ia=a.overflow,Rl=l),l=Vm(l,d.children),l.flags|=4096);return l}return p?(Ja(),p=d.fallback,k=l.mode,K=a.child,se=K.sibling,d=la(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,se!==null?p=la(se,p):(p=Il(p,k,c,null),p.flags|=2),p.return=l,d.return=l,d.sibling=p,l.child=d,d=p,p=l.child,k=a.child.memoizedState,k===null?k=Gm(c):(K=k.cachePool,K!==null?(se=rn._currentValue,K=K.parent!==se?{parent:se,pool:se}:K):K=Cv(),k={baseLanes:k.baseLanes|c,cachePool:K}),p.memoizedState=k,p.childLanes=Xm(a,C,c),l.memoizedState=Ym,d):(Qa(l),c=a.child,a=c.sibling,c=la(c,{mode:"visible",children:d.children}),c.return=l,c.sibling=null,a!==null&&(C=l.deletions,C===null?(l.deletions=[a],l.flags|=16):C.push(a)),l.child=c,l.memoizedState=null,c)}function Vm(a,l){return l=uu({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function uu(a,l){return a=Qn(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Wm(a,l,c){return Us(l,a.child,null,c),a=Vm(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function zb(a,l,c){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l),hm(a.return,l,c)}function Zm(a,l,c,d,p){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=p)}function qb(a,l,c){var d=l.pendingProps,p=d.revealOrder,v=d.tail;if(Nn(a,l,d.children,c),d=an.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&zb(a,c,l);else if(a.tag===19)zb(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(ce(an,d),p){case"forwards":for(c=l.child,p=null;c!==null;)a=c.alternate,a!==null&&su(a)===null&&(p=c),c=c.sibling;c=p,c===null?(p=l.child,l.child=null):(p=c.sibling,c.sibling=null),Zm(l,!1,p,c,v);break;case"backwards":for(c=null,p=l.child,l.child=null;p!==null;){if(a=p.alternate,a!==null&&su(a)===null){l.child=p;break}a=p.sibling,p.sibling=c,c=p,p=a}Zm(l,!0,c,null,v);break;case"together":Zm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function fa(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),al|=l.lanes,(c&l.childLanes)===0)if(a!==null){if(Gi(a,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,c=la(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=la(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function Qm(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Fc(a)))}function YO(a,l,c){switch(l.tag){case 3:q(l,l.stateNode.containerInfo),Ga(l,rn,a.memoizedState.cache),Ki();break;case 27:case 5:le(l);break;case 4:q(l,l.stateNode.containerInfo);break;case 10:Ga(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Qa(l),l.flags|=128,null):(c&l.child.childLanes)!==0?Ub(a,l,c):(Qa(l),a=fa(a,l,c),a!==null?a.sibling:null);Qa(l);break;case 19:var p=(a.flags&128)!==0;if(d=(c&l.childLanes)!==0,d||(Gi(a,l,c,!1),d=(c&l.childLanes)!==0),p){if(d)return qb(a,l,c);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(an,an.current),d)break;return null;case 22:case 23:return l.lanes=0,$b(a,l,c);case 24:Ga(l,rn,a.memoizedState.cache)}return fa(a,l,c)}function Hb(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps)fn=!0;else{if(!Qm(a,c)&&(l.flags&128)===0)return fn=!1,YO(a,l,c);fn=(a.flags&131072)!==0}else fn=!1,xt&&(l.flags&1048576)!==0&&vv(l,Hc,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var d=l.elementType,p=d._init;if(d=p(d._payload),l.type=d,typeof d=="function")im(d)?(a=Kl(d,a),l.tag=1,l=Lb(null,l,d,a,c)):(l.tag=0,l=Km(null,l,d,a,c));else{if(d!=null){if(p=d.$$typeof,p===O){l.tag=11,l=Mb(null,l,d,a,c);break e}else if(p===M){l.tag=14,l=kb(null,l,d,a,c);break e}}throw l=Q(d)||d,Error(r(306,l,""))}}return l;case 0:return Km(a,l,l.type,l.pendingProps,c);case 1:return d=l.type,p=Kl(d,l.pendingProps),Lb(a,l,d,p,c);case 3:e:{if(q(l,l.stateNode.containerInfo),a===null)throw Error(r(387));d=l.pendingProps;var v=l.memoizedState;p=v.element,wm(a,l),eo(l,d,null,c);var C=l.memoizedState;if(d=C.cache,Ga(l,rn,d),d!==v.cache&&gm(l,[rn],c,!0),Ji(),d=C.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=Bb(a,l,d,c);break e}else if(d!==p){p=vr(Error(r(424)),l),Yi(p),l=Bb(a,l,d,c);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ft=Lr(a.firstChild),In=l,xt=!0,Bl=null,Kr=!0,c=wb(l,null,d,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ki(),d===p){l=fa(a,l,c);break e}Nn(a,l,d,c)}l=l.child}return l;case 26:return cu(a,l),a===null?(c=G1(l.type,null,l.pendingProps,null))?l.memoizedState=c:xt||(c=l.type,a=l.pendingProps,d=Su(me.current).createElement(c),d[rt]=l,d[Ht]=a,An(d,c,a),Et(d),l.stateNode=d):l.memoizedState=G1(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return le(l),a===null&&xt&&(d=l.stateNode=F1(l.type,l.pendingProps,me.current),In=l,Kr=!0,p=Ft,ol(l.type)?(Mh=p,Ft=Lr(d.firstChild)):Ft=p),Nn(a,l,l.pendingProps.children,c),cu(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&xt&&((p=d=Ft)&&(d=b3(d,l.type,l.pendingProps,Kr),d!==null?(l.stateNode=d,In=l,Ft=Lr(d.firstChild),Kr=!1,p=!0):p=!1),p||Ul(l)),le(l),p=l.type,v=l.pendingProps,C=a!==null?a.memoizedProps:null,d=v.children,Eh(p,v)?d=null:C!==null&&Eh(p,C)&&(l.flags|=32),l.memoizedState!==null&&(p=Dm(a,l,LO,null,null,c),No._currentValue=p),cu(a,l),Nn(a,l,d,c),l.child;case 6:return a===null&&xt&&((a=c=Ft)&&(c=w3(c,l.pendingProps,Kr),c!==null?(l.stateNode=c,In=l,Ft=null,a=!0):a=!1),a||Ul(l)),null;case 13:return Ub(a,l,c);case 4:return q(l,l.stateNode.containerInfo),d=l.pendingProps,a===null?l.child=Us(l,null,d,c):Nn(a,l,d,c),l.child;case 11:return Mb(a,l,l.type,l.pendingProps,c);case 7:return Nn(a,l,l.pendingProps,c),l.child;case 8:return Nn(a,l,l.pendingProps.children,c),l.child;case 12:return Nn(a,l,l.pendingProps.children,c),l.child;case 10:return d=l.pendingProps,Ga(l,l.type,d.value),Nn(a,l,d.children,c),l.child;case 9:return p=l.type._context,d=l.pendingProps.children,ql(l),p=On(p),d=d(p),l.flags|=1,Nn(a,l,d,c),l.child;case 14:return kb(a,l,l.type,l.pendingProps,c);case 15:return _b(a,l,l.type,l.pendingProps,c);case 19:return qb(a,l,c);case 31:return d=l.pendingProps,c=l.mode,d={mode:d.mode,children:d.children},a===null?(c=uu(d,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=la(a.child,d),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return $b(a,l,c);case 24:return ql(l),d=On(rn),a===null?(p=ym(),p===null&&(p=Mt,v=pm(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=c),p=v),l.memoizedState={parent:d,cache:p},bm(l),Ga(l,rn,p)):((a.lanes&c)!==0&&(wm(a,l),eo(l,null,null,c),Ji()),p=a.memoizedState,v=l.memoizedState,p.parent!==d?(p={parent:d,cache:d},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),Ga(l,rn,d)):(d=v.cache,Ga(l,rn,d),d!==p.cache&&gm(l,[rn],c,!0))),Nn(a,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ma(a){a.flags|=4}function Fb(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Q1(l)){if(l=Nr.current,l!==null&&((dt&4194048)===dt?Yr!==null:(dt&62914560)!==dt&&(dt&536870912)===0||l!==Yr))throw Zi=vm,Dv;a.flags|=8192}}function du(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?be():536870912,a.lanes|=l,Fs|=l)}function io(a,l){if(!xt)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Ut(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,d=0;if(l)for(var p=a.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=d,a.childLanes=c,l}function GO(a,l,c){var d=l.pendingProps;switch(dm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(l),null;case 1:return Ut(l),null;case 3:return c=l.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ca(rn),B(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Fi(l)?ma(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,jv())),Ut(l),null;case 26:return c=l.memoizedState,a===null?(ma(l),c!==null?(Ut(l),Fb(l,c)):(Ut(l),l.flags&=-16777217)):c?c!==a.memoizedState?(ma(l),Ut(l),Fb(l,c)):(Ut(l),l.flags&=-16777217):(a.memoizedProps!==d&&ma(l),Ut(l),l.flags&=-16777217),null;case 27:ne(l),c=me.current;var p=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==d&&ma(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ut(l),null}a=Ne.current,Fi(l)?bv(l):(a=F1(p,d,c),l.stateNode=a,ma(l))}return Ut(l),null;case 5:if(ne(l),c=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&ma(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ut(l),null}if(a=Ne.current,Fi(l))bv(l);else{switch(p=Su(me.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}a[rt]=l,a[Ht]=d;e:for(p=l.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break e;for(;p.sibling===null;){if(p.return===null||p.return===l)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}l.stateNode=a;e:switch(An(a,c,d),c){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ma(l)}}return Ut(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==d&&ma(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(a=me.current,Fi(l)){if(a=l.stateNode,c=l.memoizedProps,d=null,p=In,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}a[rt]=l,a=!!(a.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||R1(a.nodeValue,c)),a||Ul(l)}else a=Su(a).createTextNode(d),a[rt]=l,l.stateNode=a}return Ut(l),null;case 13:if(d=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Fi(l),d!==null&&d.dehydrated!==null){if(a===null){if(!p)throw Error(r(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[rt]=l}else Ki(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ut(l),p=!1}else p=jv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(da(l),l):(da(l),null)}if(da(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=d!==null,a=a!==null&&a.memoizedState!==null,c){d=l.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)}return c!==a&&c&&(l.child.flags|=8192),du(l,l.updateQueue),Ut(l),null;case 4:return B(),a===null&&Nh(l.stateNode.containerInfo),Ut(l),null;case 10:return ca(l.type),Ut(l),null;case 19:if(L(an),p=l.memoizedState,p===null)return Ut(l),null;if(d=(l.flags&128)!==0,v=p.rendering,v===null)if(d)io(p,!1);else{if(Kt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(v=su(a),v!==null){for(l.flags|=128,io(p,!1),a=v.updateQueue,l.updateQueue=a,du(l,a),l.subtreeFlags=0,a=c,c=l.child;c!==null;)yv(c,a),c=c.sibling;return ce(an,an.current&1|2),l.child}a=a.sibling}p.tail!==null&&J()>hu&&(l.flags|=128,d=!0,io(p,!1),l.lanes=4194304)}else{if(!d)if(a=su(v),a!==null){if(l.flags|=128,d=!0,a=a.updateQueue,l.updateQueue=a,du(l,a),io(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!xt)return Ut(l),null}else 2*J()-p.renderingStartTime>hu&&c!==536870912&&(l.flags|=128,d=!0,io(p,!1),l.lanes=4194304);p.isBackwards?(v.sibling=l.child,l.child=v):(a=p.last,a!==null?a.sibling=v:l.child=v,p.last=v)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.renderingStartTime=J(),l.sibling=null,a=an.current,ce(an,d?a&1|2:a&1),l):(Ut(l),null);case 22:case 23:return da(l),Am(),d=l.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(c&536870912)!==0&&(l.flags&128)===0&&(Ut(l),l.subtreeFlags&6&&(l.flags|=8192)):Ut(l),c=l.updateQueue,c!==null&&du(l,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048),a!==null&&L(Hl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),ca(rn),Ut(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function XO(a,l){switch(dm(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ca(rn),B(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return ne(l),null;case 13:if(da(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ki()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return L(an),null;case 4:return B(),null;case 10:return ca(l.type),null;case 22:case 23:return da(l),Am(),a!==null&&L(Hl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ca(rn),null;case 25:return null;default:return null}}function Kb(a,l){switch(dm(l),l.tag){case 3:ca(rn),B();break;case 26:case 27:case 5:ne(l);break;case 4:B();break;case 13:da(l);break;case 19:L(an);break;case 10:ca(l.type);break;case 22:case 23:da(l),Am(),a!==null&&L(Hl);break;case 24:ca(rn)}}function oo(a,l){try{var c=l.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&a)===a){d=void 0;var v=c.create,C=c.inst;d=v(),C.destroy=d}c=c.next}while(c!==p)}}catch(k){Tt(l,l.return,k)}}function el(a,l,c){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&a)===a){var C=d.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,p=l;var K=c,se=k;try{se()}catch(we){Tt(p,K,we)}}}d=d.next}while(d!==v)}}catch(we){Tt(l,l.return,we)}}function Yb(a){var l=a.updateQueue;if(l!==null){var c=a.stateNode;try{kv(l,c)}catch(d){Tt(a,a.return,d)}}}function Gb(a,l,c){c.props=Kl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(d){Tt(a,l,d)}}function co(a,l){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof c=="function"?a.refCleanup=c(d):c.current=d}}catch(p){Tt(a,l,p)}}function Gr(a,l){var c=a.ref,d=a.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){Tt(a,l,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){Tt(a,l,p)}else c.current=null}function Xb(a){var l=a.type,c=a.memoizedProps,d=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){Tt(a,a.return,p)}}function Jm(a,l,c){try{var d=a.stateNode;g3(d,a.type,c,l),d[Ht]=l}catch(p){Tt(a,a.return,p)}}function Vb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ol(a.type)||a.tag===4}function eh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Vb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ol(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function th(a,l,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(a),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Nu));else if(d!==4&&(d===27&&ol(a.type)&&(c=a.stateNode,l=null),a=a.child,a!==null))for(th(a,l,c),a=a.sibling;a!==null;)th(a,l,c),a=a.sibling}function fu(a,l,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(d!==4&&(d===27&&ol(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(fu(a,l,c),a=a.sibling;a!==null;)fu(a,l,c),a=a.sibling}function Wb(a){var l=a.stateNode,c=a.memoizedProps;try{for(var d=a.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);An(l,d,c),l[rt]=a,l[Ht]=c}catch(v){Tt(a,a.return,v)}}var ha=!1,Vt=!1,nh=!1,Zb=typeof WeakSet=="function"?WeakSet:Set,mn=null;function VO(a,l){if(a=a.containerInfo,Ch=Ou,a=ov(a),em(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var C=0,k=-1,K=-1,se=0,we=0,Ae=a,oe=null;t:for(;;){for(var ue;Ae!==c||p!==0&&Ae.nodeType!==3||(k=C+p),Ae!==v||d!==0&&Ae.nodeType!==3||(K=C+d),Ae.nodeType===3&&(C+=Ae.nodeValue.length),(ue=Ae.firstChild)!==null;)oe=Ae,Ae=ue;for(;;){if(Ae===a)break t;if(oe===c&&++se===p&&(k=C),oe===v&&++we===d&&(K=C),(ue=Ae.nextSibling)!==null)break;Ae=oe,oe=Ae.parentNode}Ae=ue}c=k===-1||K===-1?null:{start:k,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(Dh={focusedElem:a,selectionRange:c},Ou=!1,mn=l;mn!==null;)if(l=mn,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,mn=a;else for(;mn!==null;){switch(l=mn,v=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,c=l,p=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var We=Kl(c.type,p,c.elementType===c.type);a=d.getSnapshotBeforeUpdate(We,v),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ge){Tt(c,c.return,Ge)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,c=a.nodeType,c===9)Oh(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Oh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,mn=a;break}mn=l.return}}function Qb(a,l,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:tl(a,c),d&4&&oo(5,c);break;case 1:if(tl(a,c),d&4)if(a=c.stateNode,l===null)try{a.componentDidMount()}catch(C){Tt(c,c.return,C)}else{var p=Kl(c.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(p,l,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Tt(c,c.return,C)}}d&64&&Yb(c),d&512&&co(c,c.return);break;case 3:if(tl(a,c),d&64&&(a=c.updateQueue,a!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{kv(a,l)}catch(C){Tt(c,c.return,C)}}break;case 27:l===null&&d&4&&Wb(c);case 26:case 5:tl(a,c),l===null&&d&4&&Xb(c),d&512&&co(c,c.return);break;case 12:tl(a,c);break;case 13:tl(a,c),d&4&&t1(a,c),d&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=a3.bind(null,c),j3(a,c))));break;case 22:if(d=c.memoizedState!==null||ha,!d){l=l!==null&&l.memoizedState!==null||Vt,p=ha;var v=Vt;ha=d,(Vt=l)&&!v?nl(a,c,(c.subtreeFlags&8772)!==0):tl(a,c),ha=p,Vt=v}break;case 30:break;default:tl(a,c)}}function Jb(a){var l=a.alternate;l!==null&&(a.alternate=null,Jb(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&_i(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var $t=null,Hn=!1;function ga(a,l,c){for(c=c.child;c!==null;)e1(a,l,c),c=c.sibling}function e1(a,l,c){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Ze,c)}catch{}switch(c.tag){case 26:Vt||Gr(c,l),ga(a,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Vt||Gr(c,l);var d=$t,p=Hn;ol(c.type)&&($t=c.stateNode,Hn=!1),ga(a,l,c),vo(c.stateNode),$t=d,Hn=p;break;case 5:Vt||Gr(c,l);case 6:if(d=$t,p=Hn,$t=null,ga(a,l,c),$t=d,Hn=p,$t!==null)if(Hn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(c.stateNode)}catch(v){Tt(c,l,v)}else try{$t.removeChild(c.stateNode)}catch(v){Tt(c,l,v)}break;case 18:$t!==null&&(Hn?(a=$t,q1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Do(a)):q1($t,c.stateNode));break;case 4:d=$t,p=Hn,$t=c.stateNode.containerInfo,Hn=!0,ga(a,l,c),$t=d,Hn=p;break;case 0:case 11:case 14:case 15:Vt||el(2,c,l),Vt||el(4,c,l),ga(a,l,c);break;case 1:Vt||(Gr(c,l),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Gb(c,l,d)),ga(a,l,c);break;case 21:ga(a,l,c);break;case 22:Vt=(d=Vt)||c.memoizedState!==null,ga(a,l,c),Vt=d;break;default:ga(a,l,c)}}function t1(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Do(a)}catch(c){Tt(l,l.return,c)}}function WO(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Zb),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Zb),l;default:throw Error(r(435,a.tag))}}function rh(a,l){var c=WO(a);l.forEach(function(d){var p=l3.bind(null,a,d);c.has(d)||(c.add(d),d.then(p,p))})}function Jn(a,l){var c=l.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],v=a,C=l,k=C;e:for(;k!==null;){switch(k.tag){case 27:if(ol(k.type)){$t=k.stateNode,Hn=!1;break e}break;case 5:$t=k.stateNode,Hn=!1;break e;case 3:case 4:$t=k.stateNode.containerInfo,Hn=!0;break e}k=k.return}if($t===null)throw Error(r(160));e1(v,C,p),$t=null,Hn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)n1(l,a),l=l.sibling}var Rr=null;function n1(a,l){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Jn(l,a),er(a),d&4&&(el(3,a,a.return),oo(3,a),el(5,a,a.return));break;case 1:Jn(l,a),er(a),d&512&&(Vt||c===null||Gr(c,c.return)),d&64&&ha&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=Rr;if(Jn(l,a),er(a),d&512&&(Vt||c===null||Gr(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=a.memoizedState,c===null)if(d===null)if(a.stateNode===null){e:{d=a.type,c=a.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[na]||v[rt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),An(v,d,c),v[rt]=a,Et(v),d=v;break e;case"link":var C=W1("link","href",p).get(d+(c.href||""));if(C){for(var k=0;k<C.length;k++)if(v=C[k],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(k,1);break t}}v=p.createElement(d),An(v,d,c),p.head.appendChild(v);break;case"meta":if(C=W1("meta","content",p).get(d+(c.content||""))){for(k=0;k<C.length;k++)if(v=C[k],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(k,1);break t}}v=p.createElement(d),An(v,d,c),p.head.appendChild(v);break;default:throw Error(r(468,d))}v[rt]=a,Et(v),d=v}a.stateNode=d}else Z1(p,a.type,a.stateNode);else a.stateNode=V1(p,d,a.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?Z1(p,a.type,a.stateNode):V1(p,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Jm(a,a.memoizedProps,c.memoizedProps)}break;case 27:Jn(l,a),er(a),d&512&&(Vt||c===null||Gr(c,c.return)),c!==null&&d&4&&Jm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Jn(l,a),er(a),d&512&&(Vt||c===null||Gr(c,c.return)),a.flags&32){p=a.stateNode;try{js(p,"")}catch(ue){Tt(a,a.return,ue)}}d&4&&a.stateNode!=null&&(p=a.memoizedProps,Jm(a,p,c!==null?c.memoizedProps:p)),d&1024&&(nh=!0);break;case 6:if(Jn(l,a),er(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,c=a.stateNode;try{c.nodeValue=d}catch(ue){Tt(a,a.return,ue)}}break;case 3:if(Du=null,p=Rr,Rr=Au(l.containerInfo),Jn(l,a),Rr=p,er(a),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Do(l.containerInfo)}catch(ue){Tt(a,a.return,ue)}nh&&(nh=!1,r1(a));break;case 4:d=Rr,Rr=Au(a.stateNode.containerInfo),Jn(l,a),er(a),Rr=d;break;case 12:Jn(l,a),er(a);break;case 13:Jn(l,a),er(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ch=J()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,rh(a,d)));break;case 22:p=a.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,se=ha,we=Vt;if(ha=se||p,Vt=we||K,Jn(l,a),Vt=we,ha=se,er(a),d&8192)e:for(l=a.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(c===null||K||ha||Vt||Yl(a)),c=null,l=a;;){if(l.tag===5||l.tag===26){if(c===null){K=c=l;try{if(v=K.stateNode,p)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=K.stateNode;var Ae=K.memoizedProps.style,oe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;k.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ue){Tt(K,K.return,ue)}}}else if(l.tag===6){if(c===null){K=l;try{K.stateNode.nodeValue=p?"":K.memoizedProps}catch(ue){Tt(K,K.return,ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=a.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,rh(a,c))));break;case 19:Jn(l,a),er(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,rh(a,d)));break;case 30:break;case 21:break;default:Jn(l,a),er(a)}}function er(a){var l=a.flags;if(l&2){try{for(var c,d=a.return;d!==null;){if(Vb(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var p=c.stateNode,v=eh(a);fu(a,v,p);break;case 5:var C=c.stateNode;c.flags&32&&(js(C,""),c.flags&=-33);var k=eh(a);fu(a,k,C);break;case 3:case 4:var K=c.stateNode.containerInfo,se=eh(a);th(a,se,K);break;default:throw Error(r(161))}}catch(we){Tt(a,a.return,we)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function r1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;r1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function tl(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Qb(a,l.alternate,l),l=l.sibling}function Yl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:el(4,l,l.return),Yl(l);break;case 1:Gr(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&Gb(l,l.return,c),Yl(l);break;case 27:vo(l.stateNode);case 26:case 5:Gr(l,l.return),Yl(l);break;case 22:l.memoizedState===null&&Yl(l);break;case 30:Yl(l);break;default:Yl(l)}a=a.sibling}}function nl(a,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,p=a,v=l,C=v.flags;switch(v.tag){case 0:case 11:case 15:nl(p,v,c),oo(4,v);break;case 1:if(nl(p,v,c),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(se){Tt(d,d.return,se)}if(d=v,p=d.updateQueue,p!==null){var k=d.stateNode;try{var K=p.shared.hiddenCallbacks;if(K!==null)for(p.shared.hiddenCallbacks=null,p=0;p<K.length;p++)Mv(K[p],k)}catch(se){Tt(d,d.return,se)}}c&&C&64&&Yb(v),co(v,v.return);break;case 27:Wb(v);case 26:case 5:nl(p,v,c),c&&d===null&&C&4&&Xb(v),co(v,v.return);break;case 12:nl(p,v,c);break;case 13:nl(p,v,c),c&&C&4&&t1(p,v);break;case 22:v.memoizedState===null&&nl(p,v,c),co(v,v.return);break;case 30:break;default:nl(p,v,c)}l=l.sibling}}function ah(a,l){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Xi(c))}function lh(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Xi(a))}function Xr(a,l,c,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)a1(a,l,c,d),l=l.sibling}function a1(a,l,c,d){var p=l.flags;switch(l.tag){case 0:case 11:case 15:Xr(a,l,c,d),p&2048&&oo(9,l);break;case 1:Xr(a,l,c,d);break;case 3:Xr(a,l,c,d),p&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Xi(a)));break;case 12:if(p&2048){Xr(a,l,c,d),a=l.stateNode;try{var v=l.memoizedProps,C=v.id,k=v.onPostCommit;typeof k=="function"&&k(C,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Tt(l,l.return,K)}}else Xr(a,l,c,d);break;case 13:Xr(a,l,c,d);break;case 23:break;case 22:v=l.stateNode,C=l.alternate,l.memoizedState!==null?v._visibility&2?Xr(a,l,c,d):uo(a,l):v._visibility&2?Xr(a,l,c,d):(v._visibility|=2,zs(a,l,c,d,(l.subtreeFlags&10256)!==0)),p&2048&&ah(C,l);break;case 24:Xr(a,l,c,d),p&2048&&lh(l.alternate,l);break;default:Xr(a,l,c,d)}}function zs(a,l,c,d,p){for(p=p&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=a,C=l,k=c,K=d,se=C.flags;switch(C.tag){case 0:case 11:case 15:zs(v,C,k,K,p),oo(8,C);break;case 23:break;case 22:var we=C.stateNode;C.memoizedState!==null?we._visibility&2?zs(v,C,k,K,p):uo(v,C):(we._visibility|=2,zs(v,C,k,K,p)),p&&se&2048&&ah(C.alternate,C);break;case 24:zs(v,C,k,K,p),p&&se&2048&&lh(C.alternate,C);break;default:zs(v,C,k,K,p)}l=l.sibling}}function uo(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=a,d=l,p=d.flags;switch(d.tag){case 22:uo(c,d),p&2048&&ah(d.alternate,d);break;case 24:uo(c,d),p&2048&&lh(d.alternate,d);break;default:uo(c,d)}l=l.sibling}}var fo=8192;function qs(a){if(a.subtreeFlags&fo)for(a=a.child;a!==null;)l1(a),a=a.sibling}function l1(a){switch(a.tag){case 26:qs(a),a.flags&fo&&a.memoizedState!==null&&$3(Rr,a.memoizedState,a.memoizedProps);break;case 5:qs(a);break;case 3:case 4:var l=Rr;Rr=Au(a.stateNode.containerInfo),qs(a),Rr=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=fo,fo=16777216,qs(a),fo=l):qs(a));break;default:qs(a)}}function s1(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function mo(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var d=l[c];mn=d,o1(d,a)}s1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)i1(a),a=a.sibling}function i1(a){switch(a.tag){case 0:case 11:case 15:mo(a),a.flags&2048&&el(9,a,a.return);break;case 3:mo(a);break;case 12:mo(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,mu(a)):mo(a);break;default:mo(a)}}function mu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var d=l[c];mn=d,o1(d,a)}s1(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:el(8,l,l.return),mu(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,mu(l));break;default:mu(l)}a=a.sibling}}function o1(a,l){for(;mn!==null;){var c=mn;switch(c.tag){case 0:case 11:case 15:el(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Xi(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,mn=d;else e:for(c=a;mn!==null;){d=mn;var p=d.sibling,v=d.return;if(Jb(d),d===c){mn=null;break e}if(p!==null){p.return=v,mn=p;break e}mn=v}}}var ZO={getCacheForType:function(a){var l=On(rn),c=l.data.get(a);return c===void 0&&(c=a(),l.data.set(a,c)),c}},QO=typeof WeakMap=="function"?WeakMap:Map,yt=0,Mt=null,it=null,dt=0,vt=0,tr=null,rl=!1,Hs=!1,sh=!1,pa=0,Kt=0,al=0,Gl=0,ih=0,Sr=0,Fs=0,ho=null,Fn=null,oh=!1,ch=0,hu=1/0,gu=null,ll=null,Sn=0,sl=null,Ks=null,Ys=0,uh=0,dh=null,c1=null,go=0,fh=null;function nr(){if((yt&2)!==0&&dt!==0)return dt&-dt;if(Y.T!==null){var a=ks;return a!==0?a:vh()}return pr()}function u1(){Sr===0&&(Sr=(dt&536870912)===0||xt?xe():536870912);var a=Nr.current;return a!==null&&(a.flags|=32),Sr}function rr(a,l,c){(a===Mt&&(vt===2||vt===9)||a.cancelPendingCommit!==null)&&(Gs(a,0),il(a,dt,Sr,!1)),Pe(a,c),((yt&2)===0||a!==Mt)&&(a===Mt&&((yt&2)===0&&(Gl|=c),Kt===4&&il(a,dt,Sr,!1)),Vr(a))}function d1(a,l,c){if((yt&6)!==0)throw Error(r(327));var d=!c&&(l&124)===0&&(l&a.expiredLanes)===0||pe(a,l),p=d?t3(a,l):gh(a,l,!0),v=d;do{if(p===0){Hs&&!d&&il(a,l,0,!1);break}else{if(c=a.current.alternate,v&&!JO(c)){p=gh(a,l,!1),v=!1;continue}if(p===2){if(v=l,a.errorRecoveryDisabledLanes&v)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var k=a;p=ho;var K=k.current.memoizedState.isDehydrated;if(K&&(Gs(k,C).flags|=256),C=gh(k,C,!1),C!==2){if(sh&&!K){k.errorRecoveryDisabledLanes|=v,Gl|=v,p=4;break e}v=Fn,Fn=p,v!==null&&(Fn===null?Fn=v:Fn.push.apply(Fn,v))}p=C}if(v=!1,p!==2)continue}}if(p===1){Gs(a,0),il(a,l,0,!0);break}e:{switch(d=a,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:il(d,l,Sr,!rl);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(p=ch+300-J(),10<p)){if(il(d,l,Sr,!rl),ct(d,0,!0)!==0)break e;d.timeoutHandle=U1(f1.bind(null,d,c,Fn,gu,oh,l,Sr,Gl,Fs,rl,v,2,-0,0),p);break e}f1(d,c,Fn,gu,oh,l,Sr,Gl,Fs,rl,v,0,-0,0)}}break}while(!0);Vr(a)}function f1(a,l,c,d,p,v,C,k,K,se,we,Ae,oe,ue){if(a.timeoutHandle=-1,Ae=l.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(jo={stylesheets:null,count:0,unsuspend:_3},l1(l),Ae=I3(),Ae!==null)){a.cancelPendingCommit=Ae(v1.bind(null,a,l,v,c,d,p,C,k,K,we,1,oe,ue)),il(a,v,C,!se);return}v1(a,l,v,c,d,p,C,k,K)}function JO(a){for(var l=a;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],v=p.getSnapshot;p=p.value;try{if(!Zn(v(),p))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function il(a,l,c,d){l&=~ih,l&=~Gl,a.suspendedLanes|=l,a.pingedLanes&=~l,d&&(a.warmLanes|=l),d=a.expirationTimes;for(var p=l;0<p;){var v=31-Qe(p),C=1<<v;d[v]=-1,p&=~C}c!==0&&ft(a,c,l)}function pu(){return(yt&6)===0?(po(0),!1):!0}function mh(){if(it!==null){if(vt===0)var a=it.return;else a=it,oa=zl=null,Om(a),Bs=null,lo=0,a=it;for(;a!==null;)Kb(a.alternate,a),a=a.return;it=null}}function Gs(a,l){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,x3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),mh(),Mt=a,it=c=la(a.current,null),dt=l,vt=0,tr=null,rl=!1,Hs=pe(a,l),sh=!1,Fs=Sr=ih=Gl=al=Kt=0,Fn=ho=null,oh=!1,(l&8)!==0&&(l|=l&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=l;0<d;){var p=31-Qe(d),v=1<<p;l|=a[p],d&=~v}return pa=l,Lc(),c}function m1(a,l){nt=null,Y.H=ru,l===Wi||l===Gc?(l=Ov(),vt=3):l===Dv?(l=Ov(),vt=4):vt=l===Pb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,tr=l,it===null&&(Kt=1,ou(a,vr(l,a.current)))}function h1(){var a=Y.H;return Y.H=ru,a===null?ru:a}function g1(){var a=Y.A;return Y.A=ZO,a}function hh(){Kt=4,rl||(dt&4194048)!==dt&&Nr.current!==null||(Hs=!0),(al&134217727)===0&&(Gl&134217727)===0||Mt===null||il(Mt,dt,Sr,!1)}function gh(a,l,c){var d=yt;yt|=2;var p=h1(),v=g1();(Mt!==a||dt!==l)&&(gu=null,Gs(a,l)),l=!1;var C=Kt;e:do try{if(vt!==0&&it!==null){var k=it,K=tr;switch(vt){case 8:mh(),C=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(l=!0);var se=vt;if(vt=0,tr=null,Xs(a,k,K,se),c&&Hs){C=0;break e}break;default:se=vt,vt=0,tr=null,Xs(a,k,K,se)}}e3(),C=Kt;break}catch(we){m1(a,we)}while(!0);return l&&a.shellSuspendCounter++,oa=zl=null,yt=d,Y.H=p,Y.A=v,it===null&&(Mt=null,dt=0,Lc()),C}function e3(){for(;it!==null;)p1(it)}function t3(a,l){var c=yt;yt|=2;var d=h1(),p=g1();Mt!==a||dt!==l?(gu=null,hu=J()+500,Gs(a,l)):Hs=pe(a,l);e:do try{if(vt!==0&&it!==null){l=it;var v=tr;t:switch(vt){case 1:vt=0,tr=null,Xs(a,l,v,1);break;case 2:case 9:if(Ev(v)){vt=0,tr=null,x1(l);break}l=function(){vt!==2&&vt!==9||Mt!==a||(vt=7),Vr(a)},v.then(l,l);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Ev(v)?(vt=0,tr=null,x1(l)):(vt=0,tr=null,Xs(a,l,v,7));break;case 5:var C=null;switch(it.tag){case 26:C=it.memoizedState;case 5:case 27:var k=it;if(!C||Q1(C)){vt=0,tr=null;var K=k.sibling;if(K!==null)it=K;else{var se=k.return;se!==null?(it=se,xu(se)):it=null}break t}}vt=0,tr=null,Xs(a,l,v,5);break;case 6:vt=0,tr=null,Xs(a,l,v,6);break;case 8:mh(),Kt=6;break e;default:throw Error(r(462))}}n3();break}catch(we){m1(a,we)}while(!0);return oa=zl=null,Y.H=d,Y.A=p,yt=c,it!==null?0:(Mt=null,dt=0,Lc(),Kt)}function n3(){for(;it!==null&&!X();)p1(it)}function p1(a){var l=Hb(a.alternate,a,pa);a.memoizedProps=a.pendingProps,l===null?xu(a):it=l}function x1(a){var l=a,c=l.alternate;switch(l.tag){case 15:case 0:l=Rb(c,l,l.pendingProps,l.type,void 0,dt);break;case 11:l=Rb(c,l,l.pendingProps,l.type.render,l.ref,dt);break;case 5:Om(l);default:Kb(c,l),l=it=yv(l,pa),l=Hb(c,l,pa)}a.memoizedProps=a.pendingProps,l===null?xu(a):it=l}function Xs(a,l,c,d){oa=zl=null,Om(l),Bs=null,lo=0;var p=l.return;try{if(KO(a,p,l,c,dt)){Kt=1,ou(a,vr(c,a.current)),it=null;return}}catch(v){if(p!==null)throw it=p,v;Kt=1,ou(a,vr(c,a.current)),it=null;return}l.flags&32768?(xt||d===1?a=!0:Hs||(dt&536870912)!==0?a=!1:(rl=a=!0,(d===2||d===9||d===3||d===6)&&(d=Nr.current,d!==null&&d.tag===13&&(d.flags|=16384))),y1(l,a)):xu(l)}function xu(a){var l=a;do{if((l.flags&32768)!==0){y1(l,rl);return}a=l.return;var c=GO(l.alternate,l,pa);if(c!==null){it=c;return}if(l=l.sibling,l!==null){it=l;return}it=l=a}while(l!==null);Kt===0&&(Kt=5)}function y1(a,l){do{var c=XO(a.alternate,a);if(c!==null){c.flags&=32767,it=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(a=a.sibling,a!==null)){it=a;return}it=a=c}while(a!==null);Kt=6,it=null}function v1(a,l,c,d,p,v,C,k,K){a.cancelPendingCommit=null;do yu();while(Sn!==0);if((yt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(v=l.lanes|l.childLanes,v|=lm,et(a,c,v,C,k,K),a===Mt&&(it=Mt=null,dt=0),Ks=l,sl=a,Ys=c,uh=v,dh=p,c1=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,s3(De,function(){return S1(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null,p=re.p,re.p=2,C=yt,yt|=4;try{VO(a,l,c)}finally{yt=C,re.p=p,Y.T=d}}Sn=1,b1(),w1(),j1()}}function b1(){if(Sn===1){Sn=0;var a=sl,l=Ks,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var d=re.p;re.p=2;var p=yt;yt|=4;try{n1(l,a);var v=Dh,C=ov(a.containerInfo),k=v.focusedElem,K=v.selectionRange;if(C!==k&&k&&k.ownerDocument&&iv(k.ownerDocument.documentElement,k)){if(K!==null&&em(k)){var se=K.start,we=K.end;if(we===void 0&&(we=se),"selectionStart"in k)k.selectionStart=se,k.selectionEnd=Math.min(we,k.value.length);else{var Ae=k.ownerDocument||document,oe=Ae&&Ae.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),We=k.textContent.length,Ge=Math.min(K.start,We),At=K.end===void 0?Ge:Math.min(K.end,We);!ue.extend&&Ge>At&&(C=At,At=Ge,Ge=C);var te=sv(k,Ge),Z=sv(k,At);if(te&&Z&&(ue.rangeCount!==1||ue.anchorNode!==te.node||ue.anchorOffset!==te.offset||ue.focusNode!==Z.node||ue.focusOffset!==Z.offset)){var ae=Ae.createRange();ae.setStart(te.node,te.offset),ue.removeAllRanges(),Ge>At?(ue.addRange(ae),ue.extend(Z.node,Z.offset)):(ae.setEnd(Z.node,Z.offset),ue.addRange(ae))}}}}for(Ae=[],ue=k;ue=ue.parentNode;)ue.nodeType===1&&Ae.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Ae.length;k++){var je=Ae[k];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Ou=!!Ch,Dh=Ch=null}finally{yt=p,re.p=d,Y.T=c}}a.current=l,Sn=2}}function w1(){if(Sn===2){Sn=0;var a=sl,l=Ks,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var d=re.p;re.p=2;var p=yt;yt|=4;try{Qb(a,l.alternate,l)}finally{yt=p,re.p=d,Y.T=c}}Sn=3}}function j1(){if(Sn===4||Sn===3){Sn=0,he();var a=sl,l=Ks,c=Ys,d=c1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Sn=5:(Sn=0,Ks=sl=null,N1(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(ll=null),gr(c),l=l.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Ze,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=Y.T,p=re.p,re.p=2,Y.T=null;try{for(var v=a.onRecoverableError,C=0;C<d.length;C++){var k=d[C];v(k.value,{componentStack:k.stack})}}finally{Y.T=l,re.p=p}}(Ys&3)!==0&&yu(),Vr(a),p=a.pendingLanes,(c&4194090)!==0&&(p&42)!==0?a===fh?go++:(go=0,fh=a):go=0,po(0)}}function N1(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Xi(l)))}function yu(a){return b1(),w1(),j1(),S1()}function S1(){if(Sn!==5)return!1;var a=sl,l=uh;uh=0;var c=gr(Ys),d=Y.T,p=re.p;try{re.p=32>c?32:c,Y.T=null,c=dh,dh=null;var v=sl,C=Ys;if(Sn=0,Ks=sl=null,Ys=0,(yt&6)!==0)throw Error(r(331));var k=yt;if(yt|=4,i1(v.current),a1(v,v.current,C,c),yt=k,po(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Ze,v)}catch{}return!0}finally{re.p=p,Y.T=d,N1(a,l)}}function A1(a,l,c){l=vr(c,l),l=Fm(a.stateNode,l,2),a=Wa(a,l,2),a!==null&&(Pe(a,2),Vr(a))}function Tt(a,l,c){if(a.tag===3)A1(a,a,c);else for(;l!==null;){if(l.tag===3){A1(l,a,c);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ll===null||!ll.has(d))){a=vr(c,a),c=Tb(2),d=Wa(l,c,2),d!==null&&(Ob(c,d,l,a),Pe(d,2),Vr(d));break}}l=l.return}}function ph(a,l,c){var d=a.pingCache;if(d===null){d=a.pingCache=new QO;var p=new Set;d.set(l,p)}else p=d.get(l),p===void 0&&(p=new Set,d.set(l,p));p.has(c)||(sh=!0,p.add(c),a=r3.bind(null,a,l,c),l.then(a,a))}function r3(a,l,c){var d=a.pingCache;d!==null&&d.delete(l),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Mt===a&&(dt&c)===c&&(Kt===4||Kt===3&&(dt&62914560)===dt&&300>J()-ch?(yt&2)===0&&Gs(a,0):ih|=c,Fs===dt&&(Fs=0)),Vr(a)}function C1(a,l){l===0&&(l=be()),a=Ts(a,l),a!==null&&(Pe(a,l),Vr(a))}function a3(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),C1(a,c)}function l3(a,l){var c=0;switch(a.tag){case 13:var d=a.stateNode,p=a.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),C1(a,c)}function s3(a,l){return G(a,l)}var vu=null,Vs=null,xh=!1,bu=!1,yh=!1,Xl=0;function Vr(a){a!==Vs&&a.next===null&&(Vs===null?vu=Vs=a:Vs=Vs.next=a),bu=!0,xh||(xh=!0,o3())}function po(a,l){if(!yh&&bu){yh=!0;do for(var c=!1,d=vu;d!==null;){if(a!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var C=d.suspendedLanes,k=d.pingedLanes;v=(1<<31-Qe(42|a)+1)-1,v&=p&~(C&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,O1(d,v))}else v=dt,v=ct(d,d===Mt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||pe(d,v)||(c=!0,O1(d,v));d=d.next}while(c);yh=!1}}function i3(){D1()}function D1(){bu=xh=!1;var a=0;Xl!==0&&(p3()&&(a=Xl),Xl=0);for(var l=J(),c=null,d=vu;d!==null;){var p=d.next,v=E1(d,l);v===0?(d.next=null,c===null?vu=p:c.next=p,p===null&&(Vs=c)):(c=d,(a!==0||(v&3)!==0)&&(bu=!0)),d=p}po(a)}function E1(a,l){for(var c=a.suspendedLanes,d=a.pingedLanes,p=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var C=31-Qe(v),k=1<<C,K=p[C];K===-1?((k&c)===0||(k&d)!==0)&&(p[C]=Je(k,l)):K<=l&&(a.expiredLanes|=k),v&=~k}if(l=Mt,c=dt,c=ct(a,a===l?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,c===0||a===l&&(vt===2||vt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&F(d),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||pe(a,c)){if(l=c&-c,l===a.callbackPriority)return l;switch(d!==null&&F(d),gr(c)){case 2:case 8:c=ee;break;case 32:c=De;break;case 268435456:c=Me;break;default:c=De}return d=T1.bind(null,a),c=G(c,d),a.callbackPriority=l,a.callbackNode=c,l}return d!==null&&d!==null&&F(d),a.callbackPriority=2,a.callbackNode=null,2}function T1(a,l){if(Sn!==0&&Sn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(yu()&&a.callbackNode!==c)return null;var d=dt;return d=ct(a,a===Mt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(d1(a,d,l),E1(a,J()),a.callbackNode!=null&&a.callbackNode===c?T1.bind(null,a):null)}function O1(a,l){if(yu())return null;d1(a,l,!0)}function o3(){y3(function(){(yt&6)!==0?G(Se,i3):D1()})}function vh(){return Xl===0&&(Xl=xe()),Xl}function P1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Pc(""+a)}function M1(a,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,a.id&&c.setAttribute("form",a.id),l.parentNode.insertBefore(c,l),a=new FormData(a),c.parentNode.removeChild(c),a}function c3(a,l,c,d,p){if(l==="submit"&&c&&c.stateNode===p){var v=P1((p[Ht]||null).action),C=d.submitter;C&&(l=(l=C[Ht]||null)?P1(l.formAction):C.getAttribute("formAction"),l!==null&&(v=l,C=null));var k=new $c("action","action",null,d,p);a.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Xl!==0){var K=C?M1(p,C):new FormData(p);Bm(c,{pending:!0,data:K,method:p.method,action:v},null,K)}}else typeof v=="function"&&(k.preventDefault(),K=C?M1(p,C):new FormData(p),Bm(c,{pending:!0,data:K,method:p.method,action:v},v,K))},currentTarget:p}]})}}for(var bh=0;bh<am.length;bh++){var wh=am[bh],u3=wh.toLowerCase(),d3=wh[0].toUpperCase()+wh.slice(1);Ir(u3,"on"+d3)}Ir(dv,"onAnimationEnd"),Ir(fv,"onAnimationIteration"),Ir(mv,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(EO,"onTransitionRun"),Ir(TO,"onTransitionStart"),Ir(OO,"onTransitionCancel"),Ir(hv,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function k1(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var d=a[c],p=d.event;d=d.listeners;e:{var v=void 0;if(l)for(var C=d.length-1;0<=C;C--){var k=d[C],K=k.instance,se=k.currentTarget;if(k=k.listener,K!==v&&p.isPropagationStopped())break e;v=k,p.currentTarget=se;try{v(p)}catch(we){iu(we)}p.currentTarget=null,v=K}else for(C=0;C<d.length;C++){if(k=d[C],K=k.instance,se=k.currentTarget,k=k.listener,K!==v&&p.isPropagationStopped())break e;v=k,p.currentTarget=se;try{v(p)}catch(we){iu(we)}p.currentTarget=null,v=K}}}}function ot(a,l){var c=l[at];c===void 0&&(c=l[at]=new Set);var d=a+"__bubble";c.has(d)||(_1(l,a,2,!1),c.add(d))}function jh(a,l,c){var d=0;l&&(d|=4),_1(c,a,d,l)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Nh(a){if(!a[wu]){a[wu]=!0,Ac.forEach(function(c){c!=="selectionchange"&&(f3.has(c)||jh(c,!1,a),jh(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[wu]||(l[wu]=!0,jh("selectionchange",!1,l))}}function _1(a,l,c,d){switch(aw(l)){case 2:var p=B3;break;case 8:p=U3;break;default:p=Rh}c=p.bind(null,l,c,a),p=void 0,!Kf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),d?p!==void 0?a.addEventListener(l,c,{capture:!0,passive:p}):a.addEventListener(l,c,!0):p!==void 0?a.addEventListener(l,c,{passive:p}):a.addEventListener(l,c,!1)}function Sh(a,l,c,d,p){var v=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var k=d.stateNode.containerInfo;if(k===p)break;if(C===4)for(C=d.return;C!==null;){var K=C.tag;if((K===3||K===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;k!==null;){if(C=Ka(k),C===null)return;if(K=C.tag,K===5||K===6||K===26||K===27){d=v=C;continue e}k=k.parentNode}}d=d.return}zy(function(){var se=v,we=Hf(c),Ae=[];e:{var oe=gv.get(a);if(oe!==void 0){var ue=$c,We=a;switch(a){case"keypress":if(kc(c)===0)break e;case"keydown":case"keyup":ue=sO;break;case"focusin":We="focus",ue=Vf;break;case"focusout":We="blur",ue=Vf;break;case"beforeblur":case"afterblur":ue=Vf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=XT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=cO;break;case dv:case fv:case mv:ue=ZT;break;case hv:ue=dO;break;case"scroll":case"scrollend":ue=YT;break;case"wheel":ue=mO;break;case"copy":case"cut":case"paste":ue=JT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Yy;break;case"toggle":case"beforetoggle":ue=gO}var Ge=(l&4)!==0,At=!Ge&&(a==="scroll"||a==="scrollend"),te=Ge?oe!==null?oe+"Capture":null:oe;Ge=[];for(var Z=se,ae;Z!==null;){var je=Z;if(ae=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ae===null||te===null||(je=$i(Z,te),je!=null&&Ge.push(yo(Z,je,ae))),At)break;Z=Z.return}0<Ge.length&&(oe=new ue(oe,We,null,c,we),Ae.push({event:oe,listeners:Ge}))}}if((l&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",oe&&c!==qf&&(We=c.relatedTarget||c.fromElement)&&(Ka(We)||We[ut]))break e;if((ue||oe)&&(oe=we.window===we?we:(oe=we.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(We=c.relatedTarget||c.toElement,ue=se,We=We?Ka(We):null,We!==null&&(At=o(We),Ge=We.tag,We!==At||Ge!==5&&Ge!==27&&Ge!==6)&&(We=null)):(ue=null,We=se),ue!==We)){if(Ge=Fy,je="onMouseLeave",te="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Ge=Yy,je="onPointerLeave",te="onPointerEnter",Z="pointer"),At=ue==null?oe:Pt(ue),ae=We==null?oe:Pt(We),oe=new Ge(je,Z+"leave",ue,c,we),oe.target=At,oe.relatedTarget=ae,je=null,Ka(we)===se&&(Ge=new Ge(te,Z+"enter",We,c,we),Ge.target=ae,Ge.relatedTarget=At,je=Ge),At=je,ue&&We)t:{for(Ge=ue,te=We,Z=0,ae=Ge;ae;ae=Ws(ae))Z++;for(ae=0,je=te;je;je=Ws(je))ae++;for(;0<Z-ae;)Ge=Ws(Ge),Z--;for(;0<ae-Z;)te=Ws(te),ae--;for(;Z--;){if(Ge===te||te!==null&&Ge===te.alternate)break t;Ge=Ws(Ge),te=Ws(te)}Ge=null}else Ge=null;ue!==null&&$1(Ae,oe,ue,Ge,!1),We!==null&&At!==null&&$1(Ae,At,We,Ge,!0)}}e:{if(oe=se?Pt(se):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var $e=ev;else if(Qy(oe))if(tv)$e=AO;else{$e=NO;var lt=jO}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&zf(se.elementType)&&($e=ev):$e=SO;if($e&&($e=$e(a,se))){Jy(Ae,$e,c,we);break e}lt&&lt(a,oe,se),a==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Uf(oe,"number",oe.value)}switch(lt=se?Pt(se):window,a){case"focusin":(Qy(lt)||lt.contentEditable==="true")&&(Cs=lt,tm=se,Hi=null);break;case"focusout":Hi=tm=Cs=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,cv(Ae,c,we);break;case"selectionchange":if(DO)break;case"keydown":case"keyup":cv(Ae,c,we)}var ze;if(Zf)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else As?Wy(a,c)&&(Ve="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(Gy&&c.locale!=="ko"&&(As||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&As&&(ze=qy()):(Ya=we,Yf="value"in Ya?Ya.value:Ya.textContent,As=!0)),lt=ju(se,Ve),0<lt.length&&(Ve=new Ky(Ve,a,null,c,we),Ae.push({event:Ve,listeners:lt}),ze?Ve.data=ze:(ze=Zy(c),ze!==null&&(Ve.data=ze)))),(ze=xO?yO(a,c):vO(a,c))&&(Ve=ju(se,"onBeforeInput"),0<Ve.length&&(lt=new Ky("onBeforeInput","beforeinput",null,c,we),Ae.push({event:lt,listeners:Ve}),lt.data=ze)),c3(Ae,a,se,c,we)}k1(Ae,l)})}function yo(a,l,c){return{instance:a,listener:l,currentTarget:c}}function ju(a,l){for(var c=l+"Capture",d=[];a!==null;){var p=a,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=$i(a,c),p!=null&&d.unshift(yo(a,p,v)),p=$i(a,l),p!=null&&d.push(yo(a,p,v))),a.tag===3)return d;a=a.return}return[]}function Ws(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function $1(a,l,c,d,p){for(var v=l._reactName,C=[];c!==null&&c!==d;){var k=c,K=k.alternate,se=k.stateNode;if(k=k.tag,K!==null&&K===d)break;k!==5&&k!==26&&k!==27||se===null||(K=se,p?(se=$i(c,v),se!=null&&C.unshift(yo(c,se,K))):p||(se=$i(c,v),se!=null&&C.push(yo(c,se,K)))),c=c.return}C.length!==0&&a.push({event:l,listeners:C})}var m3=/\r\n?/g,h3=/\u0000|\uFFFD/g;function I1(a){return(typeof a=="string"?a:""+a).replace(m3,`
`).replace(h3,"")}function R1(a,l){return l=I1(l),I1(a)===l}function Nu(){}function St(a,l,c,d,p,v){switch(c){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||js(a,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&js(a,""+d);break;case"className":Ec(a,"class",d);break;case"tabIndex":Ec(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ec(a,c,d);break;case"style":By(a,d,v);break;case"data":if(l!=="object"){Ec(a,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||c!=="href")){a.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Pc(""+d),a.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(l!=="input"&&St(a,l,"name",p.name,p,null),St(a,l,"formEncType",p.formEncType,p,null),St(a,l,"formMethod",p.formMethod,p,null),St(a,l,"formTarget",p.formTarget,p,null)):(St(a,l,"encType",p.encType,p,null),St(a,l,"method",p.method,p,null),St(a,l,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Pc(""+d),a.setAttribute(c,d);break;case"onClick":d!=null&&(a.onclick=Nu);break;case"onScroll":d!=null&&ot("scroll",a);break;case"onScrollEnd":d!=null&&ot("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}c=Pc(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""+d):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":d===!0?a.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,d):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(c,d):a.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(c):a.setAttribute(c,d);break;case"popover":ot("beforetoggle",a),ot("toggle",a),Dc(a,"popover",d);break;case"xlinkActuate":ra(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ra(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ra(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ra(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ra(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ra(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ra(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ra(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ra(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Dc(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=FT.get(c)||c,Dc(a,c,d))}}function Ah(a,l,c,d,p,v){switch(c){case"style":By(a,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof d=="string"?js(a,d):(typeof d=="number"||typeof d=="bigint")&&js(a,""+d);break;case"onScroll":d!=null&&ot("scroll",a);break;case"onScrollEnd":d!=null&&ot("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),l=c.slice(2,p?c.length-7:void 0),v=a[Ht]||null,v=v!=null?v[c]:null,typeof v=="function"&&a.removeEventListener(l,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(l,d,p);break e}c in a?a[c]=d:d===!0?a.setAttribute(c,""):Dc(a,c,d)}}}function An(a,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",a),ot("load",a);var d=!1,p=!1,v;for(v in c)if(c.hasOwnProperty(v)){var C=c[v];if(C!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:St(a,l,v,C,c,null)}}p&&St(a,l,"srcSet",c.srcSet,c,null),d&&St(a,l,"src",c.src,c,null);return;case"input":ot("invalid",a);var k=v=C=p=null,K=null,se=null;for(d in c)if(c.hasOwnProperty(d)){var we=c[d];if(we!=null)switch(d){case"name":p=we;break;case"type":C=we;break;case"checked":K=we;break;case"defaultChecked":se=we;break;case"value":v=we;break;case"defaultValue":k=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,l));break;default:St(a,l,d,we,c,null)}}$y(a,v,k,K,se,C,p,!1),Tc(a);return;case"select":ot("invalid",a),d=C=v=null;for(p in c)if(c.hasOwnProperty(p)&&(k=c[p],k!=null))switch(p){case"value":v=k;break;case"defaultValue":C=k;break;case"multiple":d=k;default:St(a,l,p,k,c,null)}l=v,c=C,a.multiple=!!d,l!=null?ws(a,!!d,l,!1):c!=null&&ws(a,!!d,c,!0);return;case"textarea":ot("invalid",a),v=p=d=null;for(C in c)if(c.hasOwnProperty(C)&&(k=c[C],k!=null))switch(C){case"value":d=k;break;case"defaultValue":p=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:St(a,l,C,k,c,null)}Ry(a,d,p,v),Tc(a);return;case"option":for(K in c)if(c.hasOwnProperty(K)&&(d=c[K],d!=null))switch(K){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:St(a,l,K,d,c,null)}return;case"dialog":ot("beforetoggle",a),ot("toggle",a),ot("cancel",a),ot("close",a);break;case"iframe":case"object":ot("load",a);break;case"video":case"audio":for(d=0;d<xo.length;d++)ot(xo[d],a);break;case"image":ot("error",a),ot("load",a);break;case"details":ot("toggle",a);break;case"embed":case"source":case"link":ot("error",a),ot("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(d=c[se],d!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:St(a,l,se,d,c,null)}return;default:if(zf(l)){for(we in c)c.hasOwnProperty(we)&&(d=c[we],d!==void 0&&Ah(a,l,we,d,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(d=c[k],d!=null&&St(a,l,k,d,c,null))}function g3(a,l,c,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,C=null,k=null,K=null,se=null,we=null;for(ue in c){var Ae=c[ue];if(c.hasOwnProperty(ue)&&Ae!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":K=Ae;default:d.hasOwnProperty(ue)||St(a,l,ue,null,d,Ae)}}for(var oe in d){var ue=d[oe];if(Ae=c[oe],d.hasOwnProperty(oe)&&(ue!=null||Ae!=null))switch(oe){case"type":v=ue;break;case"name":p=ue;break;case"checked":se=ue;break;case"defaultChecked":we=ue;break;case"value":C=ue;break;case"defaultValue":k=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==Ae&&St(a,l,oe,ue,d,Ae)}}Bf(a,C,k,K,se,we,v,p);return;case"select":ue=C=k=oe=null;for(v in c)if(K=c[v],c.hasOwnProperty(v)&&K!=null)switch(v){case"value":break;case"multiple":ue=K;default:d.hasOwnProperty(v)||St(a,l,v,null,d,K)}for(p in d)if(v=d[p],K=c[p],d.hasOwnProperty(p)&&(v!=null||K!=null))switch(p){case"value":oe=v;break;case"defaultValue":k=v;break;case"multiple":C=v;default:v!==K&&St(a,l,p,v,d,K)}l=k,c=C,d=ue,oe!=null?ws(a,!!c,oe,!1):!!d!=!!c&&(l!=null?ws(a,!!c,l,!0):ws(a,!!c,c?[]:"",!1));return;case"textarea":ue=oe=null;for(k in c)if(p=c[k],c.hasOwnProperty(k)&&p!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:St(a,l,k,null,d,p)}for(C in d)if(p=d[C],v=c[C],d.hasOwnProperty(C)&&(p!=null||v!=null))switch(C){case"value":oe=p;break;case"defaultValue":ue=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&St(a,l,C,p,d,v)}Iy(a,oe,ue);return;case"option":for(var We in c)if(oe=c[We],c.hasOwnProperty(We)&&oe!=null&&!d.hasOwnProperty(We))switch(We){case"selected":a.selected=!1;break;default:St(a,l,We,null,d,oe)}for(K in d)if(oe=d[K],ue=c[K],d.hasOwnProperty(K)&&oe!==ue&&(oe!=null||ue!=null))switch(K){case"selected":a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:St(a,l,K,oe,d,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in c)oe=c[Ge],c.hasOwnProperty(Ge)&&oe!=null&&!d.hasOwnProperty(Ge)&&St(a,l,Ge,null,d,oe);for(se in d)if(oe=d[se],ue=c[se],d.hasOwnProperty(se)&&oe!==ue&&(oe!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:St(a,l,se,oe,d,ue)}return;default:if(zf(l)){for(var At in c)oe=c[At],c.hasOwnProperty(At)&&oe!==void 0&&!d.hasOwnProperty(At)&&Ah(a,l,At,void 0,d,oe);for(we in d)oe=d[we],ue=c[we],!d.hasOwnProperty(we)||oe===ue||oe===void 0&&ue===void 0||Ah(a,l,we,oe,d,ue);return}}for(var te in c)oe=c[te],c.hasOwnProperty(te)&&oe!=null&&!d.hasOwnProperty(te)&&St(a,l,te,null,d,oe);for(Ae in d)oe=d[Ae],ue=c[Ae],!d.hasOwnProperty(Ae)||oe===ue||oe==null&&ue==null||St(a,l,Ae,oe,d,ue)}var Ch=null,Dh=null;function Su(a){return a.nodeType===9?a:a.ownerDocument}function L1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Eh(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Th=null;function p3(){var a=window.event;return a&&a.type==="popstate"?a===Th?!1:(Th=a,!0):(Th=null,!1)}var U1=typeof setTimeout=="function"?setTimeout:void 0,x3=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,y3=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(a){return z1.resolve(null).then(a).catch(v3)}:U1;function v3(a){setTimeout(function(){throw a})}function ol(a){return a==="head"}function q1(a,l){var c=l,d=0,p=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var C=a.ownerDocument;if(c&1&&vo(C.documentElement),c&2&&vo(C.body),c&4)for(c=C.head,vo(c),C=c.firstChild;C;){var k=C.nextSibling,K=C.nodeName;C[na]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=k}}if(p===0){a.removeChild(v),Do(l);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);Do(l)}function Oh(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Oh(c),_i(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function b3(a,l,c,d){for(;a.nodeType===1;){var p=c;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[na])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Lr(a.nextSibling),a===null)break}return null}function w3(a,l,c){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Lr(a.nextSibling),a===null))return null;return a}function Ph(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function j3(a,l){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")l();else{var d=function(){l(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Lr(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Mh=null;function H1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return a;l--}else c==="/$"&&l++}a=a.previousSibling}return null}function F1(a,l,c){switch(l=Su(c),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function vo(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);_i(a)}var Ar=new Map,K1=new Set;function Au(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xa=re.d;re.d={f:N3,r:S3,D:A3,C:C3,L:D3,m:E3,X:O3,S:T3,M:P3};function N3(){var a=xa.f(),l=pu();return a||l}function S3(a){var l=Un(a);l!==null&&l.tag===5&&l.type==="form"?db(l):xa.r(a)}var Zs=typeof document>"u"?null:document;function Y1(a,l,c){var d=Zs;if(d&&typeof l=="string"&&l){var p=yr(l);p='link[rel="'+a+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),K1.has(p)||(K1.add(p),a={rel:a,crossOrigin:c,href:l},d.querySelector(p)===null&&(l=d.createElement("link"),An(l,"link",a),Et(l),d.head.appendChild(l)))}}function A3(a){xa.D(a),Y1("dns-prefetch",a,null)}function C3(a,l){xa.C(a,l),Y1("preconnect",a,l)}function D3(a,l,c){xa.L(a,l,c);var d=Zs;if(d&&a&&l){var p='link[rel="preload"][as="'+yr(l)+'"]';l==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+yr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+yr(c.imageSizes)+'"]')):p+='[href="'+yr(a)+'"]';var v=p;switch(l){case"style":v=Qs(a);break;case"script":v=Js(a)}Ar.has(v)||(a=g({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:a,as:l},c),Ar.set(v,a),d.querySelector(p)!==null||l==="style"&&d.querySelector(bo(v))||l==="script"&&d.querySelector(wo(v))||(l=d.createElement("link"),An(l,"link",a),Et(l),d.head.appendChild(l)))}}function E3(a,l){xa.m(a,l);var c=Zs;if(c&&a){var d=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+yr(d)+'"][href="'+yr(a)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Js(a)}if(!Ar.has(v)&&(a=g({rel:"modulepreload",href:a},l),Ar.set(v,a),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(wo(v)))return}d=c.createElement("link"),An(d,"link",a),Et(d),c.head.appendChild(d)}}}function T3(a,l,c){xa.S(a,l,c);var d=Zs;if(d&&a){var p=Pl(d).hoistableStyles,v=Qs(a);l=l||"default";var C=p.get(v);if(!C){var k={loading:0,preload:null};if(C=d.querySelector(bo(v)))k.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},c),(c=Ar.get(v))&&kh(a,c);var K=C=d.createElement("link");Et(K),An(K,"link",a),K._p=new Promise(function(se,we){K.onload=se,K.onerror=we}),K.addEventListener("load",function(){k.loading|=1}),K.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Cu(C,l,d)}C={type:"stylesheet",instance:C,count:1,state:k},p.set(v,C)}}}function O3(a,l){xa.X(a,l);var c=Zs;if(c&&a){var d=Pl(c).hoistableScripts,p=Js(a),v=d.get(p);v||(v=c.querySelector(wo(p)),v||(a=g({src:a,async:!0},l),(l=Ar.get(p))&&_h(a,l),v=c.createElement("script"),Et(v),An(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function P3(a,l){xa.M(a,l);var c=Zs;if(c&&a){var d=Pl(c).hoistableScripts,p=Js(a),v=d.get(p);v||(v=c.querySelector(wo(p)),v||(a=g({src:a,async:!0,type:"module"},l),(l=Ar.get(p))&&_h(a,l),v=c.createElement("script"),Et(v),An(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function G1(a,l,c,d){var p=(p=me.current)?Au(p):null;if(!p)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Qs(c.href),c=Pl(p).hoistableStyles,d=c.get(l),d||(d={type:"style",instance:null,count:0,state:null},c.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Qs(c.href);var v=Pl(p).hoistableStyles,C=v.get(a);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,C),(v=p.querySelector(bo(a)))&&!v._p&&(C.instance=v,C.state.loading=5),Ar.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ar.set(a,c),v||M3(p,a,c,C.state))),l&&d===null)throw Error(r(528,""));return C}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Js(c),c=Pl(p).hoistableScripts,d=c.get(l),d||(d={type:"script",instance:null,count:0,state:null},c.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Qs(a){return'href="'+yr(a)+'"'}function bo(a){return'link[rel="stylesheet"]['+a+"]"}function X1(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function M3(a,l,c,d){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=a.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),An(l,"link",c),Et(l),a.head.appendChild(l))}function Js(a){return'[src="'+yr(a)+'"]'}function wo(a){return"script[async]"+a}function V1(a,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var d=a.querySelector('style[data-href~="'+yr(c.href)+'"]');if(d)return l.instance=d,Et(d),d;var p=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Et(d),An(d,"style",p),Cu(d,c.precedence,a),l.instance=d;case"stylesheet":p=Qs(c.href);var v=a.querySelector(bo(p));if(v)return l.state.loading|=4,l.instance=v,Et(v),v;d=X1(c),(p=Ar.get(p))&&kh(d,p),v=(a.ownerDocument||a).createElement("link"),Et(v);var C=v;return C._p=new Promise(function(k,K){C.onload=k,C.onerror=K}),An(v,"link",d),l.state.loading|=4,Cu(v,c.precedence,a),l.instance=v;case"script":return v=Js(c.src),(p=a.querySelector(wo(v)))?(l.instance=p,Et(p),p):(d=c,(p=Ar.get(v))&&(d=g({},c),_h(d,p)),a=a.ownerDocument||a,p=a.createElement("script"),Et(p),An(p,"link",d),a.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Cu(d,c.precedence,a));return l.instance}function Cu(a,l,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,C=0;C<d.length;C++){var k=d[C];if(k.dataset.precedence===l)v=k;else if(v!==p)break}v?v.parentNode.insertBefore(a,v.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(a,l.firstChild))}function kh(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function _h(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Du=null;function W1(a,l,c){if(Du===null){var d=new Map,p=Du=new Map;p.set(c,d)}else p=Du,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(a))return d;for(d.set(a,null),c=c.getElementsByTagName(a),p=0;p<c.length;p++){var v=c[p];if(!(v[na]||v[rt]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(l)||"";C=a+C;var k=d.get(C);k?k.push(v):d.set(C,[v])}}return d}function Z1(a,l,c){a=a.ownerDocument||a,a.head.insertBefore(c,l==="title"?a.querySelector("head > title"):null)}function k3(a,l,c){if(c===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Q1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var jo=null;function _3(){}function $3(a,l,c){if(jo===null)throw Error(r(475));var d=jo;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Qs(c.href),v=a.querySelector(bo(p));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Eu.bind(d),a.then(d,d)),l.state.loading|=4,l.instance=v,Et(v);return}v=a.ownerDocument||a,c=X1(c),(p=Ar.get(p))&&kh(c,p),v=v.createElement("link"),Et(v);var C=v;C._p=new Promise(function(k,K){C.onload=k,C.onerror=K}),An(v,"link",c),l.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Eu.bind(d),a.addEventListener("load",l),a.addEventListener("error",l))}}function I3(){if(jo===null)throw Error(r(475));var a=jo;return a.stylesheets&&a.count===0&&$h(a,a.stylesheets),0<a.count?function(l){var c=setTimeout(function(){if(a.stylesheets&&$h(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Tu=null;function $h(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Tu=new Map,l.forEach(R3,a),Tu=null,Eu.call(a))}function R3(a,l){if(!(l.state.loading&4)){var c=Tu.get(a);if(c)var d=c.get(null);else{c=new Map,Tu.set(a,c);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var C=p[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),d=C)}d&&c.set(null,d)}p=l.instance,C=p.getAttribute("data-precedence"),v=c.get(C)||d,v===d&&c.set(null,p),c.set(C,p),this.count++,d=Eu.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),l.state.loading|=4}}var No={$$typeof:D,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function L3(a,l,c,d,p,v,C,k){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function J1(a,l,c,d,p,v,C,k,K,se,we,Ae){return a=new L3(a,l,c,C,k,K,se,Ae),l=1,v===!0&&(l|=24),v=Qn(3,null,null,l),a.current=v,v.stateNode=a,l=pm(),l.refCount++,a.pooledCache=l,l.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:l},bm(v),a}function ew(a){return a?(a=Os,a):Os}function tw(a,l,c,d,p,v){p=ew(p),d.context===null?d.context=p:d.pendingContext=p,d=Va(l),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=Wa(a,d,l),c!==null&&(rr(c,a,l),Qi(c,a,l))}function nw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function Ih(a,l){nw(a,l),(a=a.alternate)&&nw(a,l)}function rw(a){if(a.tag===13){var l=Ts(a,67108864);l!==null&&rr(l,a,67108864),Ih(a,67108864)}}var Ou=!0;function B3(a,l,c,d){var p=Y.T;Y.T=null;var v=re.p;try{re.p=2,Rh(a,l,c,d)}finally{re.p=v,Y.T=p}}function U3(a,l,c,d){var p=Y.T;Y.T=null;var v=re.p;try{re.p=8,Rh(a,l,c,d)}finally{re.p=v,Y.T=p}}function Rh(a,l,c,d){if(Ou){var p=Lh(d);if(p===null)Sh(a,l,d,Pu,c),lw(a,d);else if(q3(p,a,l,c,d))d.stopPropagation();else if(lw(a,d),l&4&&-1<z3.indexOf(a)){for(;p!==null;){var v=Un(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=Ye(v.pendingLanes);if(C!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var K=1<<31-Qe(C);k.entanglements[1]|=K,C&=~K}Vr(v),(yt&6)===0&&(hu=J()+500,po(0))}}break;case 13:k=Ts(v,2),k!==null&&rr(k,v,2),pu(),Ih(v,2)}if(v=Lh(d),v===null&&Sh(a,l,d,Pu,c),v===p)break;p=v}p!==null&&d.stopPropagation()}else Sh(a,l,d,null,c)}}function Lh(a){return a=Hf(a),Bh(a)}var Pu=null;function Bh(a){if(Pu=null,a=Ka(a),a!==null){var l=o(a);if(l===null)a=null;else{var c=l.tag;if(c===13){if(a=u(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Pu=a,null}function aw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case Se:return 2;case ee:return 8;case De:case Ue:return 32;case Me:return 268435456;default:return 32}default:return 32}}var Uh=!1,cl=null,ul=null,dl=null,So=new Map,Ao=new Map,fl=[],z3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lw(a,l){switch(a){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":So.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(l.pointerId)}}function Co(a,l,c,d,p,v){return a===null||a.nativeEvent!==v?(a={blockedOn:l,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},l!==null&&(l=Un(l),l!==null&&rw(l)),a):(a.eventSystemFlags|=d,l=a.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),a)}function q3(a,l,c,d,p){switch(l){case"focusin":return cl=Co(cl,a,l,c,d,p),!0;case"dragenter":return ul=Co(ul,a,l,c,d,p),!0;case"mouseover":return dl=Co(dl,a,l,c,d,p),!0;case"pointerover":var v=p.pointerId;return So.set(v,Co(So.get(v)||null,a,l,c,d,p)),!0;case"gotpointercapture":return v=p.pointerId,Ao.set(v,Co(Ao.get(v)||null,a,l,c,d,p)),!0}return!1}function sw(a){var l=Ka(a.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=u(c),l!==null){a.blockedOn=l,ki(a.priority,function(){if(c.tag===13){var d=nr();d=dn(d);var p=Ts(c,d);p!==null&&rr(p,c,d),Ih(c,d)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Mu(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=Lh(a.nativeEvent);if(c===null){c=a.nativeEvent;var d=new c.constructor(c.type,c);qf=d,c.target.dispatchEvent(d),qf=null}else return l=Un(c),l!==null&&rw(l),a.blockedOn=c,!1;l.shift()}return!0}function iw(a,l,c){Mu(a)&&c.delete(l)}function H3(){Uh=!1,cl!==null&&Mu(cl)&&(cl=null),ul!==null&&Mu(ul)&&(ul=null),dl!==null&&Mu(dl)&&(dl=null),So.forEach(iw),Ao.forEach(iw)}function ku(a,l){a.blockedOn===l&&(a.blockedOn=null,Uh||(Uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,H3)))}var _u=null;function ow(a){_u!==a&&(_u=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_u===a&&(_u=null);for(var l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],p=a[l+2];if(typeof d!="function"){if(Bh(d||c)===null)continue;break}var v=Un(c);v!==null&&(a.splice(l,3),l-=3,Bm(v,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function Do(a){function l(K){return ku(K,a)}cl!==null&&ku(cl,a),ul!==null&&ku(ul,a),dl!==null&&ku(dl,a),So.forEach(l),Ao.forEach(l);for(var c=0;c<fl.length;c++){var d=fl[c];d.blockedOn===a&&(d.blockedOn=null)}for(;0<fl.length&&(c=fl[0],c.blockedOn===null);)sw(c),c.blockedOn===null&&fl.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],v=c[d+1],C=p[Ht]||null;if(typeof v=="function")C||ow(c);else if(C){var k=null;if(v&&v.hasAttribute("formAction")){if(p=v,C=v[Ht]||null)k=C.formAction;else if(Bh(p)!==null)continue}else k=C.action;typeof k=="function"?c[d+1]=k:(c.splice(d,3),d-=3),ow(c)}}}function zh(a){this._internalRoot=a}$u.prototype.render=zh.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,d=nr();tw(c,d,a,l,null,null)},$u.prototype.unmount=zh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;tw(a.current,2,null,a,null,null),pu(),l[ut]=null}};function $u(a){this._internalRoot=a}$u.prototype.unstable_scheduleHydration=function(a){if(a){var l=pr();a={blockedOn:null,target:a,priority:l};for(var c=0;c<fl.length&&l!==0&&l<fl[c].priority;c++);fl.splice(c,0,a),c===0&&sw(a)}};var cw=t.version;if(cw!=="19.1.1")throw Error(r(527,cw,"19.1.1"));re.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(l),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var F3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Ze=Iu.inject(F3),Re=Iu}catch{}}return To.createRoot=function(a,l){if(!i(a))throw Error(r(299));var c=!1,d="",p=Ab,v=Cb,C=Db,k=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=J1(a,1,!1,null,null,c,d,p,v,C,k,null),a[ut]=l.current,Nh(a),new zh(l)},To.hydrateRoot=function(a,l,c){if(!i(a))throw Error(r(299));var d=!1,p="",v=Ab,C=Cb,k=Db,K=null,se=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(K=c.unstable_transitionCallbacks),c.formState!==void 0&&(se=c.formState)),l=J1(a,1,!0,l,c??null,d,p,v,C,k,K,se),l.context=ew(null),c=l.current,d=nr(),d=dn(d),p=Va(d),p.callback=null,Wa(c,p,d),c=d,l.current.lanes=c,Pe(l,c),Vr(l),a[ut]=l.current,Nh(a),new $u(l)},To.version="19.1.1",To}var vw;function t5(){if(vw)return Fh.exports;vw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fh.exports=e5(),Fh.exports}var n5=t5();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bw="popstate";function r5(e={}){function t(r,i){let{pathname:o,search:u,hash:f}=r.location;return D0("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fo(i)}return l5(t,n,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a5(){return Math.random().toString(36).substring(2,10)}function ww(e,t){return{usr:e.state,key:e.key,idx:t}}function D0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vi(t):t,state:n,key:t&&t.key||r||a5()}}function Fo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function l5(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,f="POP",h=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){f="POP";let S=g(),A=S==null?null:S-m;m=S,h&&h({action:f,location:N.location,delta:A})}function y(S,A){f="PUSH";let T=D0(N.location,S,A);m=g()+1;let D=ww(T,m),O=N.createHref(T);try{u.pushState(D,"",O)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(O)}o&&h&&h({action:f,location:N.location,delta:1})}function b(S,A){f="REPLACE";let T=D0(N.location,S,A);m=g();let D=ww(T,m),O=N.createHref(T);u.replaceState(D,"",O),o&&h&&h({action:f,location:N.location,delta:0})}function j(S){return s5(S)}let N={get action(){return f},get location(){return e(i,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(bw,x),h=S,()=>{i.removeEventListener(bw,x),h=null}},createHref(S){return t(i,S)},createURL:j,encodeLocation(S){let A=j(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(S){return u.go(S)}};return N}function s5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Fo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function C2(e,t,n="/"){return i5(e,t,n,!1)}function i5(e,t,n,r){let i=typeof t=="string"?vi(t):t,o=Ea(i.pathname||"/",n);if(o==null)return null;let u=D2(e);o5(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=v5(o);f=x5(u[h],m,r)}return f}function D2(e,t=[],n=[],r="",i=!1){let o=(u,f,h=i,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Lt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let x=Sa([r,g.relativePath]),y=n.concat(g);u.children&&u.children.length>0&&(Lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),D2(u.children,t,y,x,h)),!(u.path==null&&!u.index)&&t.push({path:x,score:g5(x,u.index),routesMeta:y})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let h of E2(u.path))o(u,f,!0,h)}),t}function E2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=E2(r.join("/")),f=[];return f.push(...u.map(h=>h===""?o:[o,h].join("/"))),i&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function o5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:p5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var c5=/^:[\w-]+$/,u5=3,d5=2,f5=1,m5=10,h5=-2,jw=e=>e==="*";function g5(e,t){let n=e.split("/"),r=n.length;return n.some(jw)&&(r+=h5),t&&(r+=d5),n.filter(i=>!jw(i)).reduce((i,o)=>i+(c5.test(o)?u5:o===""?f5:m5),r)}function p5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function x5(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",x=ud({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),y=h.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=ud({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:Sa([o,x.pathname]),pathnameBase:N5(Sa([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=Sa([o,x.pathnameBase]))}return u}function ud(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=y5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:x},y)=>{if(g==="*"){let j=f[y]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=f[y];return x&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function y5(e,t=!1,n=!0){qr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function v5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function b5(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vi(e):e;return{pathname:n?n.startsWith("/")?n:w5(n,t):t,search:S5(r),hash:A5(i)}}function w5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Cp(e){let t=j5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Dp(e,t,n,r=!1){let i;typeof e=="string"?i=vi(e):(i={...e},Lt(!i.pathname||!i.pathname.includes("?"),Xh("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Xh("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Xh("#","search","hash",i)));let o=e===""||i.pathname==="",u=o?"/":i.pathname,f;if(u==null)f=n;else{let x=t.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),x-=1;i.pathname=y.join("/")}f=x>=0?t[x]:"/"}let h=b5(i,f),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var Sa=e=>e.join("/").replace(/\/\/+/g,"/"),N5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),S5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function C5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var T2=["POST","PUT","PATCH","DELETE"];new Set(T2);var D5=["GET",...T2];new Set(D5);var bi=w.createContext(null);bi.displayName="DataRouter";var Zd=w.createContext(null);Zd.displayName="DataRouterState";w.createContext(!1);var O2=w.createContext({isTransitioning:!1});O2.displayName="ViewTransition";var E5=w.createContext(new Map);E5.displayName="Fetchers";var T5=w.createContext(null);T5.displayName="Await";var Hr=w.createContext(null);Hr.displayName="Navigation";var tc=w.createContext(null);tc.displayName="Location";var kr=w.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Ep=w.createContext(null);Ep.displayName="RouteError";function O5(e,{relative:t}={}){Lt(wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Hr),{hash:i,pathname:o,search:u}=nc(e,{relative:t}),f=o;return n!=="/"&&(f=o==="/"?n:Sa([n,o])),r.createHref({pathname:f,search:u,hash:i})}function wi(){return w.useContext(tc)!=null}function ta(){return Lt(wi(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(tc).location}var P2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M2(e){w.useContext(Hr).static||w.useLayoutEffect(e)}function ji(){let{isDataRoute:e}=w.useContext(kr);return e?Y5():P5()}function P5(){Lt(wi(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(bi),{basename:t,navigator:n}=w.useContext(Hr),{matches:r}=w.useContext(kr),{pathname:i}=ta(),o=JSON.stringify(Cp(r)),u=w.useRef(!1);return M2(()=>{u.current=!0}),w.useCallback((h,m={})=>{if(qr(u.current,P2),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=Dp(h,JSON.parse(o),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Sa([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,o,i,e])}var M5=w.createContext(null);function k5(e){let t=w.useContext(kr).outlet;return t&&w.createElement(M5.Provider,{value:e},t)}function _5(){let{matches:e}=w.useContext(kr),t=e[e.length-1];return t?t.params:{}}function nc(e,{relative:t}={}){let{matches:n}=w.useContext(kr),{pathname:r}=ta(),i=JSON.stringify(Cp(n));return w.useMemo(()=>Dp(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function $5(e,t){return k2(e,t)}function k2(e,t,n,r,i){Lt(wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Hr),{matches:u}=w.useContext(kr),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",x=f&&f.route;{let T=x&&x.path||"";_2(m,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=ta(),b;if(t){let T=typeof t=="string"?vi(t):t;Lt(g==="/"||T.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=y;let j=b.pathname||"/",N=j;if(g!=="/"){let T=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=C2(e,{pathname:N});qr(x||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),qr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=U5(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Sa([g,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:Sa([g,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,n,r,i);return t&&A?w.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function I5(){let e=K5(),t=C5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,u)}var R5=w.createElement(I5,null),L5=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(kr.Provider,{value:this.props.routeContext},w.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B5({routeContext:e,match:t,children:n}){let r=w.useContext(bi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(kr.Provider,{value:e},n)}function U5(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:x,errors:y}=n,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||b){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let y,b=!1,j=null,N=null;n&&(y=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||R5,f&&(h<0&&x===0?(_2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):h===x&&(b=!0,N=g.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,x+1)),A=()=>{let T;return y?T=j:b?T=N:g.route.Component?T=w.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=m,w.createElement(B5,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(L5,{location:n.location,revalidation:n.revalidation,component:j,error:y,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):A()},null)}function Tp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z5(e){let t=w.useContext(bi);return Lt(t,Tp(e)),t}function q5(e){let t=w.useContext(Zd);return Lt(t,Tp(e)),t}function H5(e){let t=w.useContext(kr);return Lt(t,Tp(e)),t}function Op(e){let t=H5(e),n=t.matches[t.matches.length-1];return Lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function F5(){return Op("useRouteId")}function K5(){let e=w.useContext(Ep),t=q5("useRouteError"),n=Op("useRouteError");return e!==void 0?e:t.errors?.[n]}function Y5(){let{router:e}=z5("useNavigate"),t=Op("useNavigate"),n=w.useRef(!1);return M2(()=>{n.current=!0}),w.useCallback(async(i,o={})=>{qr(n.current,P2),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Nw={};function _2(e,t,n){!t&&!Nw[e]&&(Nw[e]=!0,qr(!1,n))}w.memo(G5);function G5({routes:e,future:t,state:n,unstable_onError:r}){return k2(e,void 0,n,r,t)}function Sw({to:e,replace:t,state:n,relative:r}){Lt(wi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Hr);qr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(kr),{pathname:u}=ta(),f=ji(),h=Dp(e,Cp(o),u,r==="path"),m=JSON.stringify(h);return w.useEffect(()=>{f(JSON.parse(m),{replace:t,state:n,relative:r})},[f,m,r,t,n]),null}function X5(e){return k5(e.context)}function Yt(e){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V5({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Lt(!wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof n=="string"&&(n=vi(n));let{pathname:h="/",search:m="",hash:g="",state:x=null,key:y="default"}=n,b=w.useMemo(()=>{let j=Ea(h,u);return j==null?null:{location:{pathname:j,search:m,hash:g,state:x,key:y},navigationType:r}},[u,h,m,g,x,y,r]);return qr(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Hr.Provider,{value:f},w.createElement(tc.Provider,{children:t,value:b}))}function W5({children:e,location:t}){return $5(E0(e),t)}function E0(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let o=[...t,i];if(r.type===w.Fragment){n.push.apply(n,E0(r.props.children,o));return}Lt(r.type===Yt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=E0(r.props.children,o)),n.push(u)}),n}var rd="get",ad="application/x-www-form-urlencoded";function Qd(e){return e!=null&&typeof e.tagName=="string"}function Z5(e){return Qd(e)&&e.tagName.toLowerCase()==="button"}function Q5(e){return Qd(e)&&e.tagName.toLowerCase()==="form"}function J5(e){return Qd(e)&&e.tagName.toLowerCase()==="input"}function eP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tP(e,t){return e.button===0&&(!t||t==="_self")&&!eP(e)}var Ru=null;function nP(){if(Ru===null)try{new FormData(document.createElement("form"),0),Ru=!1}catch{Ru=!0}return Ru}var rP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vh(e){return e!=null&&!rP.has(e)?(qr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ad}"`),null):e}function aP(e,t){let n,r,i,o,u;if(Q5(e)){let f=e.getAttribute("action");r=f?Ea(f,t):null,n=e.getAttribute("method")||rd,i=Vh(e.getAttribute("enctype"))||ad,o=new FormData(e)}else if(Z5(e)||J5(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(r=h?Ea(h,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||rd,i=Vh(e.getAttribute("formenctype"))||Vh(f.getAttribute("enctype"))||ad,o=new FormData(f,e),!nP()){let{name:m,type:g,value:x}=e;if(g==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,x)}}else{if(Qd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rd,r=null,i=ad,u=e}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lP(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ea(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sP(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oP(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let u=await sP(o,n);return u.links?u.links():[]}return[]}));return fP(r.flat(1).filter(iP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Aw(e,t,n,r,i,o){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,m)=>u(h,m)||f(h,m)):o==="data"?t.filter((h,m)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function cP(e,t,{includeHydrateFallback:n}={}){return uP(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function uP(e){return[...new Set(e)]}function dP(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function fP(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(dP(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function $2(){let e=w.useContext(bi);return Pp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mP(){let e=w.useContext(Zd);return Pp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mp=w.createContext(void 0);Mp.displayName="FrameworkContext";function I2(){let e=w.useContext(Mp);return Pp(e,"You must render this element inside a <HydratedRouter> element"),e}function hP(e,t){let n=w.useContext(Mp),[r,i]=w.useState(!1),[o,u]=w.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,y=w.useRef(null);w.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=A=>{A.forEach(T=>{u(T.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),w.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let b=()=>{i(!0)},j=()=>{i(!1),u(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:Oo(f,b),onBlur:Oo(h,j),onMouseEnter:Oo(m,b),onMouseLeave:Oo(g,j),onTouchStart:Oo(x,b)}]:[!1,y,{}]}function Oo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gP({page:e,...t}){let{router:n}=$2(),r=w.useMemo(()=>C2(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(xP,{page:e,matches:r,...t}):null}function pP(e){let{manifest:t,routeModules:n}=I2(),[r,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return oP(e,t,n).then(u=>{o||i(u)}),()=>{o=!0}},[e,t,n]),r}function xP({page:e,matches:t,...n}){let r=ta(),{manifest:i,routeModules:o}=I2(),{basename:u}=$2(),{loaderData:f,matches:h}=mP(),m=w.useMemo(()=>Aw(e,t,h,i,r,"data"),[e,t,h,i,r]),g=w.useMemo(()=>Aw(e,t,h,i,r,"assets"),[e,t,h,i,r]),x=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let j=new Set,N=!1;if(t.forEach(A=>{let T=i.routes[A.route.id];!T||!T.hasLoader||(!m.some(D=>D.route.id===A.route.id)&&A.route.id in f&&o[A.route.id]?.shouldRevalidate||T.hasClientLoader?N=!0:j.add(A.route.id))}),j.size===0)return[];let S=lP(e,u,"data");return N&&j.size>0&&S.searchParams.set("_routes",t.filter(A=>j.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[u,f,r,i,m,t,e,o]),y=w.useMemo(()=>cP(g,i),[g,i]),b=pP(g);return w.createElement(w.Fragment,null,x.map(j=>w.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),y.map(j=>w.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:N})=>w.createElement("link",{key:j,nonce:n.nonce,...N})))}function yP(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var R2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R2&&(window.__reactRouterVersion="7.9.1")}catch{}function vP({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=r5({window:n,v5Compat:!0}));let i=r.current,[o,u]=w.useState({action:i.action,location:i.location}),f=w.useCallback(h=>{w.startTransition(()=>u(h))},[u]);return w.useLayoutEffect(()=>i.listen(f),[i,f]),w.createElement(V5,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var L2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jd=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:f,target:h,to:m,preventScrollReset:g,viewTransition:x,...y},b){let{basename:j}=w.useContext(Hr),N=typeof m=="string"&&L2.test(m),S,A=!1;if(typeof m=="string"&&N&&(S=m,R2))try{let R=new URL(window.location.href),U=m.startsWith("//")?new URL(R.protocol+m):new URL(m),V=Ea(U.pathname,j);U.origin===R.origin&&V!=null?m=V+U.search+U.hash:A=!0}catch{qr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=O5(m,{relative:i}),[D,O,E]=hP(r,y),P=NP(m,{replace:u,state:f,target:h,preventScrollReset:g,relative:i,viewTransition:x});function M(R){t&&t(R),R.defaultPrevented||P(R)}let I=w.createElement("a",{...y,...E,href:S||T,onClick:A||o?t:M,ref:yP(b,O),target:h,"data-discover":!N&&n==="render"?"true":void 0});return D&&!N?w.createElement(w.Fragment,null,I,w.createElement(gP,{page:T})):I});Jd.displayName="Link";var bP=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:f,children:h,...m},g){let x=nc(u,{relative:m.relative}),y=ta(),b=w.useContext(Zd),{navigator:j,basename:N}=w.useContext(Hr),S=b!=null&&EP(x)&&f===!0,A=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,T=y.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(T=T.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&N&&(D=Ea(D,N)||D);const O=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let E=T===A||!i&&T.startsWith(A)&&T.charAt(O)==="/",P=D!=null&&(D===A||!i&&D.startsWith(A)&&D.charAt(A.length)==="/"),M={isActive:E,isPending:P,isTransitioning:S},I=E?t:void 0,R;typeof r=="function"?R=r(M):R=[r,E?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(M):o;return w.createElement(Jd,{...m,"aria-current":I,className:R,ref:g,style:U,to:u,viewTransition:f},typeof h=="function"?h(M):h)});bP.displayName="NavLink";var wP=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:u=rd,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...y},b)=>{let j=CP(),N=DP(f,{relative:m}),S=u.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&L2.test(f),T=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let O=D.nativeEvent.submitter,E=O?.getAttribute("formmethod")||u;j(O||D.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:o,relative:m,preventScrollReset:g,viewTransition:x})};return w.createElement("form",{ref:b,method:S,action:N,onSubmit:r?h:T,...y,"data-discover":!A&&e==="render"?"true":void 0})});wP.displayName="Form";function jP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B2(e){let t=w.useContext(bi);return Lt(t,jP(e)),t}function NP(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let f=ji(),h=ta(),m=nc(e,{relative:o});return w.useCallback(g=>{if(tP(g,t)){g.preventDefault();let x=n!==void 0?n:Fo(h)===Fo(m);f(e,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[h,f,m,n,r,t,e,i,o,u])}var SP=0,AP=()=>`__${String(++SP)}__`;function CP(){let{router:e}=B2("useSubmit"),{basename:t}=w.useContext(Hr),n=F5();return w.useCallback(async(r,i={})=>{let{action:o,method:u,encType:f,formData:h,body:m}=aP(r,t);if(i.navigate===!1){let g=i.fetcherKey||AP();await e.fetch(g,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function DP(e,{relative:t}={}){let{basename:n}=w.useContext(Hr),r=w.useContext(kr);Lt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...nc(e||".",{relative:t})},u=ta();if(e==null){o.search=u.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(x=>x).forEach(x=>f.append("index",x));let g=f.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Sa([n,o.pathname])),Fo(o)}function EP(e,{relative:t}={}){let n=w.useContext(O2);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=B2("useViewTransitionState"),i=nc(e,{relative:t});if(!n.isTransitioning)return!1;let o=Ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ud(i.pathname,u)!=null||ud(i.pathname,o)!=null}var TP=A2();let OP={data:""},PP=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||OP,MP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kP=/\/\*[^]*?\*\/|  +/g,Cw=/\n+/g,pl=(e,t)=>{let n="",r="",i="";for(let o in e){let u=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+u+";":r+=o[1]=="f"?pl(u,o):o+"{"+pl(u,o[1]=="k"?"":t)+"}":typeof u=="object"?r+=pl(u,t?t.replace(/([^,])+/g,f=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,f):f?f+" "+h:h)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=pl.p?pl.p(o,u):o+":"+u+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ya={},U2=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+U2(e[n]);return t}return e},_P=(e,t,n,r,i)=>{let o=U2(e),u=ya[o]||(ya[o]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(o));if(!ya[u]){let h=o!==e?e:(m=>{let g,x,y=[{}];for(;g=MP.exec(m.replace(kP,""));)g[4]?y.shift():g[3]?(x=g[3].replace(Cw," ").trim(),y.unshift(y[0][x]=y[0][x]||{})):y[0][g[1]]=g[2].replace(Cw," ").trim();return y[0]})(e);ya[u]=pl(i?{["@keyframes "+u]:h}:h,n?"":"."+u)}let f=n&&ya.g?ya.g:null;return n&&(ya.g=ya[u]),((h,m,g,x)=>{x?m.data=m.data.replace(x,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(ya[u],t,r,f),u},$P=(e,t,n)=>e.reduce((r,i,o)=>{let u=t[o];if(u&&u.call){let f=u(n),h=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=h?"."+h:f&&typeof f=="object"?f.props?"":pl(f,""):f===!1?"":f}return r+i+(u??"")},"");function ef(e){let t=this||{},n=e.call?e(t.p):e;return _P(n.unshift?n.raw?$P(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,PP(t.target),t.g,t.o,t.k)}let z2,T0,O0;ef.bind({g:1});let Ta=ef.bind({k:1});function IP(e,t,n,r){pl.p=t,z2=e,T0=n,O0=r}function Cl(e,t){let n=this||{};return function(){let r=arguments;function i(o,u){let f=Object.assign({},o),h=f.className||i.className;n.p=Object.assign({theme:T0&&T0()},f),n.o=/ *go\d+/.test(h),f.className=ef.apply(n,r)+(h?" "+h:"");let m=e;return e[0]&&(m=f.as||e,delete f.as),O0&&m[0]&&O0(f),z2(m,f)}return i}}var RP=e=>typeof e=="function",dd=(e,t)=>RP(e)?e(t):e,LP=(()=>{let e=0;return()=>(++e).toString()})(),q2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),BP=20,kp="default",H2=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:r}=t;return H2(e,{type:e.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(u=>u.id===i||i===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},ld=[],F2={toasts:[],pausedAt:void 0,settings:{toastLimit:BP}},Wr={},K2=(e,t=kp)=>{Wr[t]=H2(Wr[t]||F2,e),ld.forEach(([n,r])=>{n===t&&r(Wr[t])})},Y2=e=>Object.keys(Wr).forEach(t=>K2(e,t)),UP=e=>Object.keys(Wr).find(t=>Wr[t].toasts.some(n=>n.id===e)),tf=(e=kp)=>t=>{K2(t,e)},zP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},qP=(e={},t=kp)=>{let[n,r]=w.useState(Wr[t]||F2),i=w.useRef(Wr[t]);w.useEffect(()=>(i.current!==Wr[t]&&r(Wr[t]),ld.push([t,r]),()=>{let u=ld.findIndex(([f])=>f===t);u>-1&&ld.splice(u,1)}),[t]);let o=n.toasts.map(u=>{var f,h,m;return{...e,...e[u.type],...u,removeDelay:u.removeDelay||((f=e[u.type])==null?void 0:f.removeDelay)||e?.removeDelay,duration:u.duration||((h=e[u.type])==null?void 0:h.duration)||e?.duration||zP[u.type],style:{...e.style,...(m=e[u.type])==null?void 0:m.style,...u.style}}});return{...n,toasts:o}},HP=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||LP()}),rc=e=>(t,n)=>{let r=HP(t,e,n);return tf(r.toasterId||UP(r.id))({type:2,toast:r}),r.id},ke=(e,t)=>rc("blank")(e,t);ke.error=rc("error");ke.success=rc("success");ke.loading=rc("loading");ke.custom=rc("custom");ke.dismiss=(e,t)=>{let n={type:3,toastId:e};t?tf(t)(n):Y2(n)};ke.dismissAll=e=>ke.dismiss(void 0,e);ke.remove=(e,t)=>{let n={type:4,toastId:e};t?tf(t)(n):Y2(n)};ke.removeAll=e=>ke.remove(void 0,e);ke.promise=(e,t,n)=>{let r=ke.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?dd(t.success,i):void 0;return o?ke.success(o,{id:r,...n,...n?.success}):ke.dismiss(r),i}).catch(i=>{let o=t.error?dd(t.error,i):void 0;o?ke.error(o,{id:r,...n,...n?.error}):ke.dismiss(r)}),e};var FP=1e3,KP=(e,t="default")=>{let{toasts:n,pausedAt:r}=qP(e,t),i=w.useRef(new Map).current,o=w.useCallback((x,y=FP)=>{if(i.has(x))return;let b=setTimeout(()=>{i.delete(x),u({type:4,toastId:x})},y);i.set(x,b)},[]);w.useEffect(()=>{if(r)return;let x=Date.now(),y=n.map(b=>{if(b.duration===1/0)return;let j=(b.duration||0)+b.pauseDuration-(x-b.createdAt);if(j<0){b.visible&&ke.dismiss(b.id);return}return setTimeout(()=>ke.dismiss(b.id,t),j)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let u=w.useCallback(tf(t),[t]),f=w.useCallback(()=>{u({type:5,time:Date.now()})},[u]),h=w.useCallback((x,y)=>{u({type:1,toast:{id:x,height:y}})},[u]),m=w.useCallback(()=>{r&&u({type:6,time:Date.now()})},[r,u]),g=w.useCallback((x,y)=>{let{reverseOrder:b=!1,gutter:j=8,defaultPosition:N}=y||{},S=n.filter(D=>(D.position||N)===(x.position||N)&&D.height),A=S.findIndex(D=>D.id===x.id),T=S.filter((D,O)=>O<A&&D.visible).length;return S.filter(D=>D.visible).slice(...b?[T+1]:[0,T]).reduce((D,O)=>D+(O.height||0)+j,0)},[n]);return w.useEffect(()=>{n.forEach(x=>{if(x.dismissed)o(x.id,x.removeDelay);else{let y=i.get(x.id);y&&(clearTimeout(y),i.delete(x.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:h,startPause:f,endPause:m,calculateOffset:g}}},YP=Ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,GP=Ta`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XP=Ta`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,VP=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${GP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${XP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,WP=Ta`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ZP=Cl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${WP} 1s linear infinite;
`,QP=Ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JP=Ta`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,e4=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,t4=Cl("div")`
  position: absolute;
`,n4=Cl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,r4=Ta`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,a4=Cl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${r4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,l4=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(a4,null,t):t:n==="blank"?null:w.createElement(n4,null,w.createElement(ZP,{...r}),n!=="loading"&&w.createElement(t4,null,n==="error"?w.createElement(VP,{...r}):w.createElement(e4,{...r})))},s4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,i4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,o4="0%{opacity:0;} 100%{opacity:1;}",c4="0%{opacity:1;} 100%{opacity:0;}",u4=Cl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,d4=Cl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,f4=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=q2()?[o4,c4]:[s4(n),i4(n)];return{animation:t?`${Ta(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ta(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},m4=w.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?f4(e.position||t||"top-center",e.visible):{opacity:0},o=w.createElement(l4,{toast:e}),u=w.createElement(d4,{...e.ariaProps},dd(e.message,e));return w.createElement(u4,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:u}):w.createElement(w.Fragment,null,o,u))});IP(w.createElement);var h4=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=w.useCallback(u=>{if(u){let f=()=>{let h=u.getBoundingClientRect().height;r(e,h)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:o,className:t,style:n},i)},g4=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:q2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},p4=ef`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lu=16,x4=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:u,containerClassName:f})=>{let{toasts:h,handlers:m}=KP(n,o);return w.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Lu,left:Lu,right:Lu,bottom:Lu,pointerEvents:"none",...u},className:f,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(g=>{let x=g.position||t,y=m.calculateOffset(g,{reverseOrder:e,gutter:r,defaultPosition:t}),b=g4(x,y);return w.createElement(h4,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?p4:"",style:b},g.type==="custom"?dd(g.message,g):i?i(g):w.createElement(m4,{toast:g,position:x}))}))},fe=ke;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Dw=e=>{const t=v4(e);return t.charAt(0).toUpperCase()+t.slice(1)},G2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),b4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:u,...f},h)=>w.createElement("svg",{ref:h,...w4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:G2("lucide",i),...!o&&!b4(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,g])=>w.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,t)=>{const n=w.forwardRef(({className:r,...i},o)=>w.createElement(j4,{ref:o,iconNode:t,className:G2(`lucide-${y4(Dw(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Dw(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],X2=He("activity",N4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ni=He("arrow-left",S4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],P0=He("bell",A4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],D4=He("building-2",C4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],M0=He("building",E4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tn=He("calendar",T4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],V2=He("camera",O4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k0=He("chart-column",P4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],k4=He("chevron-down",M4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],W2=He("chevron-left",_4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Z2=He("chevron-right",$4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],R4=He("chevron-up",I4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xn=He("circle-alert",L4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U4=He("circle-check-big",B4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],q4=He("circle-user",z4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aa=He("clock",H4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_0=He("credit-card",F4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yn=He("dollar-sign",K4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_p=He("download",Y4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ai=He("eye-off",G4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bl=He("eye",X4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],W4=He("file-text",V4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Q2=He("funnel",Z4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Ew=He("hash",Q4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],eM=He("history",J4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nM=He("house",tM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],aM=He("landmark",rM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],fd=He("loader",lM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xl=He("lock",sM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oM=He("log-out",iM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$p=He("mail",cM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],is=He("map-pin",uM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fM=He("menu",dM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],J2=He("message-square",mM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M5 12h14",key:"1ays0h"}]],gM=He("minus",hM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xn=He("package",pM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jl=He("phone",xM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Nl=He("piggy-bank",yM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vn=He("plus",vM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],eA=He("printer",bM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Oa=He("refresh-cw",wM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tw=He("save",jM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ac=He("search",NM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ow=He("send",SM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ip=He("settings",AM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],tA=He("square-pen",CM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],EM=He("target",DM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zo=He("trash-2",TM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],PM=He("trending-down",OM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lc=He("trending-up",MM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_M=He("user-check",kM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sd=He("user-plus",$M);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Wh=He("user-x",IM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gt=He("user",RM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],or=He("users",LM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],UM=He("wallet",BM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rp=He("x",zM),nA=w.createContext(),Bu="https://satrong-sajghor.com/api",sc=()=>{const e=w.useContext(nA);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},qM=({children:e})=>{const[t,n]=w.useState(null),[r,i]=w.useState(!1),[o,u]=w.useState(!0);w.useEffect(()=>{const j=localStorage.getItem("ngo_token"),N=localStorage.getItem("ngo_user");if(console.log(" Checking saved session...",{token:!!j,savedUser:!!N}),j&&N)try{const S=JSON.parse(N);if(console.log(" Saved user data:",S),S.role==="member"){console.log(" MEMBER DETECTED - Force logout:",S.name),f(),window.location.reload();return}if(!["admin","manager","collector","supervisor"].includes(S.role)){console.log(" NON-ADMIN ROLE DETECTED - Force logout:",S.role),f(),window.location.reload();return}console.log(" Valid admin session found:",S.name,S.role),n(S),i(!0),h(j)}catch(S){console.error("Error parsing saved user data:",S),f()}else console.log(" No saved session found");u(!1)},[]);const f=()=>{localStorage.removeItem("ngo_token"),localStorage.removeItem("ngo_user"),n(null),i(!1)},h=async j=>{try{const N=await fetch(`${Bu}/auth/check`,{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}}),S=await N.json();N.ok&&S.success&&S.user?(console.log(" Token verified, syncing user data"),y(S.user)):f()}catch(N){console.error("Token verification failed:",N),f()}},m=async j=>{try{const N=await fetch(`${Bu}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:j.email,password:j.password})}),S=await N.json();if(N.ok&&S.success){const{token:A,user:T}=S;return T.role==="member"?{success:!1,error:"Members cannot login to the admin panel. Only administrators and managers are allowed."}:["admin","manager","collector","supervisor"].includes(T.role)?(n(T),i(!0),localStorage.setItem("ngo_token",A),localStorage.setItem("ngo_user",JSON.stringify(T)),console.log(` Admin login successful: ${T.name} (${T.role})`),{success:!0,user:T}):{success:!1,error:"Access denied. Only administrative staff can login to this system."}}else return S.requiresApproval?{success:!1,error:S.message||"Your account is waiting for approval",requiresApproval:!0}:{success:!1,error:S.message||"Login failed"}}catch(N){return console.error("Login error:",N),{success:!1,error:"Network error. Please check your connection."}}},g=async j=>{try{const N=await fetch(`${Bu}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.name,email:j.email,password:j.password,role:"admin"})}),S=await N.json();if(N.ok&&S.success){if(S.requiresApproval)return{success:!0,message:S.message,requiresApproval:!0};const{token:A,user:T}=S;return n(T),i(!0),localStorage.setItem("ngo_token",A),localStorage.setItem("ngo_user",JSON.stringify(T)),{success:!0,user:T}}else return{success:!1,error:S.message||"Registration failed"}}catch(N){return console.error("Registration error:",N),{success:!1,error:"Network error. Please check your connection."}}},x=async()=>{try{const j=localStorage.getItem("ngo_token");j&&await fetch(`${Bu}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}})}catch(j){console.error("Logout error:",j)}finally{f()}},y=j=>{n(j),localStorage.setItem("ngo_user",JSON.stringify(j))},b={user:t,isAuthenticated:r,loading:o,login:m,register:g,logout:x,updateUser:y};return s.jsx(nA.Provider,{value:b,children:e})},Lp="/assets/logo-DPpyS1Vd.png",HM=()=>{const{login:e}=sc(),[t,n]=w.useState({email:"",password:""}),[r,i]=w.useState(!1),[o,u]=w.useState(!1),[f,h]=w.useState(""),m=x=>{n({...t,[x.target.name]:x.target.value}),f&&h("")},g=async x=>{x.preventDefault(),u(!0),h("");const y=fe.loading("Logging in..."),b=await e(t);fe.dismiss(y),b.success?fe.success("Login successful! Welcome back."):(h(b.error),b.requiresApproval?fe.error(b.error,{duration:6e3}):fe.error(b.error||"Login failed. Please try again.")),u(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8 animate-gradient",children:s.jsx("div",{className:"max-w-md w-full space-y-8 animate-fadeIn",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-bounceIn",children:s.jsx("img",{src:Lp,alt:"Satrong Sajghor Traders",className:"mx-auto h-20 w-20 object-contain drop-shadow-lg"})}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent animate-slideDown",children:"Satrong Sajghor Traders"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 animate-slideDown",style:{animationDelay:"0.1s"},children:"Admin Panel - Sign in to your account"}),s.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 border-2 border-transparent bg-clip-padding rounded-lg animate-slideUp shadow-md",style:{animationDelay:"0.2s",borderImage:"linear-gradient(90deg, rgb(59 130 246), rgb(147 51 234), rgb(236 72 153)) 1"},children:s.jsxs("p",{className:"text-xs",children:[s.jsx("strong",{className:"bg-gradient-to-r from-blue-700 via-purple-700 to-pink-700 bg-clip-text text-transparent",children:" Admin Access Only:"})," ",s.jsx("span",{className:"text-gray-700",children:"This system is for administrators, managers, and collectors only. Members do not have login access."})]})})]}),s.jsxs("form",{className:"mt-8 space-y-6 animate-slideUp",onSubmit:g,style:{animationDelay:"0.3s"},children:[f&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx($p,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm transition-all duration-300",placeholder:"Enter your email",value:t.email,onChange:m})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm transition-all duration-300",placeholder:"Enter your password",value:t.password,onChange:m}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!r),children:r?s.jsx(ai,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(bl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx("a",{href:"#",className:"font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent hover:from-purple-700 hover:to-pink-700 transition-all",children:"Forgot your password?"})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 active:scale-95 bg-size-200 animate-gradient-x",children:o?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Logging in..."]}):"Sign In"})}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-gray-600",children:["Need a new account?"," ",s.jsx(Jd,{to:"/register",className:"font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:from-blue-700 hover:to-purple-700 transition-all",children:"Sign up"})]})})]})]})})})},FM=()=>{const{register:e}=sc(),[t,n]=w.useState({name:"",email:"",password:"",confirmPassword:""}),[r,i]=w.useState(!1),[o,u]=w.useState(!1),[f,h]=w.useState(!1),[m,g]=w.useState({}),x=j=>{n({...t,[j.target.name]:j.target.value}),m[j.target.name]&&g({...m,[j.target.name]:""})},y=()=>{const j={};return t.name.trim()||(j.name="Name is required"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(j.email="Please enter a valid email address"):j.email="Email is required",t.password.trim()?t.password.length<6&&(j.password="Password must be at least 6 characters long"):j.password="Password is required",t.confirmPassword.trim()?t.password!==t.confirmPassword&&(j.confirmPassword="Passwords do not match"):j.confirmPassword="Please confirm your password",g(j),Object.keys(j).length===0},b=async j=>{if(j.preventDefault(),!y()){fe.error("Please fill all required fields correctly.");return}h(!0);const N=fe.loading("Creating your account..."),S=await e(t);fe.dismiss(N),S.success?S.requiresApproval?(fe.success(S.message||"Registration successful! Waiting for admin approval.",{duration:6e3}),setTimeout(()=>{window.location.href="/login"},3e3)):fe.success("Account created successfully! Welcome to Satrong Sajghor Traders."):(g({general:S.error}),fe.error(S.error||"Registration failed. Please try again.")),h(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 animate-gradient",children:s.jsx("div",{className:"max-w-md w-full space-y-8 animate-fadeIn",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-bounceIn",children:s.jsx("img",{src:Lp,alt:"Satrong Sajghor Traders",className:"mx-auto h-20 w-20 object-contain drop-shadow-lg"})}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 bg-clip-text text-transparent animate-slideDown",children:"Satrong Sajghor Traders Registration"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 animate-slideDown",style:{animationDelay:"0.1s"},children:"Create Admin Account"}),s.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-green-50 via-emerald-50 to-teal-50 border-2 border-transparent bg-clip-padding rounded-lg animate-slideUp shadow-md",style:{animationDelay:"0.2s",borderImage:"linear-gradient(90deg, rgb(34 197 94), rgb(16 185 129), rgb(20 184 166)) 1"},children:s.jsxs("p",{className:"text-xs",children:[s.jsx("strong",{className:"bg-gradient-to-r from-green-700 via-emerald-700 to-teal-700 bg-clip-text text-transparent",children:" Admin Registration:"})," ",s.jsx("span",{className:"text-gray-700",children:"This creates an Admin account. Your account will be pending approval until the Super Admin approves it."})]})})]}),s.jsxs("form",{className:"mt-8 space-y-6 animate-slideUp",onSubmit:b,style:{animationDelay:"0.3s"},children:[m.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m.general}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Gt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:`appearance-none relative block w-full pl-10 pr-3 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter your full name",value:t.name,onChange:x})]}),m.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx($p,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:`appearance-none relative block w-full pl-10 pr-3 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.email?"border-red-300":"border-gray-300"}`,placeholder:"example@email.com",value:t.email,onChange:x})]}),m.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,className:`appearance-none relative block w-full pl-10 pr-10 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password (min 6 characters)",value:t.password,onChange:x}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!r),children:r?s.jsx(ai,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(bl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),m.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,className:`appearance-none relative block w-full pl-10 pr-10 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password",value:t.confirmPassword,onChange:x}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!o),children:o?s.jsx(ai,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(bl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),m.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 active:scale-95 bg-size-200 animate-gradient-x",children:f?"Creating Account...":"Sign Up"})}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Jd,{to:"/login",className:"font-medium bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent hover:from-green-700 hover:to-emerald-700 transition-all",children:"Sign In"})]})})]})]})})})},rA=e=>{if(!e)return null;try{const n=new Date(e).toLocaleString("en-CA",{timeZone:"Asia/Dhaka",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return new Date(n)}catch(t){return console.error("Error converting to BD time:",t),new Date(e)}},kn=()=>new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Dhaka",year:"numeric",month:"2-digit",day:"2-digit"}),aA=()=>{const t=new Date().toLocaleString("en-CA",{timeZone:"Asia/Dhaka",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return new Date(t)},ii=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-GB",{timeZone:"Asia/Dhaka",day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return console.error("Error formatting BD date short:",t),"Invalid Date"}},ei=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-GB",{timeZone:"Asia/Dhaka",day:"numeric",month:"long",year:"numeric"})}catch(t){return console.error("Error formatting BD date long:",t),"Invalid Date"}},KM=()=>{const{user:e,logout:t}=sc(),n=ji(),r=ta(),[i,o]=w.useState(!1),u=[{id:"dashboard",name:"Dashboard",icon:nM,path:"/"},{id:"members",name:"Member Management",icon:or,path:"/members"},{id:"activity-log",name:"Activity Log",icon:X2,path:"/activity-log"},{id:"products",name:"Product Management",icon:xn,path:"/products"},{id:"sales-report",name:"Sales Report",icon:k0,path:"/sales-report"},{id:"installments",name:"Installment Collection",icon:Yn,path:"/installments?fresh=true"},{id:"pending-installments",name:"Pending Installments",icon:P0,path:"/pending-installments"},{id:"daily-collection",name:"Daily Total Collection",icon:lc,path:"/daily-collection"},{id:"daily-savings",name:"Daily Total Savings",icon:Nl,path:"/daily-savings"},{id:"total-due",name:"Total Due Amount",icon:Xn,path:"/total-due"},{id:"sms-management",name:"SMS Management",icon:J2,path:"/sms-management"},{id:"profile",name:"Profile",icon:q4,path:"/profile"}],f=()=>{t(),fe.success("Logged out successfully. See you again!"),n("/login")},h=({mobile:m=!1})=>s.jsxs("div",{className:`no-print ${m?"fixed inset-0 z-[60] lg:hidden":"hidden lg:flex lg:w-64 lg:flex-col"}`,children:[m&&s.jsx("div",{className:"fixed inset-0 bg-transparent",onClick:()=>o(!1)}),s.jsxs("div",{className:`${m?"relative flex w-full max-w-xs flex-1 flex-col shadow-2xl":"flex flex-1 flex-col min-h-0"} bg-gradient-to-br from-indigo-950 via-purple-900 to-indigo-950 backdrop-blur-xl`,children:[m&&s.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:s.jsx("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-indigo-900/80 backdrop-blur-sm hover:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500 transition-all duration-200",onClick:()=>o(!1),children:s.jsx(Rp,{className:"h-6 w-6 text-white"})})}),s.jsxs("div",{className:"flex flex-1 flex-col pt-5 pb-4 overflow-y-auto scrollbar-hide",children:[s.jsx("div",{className:"flex items-center flex-shrink-0 px-4 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-3 w-full bg-indigo-900/40 rounded-xl p-3 border border-purple-700/50",children:[s.jsx("img",{src:Lp,alt:"Satrong Sajghor Traders",className:"h-12 w-12 rounded-lg border-2 border-purple-500 bg-white object-contain p-1 shadow-lg shadow-purple-500/30"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold text-white tracking-tight",children:"Satrong Sajghor Traders"}),s.jsx("p",{className:"text-xs text-purple-300 font-medium",children:"Business Management System"})]})]})}),s.jsx("nav",{className:"mt-6 flex-1 px-3 space-y-1.5",children:u.map(g=>{const x=g.icon,y=r.pathname===g.path;return s.jsxs("button",{onClick:()=>{n(g.path),m&&o(!1)},className:`w-full group flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-300 ease-out ${y?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-500/30 scale-[1.02] border border-purple-400/50":"text-purple-200 hover:bg-indigo-900/60 hover:text-white hover:scale-[1.02] hover:shadow-md hover:border hover:border-purple-700/50 border border-transparent"}`,children:[s.jsx(x,{className:`mr-3 flex-shrink-0 h-5 w-5 transition-all duration-300 ${y?"text-white scale-110":"text-purple-400 group-hover:text-purple-300 group-hover:scale-110"}`}),s.jsx("span",{className:"transition-all duration-300 font-medium",children:g.name})]},g.id)})})]}),s.jsxs("div",{className:"flex-shrink-0 flex border-t border-purple-700/50 p-4 bg-indigo-900/30",children:[s.jsxs("button",{onClick:()=>{n("/profile"),m&&o(!1)},className:"flex items-center w-full hover:bg-indigo-800/40 rounded-xl p-2.5 transition-all duration-300 group hover:scale-[1.02]",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-600 to-indigo-600 border-2 border-purple-400 flex items-center justify-center group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-purple-500/40 transition-all duration-300 overflow-hidden",children:e?.profileImage?s.jsx("img",{src:`${"https://satrong-sajghor.com/api".replace("/api","")}${e.profileImage}`,alt:e.name,className:"h-full w-full object-cover",onError:g=>{g.target.style.display="none",g.target.parentElement.classList.remove("overflow-hidden")}}):s.jsx("span",{className:"text-sm font-bold text-white",children:e?.name?.charAt(0)||"A"})})}),s.jsxs("div",{className:"ml-3 flex-1 text-left",children:[s.jsx("p",{className:"text-sm font-semibold text-white",children:e?.name||"User"}),s.jsx("p",{className:"text-xs text-purple-300 font-medium",children:e?.role==="admin"?"Admin":e?.role==="manager"?"Manager":e?.role==="collector"?"Collector":e?.role==="supervisor"?"Supervisor":"Staff"})]})]}),s.jsx("button",{onClick:f,className:"ml-2 flex-shrink-0 p-2.5 text-purple-400 hover:text-white hover:bg-red-500/20 hover:border-red-500/50 rounded-xl transition-all duration-300 border border-transparent hover:scale-110",title:"Logout",children:s.jsx(oM,{className:"h-5 w-5"})})]})]})]});return s.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[i&&s.jsx(h,{mobile:!0}),s.jsx(h,{}),s.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden print:w-full",children:[s.jsxs("div",{className:"no-print relative z-10 flex-shrink-0 flex h-16 bg-white shadow",children:[s.jsx("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>o(!0),children:s.jsx(fM,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex-1 px-2 sm:px-4 flex justify-between items-center",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-900 truncate",children:YM(r.pathname)})}),s.jsxs("div",{className:"ml-2 sm:ml-4 flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[s.jsxs("div",{className:"hidden sm:block text-xs sm:text-sm text-gray-500",children:["Today's Date: ",ii(new Date)]}),s.jsx("button",{className:"bg-white p-1 sm:p-2 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx(P0,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6"})}),s.jsx("button",{className:"bg-white p-1 sm:p-2 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx(Ip,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6"})}),s.jsx("div",{className:"bg-green-100 text-green-800 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium",children:"Online"})]})]})]}),s.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none print:overflow-visible",children:s.jsx("div",{className:"py-6 print:py-0",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 print:max-w-none print:px-0",children:s.jsx(X5,{})})})})]})]})},YM=e=>{const t={"/":"Dashboard","/profile":"My Profile","/members":"Member Management","/activity-log":"Activity Log","/products":"Product Management","/sales-report":"Sales Report","/installments":"Installment Collection","/pending-installments":"Pending Installments","/daily-collection":"Daily Total Collection","/daily-savings":"Daily Total Savings","/total-due":"Total Due Amount","/sms-management":"SMS Management"};return e.startsWith("/members/")?"Member Profile":t[e]||"Dashboard"},GM="https://satrong-sajghor.com/api",XM=()=>localStorage.getItem("ngo_token"),VM=(e=!1)=>{const t=XM(),n={...t&&{Authorization:`Bearer ${t}`}};return e||(n["Content-Type"]="application/json"),n},Te=async(e,t={})=>{try{const n=`${GM}${e}`,r=t.body instanceof FormData,i={headers:{...VM(r),"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},...t,...t.body&&typeof t.body=="object"&&!r&&{body:JSON.stringify(t.body)},...r&&{body:t.body}},o=await fetch(n,i),u=await o.json();if(!o.ok)throw o.status===401?(localStorage.removeItem("ngo_token"),localStorage.removeItem("ngo_user"),window.location.href="/login",new Error("Authentication failed. Please login again.")):new Error(u.message||`HTTP error! status: ${o.status}`);return u}catch(n){throw console.error("API Request Error:",n),n}},pn={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/members${t?`?${t}`:""}`)},getById:e=>Te(`/members/${e}`),create:e=>Te("/members",{method:"POST",body:e}),update:(e,t)=>Te(`/members/${e}`,{method:"PUT",body:t}),delete:e=>Te(`/members/${e}`,{method:"DELETE"}),getStats:()=>Te("/members/stats/overview"),getByBranch:e=>Te(`/members/branch/${e}`),checkCode:(e,t=null)=>{const n=new URLSearchParams;t&&n.append("excludeMemberId",t);const r=n.toString()?`?${n.toString()}`:"";return Te(`/members/check-code/${e}${r}`)},createWithImage:e=>Te("/members",{method:"POST",body:e}),updateWithImage:(e,t)=>Te(`/members/${e}`,{method:"PUT",body:t})},Br={login:e=>Te("/auth/login",{method:"POST",body:e}),register:e=>Te("/auth/register",{method:"POST",body:e}),getCurrentUser:()=>Te("/auth/me"),updateProfile:e=>Te("/auth/profile",{method:"PUT",body:e}),changePassword:e=>Te("/auth/change-password",{method:"PUT",body:e}),logout:()=>Te("/auth/logout",{method:"POST"}),checkAuth:()=>Te("/auth/check"),getPendingUsers:()=>Te("/auth/pending-users"),getAllUsers:()=>Te("/auth/all-users"),approveUser:e=>Te(`/auth/approve-user/${e}`,{method:"PUT"}),rejectUser:e=>Te(`/auth/reject-user/${e}`,{method:"DELETE"}),activateUser:e=>Te(`/auth/activate-user/${e}`,{method:"PUT"}),deactivateUser:e=>Te(`/auth/deactivate-user/${e}`,{method:"PUT"}),deleteUser:e=>Te(`/auth/delete-user/${e}`,{method:"DELETE"}),getSystemSettings:()=>Te("/auth/system-settings"),updateSystemSettings:e=>Te("/auth/system-settings",{method:"POST",body:e})},ic={getStats:()=>Te("/dashboard/stats"),getTrends:(e=7)=>Te(`/dashboard/trends?days=${e}`),getDailyCollection:(e=null)=>{const t=e?`?date=${e}`:"";return Te(`/dashboard/daily-collection${t}`)},getDailySavings:(e=null)=>{const t=e?`?date=${e}`:"";return Te(`/dashboard/daily-savings${t}`)},getCollectorDashboard:(e,t=null,n=null)=>{const r=new URLSearchParams;t&&r.append("date",t),n&&r.append("day",n);const i=r.toString()?`?${r.toString()}`:"";return Te(`/collector-dashboard/${e}${i}`)},getCollectorsPerformance:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/dashboard/collectors-performance${t?`?${t}`:""}`)},getOverview:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/dashboard/overview${t?`?${t}`:""}`)}},ur={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/installments${t?`?${t}`:""}`)},getById:e=>Te(`/installments/${e}`),collect:e=>Te("/installments/collect",{method:"POST",body:e}),getScheduleByDay:e=>Te(`/installments/schedule/${e}`),getCollectorSchedule:(e,t)=>Te(`/installments/collector/${e}/day/${t}`),getPotentialDeductions:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/installments/potential-deductions${t?`?${t}`:""}`)},getActiveSales:e=>Te(`/installments/active-sales/${e}`),getDailySummary:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/installments/daily-summary${t?`?${t}`:""}`)},getMemberHistory:(e,t=10)=>{const n=new Date().getTime();return Te(`/installments/member/${e}/history?limit=${t}&_t=${n}`)},getByMember:e=>{const t=new Date().getTime();return Te(`/installments/member/${e}?_t=${t}`)},getCollectionHistory:e=>{const t=new Date().getTime();return Te(`/installments/member/${e}/collection-history?_t=${t}`)},update:(e,t)=>Te(`/installments/${e}`,{method:"PUT",body:t}),cancel:e=>Te(`/installments/${e}`,{method:"DELETE"}),createProductSale:e=>Te("/installments/product-sale",{method:"POST",body:e}),createProductLoan:e=>Te("/installments/create-product-loan",{method:"POST",body:e}),recalculateDueDates:(e,t)=>Te(`/installments/recalculate-due-dates/${e}`,{method:"POST",body:{collectorId:t}})},WM={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/schedules${t?`?${t}`:""}`)},getById:e=>Te(`/schedules/${e}`),create:e=>Te("/schedules",{method:"POST",body:e}),update:(e,t)=>Te(`/schedules/${e}`,{method:"PUT",body:t}),delete:e=>Te(`/schedules/${e}`,{method:"DELETE"}),addBranchToSchedule:(e,t)=>Te(`/schedules/${e}/branches`,{method:"POST",body:t}),addMembersToBranch:(e,t,n)=>Te(`/schedules/${e}/branches/${t}/members`,{method:"POST",body:{memberIds:n}}),removeMemberFromBranch:(e,t,n)=>Te(`/schedules/${e}/branches/${t}/members/${n}`,{method:"DELETE"}),getWeeklyOverview:(e=null)=>{const t=e?`?collectorId=${e}`:"";return Te(`/schedules/weekly-overview${t}`)}},yl={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/products${t?`?${t}`:""}`)},getById:e=>Te(`/products/${e}`),create:e=>Te("/products",{method:"POST",body:e}),update:(e,t)=>Te(`/products/${e}`,{method:"PUT",body:t}),delete:e=>Te(`/products/${e}`,{method:"DELETE"}),updateStock:(e,t)=>Te(`/products/${e}/stock`,{method:"PATCH",body:t}),getStats:()=>Te("/products/stats/overview"),getSalesReport:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/products/sales/report${t?`?${t}`:""}`)}},Pa={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/branches${t?`?${t}`:""}`)},getById:e=>Te(`/branches/${e}`),create:e=>Te("/branches",{method:"POST",body:e}),update:(e,t)=>Te(`/branches/${e}`,{method:"PUT",body:t}),delete:e=>Te(`/branches/${e}`,{method:"DELETE"}),getByCollector:e=>Te(`/branches/collector/${e}`),assignCollector:(e,t)=>Te(`/branches/${e}/assign-collector`,{method:"PATCH",body:{collectorId:t}})},ni={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Te(`/collectors${t?`?${t}`:""}`)},getById:e=>Te(`/collectors/${e}`),create:e=>Te("/collectors",{method:"POST",body:e}),update:(e,t)=>Te(`/collectors/${e}`,{method:"PUT",body:t}),getByDay:e=>Te(`/collectors/day/${e}`),assignMembers:(e,t)=>Te(`/collectors/${e}/assign-members`,{method:"POST",body:{memberIds:t}}),removeMembers:(e,t)=>Te(`/collectors/${e}/remove-members`,{method:"POST",body:{memberIds:t}}),deactivate:e=>Te(`/collectors/${e}`,{method:"DELETE"}),getDueAmounts:()=>Te("/collectors/due-amounts")},Uu={checkBalance:()=>Te("/sms/balance"),getSchedulerStatus:()=>Te("/sms/scheduler/status"),sendTestSMS:(e,t)=>Te("/sms/test",{method:"POST",body:{phone:e,message:t}}),sendDueReminders:()=>Te("/sms/send-reminders",{method:"POST"}),sendPaymentConfirmation:e=>Te("/sms/payment-confirmation",{method:"POST",body:e}),getStats:()=>Te("/sms/stats"),updateSettings:e=>Te("/sms/settings",{method:"PUT",body:e})},ZM=()=>{const{user:e,updateUser:t}=sc(),[n,r]=w.useState("info"),[i,o]=w.useState(!1),[u,f]=w.useState([]),[h,m]=w.useState([]),[g,x]=w.useState(!1),[y,b]=w.useState({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",branch:e?.branch||"",branchCode:e?.branchCode||"",role:e?.role||"",profileImage:e?.profileImage||null}),[j,N]=w.useState(null),[S,A]=w.useState(null),[T,D]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[O,E]=w.useState({current:!1,new:!1,confirm:!1}),[P,M]=w.useState({loginTimeRestriction:{enabled:!1,startTime:"00:00",endTime:"23:59"}}),[I,R]=w.useState(!1),U=e?.email==="anarul258011@gmail.com",V=_=>{b({...y,[_.target.name]:_.target.value})},H=_=>{const q=_.target.files[0];if(q){N(q);const B=new FileReader;B.onloadend=()=>{A(B.result)},B.readAsDataURL(q)}},W=_=>{D({...T,[_.target.name]:_.target.value})},Q=async _=>{_.preventDefault(),o(!0);try{const q=new FormData;q.append("name",y.name),q.append("phone",y.phone),j&&q.append("profileImage",j);const B=await Br.updateProfile(q);B.success&&(t(B.user),fe.success("Profile updated successfully!"))}catch(q){console.error("Profile update error:",q),fe.error(q.message||"Failed to update profile")}finally{o(!1)}},ve=async _=>{if(_.preventDefault(),!T.currentPassword){fe.error("Please enter your current password");return}if(T.newPassword.length<6){fe.error("New password must be at least 6 characters");return}if(T.newPassword!==T.confirmPassword){fe.error("New passwords do not match");return}o(!0);try{(await Br.changePassword({currentPassword:T.currentPassword,newPassword:T.newPassword,confirmPassword:T.confirmPassword})).success&&(fe.success("Password changed successfully!"),D({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(q){console.error("Password change error:",q),fe.error(q.message||"Failed to change password")}finally{o(!1)}},Y=_=>{E({...O,[_]:!O[_]})},re=async()=>{if(e?.role==="admin"){x(!0);try{const _=await Br.getPendingUsers();_.success&&f(_.users)}catch(_){console.error("Error fetching pending users:",_),fe.error("Failed to load pending users")}finally{x(!1)}}},ge=async()=>{if(e?.role==="admin"){x(!0);try{const _=await Br.getAllUsers();_.success&&m(_.users)}catch(_){console.error("Error fetching all users:",_),fe.error("Failed to load users")}finally{x(!1)}}},Ee=async(_,q)=>{if(window.confirm(`Are you sure you want to approve ${q}?`))try{const B=await Br.approveUser(_);B.success&&(fe.success(B.message),await re(),await ge())}catch(B){console.error("Error approving user:",B),fe.error(B.message||"Failed to approve user")}},$=async(_,q)=>{if(window.confirm(`Are you sure you want to reject and delete ${q}'s account? This action cannot be undone.`))try{const B=await Br.rejectUser(_);B.success&&(fe.success(B.message),re(),ge())}catch(B){console.error("Error rejecting user:",B),fe.error(B.message||"Failed to reject user")}},ie=async(_,q)=>{if(window.confirm(`Are you sure you want to activate ${q}?`))try{const B=await Br.activateUser(_);B.success&&(fe.success(B.message),ge())}catch(B){console.error("Error activating user:",B),fe.error(B.message||"Failed to activate user")}},L=async(_,q)=>{if(window.confirm(`Are you sure you want to deactivate ${q}? They will not be able to login.`))try{const B=await Br.deactivateUser(_);B.success&&(fe.success(B.message),ge())}catch(B){console.error("Error deactivating user:",B),fe.error(B.message||"Failed to deactivate user")}},ce=async(_,q)=>{if(window.confirm(` WARNING: Are you sure you want to PERMANENTLY DELETE ${q}'s account? This action CANNOT be undone!`))try{const B=await Br.deleteUser(_);B.success&&(fe.success(B.message),ge())}catch(B){console.error("Error deleting user:",B),fe.error(B.message||"Failed to delete user")}},Ne=async()=>{if(U){R(!0);try{const _=await Br.getSystemSettings();_.success&&M(_.settings)}catch(_){console.error("Error fetching system settings:",_),fe.error("Failed to load system settings")}finally{R(!1)}}},Ce=async _=>{_.preventDefault(),R(!0);try{const q=await Br.updateSystemSettings(P);q.success&&(fe.success("System settings updated successfully!"),M(q.settings))}catch(q){console.error("Error updating system settings:",q),fe.error(q.message||"Failed to update system settings")}finally{R(!1)}},me=(_,q)=>{M(B=>({...B,loginTimeRestriction:{...B.loginTimeRestriction,[_]:q}}))};return cd.useEffect(()=>{n==="admin"&&e?.role==="admin"&&(re(),ge())},[n]),cd.useEffect(()=>{n==="system"&&U&&Ne()},[n]),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-900 via-purple-800 to-indigo-900 px-6 py-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-600 p-1 rounded-full border-4 border-purple-500 shadow-lg shadow-purple-500/30 w-24 h-24 flex items-center justify-center overflow-hidden",children:[S||y.profileImage?s.jsx("img",{src:S||`${"https://satrong-sajghor.com/api".replace("/api","")}${y.profileImage}`,alt:"Profile",className:"w-full h-full object-cover rounded-full",onError:_=>{_.target.onerror=null,_.target.style.display="none",_.target.parentElement.classList.add("flex","items-center","justify-center")}}):s.jsx(Gt,{className:"h-12 w-12 text-white"}),!S&&!y.profileImage&&s.jsx(Gt,{className:"h-12 w-12 text-white absolute"})]}),s.jsxs("label",{htmlFor:"profile-upload",className:"absolute bottom-0 right-0 bg-white text-purple-600 p-2 rounded-full shadow-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[s.jsx(V2,{className:"w-4 h-4"}),s.jsx("input",{type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:H})]})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:e?.name}),s.jsx("p",{className:"text-purple-200",children:e?.email}),s.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-sm font-medium rounded-full shadow-md",children:e?.role==="admin"?"Admin":e?.role==="manager"?"Manager":e?.role==="collector"?"Collector":"Staff"})]})]})}),s.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:s.jsxs("nav",{className:"flex -mb-px whitespace-nowrap",children:[s.jsxs("button",{onClick:()=>r("info"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="info"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Gt,{className:"inline-block w-5 h-5 mr-2"}),"Profile Information"]}),s.jsxs("button",{onClick:()=>r("password"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="password"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(xl,{className:"inline-block w-5 h-5 mr-2"}),"Change Password"]}),e?.role==="admin"&&s.jsxs("button",{onClick:()=>r("admin"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="admin"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Gt,{className:"inline-block w-5 h-5 mr-2"}),"Admin Management"]}),U&&s.jsxs("button",{onClick:()=>r("system"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="system"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Ip,{className:"inline-block w-5 h-5 mr-2"}),"System Management"]})]})}),s.jsxs("div",{className:"p-6",children:[n==="info"&&s.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Gt,{className:"inline-block w-4 h-4 mr-1"}),"Full Name"]}),s.jsx("input",{type:"text",name:"name",value:y.name,onChange:V,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx($p,{className:"inline-block w-4 h-4 mr-1"}),"Email",e?.role!=="admin"&&s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Read-only)"})]}),s.jsx("input",{type:"email",name:"email",value:y.email,onChange:V,className:`w-full px-4 py-2 border border-gray-300 rounded-lg ${e?.role==="admin"?"focus:ring-2 focus:ring-purple-500 focus:border-transparent":"bg-gray-100 cursor-not-allowed"}`,disabled:e?.role!=="admin"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(jl,{className:"inline-block w-4 h-4 mr-1"}),"Phone Number"]}),s.jsx("input",{type:"text",name:"phone",value:y.phone,onChange:V,placeholder:"01XXXXXXXXX",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Gt,{className:"inline-block w-4 h-4 mr-1"}),"Role"]}),s.jsx("input",{type:"text",value:y.role.charAt(0).toUpperCase()+y.role.slice(1),className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed",disabled:!0})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Tw,{className:"w-5 h-5 mr-2"}),i?"Saving...":"Save Changes"]})})]}),n==="password"&&s.jsxs("form",{onSubmit:ve,className:"space-y-6 max-w-md",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(xl,{className:"inline-block w-4 h-4 mr-1"}),"Current Password"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:O.current?"text":"password",name:"currentPassword",value:T.currentPassword,onChange:W,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10",required:!0}),s.jsx("button",{type:"button",onClick:()=>Y("current"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:O.current?s.jsx(ai,{className:"w-5 h-5"}):s.jsx(bl,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(xl,{className:"inline-block w-4 h-4 mr-1"}),"New Password"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:O.new?"text":"password",name:"newPassword",value:T.newPassword,onChange:W,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent pr-10",required:!0,minLength:"6"}),s.jsx("button",{type:"button",onClick:()=>Y("new"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:O.new?s.jsx(ai,{className:"w-5 h-5"}):s.jsx(bl,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password must be at least 6 characters"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(xl,{className:"inline-block w-4 h-4 mr-1"}),"Confirm New Password"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:O.confirm?"text":"password",name:"confirmPassword",value:T.confirmPassword,onChange:W,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent pr-10",required:!0}),s.jsx("button",{type:"button",onClick:()=>Y("confirm"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:O.confirm?s.jsx(ai,{className:"w-5 h-5"}):s.jsx(bl,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"text-sm text-purple-900",children:[s.jsx("strong",{children:"Security Tips:"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsx("li",{children:"Use a strong password with letters, numbers, and symbols"}),s.jsx("li",{children:"Don't share your password with anyone"}),s.jsx("li",{children:"Change your password regularly"})]})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(xl,{className:"w-5 h-5 mr-2"}),i?"Changing...":"Change Password"]})})]}),n==="admin"&&e?.role==="admin"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Gt,{className:"w-5 h-5 mr-2"}),"Pending Approvals (",u.length,")"]}),g?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):u.length===0?s.jsx("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:s.jsx("p",{className:"text-gray-600",children:"No pending user approvals"})}):s.jsx("div",{className:"space-y-3",children:u.map(_=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:_.name}),s.jsx("p",{className:"text-sm text-gray-600",children:_.email}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:_.role}),_.phone&&s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(jl,{className:"w-3 h-3 mr-1"}),_.phone]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Ee(_._id,_.name),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Approve"}),s.jsx("button",{onClick:()=>$(_._id,_.name),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Reject"})]})]},_._id))})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Gt,{className:"w-5 h-5 mr-2"}),"All Users (",h.length,")"]}),g?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(_=>{const q=_._id===e._id,B=_.role==="admin",le=!q&&!B;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),_.role==="admin"&&s.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Super Admin"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:_.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:_.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[_.isApproved?s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Approved"}):s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Pending"}),_.isActive?s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Active"}):s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Inactive"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(_.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:le?s.jsxs("div",{className:"flex gap-1 items-center",children:[!_.isApproved&&s.jsx("button",{onClick:()=>Ee(_._id,_.name),className:"px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs font-medium",title:"Approve user",children:""}),_.isActive?s.jsx("button",{onClick:()=>L(_._id,_.name),className:"px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors text-xs font-medium",title:"Deactivate user",children:""}):s.jsx("button",{onClick:()=>ie(_._id,_.name),className:"px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs font-medium",title:"Activate user",children:""}),s.jsx("button",{onClick:()=>ce(_._id,_.name),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",title:"Delete user permanently",children:""})]}):s.jsx("span",{className:"text-xs text-gray-400",children:q?"(You)":"(Protected)"})})]},_._id)})})]})})]})]}),n==="system"&&U&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Aa,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Login Time Restriction"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"   users login   Enable      admins login   "}),s.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-purple-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Enable Time Restriction"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  / "})]}),s.jsx("button",{type:"button",onClick:()=>me("enabled",!P.loginTimeRestriction.enabled),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${P.loginTimeRestriction.enabled?"bg-purple-600":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${P.loginTimeRestriction.enabled?"translate-x-7":"translate-x-1"}`})})]}),P.loginTimeRestriction.enabled&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Aa,{className:"inline-block w-4 h-4 mr-1"}),"Login Start Time ( )"]}),s.jsx("input",{type:"time",value:P.loginTimeRestriction.startTime,onChange:_=>me("startTime",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Login      "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Aa,{className:"inline-block w-4 h-4 mr-1"}),"Login End Time ( )"]}),s.jsx("input",{type:"time",value:P.loginTimeRestriction.endTime,onChange:_=>me("endTime",_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Login     "})]})]}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"text-sm text-purple-900",children:[s.jsx("strong",{children:" Important:"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsx("li",{children:"  account (anarul258011@gmail.com)  login  "}),s.jsx("li",{children:"  admins    login  "}),s.jsx("li",{children:"Login page   message   login  "})]})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:I,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Tw,{className:"w-5 h-5 mr-2"}),I?"Saving...":"Save Settings"]})})]})]})})]})]})})};function lA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=lA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Dt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=lA(e))&&(r&&(r+=" "),r+=t);return r}var Zh={},Qh={},Pw;function QM(){return Pw||(Pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Qh)),Qh}var Jh={},Mw;function sA(){return Mw||(Mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Jh)),Jh}var eg={},kw;function iA(){return kw||(kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(eg)),eg}var tg={},_w;function Bp(){return _w||(_w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,u="",f="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const m=n[o];f?m==="\\"&&o+1<i?(o++,u+=n[o]):m===f?f="":u+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,r.push(u),u=""):u+=m:m==="["?(h=!0,u&&(r.push(u),u="")):m==="."?u&&(r.push(u),u=""):u+=m,o++}return u&&r.push(u),r}e.toPath=t})(tg)),tg}var $w;function Up(){return $w||($w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM(),n=sA(),r=iA(),i=Bp();function o(f,h,m){if(f==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const g=f[h];return g===void 0?n.isDeepKey(h)?o(f,i.toPath(h),m):m:g}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const g=f[h];return g===void 0?m:g}default:{if(Array.isArray(h))return u(f,h,m);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const g=f[h];return g===void 0?m:g}}}function u(f,h,m){if(h.length===0)return m;let g=f;for(let x=0;x<h.length;x++){if(g==null||t.isUnsafeProperty(h[x]))return m;g=g[h[x]]}return g===void 0?m:g}e.get=o})(Zh)),Zh}var ng,Iw;function JM(){return Iw||(Iw=1,ng=Up().get),ng}var e6=JM();const os=Ia(e6);var rg={exports:{}},Ct={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function t6(){if(Rw)return Ct;Rw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(N){if(typeof N=="object"&&N!==null){var S=N.$$typeof;switch(S){case e:switch(N=N.type,N){case n:case i:case r:case h:case m:case y:return N;default:switch(N=N&&N.$$typeof,N){case u:case f:case x:case g:return N;case o:return N;default:return S}}case t:return S}}}return Ct.ContextConsumer=o,Ct.ContextProvider=u,Ct.Element=e,Ct.ForwardRef=f,Ct.Fragment=n,Ct.Lazy=x,Ct.Memo=g,Ct.Portal=t,Ct.Profiler=i,Ct.StrictMode=r,Ct.Suspense=h,Ct.SuspenseList=m,Ct.isContextConsumer=function(N){return j(N)===o},Ct.isContextProvider=function(N){return j(N)===u},Ct.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Ct.isForwardRef=function(N){return j(N)===f},Ct.isFragment=function(N){return j(N)===n},Ct.isLazy=function(N){return j(N)===x},Ct.isMemo=function(N){return j(N)===g},Ct.isPortal=function(N){return j(N)===t},Ct.isProfiler=function(N){return j(N)===i},Ct.isStrictMode=function(N){return j(N)===r},Ct.isSuspense=function(N){return j(N)===h},Ct.isSuspenseList=function(N){return j(N)===m},Ct.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===i||N===r||N===h||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===g||N.$$typeof===u||N.$$typeof===o||N.$$typeof===f||N.$$typeof===b||N.getModuleId!==void 0)},Ct.typeOf=j,Ct}var Lw;function n6(){return Lw||(Lw=1,rg.exports=t6()),rg.exports}var r6=n6(),yn=e=>e===0?0:e>0?1:-1,dr=e=>typeof e=="number"&&e!=+e,Jl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!dr(e),Jr=e=>Fe(e)||typeof e=="string",a6=0,Ko=e=>{var t=++a6;return"".concat(e||"").concat(t)},$n=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return r;var o;if(Jl(t)){if(n==null)return r;var u=t.indexOf("%");o=n*parseFloat(t.slice(0,u))/100}else o=+t;return dr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},oA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function En(e,t,n){return Fe(e)&&Fe(t)?e+n*(t-e):t}function l6(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):os(r,t))===n)}var vn=e=>e===null||typeof e>"u",oc=e=>vn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),s6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zp(e){if(typeof e!="string")return!1;var t=s6;return t.includes(e)}var i6=["viewBox","children"],Bw=["points","pathLength"],ag={svg:i6,polygon:Bw,polyline:Bw},o6=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{zp(i)&&(r[i]=(o=>n[i](n,o)))}),r},c6=(e,t,n)=>r=>(e(t,n,r),null),nf=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];zp(i)&&typeof o=="function"&&(r||(r={}),r[i]=c6(o,t,n))}),r},u6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function cA(e){if(typeof e!="string")return!1;var t=u6;return t.includes(e)}function Dl(e){var t=Object.entries(e).filter(n=>{var[r]=n;return cA(r)});return Object.fromEntries(t)}var Uw=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zw=null,lg=null,uA=e=>{if(e===zw&&Array.isArray(lg))return lg;var t=[];return w.Children.forEach(e,n=>{vn(n)||(r6.isFragment(n)?t=t.concat(uA(n.props.children)):t.push(n))}),lg=t,zw=e,t};function qp(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Uw(i)):r=[Uw(t)],uA(e).forEach(i=>{var o=os(i,"type.displayName")||os(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var d6=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&ag?.[r])!==null&&i!==void 0?i:[],u=t.startsWith("data-"),f=typeof e!="function"&&(!!r&&o.includes(t)||cA(t)),h=!!n&&zp(t);return u||f||h},sn=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var u;d6((u=r)===null||u===void 0?void 0:u[o],o,t,n)&&(i[o]=r[o])}),i},f6=["children","width","height","viewBox","className","style","title","desc"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function m6(e,t){if(e==null)return{};var n,r,i=h6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dA=w.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:u,style:f,title:h,desc:m}=e,g=m6(e,f6),x=o||{width:r,height:i,x:0,y:0},y=Dt("recharts-surface",u);return w.createElement("svg",$0({},sn(g,!0,"svg"),{className:y,width:r,height:i,style:f,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),w.createElement("title",null,h),w.createElement("desc",null,m),n)}),g6=["children","className"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function p6(e,t){if(e==null)return{};var n,r,i=x6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wn=w.forwardRef((e,t)=>{var{children:n,className:r}=e,i=p6(e,g6),o=Dt("recharts-layer",r);return w.createElement("g",I0({className:o},sn(i,!0),{ref:t}),n)}),y6=w.createContext(null);function kt(e){return function(){return e}}const fA=Math.cos,md=Math.sin,Fr=Math.sqrt,hd=Math.PI,rf=2*hd,R0=Math.PI,L0=2*R0,Wl=1e-6,v6=L0-Wl;function mA(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function b6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mA;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class w6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mA:b6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,u){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,f=this._y1,h=r-t,m=i-n,g=u-t,x=f-n,y=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Wl)if(!(Math.abs(x*h-m*g)>Wl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-u,j=i-f,N=h*h+m*m,S=b*b+j*j,A=Math.sqrt(N),T=Math.sqrt(y),D=o*Math.tan((R0-Math.acos((N+y-S)/(2*A*T)))/2),O=D/T,E=D/A;Math.abs(O-1)>Wl&&this._append`L${t+O*g},${n+O*x}`,this._append`A${o},${o},0,0,${+(x*b>g*j)},${this._x1=t+E*h},${this._y1=n+E*m}`}}arc(t,n,r,i,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),h=r*Math.sin(i),m=t+f,g=n+h,x=1^u,y=u?i-o:o-i;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>Wl||Math.abs(this._y1-g)>Wl)&&this._append`L${m},${g}`,r&&(y<0&&(y=y%L0+L0),y>v6?this._append`A${r},${r},0,1,${x},${t-f},${n-h}A${r},${r},0,1,${x},${this._x1=m},${this._y1=g}`:y>Wl&&this._append`A${r},${r},0,${+(y>=R0)},${x},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Hp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new w6(t)}function Fp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hA(e){this._context=e}hA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function af(e){return new hA(e)}function gA(e){return e[0]}function pA(e){return e[1]}function xA(e,t){var n=kt(!0),r=null,i=af,o=null,u=Hp(f);e=typeof e=="function"?e:e===void 0?gA:kt(e),t=typeof t=="function"?t:t===void 0?pA:kt(t);function f(h){var m,g=(h=Fp(h)).length,x,y=!1,b;for(r==null&&(o=i(b=u())),m=0;m<=g;++m)!(m<g&&n(x=h[m],m,h))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(x,m,h),+t(x,m,h));if(b)return o=null,b+""||null}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:kt(+h),f):e},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:kt(+h),f):t},f.defined=function(h){return arguments.length?(n=typeof h=="function"?h:kt(!!h),f):n},f.curve=function(h){return arguments.length?(i=h,r!=null&&(o=i(r)),f):i},f.context=function(h){return arguments.length?(h==null?r=o=null:o=i(r=h),f):r},f}function zu(e,t,n){var r=null,i=kt(!0),o=null,u=af,f=null,h=Hp(m);e=typeof e=="function"?e:e===void 0?gA:kt(+e),t=typeof t=="function"?t:kt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?pA:kt(+n);function m(x){var y,b,j,N=(x=Fp(x)).length,S,A=!1,T,D=new Array(N),O=new Array(N);for(o==null&&(f=u(T=h())),y=0;y<=N;++y){if(!(y<N&&i(S=x[y],y,x))===A)if(A=!A)b=y,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),j=y-1;j>=b;--j)f.point(D[j],O[j]);f.lineEnd(),f.areaEnd()}A&&(D[y]=+e(S,y,x),O[y]=+t(S,y,x),f.point(r?+r(S,y,x):D[y],n?+n(S,y,x):O[y]))}if(T)return f=null,T+""||null}function g(){return xA().defined(i).curve(u).context(o)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:kt(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:kt(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:kt(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:kt(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:kt(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:kt(+x),m):n},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(n)},m.lineX1=function(){return g().x(r).y(t)},m.defined=function(x){return arguments.length?(i=typeof x=="function"?x:kt(!!x),m):i},m.curve=function(x){return arguments.length?(u=x,o!=null&&(f=u(o)),m):u},m.context=function(x){return arguments.length?(x==null?o=f=null:f=u(o=x),m):o},m}class yA{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function j6(e){return new yA(e,!0)}function N6(e){return new yA(e,!1)}const Kp={draw(e,t){const n=Fr(t/hd);e.moveTo(n,0),e.arc(0,0,n,0,rf)}},S6={draw(e,t){const n=Fr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},vA=Fr(1/3),A6=vA*2,C6={draw(e,t){const n=Fr(t/A6),r=n*vA;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},D6={draw(e,t){const n=Fr(t),r=-n/2;e.rect(r,r,n,n)}},E6=.8908130915292852,bA=md(hd/10)/md(7*hd/10),T6=md(rf/10)*bA,O6=-fA(rf/10)*bA,P6={draw(e,t){const n=Fr(t*E6),r=T6*n,i=O6*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const u=rf*o/5,f=fA(u),h=md(u);e.lineTo(h*n,-f*n),e.lineTo(f*r-h*i,h*r+f*i)}e.closePath()}},sg=Fr(3),M6={draw(e,t){const n=-Fr(t/(sg*3));e.moveTo(0,n*2),e.lineTo(-sg*n,-n),e.lineTo(sg*n,-n),e.closePath()}},Cr=-.5,Dr=Fr(3)/2,B0=1/Fr(12),k6=(B0/2+1)*3,_6={draw(e,t){const n=Fr(t/k6),r=n/2,i=n*B0,o=r,u=n*B0+n,f=-o,h=u;e.moveTo(r,i),e.lineTo(o,u),e.lineTo(f,h),e.lineTo(Cr*r-Dr*i,Dr*r+Cr*i),e.lineTo(Cr*o-Dr*u,Dr*o+Cr*u),e.lineTo(Cr*f-Dr*h,Dr*f+Cr*h),e.lineTo(Cr*r+Dr*i,Cr*i-Dr*r),e.lineTo(Cr*o+Dr*u,Cr*u-Dr*o),e.lineTo(Cr*f+Dr*h,Cr*h-Dr*f),e.closePath()}};function $6(e,t){let n=null,r=Hp(i);e=typeof e=="function"?e:kt(e||Kp),t=typeof t=="function"?t:kt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:kt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:kt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function gd(){}function pd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wA(e){this._context=e}wA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I6(e){return new wA(e)}function jA(e){this._context=e}jA.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R6(e){return new jA(e)}function NA(e){this._context=e}NA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L6(e){return new NA(e)}function SA(e){this._context=e}SA.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function B6(e){return new SA(e)}function qw(e){return e<0?-1:1}function Hw(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),u=(n-e._y1)/(i||r<0&&-0),f=(o*i+u*r)/(r+i);return(qw(o)+qw(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(f))||0}function Fw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ig(e,t,n){var r=e._x0,i=e._y0,o=e._x1,u=e._y1,f=(o-r)/3;e._context.bezierCurveTo(r+f,i+f*t,o-f,u-f*n,o,u)}function xd(e){this._context=e}xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ig(this,this._t0,Fw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ig(this,Fw(this,n=Hw(this,e,t)),n);break;default:ig(this,this._t0,n=Hw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function AA(e){this._context=new CA(e)}(AA.prototype=Object.create(xd.prototype)).point=function(e,t){xd.prototype.point.call(this,t,e)};function CA(e){this._context=e}CA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function U6(e){return new xd(e)}function z6(e){return new AA(e)}function DA(e){this._context=e}DA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Kw(e),i=Kw(t),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Kw(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),u=new Array(n);for(i[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(i[n-1]=u[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(u[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function q6(e){return new DA(e)}function lf(e,t){this._context=e,this._t=t}lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function H6(e){return new lf(e,.5)}function F6(e){return new lf(e,0)}function K6(e){return new lf(e,1)}function oi(e,t){if((u=e.length)>1)for(var n=1,r,i,o=e[t[0]],u,f=o.length;n<u;++n)for(i=o,o=e[t[n]],r=0;r<f;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function U0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Y6(e,t){return e[t]}function G6(e){const t=[];return t.key=e,t}function X6(){var e=kt([]),t=U0,n=oi,r=Y6;function i(o){var u=Array.from(e.apply(this,arguments),G6),f,h=u.length,m=-1,g;for(const x of o)for(f=0,++m;f<h;++f)(u[f][m]=[0,+r(x,u[f].key,m,o)]).data=x;for(f=0,g=Fp(t(u));f<h;++f)u[g[f]].index=f;return n(u,g),u}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:kt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:kt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?U0:typeof o=="function"?o:kt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??oi,i):n},i}function V6(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,u;i<o;++i){for(u=n=0;n<r;++n)u+=e[n][i][1]||0;if(u)for(n=0;n<r;++n)e[n][i][1]/=u}oi(e,t)}}function W6(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var u=0,f=0;u<i;++u)f+=e[u][n][1]||0;r[n][1]+=r[n][0]=-f/2}oi(e,t)}}function Z6(e,t){if(!(!((u=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,u;r<o;++r){for(var f=0,h=0,m=0;f<u;++f){for(var g=e[t[f]],x=g[r][1]||0,y=g[r-1][1]||0,b=(x-y)/2,j=0;j<f;++j){var N=e[t[j]],S=N[r][1]||0,A=N[r-1][1]||0;b+=S-A}h+=x,m+=b*x}i[r-1][1]+=i[r-1][0]=n,h&&(n-=m/h)}i[r-1][1]+=i[r-1][0]=n,oi(e,t)}}var Q6=["type","size","sizeType"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(null,arguments)}function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(n),!0).forEach(function(r){J6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J6(e,t,n){return(t=ek(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ek(e){var t=tk(e,"string");return typeof t=="symbol"?t:t+""}function tk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nk(e,t){if(e==null)return{};var n,r,i=rk(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rk(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EA={symbolCircle:Kp,symbolCross:S6,symbolDiamond:C6,symbolSquare:D6,symbolStar:P6,symbolTriangle:M6,symbolWye:_6},ak=Math.PI/180,lk=e=>{var t="symbol".concat(oc(e));return EA[t]||Kp},sk=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*ak;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ik=(e,t)=>{EA["symbol".concat(oc(e))]=t},TA=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=nk(e,Q6),o=Gw(Gw({},i),{},{type:t,size:n,sizeType:r}),u="circle";typeof t=="string"&&(u=t);var f=()=>{var y=lk(u),b=$6().type(y).size(sk(n,r,u));return b()},{className:h,cx:m,cy:g}=o,x=sn(o,!0);return m===+m&&g===+g&&n===+n?w.createElement("path",z0({},x,{className:Dt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:f()})):null};TA.registerSymbol=ik;var og={},cg={},Xw;function ok(){return Xw||(Xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const u=n[o],f=r(u);i.has(f)||i.set(f,u)}return Array.from(i.values())}e.uniqBy=t})(cg)),cg}var ug={},Vw;function OA(){return Vw||(Vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ug)),ug}var dg={},fg={},mg={},Ww;function ck(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(mg)),mg}var Zw;function Yp(){return Zw||(Zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ck();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(fg)),fg}var hg={},Qw;function uk(){return Qw||(Qw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(hg)),hg}var Jw;function dk(){return Jw||(Jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yp(),n=uk();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(dg)),dg}var gg={},pg={},ej;function fk(){return ej||(ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Up();function n(r){return function(i){return t.get(i,r)}}e.property=n})(pg)),pg}var xg={},yg={},vg={},bg={},tj;function PA(){return tj||(tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(bg)),bg}var wg={},nj;function MA(){return nj||(nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(wg)),wg}var jg={},rj;function kA(){return rj||(rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(jg)),jg}var aj;function mk(){return aj||(aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gp(),n=PA(),r=MA(),i=kA();function o(x,y,b){return typeof b!="function"?t.isMatch(x,y):u(x,y,function j(N,S,A,T,D,O){const E=b(N,S,A,T,D,O);return E!==void 0?!!E:u(N,S,j,O)},new Map)}function u(x,y,b,j){if(y===x)return!0;switch(typeof y){case"object":return f(x,y,b,j);case"function":return Object.keys(y).length>0?u(x,{...y},b,j):i.eq(x,y);default:return n.isObject(x)?typeof y=="string"?y==="":!0:i.eq(x,y)}}function f(x,y,b,j){if(y==null)return!0;if(Array.isArray(y))return m(x,y,b,j);if(y instanceof Map)return h(x,y,b,j);if(y instanceof Set)return g(x,y,b,j);const N=Object.keys(y);if(x==null)return N.length===0;if(N.length===0)return!0;if(j&&j.has(y))return j.get(y)===x;j&&j.set(y,x);try{for(let S=0;S<N.length;S++){const A=N[S];if(!r.isPrimitive(x)&&!(A in x)||y[A]===void 0&&x[A]!==void 0||y[A]===null&&x[A]!==null||!b(x[A],y[A],A,x,y,j))return!1}return!0}finally{j&&j.delete(y)}}function h(x,y,b,j){if(y.size===0)return!0;if(!(x instanceof Map))return!1;for(const[N,S]of y.entries()){const A=x.get(N);if(b(A,S,N,x,y,j)===!1)return!1}return!0}function m(x,y,b,j){if(y.length===0)return!0;if(!Array.isArray(x))return!1;const N=new Set;for(let S=0;S<y.length;S++){const A=y[S];let T=!1;for(let D=0;D<x.length;D++){if(N.has(D))continue;const O=x[D];let E=!1;if(b(O,A,S,x,y,j)&&(E=!0),E){N.add(D),T=!0;break}}if(!T)return!1}return!0}function g(x,y,b,j){return y.size===0?!0:x instanceof Set?m([...x],[...y],b,j):!1}e.isMatchWith=o,e.isSetMatch=g})(vg)),vg}var lj;function Gp(){return lj||(lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(yg)),yg}var Ng={},Sg={},Ag={},sj;function hk(){return sj||(sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Ag)),Ag}var Cg={},ij;function _A(){return ij||(ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Cg)),Cg}var Dg={},oj;function $A(){return oj||(oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",u="[object Symbol]",f="[object Date]",h="[object Map]",m="[object Set]",g="[object Array]",x="[object Function]",y="[object ArrayBuffer]",b="[object Object]",j="[object Error]",N="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",D="[object Uint32Array]",O="[object BigUint64Array]",E="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",I="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=g,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=N,e.dateTag=f,e.errorTag=j,e.float32ArrayTag=R,e.float64ArrayTag=U,e.functionTag=x,e.int16ArrayTag=P,e.int32ArrayTag=M,e.int8ArrayTag=E,e.mapTag=h,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=T,e.uint32ArrayTag=D,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=A})(Dg)),Dg}var Eg={},cj;function gk(){return cj||(cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Eg)),Eg}var uj;function IA(){return uj||(uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hk(),n=_A(),r=$A(),i=MA(),o=gk();function u(g,x){return f(g,void 0,g,new Map,x)}function f(g,x,y,b=new Map,j=void 0){const N=j?.(g,x,y,b);if(N!==void 0)return N;if(i.isPrimitive(g))return g;if(b.has(g))return b.get(g);if(Array.isArray(g)){const S=new Array(g.length);b.set(g,S);for(let A=0;A<g.length;A++)S[A]=f(g[A],A,y,b,j);return Object.hasOwn(g,"index")&&(S.index=g.index),Object.hasOwn(g,"input")&&(S.input=g.input),S}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const S=new RegExp(g.source,g.flags);return S.lastIndex=g.lastIndex,S}if(g instanceof Map){const S=new Map;b.set(g,S);for(const[A,T]of g)S.set(A,f(T,A,y,b,j));return S}if(g instanceof Set){const S=new Set;b.set(g,S);for(const A of g)S.add(f(A,void 0,y,b,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const S=new(Object.getPrototypeOf(g)).constructor(g.length);b.set(g,S);for(let A=0;A<g.length;A++)S[A]=f(g[A],A,y,b,j);return S}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const S=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return b.set(g,S),h(S,g,y,b,j),S}if(typeof File<"u"&&g instanceof File){const S=new File([g],g.name,{type:g.type});return b.set(g,S),h(S,g,y,b,j),S}if(g instanceof Blob){const S=new Blob([g],{type:g.type});return b.set(g,S),h(S,g,y,b,j),S}if(g instanceof Error){const S=new g.constructor;return b.set(g,S),S.message=g.message,S.name=g.name,S.stack=g.stack,S.cause=g.cause,h(S,g,y,b,j),S}if(typeof g=="object"&&m(g)){const S=Object.create(Object.getPrototypeOf(g));return b.set(g,S),h(S,g,y,b,j),S}return g}function h(g,x,y=g,b,j){const N=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<N.length;S++){const A=N[S],T=Object.getOwnPropertyDescriptor(g,A);(T==null||T.writable)&&(g[A]=f(x[A],A,y,b,j))}}function m(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=f,e.copyProperties=h})(Sg)),Sg}var dj;function pk(){return dj||(dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Ng)),Ng}var fj;function xk(){return fj||(fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gp(),n=pk();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(xg)),xg}var Tg={},Og={},Pg={},mj;function yk(){return mj||(mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA(),n=$A();function r(i,o){return t.cloneDeepWith(i,(u,f,h,m)=>{const g=o?.(u,f,h,m);if(g!==void 0)return g;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new i.constructor(i?.valueOf());return t.copyProperties(x,i),x}case n.argumentsTag:{const x={};return t.copyProperties(x,i),x.length=i.length,x[Symbol.iterator]=i[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r})(Pg)),Pg}var hj;function vk(){return hj||(hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Og)),Og}var Mg={},kg={},gj;function RA(){return gj||(gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(kg)),kg}var _g={},pj;function bk(){return pj||(pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_A();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(_g)),_g}var xj;function wk(){return xj||(xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sA(),n=RA(),r=bk(),i=Bp();function o(u,f){let h;if(Array.isArray(f)?h=f:typeof f=="string"&&t.isDeepKey(f)&&u?.[f]==null?h=i.toPath(f):h=[f],h.length===0)return!1;let m=u;for(let g=0;g<h.length;g++){const x=h[g];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=o})(Mg)),Mg}var yj;function jk(){return yj||(yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gp(),n=iA(),r=vk(),i=Up(),o=wk();function u(f,h){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=n.toKey(f);break}}return h=r.cloneDeep(h),function(m){const g=i.get(m,f);return g===void 0?o.has(m,f):h===void 0?g===void 0:t.isMatch(g,h)}}e.matchesProperty=u})(Tg)),Tg}var vj;function Nk(){return vj||(vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA(),n=fk(),r=xk(),i=jk();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?i.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=o})(gg)),gg}var bj;function Sk(){return bj||(bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ok(),n=OA(),r=dk(),i=Nk();function o(u,f=n.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),i.iteratee(f)):[]}e.uniqBy=o})(og)),og}var $g,wj;function Ak(){return wj||(wj=1,$g=Sk().uniqBy),$g}var Ck=Ak();const jj=Ia(Ck);function Dk(e,t,n){return t===!0?jj(e,n):typeof t=="function"?jj(e,t):e}var Ig={exports:{}},Rg={},Lg={exports:{}},Bg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function Ek(){if(Nj)return Bg;Nj=1;var e=yi();function t(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function f(x,y){var b=y(),j=r({inst:{value:b,getSnapshot:y}}),N=j[0].inst,S=j[1];return o(function(){N.value=b,N.getSnapshot=y,h(N)&&S({inst:N})},[x,b,y]),i(function(){return h(N)&&S({inst:N}),x(function(){h(N)&&S({inst:N})})},[x]),u(b),b}function h(x){var y=x.getSnapshot;x=x.value;try{var b=y();return!n(x,b)}catch{return!0}}function m(x,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Bg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Bg}var Sj;function Tk(){return Sj||(Sj=1,Lg.exports=Ek()),Lg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function Ok(){if(Aj)return Rg;Aj=1;var e=yi(),t=Tk();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,f=e.useMemo,h=e.useDebugValue;return Rg.useSyncExternalStoreWithSelector=function(m,g,x,y,b){var j=o(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=f(function(){function A(P){if(!T){if(T=!0,D=P,P=y(P),b!==void 0&&N.hasValue){var M=N.value;if(b(M,P))return O=M}return O=P}if(M=O,r(D,P))return M;var I=y(P);return b!==void 0&&b(M,I)?(D=P,M):(D=P,O=I)}var T=!1,D,O,E=x===void 0?null:x;return[function(){return A(g())},E===null?void 0:function(){return A(E())}]},[g,x,y,b]);var S=i(m,j[0],j[1]);return u(function(){N.hasValue=!0,N.value=S},[S]),h(S),S},Rg}var Cj;function Pk(){return Cj||(Cj=1,Ig.exports=Ok()),Ig.exports}var Mk=Pk(),Xp=w.createContext(null),kk=e=>e,Zt=()=>{var e=w.useContext(Xp);return e?e.store.dispatch:kk},id=()=>{},_k=()=>id,$k=(e,t)=>e===t;function qe(e){var t=w.useContext(Xp);return Mk.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_k,t?t.store.getState:id,t?t.store.getState:id,t?e:id,$k)}function Ik(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Rk(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Lk(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Dj=e=>Array.isArray(e)?e:[e];function Bk(e){const t=Array.isArray(e[0])?e[0]:e;return Lk(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Uk(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var zk=class{constructor(e){this.value=e}deref(){return this.value}},qk=typeof WeakRef<"u"?WeakRef:zk,Hk=0,Ej=1;function qu(){return{s:Hk,v:void 0,o:null,p:null}}function LA(e,t={}){let n=qu();const{resultEqualityCheck:r}=t;let i,o=0;function u(){let f=n;const{length:h}=arguments;for(let x=0,y=h;x<y;x++){const b=arguments[x];if(typeof b=="function"||typeof b=="object"&&b!==null){let j=f.o;j===null&&(f.o=j=new WeakMap);const N=j.get(b);N===void 0?(f=qu(),j.set(b,f)):f=N}else{let j=f.p;j===null&&(f.p=j=new Map);const N=j.get(b);N===void 0?(f=qu(),j.set(b,f)):f=N}}const m=f;let g;if(f.s===Ej)g=f.v;else if(g=e.apply(null,arguments),o++,r){const x=i?.deref?.()??i;x!=null&&r(x,g)&&(g=x,o!==0&&o--),i=typeof g=="object"&&g!==null||typeof g=="function"?new qk(g):g}return m.s=Ej,m.v=g,g}return u.clearCache=()=>{n=qu(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function Fk(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,u=0,f,h={},m=i.pop();typeof m=="object"&&(h=m,m=i.pop()),Ik(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...n,...h},{memoize:x,memoizeOptions:y=[],argsMemoize:b=LA,argsMemoizeOptions:j=[]}=g,N=Dj(y),S=Dj(j),A=Bk(i),T=x(function(){return o++,m.apply(null,arguments)},...N),D=b(function(){u++;const E=Uk(A,arguments);return f=T.apply(null,E),f},...S);return Object.assign(D,{resultFunc:m,memoizedResultFunc:T,dependencies:A,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>f,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var de=Fk(LA),Kk=Object.assign((e,t=de)=>{Rk(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((u,f,h)=>(u[n[h]]=f,u),{}))},{withTypes:()=>Kk}),Ug={},zg={},qg={},Tj;function Yk(){return Tj||(Tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const u=t(r),f=t(i);if(u===f&&u===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?f-u:u-f}return 0};e.compareValues=n})(qg)),qg}var Hg={},Fg={},Oj;function BA(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Fg)),Fg}var Pj;function Gk(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=i})(Hg)),Hg}var Mj;function Xk(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk(),n=Gk(),r=Bp();function i(o,u,f,h){if(o==null)return[];f=h?void 0:f,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(b=>String(b));const m=(b,j)=>{let N=b;for(let S=0;S<j.length&&N!=null;++S)N=N[j[S]];return N},g=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:m(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?m(j,b):typeof j=="object"?j[b]:j,x=u.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:x.map(j=>g(j,b))})).slice().sort((b,j)=>{for(let N=0;N<x.length;N++){const S=t.compareValues(b.criteria[N],j.criteria[N],f[N]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=i})(zg)),zg}var Kg={},kj;function Vk(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),u=(f,h)=>{for(let m=0;m<f.length;m++){const g=f[m];Array.isArray(g)&&h<o?u(g,h+1):i.push(g)}};return u(n,0),i}e.flatten=t})(Kg)),Kg}var Yg={},_j;function UA(){return _j||(_j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA(),n=Yp(),r=PA(),i=kA();function o(u,f,h){return r.isObject(h)&&(typeof f=="number"&&n.isArrayLike(h)&&t.isIndex(f)&&f<h.length||typeof f=="string"&&f in h)?i.eq(h[f],u):!1}e.isIterateeCall=o})(Yg)),Yg}var $j;function Wk(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk(),n=Vk(),r=UA();function i(o,...u){const f=u.length;return f>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:f>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,n.flatten(u),["asc"])}e.sortBy=i})(Ug)),Ug}var Gg,Ij;function Zk(){return Ij||(Ij=1,Gg=Wk().sortBy),Gg}var Qk=Zk();const sf=Ia(Qk);var zA=e=>e.legend.settings,Jk=e=>e.legend.size,e_=e=>e.legend.payload;de([e_,zA],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?sf(r,n):r});var Hu=1;function t_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>Hu||Math.abs(u.left-t.left)>Hu||Math.abs(u.top-t.top)>Hu||Math.abs(u.width-t.width)>Hu)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Cn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var n_=typeof Symbol=="function"&&Symbol.observable||"@@observable",Rj=n_,Xg=()=>Math.random().toString(36).substring(7).split("").join("."),r_={INIT:`@@redux/INIT${Xg()}`,REPLACE:`@@redux/REPLACE${Xg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xg()}`},yd=r_;function Vp(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function qA(e,t,n){if(typeof e!="function")throw new Error(Cn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Cn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Cn(1));return n(qA)(e,t)}let r=e,i=t,o=new Map,u=o,f=0,h=!1;function m(){u===o&&(u=new Map,o.forEach((S,A)=>{u.set(A,S)}))}function g(){if(h)throw new Error(Cn(3));return i}function x(S){if(typeof S!="function")throw new Error(Cn(4));if(h)throw new Error(Cn(5));let A=!0;m();const T=f++;return u.set(T,S),function(){if(A){if(h)throw new Error(Cn(6));A=!1,m(),u.delete(T),o=null}}}function y(S){if(!Vp(S))throw new Error(Cn(7));if(typeof S.type>"u")throw new Error(Cn(8));if(typeof S.type!="string")throw new Error(Cn(17));if(h)throw new Error(Cn(9));try{h=!0,i=r(i,S)}finally{h=!1}return(o=u).forEach(T=>{T()}),S}function b(S){if(typeof S!="function")throw new Error(Cn(10));r=S,y({type:yd.REPLACE})}function j(){const S=x;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Cn(11));function T(){const O=A;O.next&&O.next(g())}return T(),{unsubscribe:S(T)}},[Rj](){return this}}}return y({type:yd.INIT}),{dispatch:y,subscribe:x,getState:g,replaceReducer:b,[Rj]:j}}function a_(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:yd.INIT})>"u")throw new Error(Cn(12));if(typeof n(void 0,{type:yd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cn(13))})}function HA(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(n[u]=e[u])}const r=Object.keys(n);let i;try{a_(n)}catch(o){i=o}return function(u={},f){if(i)throw i;let h=!1;const m={};for(let g=0;g<r.length;g++){const x=r[g],y=n[x],b=u[x],j=y(b,f);if(typeof j>"u")throw f&&f.type,new Error(Cn(14));m[x]=j,h=h||j!==b}return h=h||r.length!==Object.keys(u).length,h?m:u}}function vd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function l_(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Cn(15))};const u={getState:i.getState,dispatch:(h,...m)=>o(h,...m)},f=e.map(h=>h(u));return o=vd(...f)(i.dispatch),{...i,dispatch:o}}}function FA(e){return Vp(e)&&"type"in e&&typeof e.type=="string"}var KA=Symbol.for("immer-nothing"),Lj=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ci=Object.getPrototypeOf;function cs(e){return!!e&&!!e[fr]}function Ma(e){return e?YA(e)||Array.isArray(e)||!!e[Lj]||!!e.constructor?.[Lj]||cc(e)||cf(e):!1}var s_=Object.prototype.constructor.toString();function YA(e){if(!e||typeof e!="object")return!1;const t=ci(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===s_}function bd(e,t){of(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function of(e){const t=e[fr];return t?t.type_:Array.isArray(e)?1:cc(e)?2:cf(e)?3:0}function q0(e,t){return of(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GA(e,t,n){const r=of(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function i_(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cc(e){return e instanceof Map}function cf(e){return e instanceof Set}function Zl(e){return e.copy_||e.base_}function H0(e,t){if(cc(e))return new Map(e);if(cf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=YA(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[fr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const u=i[o],f=r[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[u]})}return Object.create(ci(e),r)}else{const r=ci(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Wp(e,t=!1){return uf(e)||cs(e)||!Ma(e)||(of(e)>1&&Object.defineProperties(e,{set:{value:Fu},add:{value:Fu},clear:{value:Fu},delete:{value:Fu}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Wp(n,!0))),e}function Fu(){Ur(2)}function uf(e){return Object.isFrozen(e)}var o_={};function us(e){const t=o_[e];return t||Ur(0,e),t}var Yo;function XA(){return Yo}function c_(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bj(e,t){t&&(us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F0(e){K0(e),e.drafts_.forEach(u_),e.drafts_=null}function K0(e){e===Yo&&(Yo=e.parent_)}function Uj(e){return Yo=c_(Yo,e)}function u_(e){const t=e[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[fr].modified_&&(F0(t),Ur(4)),Ma(e)&&(e=wd(t,e),t.parent_||jd(t,e)),t.patches_&&us("Patches").generateReplacementPatches_(n[fr].base_,e,t.patches_,t.inversePatches_)):e=wd(t,n,[]),F0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KA?e:void 0}function wd(e,t,n){if(uf(t))return t;const r=t[fr];if(!r)return bd(t,(i,o)=>qj(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return jd(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,u=!1;r.type_===3&&(o=new Set(i),i.clear(),u=!0),bd(o,(f,h)=>qj(e,r,i,f,h,n,u)),jd(e,i,!1),n&&e.patches_&&us("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function qj(e,t,n,r,i,o,u){if(cs(i)){const f=o&&t&&t.type_!==3&&!q0(t.assigned_,r)?o.concat(r):void 0,h=wd(e,i,f);if(GA(n,r,h),cs(h))e.canAutoFreeze_=!1;else return}else u&&n.add(i);if(Ma(i)&&!uf(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(cc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&jd(e,i)}}function jd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Wp(t,n)}function d_(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:XA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Zp;n&&(i=[r],o=Go);const{revoke:u,proxy:f}=Proxy.revocable(i,o);return r.draft_=f,r.revoke_=u,f}var Zp={get(e,t){if(t===fr)return e;const n=Zl(e);if(!q0(n,t))return f_(e,n,t);const r=n[t];return e.finalized_||!Ma(r)?r:r===Vg(e.base_,t)?(Wg(e),e.copy_[t]=G0(r,e)):r},has(e,t){return t in Zl(e)},ownKeys(e){return Reflect.ownKeys(Zl(e))},set(e,t,n){const r=VA(Zl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Vg(Zl(e),t),o=i?.[fr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(i_(n,i)&&(n!==void 0||q0(e.base_,t)))return!0;Wg(e),Y0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Vg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Wg(e),Y0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ur(11)},getPrototypeOf(e){return ci(e.base_)},setPrototypeOf(){Ur(12)}},Go={};bd(Zp,(e,t)=>{Go[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Go.deleteProperty=function(e,t){return Go.set.call(this,e,t,void 0)};Go.set=function(e,t,n){return Zp.set.call(this,e[0],t,n,e[0])};function Vg(e,t){const n=e[fr];return(n?Zl(n):e)[t]}function f_(e,t,n){const r=VA(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function VA(e,t){if(!(t in e))return;let n=ci(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ci(n)}}function Y0(e){e.modified_||(e.modified_=!0,e.parent_&&Y0(e.parent_))}function Wg(e){e.copy_||(e.copy_=H0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m_=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const u=this;return function(h=o,...m){return u.produce(h,g=>n.call(this,g,...m))}}typeof n!="function"&&Ur(6),r!==void 0&&typeof r!="function"&&Ur(7);let i;if(Ma(t)){const o=Uj(this),u=G0(t,void 0);let f=!0;try{i=n(u),f=!1}finally{f?F0(o):K0(o)}return Bj(o,r),zj(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===KA&&(i=void 0),this.autoFreeze_&&Wp(i,!0),r){const o=[],u=[];us("Patches").generateReplacementPatches_(t,i,o,u),r(o,u)}return i}else Ur(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...f)=>this.produceWithPatches(u,h=>t(h,...f));let r,i;return[this.produce(t,n,(u,f)=>{r=u,i=f}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ma(e)||Ur(8),cs(e)&&(e=Ca(e));const t=Uj(this),n=G0(e,void 0);return n[fr].isManual_=!0,K0(t),n}finishDraft(e,t){const n=e&&e[fr];(!n||!n.isManual_)&&Ur(9);const{scope_:r}=n;return Bj(r,t),zj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=us("Patches").applyPatches_;return cs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function G0(e,t){const n=cc(e)?us("MapSet").proxyMap_(e,t):cf(e)?us("MapSet").proxySet_(e,t):d_(e,t);return(t?t.scope_:XA()).drafts_.push(n),n}function Ca(e){return cs(e)||Ur(10,e),WA(e)}function WA(e){if(!Ma(e)||uf(e))return e;const t=e[fr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=H0(e,t.scope_.immer_.useStrictShallowCopy_)}else n=H0(e,!0);return bd(n,(r,i)=>{GA(n,r,WA(i))}),t&&(t.finalized_=!1),n}var h_=new m_,ZA=h_.produce;function QA(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var g_=QA(),p_=QA,x_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vd:vd.apply(null,arguments)};function Pr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(cr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>FA(r)&&r.type===e,n}var JA=class Bo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bo.prototype)}static get[Symbol.species](){return Bo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bo(...t[0].concat(this)):new Bo(...t.concat(this))}};function Hj(e){return Ma(e)?ZA(e,()=>{}):e}function Ku(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function y_(e){return typeof e=="boolean"}var v_=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let u=new JA;return n&&(y_(n)?u.push(g_):u.push(p_(n.extraArgument))),u},b_="RTK_autoBatch",Fj=e=>t=>{setTimeout(t,e)},w_=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,u=!1;const f=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Fj(10):e.type==="callback"?e.queueNotification:Fj(e.timeout),m=()=>{u=!1,o&&(o=!1,f.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>i&&g(),y=r.subscribe(x);return f.add(g),()=>{y(),f.delete(g)}},dispatch(g){try{return i=!g?.meta?.[b_],o=!i,o&&(u||(u=!0,h(m))),r.dispatch(g)}finally{i=!0}}})},j_=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new JA(e);return r&&i.push(w_(typeof r=="object"?r:void 0)),i};function N_(e){const t=v_(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let f;if(typeof n=="function")f=n;else if(Vp(n))f=HA(n);else throw new Error(cr(1));let h;typeof r=="function"?h=r(t):h=t();let m=vd;i&&(m=x_({trace:!1,...typeof i=="object"&&i}));const g=l_(...h),x=j_(g);let y=typeof u=="function"?u(x):x();const b=m(...y);return qA(f,o,b)}function eC(e){const t={},n=[];let r;const i={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(cr(28));if(f in t)throw new Error(cr(29));return t[f]=u,i},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),i},addMatcher(o,u){return n.push({matcher:o,reducer:u}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function S_(e){return typeof e=="function"}function A_(e,t){let[n,r,i]=eC(t),o;if(S_(e))o=()=>Hj(e());else{const f=Hj(e);o=()=>f}function u(f=o(),h){let m=[n[h.type],...r.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[i]),m.reduce((g,x)=>{if(x)if(cs(g)){const b=x(g,h);return b===void 0?g:b}else{if(Ma(g))return ZA(g,y=>x(y,h));{const y=x(g,h);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},f)}return u.getInitialState=o,u}var C_="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D_=(e=21)=>{let t="",n=e;for(;n--;)t+=C_[Math.random()*64|0];return t},E_=Symbol.for("rtk-slice-createasyncthunk");function T_(e,t){return`${e}/${t}`}function O_({creators:e}={}){const t=e?.asyncThunk?.[E_];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(cr(11));const u=(typeof r.reducers=="function"?r.reducers(M_()):r.reducers)||{},f=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(D,O){const E=typeof D=="string"?D:D.type;if(!E)throw new Error(cr(12));if(E in h.sliceCaseReducersByType)throw new Error(cr(13));return h.sliceCaseReducersByType[E]=O,m},addMatcher(D,O){return h.sliceMatchers.push({matcher:D,reducer:O}),m},exposeAction(D,O){return h.actionCreators[D]=O,m},exposeCaseReducer(D,O){return h.sliceCaseReducersByName[D]=O,m}};f.forEach(D=>{const O=u[D],E={reducerName:D,type:T_(i,D),createNotation:typeof r.reducers=="function"};__(O)?I_(E,O,m,t):k_(E,O,m)});function g(){const[D={},O=[],E=void 0]=typeof r.extraReducers=="function"?eC(r.extraReducers):[r.extraReducers],P={...D,...h.sliceCaseReducersByType};return A_(r.initialState,M=>{for(let I in P)M.addCase(I,P[I]);for(let I of h.sliceMatchers)M.addMatcher(I.matcher,I.reducer);for(let I of O)M.addMatcher(I.matcher,I.reducer);E&&M.addDefaultCase(E)})}const x=D=>D,y=new Map,b=new WeakMap;let j;function N(D,O){return j||(j=g()),j(D,O)}function S(){return j||(j=g()),j.getInitialState()}function A(D,O=!1){function E(M){let I=M[D];return typeof I>"u"&&O&&(I=Ku(b,E,S)),I}function P(M=x){const I=Ku(y,O,()=>new WeakMap);return Ku(I,M,()=>{const R={};for(const[U,V]of Object.entries(r.selectors??{}))R[U]=P_(V,M,()=>Ku(b,M,S),O);return R})}return{reducerPath:D,getSelectors:P,get selectors(){return P(E)},selectSlice:E}}const T={name:i,reducer:N,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,...A(o),injectInto(D,{reducerPath:O,...E}={}){const P=O??o;return D.inject({reducerPath:P,reducer:N},E),{...T,...A(P,!0)}}};return T}}function P_(e,t,n,r){function i(o,...u){let f=t(o);return typeof f>"u"&&r&&(f=n()),e(f,...u)}return i.unwrapped=e,i}var hr=O_();function M_(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function k_({type:e,reducerName:t,createNotation:n},r,i){let o,u;if("reducer"in r){if(n&&!$_(r))throw new Error(cr(17));o=r.reducer,u=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?Pr(e,u):Pr(e))}function __(e){return e._reducerDefinitionType==="asyncThunk"}function $_(e){return e._reducerDefinitionType==="reducerWithPrepare"}function I_({type:e,reducerName:t},n,r,i){if(!i)throw new Error(cr(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:h,settled:m,options:g}=n,x=i(e,o,g);r.exposeAction(t,x),u&&r.addCase(x.fulfilled,u),f&&r.addCase(x.pending,f),h&&r.addCase(x.rejected,h),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:u||Yu,pending:f||Yu,rejected:h||Yu,settled:m||Yu})}function Yu(){}var R_="task",tC="listener",nC="completed",Qp="cancelled",L_=`task-${Qp}`,B_=`task-${nC}`,X0=`${tC}-${Qp}`,U_=`${tC}-${nC}`,df=class{constructor(e){this.code=e,this.message=`${R_} ${Qp} (reason: ${e})`}name="TaskAbortError";message},Jp=(e,t)=>{if(typeof e!="function")throw new TypeError(cr(32))},Nd=()=>{},rC=(e,t=Nd)=>(e.catch(t),e),aC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rs=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},as=e=>{if(e.aborted){const{reason:t}=e;throw new df(t)}};function lC(e,t){let n=Nd;return new Promise((r,i)=>{const o=()=>i(new df(e.reason));if(e.aborted){o();return}n=aC(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Nd})}var z_=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof df?"cancelled":"rejected",error:n}}finally{t?.()}},Sd=e=>t=>rC(lC(e,t).then(n=>(as(e),n))),sC=e=>{const t=Sd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:li}=Object,Kj={},ff="listenerMiddleware",q_=(e,t)=>{const n=r=>aC(e,()=>rs(r,e.reason));return(r,i)=>{Jp(r);const o=new AbortController;n(o);const u=z_(async()=>{as(e),as(o.signal);const f=await r({pause:Sd(o.signal),delay:sC(o.signal),signal:o.signal});return as(o.signal),f},()=>rs(o,B_));return i?.autoJoin&&t.push(u.catch(Nd)),{result:Sd(e)(u),cancel(){rs(o,L_)}}}},H_=(e,t)=>{const n=async(r,i)=>{as(t);let o=()=>{};const f=[new Promise((h,m)=>{let g=e({predicate:r,effect:(x,y)=>{y.unsubscribe(),h([x,y.getState(),y.getOriginalState()])}});o=()=>{g(),m()}})];i!=null&&f.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await lC(t,Promise.race(f));return as(t),h}finally{o()}};return(r,i)=>rC(n(r,i))},iC=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Pr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(cr(21));return Jp(o),{predicate:i,type:t,effect:o}},oC=li(e=>{const{type:t,predicate:n,effect:r}=iC(e);return{id:D_(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(cr(22))}}},{withTypes:()=>oC}),Yj=(e,t)=>{const{type:n,effect:r,predicate:i}=iC(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},V0=e=>{e.pending.forEach(t=>{rs(t,X0)})},F_=e=>()=>{e.forEach(V0),e.clear()},Gj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},cC=li(Pr(`${ff}/add`),{withTypes:()=>cC}),K_=Pr(`${ff}/removeAll`),uC=li(Pr(`${ff}/remove`),{withTypes:()=>uC}),Y_=(...e)=>{console.error(`${ff}/error`,...e)},uc=(e={})=>{const t=new Map,{extra:n,onError:r=Y_}=e;Jp(r);const i=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x?.cancelActive&&V0(g)}),o=g=>{const x=Yj(t,g)??oC(g);return i(x)};li(o,{withTypes:()=>o});const u=g=>{const x=Yj(t,g);return x&&(x.unsubscribe(),g.cancelActive&&V0(x)),!!x};li(u,{withTypes:()=>u});const f=async(g,x,y,b)=>{const j=new AbortController,N=H_(o,j.signal),S=[];try{g.pending.add(j),await Promise.resolve(g.effect(x,li({},y,{getOriginalState:b,condition:(A,T)=>N(A,T).then(Boolean),take:N,delay:sC(j.signal),pause:Sd(j.signal),extra:n,signal:j.signal,fork:q_(j.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((A,T,D)=>{A!==j&&(rs(A,X0),D.delete(A))})},cancel:()=>{rs(j,X0),g.pending.delete(j)},throwIfCancelled:()=>{as(j.signal)}})))}catch(A){A instanceof df||Gj(r,A,{raisedBy:"effect"})}finally{await Promise.all(S),rs(j,U_),g.pending.delete(j)}},h=F_(t);return{middleware:g=>x=>y=>{if(!FA(y))return x(y);if(cC.match(y))return o(y.payload);if(K_.match(y)){h();return}if(uC.match(y))return u(y.payload);let b=g.getState();const j=()=>{if(b===Kj)throw new Error(cr(23));return b};let N;try{if(N=x(y),t.size>0){const S=g.getState(),A=Array.from(t.values());for(const T of A){let D=!1;try{D=T.predicate(y,S,b)}catch(O){D=!1,Gj(r,O,{raisedBy:"predicate"})}D&&f(T,y,g,j)}}}finally{b=Kj}return N},startListening:o,stopListening:u,clearListeners:h}};function cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G_={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},dC=hr({name:"chartLayout",initialState:G_,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:X_,setLayout:V_,setChartSize:W_,setScale:Z_}=dC.actions,Q_=dC.reducer;function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){J_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J_(e,t,n){return(t=e$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e$(e){var t=t$(e,"string");return typeof t=="symbol"?t:t+""}function t$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ad=Math.PI/180,n$=e=>e*180/Math.PI,tn=(e,t,n,r)=>({x:e+Math.cos(-Ad*r)*n,y:t+Math.sin(-Ad*r)*n}),fC=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},r$=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},a$=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,u=r$({x:n,y:r},{x:i,y:o});if(u<=0)return{radius:u,angle:0};var f=(n-i)/u,h=Math.acos(f);return r>o&&(h=2*Math.PI-h),{radius:u,angle:n$(h),angleInRadian:h}},l$=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},s$=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),u=Math.min(i,o);return e+u*360},i$=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=a$({x:n,y:r},t),{innerRadius:u,outerRadius:f}=t;if(i<u||i>f||i===0)return null;var{startAngle:h,endAngle:m}=l$(t),g=o,x;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=h}return x?Vj(Vj({},t),{},{radius:i,angle:s$(g,t)}):null};function mC(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){o$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o$(e,t,n){return(t=c$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c$(e){var t=u$(e,"string");return typeof t=="symbol"?t:t+""}function u$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t,n){return vn(e)||vn(t)?n:Jr(t)?os(e,t,n):typeof t=="function"?t(e):n}var d$=(e,t,n,r,i)=>{var o,u=-1,f=(o=t?.length)!==null&&o!==void 0?o:0;if(f<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var h=0;h<f;h++){var m=h>0?n[h-1].coordinate:n[f-1].coordinate,g=n[h].coordinate,x=h>=f-1?n[0].coordinate:n[h+1].coordinate,y=void 0;if(yn(g-m)!==yn(x-g)){var b=[];if(yn(x-g)===yn(i[1]-i[0])){y=x;var j=g+i[1]-i[0];b[0]=Math.min(j,(j+m)/2),b[1]=Math.max(j,(j+m)/2)}else{y=m;var N=x+i[1]-i[0];b[0]=Math.min(g,(N+g)/2),b[1]=Math.max(g,(N+g)/2)}var S=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:u}=n[h]);break}}else{var A=Math.min(m,x),T=Math.max(m,x);if(e>(A+g)/2&&e<=(T+g)/2){({index:u}=n[h]);break}}}else if(t){for(var D=0;D<f;D++)if(D===0&&e<=(t[D].coordinate+t[D+1].coordinate)/2||D>0&&D<f-1&&e>(t[D].coordinate+t[D-1].coordinate)/2&&e<=(t[D].coordinate+t[D+1].coordinate)/2||D===f-1&&e>(t[D].coordinate+t[D-1].coordinate)/2){({index:u}=t[D]);break}}return u},f$=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:u,layout:f}=t;if((f==="vertical"||f==="horizontal"&&u==="middle")&&o!=="center"&&Fe(e[o]))return Tr(Tr({},e),{},{[o]:e[o]+(r||0)});if((f==="horizontal"||f==="vertical"&&o==="center")&&u!=="middle"&&Fe(e[u]))return Tr(Tr({},e),{},{[u]:e[u]+(i||0)})}return e},hs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",hC=(e,t,n,r)=>{if(r)return e.map(f=>f.coordinate);var i,o,u=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===n&&(o=!0),f.coordinate));return i||u.push(t),o||u.push(n),u},gC=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:u,realScaleType:f,isCategorical:h,categoricalDomain:m,tickCount:g,ticks:x,niceTicks:y,axisType:b}=e;if(!u)return null;var j=f==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,N=i==="category"&&u.bandwidth?u.bandwidth()/j:0;if(N=b==="angleAxis"&&o&&o.length>=2?yn(o[0]-o[1])*2*N:N,x||y){var S=(x||y||[]).map((A,T)=>{var D=r?r.indexOf(A):A;return{coordinate:u(D)+N,value:A,offset:N,index:T}});return S.filter(A=>!dr(A.coordinate))}return h&&m?m.map((A,T)=>({coordinate:u(A)+N,value:A,index:T,offset:N})):u.ticks&&g!=null?u.ticks(g).map((A,T)=>({coordinate:u(A)+N,value:A,offset:N,index:T})):u.domain().map((A,T)=>({coordinate:u(A)+N,value:r?r[A]:A,index:T,offset:N}))},Zj=1e-4,m$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Zj,o=Math.max(r[0],r[1])+Zj,u=e(t[0]),f=e(t[n-1]);(u<i||u>o||f<i||f>o)&&e.domain([t[0],t[n-1]])}},h$=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Fe(e[0])||e[0]<n)&&(i[0]=n),(!Fe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},g$=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,u=0;u<t;++u){var f=dr(e[u][n][1])?e[u][n][0]:e[u][n][1];f>=0?(e[u][n][0]=i,e[u][n][1]=i+f,i=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+f,o=e[u][n][1])}},p$=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var u=dr(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},x$={sign:g$,expand:V6,none:oi,silhouette:W6,wiggle:Z6,positive:p$},y$=(e,t,n)=>{var r=x$[n],i=X6().keys(t).value((o,u)=>+zt(o,u,0)).order(U0).offset(r);return i(e)};function v$(e){return e==null?void 0:String(e)}var Qj=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+r:null;var f=zt(o,t.dataKey,t.scale.domain()[u]);return vn(f)?null:t.scale(f)-i/2+r},b$=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},w$=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},j$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],N$=(e,t,n)=>{if(e!=null)return j$(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:u}=o,f=u.reduce((h,m)=>{var g=mC(m,t,n),x=w$(g);return[Math.min(h[0],x[0]),Math.max(h[1],x[1])]},[1/0,-1/0]);return[Math.min(f[0],r[0]),Math.max(f[1],r[1])]},[1/0,-1/0]))},Jj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ex=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=sf(t,g=>g.coordinate),o=1/0,u=1,f=i.length;u<f;u++){var h=i[u],m=i[u-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function tN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Tr(Tr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function mf(e,t){if(e)return String(e);if(typeof t=="string")return t}function S$(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?i$({x:e,y:t},r):null}var A$=(e,t,n,r)=>{var i=t.find(m=>m&&m.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:u}=r;return Tr(Tr(Tr({},r),tn(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var f=i.coordinate,{angle:h}=r;return Tr(Tr(Tr({},r),tn(r.cx,r.cy,f,h)),{},{angle:h,radius:f})}return{x:0,y:0}},C$=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ra=e=>e.layout.width,La=e=>e.layout.height,D$=e=>e.layout.scale,pC=e=>e.layout.margin,hf=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gf=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xC="data-recharts-item-index",yC="data-recharts-item-data-key",dc=60;function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){E$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E$(e,t,n){return(t=T$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T$(e){var t=O$(e,"string");return typeof t=="symbol"?t:t+""}function O$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P$=e=>e.brush.height;function M$(e){var t=gf(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dc;return n+i}return n},0)}function k$(e){var t=gf(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dc;return n+i}return n},0)}function _$(e){var t=hf(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $$(e){var t=hf(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var on=de([Ra,La,pC,P$,M$,k$,_$,$$,zA,Jk],(e,t,n,r,i,o,u,f,h,m)=>{var g={left:(n.left||0)+i,right:(n.right||0)+o},x={top:(n.top||0)+u,bottom:(n.bottom||0)+f},y=Gu(Gu({},x),g),b=y.bottom;y.bottom+=r,y=f$(y,h,m);var j=e-y.left-y.right,N=t-y.top-y.bottom;return Gu(Gu({brushBottom:b},y),{},{width:Math.max(j,0),height:Math.max(N,0)})}),I$=de(on,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),tx=de(Ra,La,(e,t)=>({x:0,y:0,width:e,height:t})),R$=w.createContext(null),_r=()=>w.useContext(R$)!=null,pf=e=>e.brush,xf=de([pf,on,pC],(e,t,n)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Fe(e.width)?e.width:t.width})),nx=()=>{var e,t=_r(),n=qe(I$),r=qe(xf),i=(e=qe(pf))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},L$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vC=()=>{var e;return(e=qe(on))!==null&&e!==void 0?e:L$},bC=()=>qe(Ra),wC=()=>qe(La),gt=e=>e.layout.layoutType,rx=()=>qe(gt),B$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jC=hr({name:"legend",initialState:B$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ca(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:vY,setLegendSettings:bY,addLegendPayload:NC,removeLegendPayload:SC}=jC.actions,U$=jC.reducer;function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){z$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z$(e,t,n){return(t=q$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q$(e){var t=H$(e,"string");return typeof t=="symbol"?t:t+""}function H$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F$(e){return Array.isArray(e)&&Jr(e[0])&&Jr(e[1])?e.join(" ~ "):e}var K$=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:u,itemSorter:f,wrapperClassName:h,labelClassName:m,label:g,labelFormatter:x,accessibilityLayer:y=!1}=e,b=()=>{if(o&&o.length){var E={padding:0,margin:0},P=(f?sf(o,f):o).map((M,I)=>{if(M.type==="none")return null;var R=M.formatter||u||F$,{value:U,name:V}=M,H=U,W=V;if(R){var Q=R(U,V,M,I,o);if(Array.isArray(Q))[H,W]=Q;else if(Q!=null)H=Q;else return null}var ve=Zg({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ve},Jr(W)?w.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Jr(W)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},H),w.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:E},P)}return null},j=Zg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),N=Zg({margin:0},i),S=!vn(g),A=S?g:"",T=Dt("recharts-default-tooltip",h),D=Dt("recharts-tooltip-label",m);S&&x&&o!==void 0&&o!==null&&(A=x(g,o));var O=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",W0({className:T,style:j},O),w.createElement("p",{className:D,style:N},w.isValidElement(A)?A:"".concat(A)),b())},Po="recharts-tooltip-wrapper",Y$={visibility:"hidden"};function G$(e){var{coordinate:t,translateX:n,translateY:r}=e;return Dt(Po,{["".concat(Po,"-right")]:Fe(n)&&t&&Fe(t.x)&&n>=t.x,["".concat(Po,"-left")]:Fe(n)&&t&&Fe(t.x)&&n<t.x,["".concat(Po,"-bottom")]:Fe(r)&&t&&Fe(t.y)&&r>=t.y,["".concat(Po,"-top")]:Fe(r)&&t&&Fe(t.y)&&r<t.y})}function aN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:u,tooltipDimension:f,viewBox:h,viewBoxDimension:m}=e;if(o&&Fe(o[r]))return o[r];var g=n[r]-f-(i>0?i:0),x=n[r]+i;if(t[r])return u[r]?g:x;var y=h[r];if(y==null)return 0;if(u[r]){var b=g,j=y;return b<j?Math.max(x,y):Math.max(g,y)}if(m==null)return 0;var N=x+f,S=y+m;return N>S?Math.max(g,y):Math.max(x,y)}function X$(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function V$(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:u,useTranslate3d:f,viewBox:h}=e,m,g,x;return u.height>0&&u.width>0&&n?(g=aN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),x=aN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),m=X$({translateX:g,translateY:x,useTranslate3d:f})):m=Y$,{cssProperties:m,cssClasses:G$({translateX:g,translateY:x,coordinate:n})}}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){Z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z0(e,t,n){return(t=W$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W$(e){var t=Z$(e,"string");return typeof t=="symbol"?t:t+""}function Z$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Q$ extends w.PureComponent{constructor(){super(...arguments),Z0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Z0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:u,hasPayload:f,isAnimationActive:h,offset:m,position:g,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:j,lastBoundingBox:N,innerRef:S,hasPortalFromProps:A}=this.props,{cssClasses:T,cssProperties:D}=V$({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:{height:N.height,width:N.width},useTranslate3d:y,viewBox:b}),O=A?{}:Xu(Xu({transition:h&&t?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),E=Xu(Xu({},O),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},j);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:E,ref:S},o)}}var J$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gs={devToolsEnabled:!1,isSsr:J$()},AC=()=>qe(e=>e.rootProps.accessibilityLayer);function mr(e){return Number.isFinite(e)}function ui(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){eI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eI(e,t,n){return(t=tI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tI(e){var t=nI(e,"string");return typeof t=="symbol"?t:t+""}function nI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oN={curveBasisClosed:R6,curveBasisOpen:L6,curveBasis:I6,curveBumpX:j6,curveBumpY:N6,curveLinearClosed:B6,curveLinear:af,curveMonotoneX:U6,curveMonotoneY:z6,curveNatural:q6,curveStep:H6,curveStepAfter:K6,curveStepBefore:F6},Vu=e=>mr(e.x)&&mr(e.y),Mo=e=>e.x,ko=e=>e.y,rI=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(oc(e));return(n==="curveMonotone"||n==="curveBump")&&t?oN["".concat(n).concat(t==="vertical"?"Y":"X")]:oN[n]||af},aI=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,u=rI(t,i),f=o?n.filter(Vu):n,h;if(Array.isArray(r)){var m=o?r.filter(x=>Vu(x)):r,g=f.map((x,y)=>iN(iN({},x),{},{base:m[y]}));return i==="vertical"?h=zu().y(ko).x1(Mo).x0(x=>x.base.x):h=zu().x(Mo).y1(ko).y0(x=>x.base.y),h.defined(Vu).curve(u),h(g)}return i==="vertical"&&Fe(r)?h=zu().y(ko).x1(Mo).x0(r):Fe(r)?h=zu().x(Mo).y1(ko).y0(r):h=xA().x(Mo).y(ko),h.defined(Vu).curve(u),h(f)},CC=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?aI(e):r;return w.createElement("path",Q0({},Dl(e),o6(e),{className:Dt("recharts-curve",t),d:o===null?void 0:o,ref:i}))},lI=["x","y","top","left","width","height","className"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(null,arguments)}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){iI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iI(e,t,n){return(t=oI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(e){var t=cI(e,"string");return typeof t=="symbol"?t:t+""}function cI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uI(e,t){if(e==null)return{};var n,r,i=dI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fI=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),mI=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:u=0,className:f}=e,h=uI(e,lI),m=sI({x:t,y:n,top:r,left:i,width:o,height:u},h);return!Fe(t)||!Fe(n)||!Fe(o)||!Fe(u)||!Fe(r)||!Fe(i)?null:w.createElement("path",J0({},sn(m,!0),{className:Dt("recharts-cross",f),d:fI(t,n,o,u,r,i)}))};function hI(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function uN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(n),!0).forEach(function(r){pI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pI(e,t,n){return(t=xI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xI(e){var t=yI(e,"string");return typeof t=="symbol"?t:t+""}function yI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bn(e,t){var n=gI({},e),r=t,i=Object.keys(t),o=i.reduce((u,f)=>(u[f]===void 0&&r[f]!==void 0&&(u[f]=r[f]),u),n);return o}function vI(){}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){bI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bI(e,t,n){return(t=wI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wI(e){var t=jI(e,"string");return typeof t=="symbol"?t:t+""}function jI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DC=(e,t,n)=>e.map(r=>"".concat(NI(r)," ").concat(t,"ms ").concat(n)).join(","),SI=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Xo=(e,t)=>Object.keys(t).reduce((n,r)=>fN(fN({},n),{},{[r]:e(r,t[r])}),{});function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){AI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AI(e,t,n){return(t=CI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CI(e){var t=DI(e,"string");return typeof t=="symbol"?t:t+""}function DI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cd=(e,t,n)=>e+(t-e)*n,ep=e=>{var{from:t,to:n}=e;return t!==n},EC=(e,t,n)=>{var r=Xo((i,o)=>{if(ep(o)){var[u,f]=e(o.from,o.to,o.velocity);return Dn(Dn({},o),{},{from:u,velocity:f})}return o},t);return n<1?Xo((i,o)=>ep(o)?Dn(Dn({},o),{},{velocity:Cd(o.velocity,r[i].velocity,n),from:Cd(o.from,r[i].from,n)}):o,t):EC(e,r,n-1)};function EI(e,t,n,r,i,o){var u,f=r.reduce((y,b)=>Dn(Dn({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),h=()=>Xo((y,b)=>b.from,f),m=()=>!Object.values(f).filter(ep).length,g=null,x=y=>{u||(u=y);var b=y-u,j=b/n.dt;f=EC(n,f,j),i(Dn(Dn(Dn({},e),t),h())),u=y,m()||(g=o.setTimeout(x))};return()=>(g=o.setTimeout(x),()=>{g()})}function TI(e,t,n,r,i,o,u){var f=null,h=i.reduce((x,y)=>Dn(Dn({},x),{},{[y]:[e[y],t[y]]}),{}),m,g=x=>{m||(m=x);var y=(x-m)/r,b=Xo((N,S)=>Cd(...S,n(y)),h);if(o(Dn(Dn(Dn({},e),t),b)),y<1)f=u.setTimeout(g);else{var j=Xo((N,S)=>Cd(...S,n(1)),h);o(Dn(Dn(Dn({},e),t),j))}};return()=>(f=u.setTimeout(g),()=>{f()})}const OI=(e,t,n,r,i,o)=>{var u=SI(e,t);return n.isStepper===!0?EI(e,t,n,u,i,o):TI(e,t,n,r,u,i,o)};var Dd=1e-4,TC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OC=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),hN=(e,t)=>n=>{var r=TC(e,t);return OC(r,n)},PI=(e,t)=>n=>{var r=TC(e,t),i=[...r.map((o,u)=>o*u).slice(1),0];return OC(i,n)},gN=function(){for(var t,n,r,i,o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];if(u.length===1)switch(u[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var h=u[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([t,r,n,i]=h[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else u.length===4&&([t,r,n,i]=u);var m=hN(t,n),g=hN(r,i),x=PI(t,n),y=j=>j>1?1:j<0?0:j,b=j=>{for(var N=j>1?1:j,S=N,A=0;A<8;++A){var T=m(S)-N,D=x(S);if(Math.abs(T-N)<Dd||D<Dd)return g(S);S=y(S-T/D)}return g(S)};return b.isStepper=!1,b},MI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(u,f,h)=>{var m=-(u-f)*n,g=h*r,x=h+(m-g)*i/1e3,y=h*i/1e3+u;return Math.abs(y-f)<Dd&&Math.abs(x)<Dd?[f,0]:[y,x]};return o.isStepper=!0,o.dt=i,o},kI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gN(e);case"spring":return MI();default:if(e.split("(")[0]==="cubic-bezier")return gN(e)}return typeof e=="function"?e:null};function _I(e){var t,n=()=>null,r=!1,i=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var f=u,[h,...m]=f;if(typeof h=="number"){i=e.setTimeout(o.bind(null,m),h);return}o(h),i=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,i&&(i(),i=null),o(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class $I{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=u=>{u-r>=n?t(u):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function II(){return _I(new $I)}var RI=w.createContext(II);function LI(e,t){var n=w.useContext(RI);return w.useMemo(()=>t??n(e),[e,t,n])}var BI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},pN={t:0},Qg={t:1};function yf(e){var t=Bn(e,BI),{isActive:n,canBegin:r,duration:i,easing:o,begin:u,onAnimationEnd:f,onAnimationStart:h,children:m}=t,g=LI(t.animationId,t.animationManager),[x,y]=w.useState(n?pN:Qg),b=w.useRef(null);return w.useEffect(()=>{n||y(Qg)},[n]),w.useEffect(()=>{if(!n||!r)return vI;var j=OI(pN,Qg,kI(o),i,y,g.getTimeoutController()),N=()=>{b.current=j()};return g.start([h,u,N,i,f]),()=>{g.stop(),b.current&&b.current(),f()}},[n,r,i,o,u,h,f,g]),m(x.t)}function vf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Ko(t)),r=w.useRef(e);return r.current!==e&&(n.current=Ko(t),r.current=e),n.current}function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){UI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UI(e,t,n){return(t=zI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zI(e){var t=qI(e,"string");return typeof t=="symbol"?t:t+""}function qI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(null,arguments)}var vN=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,f=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,m;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],x=0,y=4;x<y;x++)g[x]=i[x]>o?o:i[x];m="M".concat(e,",").concat(t+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(e+f*g[0],",").concat(t)),m+="L ".concat(e+n-f*g[1],",").concat(t),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(t+u*g[1])),m+="L ".concat(e+n,",").concat(t+r-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(e+n-f*g[2],",").concat(t+r)),m+="L ".concat(e+f*g[3],",").concat(t+r),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+r-u*g[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);m="M ".concat(e,",").concat(t+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+f*b,",").concat(t,`
            L `).concat(e+n-f*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+n,",").concat(t+u*b,`
            L `).concat(e+n,",").concat(t+r-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+n-f*b,",").concat(t+r,`
            L `).concat(e+f*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e,",").concat(t+r-u*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},HI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PC=e=>{var t=Bn(e,HI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:o,y:u,width:f,height:h,radius:m,className:g}=t,{animationEasing:x,animationDuration:y,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:N}=t,S=w.useRef(f),A=w.useRef(h),T=w.useRef(o),D=w.useRef(u),O=w.useMemo(()=>({x:o,y:u,width:f,height:h,radius:m}),[o,u,f,h,m]),E=vf(O,"rectangle-");if(o!==+o||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var P=Dt("recharts-rectangle",g);if(!N)return w.createElement("path",Ed({},sn(t,!0),{className:P,d:vN(o,u,f,h,m)}));var M=S.current,I=A.current,R=T.current,U=D.current,V="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),W=DC(["strokeDasharray"],y,typeof x=="string"?x:void 0);return w.createElement(yf,{animationId:E,key:E,canBegin:r>0,duration:y,easing:x,isActive:N,begin:b},Q=>{var ve=En(M,f,Q),Y=En(I,h,Q),re=En(R,o,Q),ge=En(U,u,Q);n.current&&(S.current=ve,A.current=Y,T.current=re,D.current=ge);var Ee;return j?Q>0?Ee={transition:W,strokeDasharray:H}:Ee={strokeDasharray:V}:Ee={strokeDasharray:H},w.createElement("path",Ed({},sn(t,!0),{className:P,d:vN(re,ge,ve,Y,m),ref:n,style:yN(yN({},Ee),t.style)}))})};function MC(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,u=tn(t,n,r,i),f=tn(t,n,r,o);return{points:[u,f],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tp.apply(null,arguments)}var FI=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Wu=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:u,cornerRadius:f,cornerIsExternal:h}=e,m=f*(u?1:-1)+r,g=Math.asin(f/m)/Ad,x=h?i:i+o*g,y=tn(t,n,m,x),b=tn(t,n,r,x),j=h?i-o*g:i,N=tn(t,n,m*Math.cos(g*Ad),j);return{center:y,circleTangency:b,lineTangency:N,theta:g}},kC=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:u}=e,f=FI(o,u),h=o+f,m=tn(t,n,i,o),g=tn(t,n,i,h),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var y=tn(t,n,r,o),b=tn(t,n,r,h);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=h),`,
            `).concat(y.x,",").concat(y.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},KI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}=e,g=yn(m-h),{circleTangency:x,lineTangency:y,theta:b}=Wu({cx:t,cy:n,radius:i,angle:h,sign:g,cornerRadius:o,cornerIsExternal:f}),{circleTangency:j,lineTangency:N,theta:S}=Wu({cx:t,cy:n,radius:i,angle:m,sign:-g,cornerRadius:o,cornerIsExternal:f}),A=f?Math.abs(h-m):Math.abs(h-m)-b-S;if(A<0)return u?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kC({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:m});var T="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(N.x,",").concat(N.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:O,theta:E}=Wu({cx:t,cy:n,radius:r,angle:h,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),{circleTangency:P,lineTangency:M,theta:I}=Wu({cx:t,cy:n,radius:r,angle:m,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),R=f?Math.abs(h-m):Math.abs(h-m)-E-I;if(R<0&&o===0)return"".concat(T,"L").concat(t,",").concat(n,"Z");T+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(g>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(O.x,",").concat(O.y,"Z")}else T+="L".concat(t,",").concat(n,"Z");return T},YI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_C=e=>{var t=Bn(e,YI),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:u,forceCornerRadius:f,cornerIsExternal:h,startAngle:m,endAngle:g,className:x}=t;if(o<i||m===g)return null;var y=Dt("recharts-sector",x),b=o-i,j=$n(u,b,0,!0),N;return j>0&&Math.abs(m-g)<360?N=KI({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(j,b/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:m,endAngle:g}):N=kC({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:m,endAngle:g}),w.createElement("path",tp({},sn(t,!0),{className:y,d:N}))};function GI(e,t,n){var r,i,o,u;if(e==="horizontal")r=t.x,o=r,i=n.top,u=n.top+n.height;else if(e==="vertical")i=t.y,u=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:f,cy:h,innerRadius:m,outerRadius:g,angle:x}=t,y=tn(f,h,m,x),b=tn(f,h,g,x);r=y.x,i=y.y,o=b.x,u=b.y}else return MC(t);return[{x:r,y:i},{x:o,y:u}]}var Jg={},e0={},t0={},bN;function XI(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(t0)),t0}var wN;function VI(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(e0)),e0}var jN;function WI(){return jN||(jN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA(),n=VI();function r(i,o,u){u&&typeof u!="number"&&t.isIterateeCall(i,o,u)&&(o=u=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),u=u===void 0?i<o?1:-1:n.toFinite(u);const f=Math.max(Math.ceil((o-i)/(u||1)),0),h=new Array(f);for(let m=0;m<f;m++)h[m]=i,i+=u;return h}e.range=r})(Jg)),Jg}var n0,NN;function ZI(){return NN||(NN=1,n0=WI().range),n0}var QI=ZI();const $C=Ia(QI);function wl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JI(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ax(e){let t,n,r;e.length!==2?(t=wl,n=(f,h)=>wl(e(f),h),r=(f,h)=>e(f)-h):(t=e===wl||e===JI?e:eR,n=e,r=e);function i(f,h,m=0,g=f.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;n(f[x],h)<0?m=x+1:g=x}while(m<g)}return m}function o(f,h,m=0,g=f.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;n(f[x],h)<=0?m=x+1:g=x}while(m<g)}return m}function u(f,h,m=0,g=f.length){const x=i(f,h,m,g-1);return x>m&&r(f[x-1],h)>-r(f[x],h)?x-1:x}return{left:i,center:u,right:o}}function eR(){return 0}function IC(e){return e===null?NaN:+e}function*tR(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const nR=ax(wl),fc=nR.right;ax(IC).center;class SN extends Map{constructor(t,n=lR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(AN(this,t))}has(t){return super.has(AN(this,t))}set(t,n){return super.set(rR(this,t),n)}delete(t){return super.delete(aR(this,t))}}function AN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function aR({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function lR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sR(e=wl){if(e===wl)return RC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function RC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iR=Math.sqrt(50),oR=Math.sqrt(10),cR=Math.sqrt(2);function Td(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=iR?10:o>=oR?5:o>=cR?2:1;let f,h,m;return i<0?(m=Math.pow(10,-i)/u,f=Math.round(e*m),h=Math.round(t*m),f/m<e&&++f,h/m>t&&--h,m=-m):(m=Math.pow(10,i)*u,f=Math.round(e/m),h=Math.round(t/m),f*m<e&&++f,h*m>t&&--h),h<f&&.5<=n&&n<2?Td(e,t,n*2):[f,h,m]}function np(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,u]=r?Td(t,e,n):Td(e,t,n);if(!(o>=i))return[];const f=o-i+1,h=new Array(f);if(r)if(u<0)for(let m=0;m<f;++m)h[m]=(o-m)/-u;else for(let m=0;m<f;++m)h[m]=(o-m)*u;else if(u<0)for(let m=0;m<f;++m)h[m]=(i+m)/-u;else for(let m=0;m<f;++m)h[m]=(i+m)*u;return h}function rp(e,t,n){return t=+t,e=+e,n=+n,Td(e,t,n)[2]}function ap(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?rp(t,e,n):rp(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function CN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function DN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function LC(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?RC:sR(i);r>n;){if(r-n>600){const h=r-n+1,m=t-n+1,g=Math.log(h),x=.5*Math.exp(2*g/3),y=.5*Math.sqrt(g*x*(h-x)/h)*(m-h/2<0?-1:1),b=Math.max(n,Math.floor(t-m*x/h+y)),j=Math.min(r,Math.floor(t+(h-m)*x/h+y));LC(e,t,b,j,i)}const o=e[t];let u=n,f=r;for(_o(e,n,t),i(e[r],o)>0&&_o(e,n,r);u<f;){for(_o(e,u,f),++u,--f;i(e[u],o)<0;)++u;for(;i(e[f],o)>0;)--f}i(e[n],o)===0?_o(e,n,f):(++f,_o(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function _o(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uR(e,t,n){if(e=Float64Array.from(tR(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return DN(e);if(t>=1)return CN(e);var r,i=(r-1)*t,o=Math.floor(i),u=CN(LC(e,o).subarray(0,o+1)),f=DN(e.subarray(o+1));return u+(f-u)*(i-o)}}function dR(e,t,n=IC){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),u=+n(e[o],o,e),f=+n(e[o+1],o+1,e);return u+(f-u)*(i-o)}}function fR(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lp=Symbol("implicit");function lx(){var e=new SN,t=[],n=[],r=lp;function i(o){let u=e.get(o);if(u===void 0){if(r!==lp)return r;e.set(o,u=t.push(o)-1)}return n[u%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new SN;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lx(t,n).unknown(r)},$r.apply(i,arguments),i}function sx(){var e=lx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,u,f=!1,h=0,m=0,g=.5;delete e.unknown;function x(){var y=t().length,b=i<r,j=b?i:r,N=b?r:i;o=(N-j)/Math.max(1,y-h+m*2),f&&(o=Math.floor(o)),j+=(N-j-o*(y-h))*g,u=o*(1-h),f&&(j=Math.round(j),u=Math.round(u));var S=fR(y).map(function(A){return j+o*A});return n(b?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),x()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,x()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,f=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(y){return arguments.length?(f=!!y,x()):f},e.padding=function(y){return arguments.length?(h=Math.min(1,m=+y),x()):h},e.paddingInner=function(y){return arguments.length?(h=Math.min(1,y),x()):h},e.paddingOuter=function(y){return arguments.length?(m=+y,x()):m},e.align=function(y){return arguments.length?(g=Math.max(0,Math.min(1,y)),x()):g},e.copy=function(){return sx(t(),[r,i]).round(f).paddingInner(h).paddingOuter(m).align(g)},$r.apply(x(),arguments)}function BC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BC(t())},e}function mR(){return BC(sx.apply(null,arguments).paddingInner(1))}function ix(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function UC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mc(){}var Vo=.7,Od=1/Vo,si="\\s*([+-]?\\d+)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hR=/^#([0-9a-f]{3,8})$/,gR=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),pR=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),xR=new RegExp(`^rgba\\(${si},${si},${si},${Wo}\\)$`),yR=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Wo}\\)$`),vR=new RegExp(`^hsl\\(${Wo},${Qr},${Qr}\\)$`),bR=new RegExp(`^hsla\\(${Wo},${Qr},${Qr},${Wo}\\)$`),EN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ix(mc,Zo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TN,formatHex:TN,formatHex8:wR,formatHsl:jR,formatRgb:ON,toString:ON});function TN(){return this.rgb().formatHex()}function wR(){return this.rgb().formatHex8()}function jR(){return zC(this).formatHsl()}function ON(){return this.rgb().formatRgb()}function Zo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?PN(t):n===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gR.exec(e))?new Gn(t[1],t[2],t[3],1):(t=pR.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xR.exec(e))?Zu(t[1],t[2],t[3],t[4]):(t=yR.exec(e))?Zu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vR.exec(e))?_N(t[1],t[2]/100,t[3]/100,1):(t=bR.exec(e))?_N(t[1],t[2]/100,t[3]/100,t[4]):EN.hasOwnProperty(e)?PN(EN[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function PN(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function Zu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gn(e,t,n,r)}function NR(e){return e instanceof mc||(e=Zo(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function sp(e,t,n,r){return arguments.length===1?NR(e):new Gn(e,t,n,r??1)}function Gn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ix(Gn,sp,UC(mc,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(ls(this.r),ls(this.g),ls(this.b),Pd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MN,formatHex:MN,formatHex8:SR,formatRgb:kN,toString:kN}));function MN(){return`#${es(this.r)}${es(this.g)}${es(this.b)}`}function SR(){return`#${es(this.r)}${es(this.g)}${es(this.b)}${es((isNaN(this.opacity)?1:this.opacity)*255)}`}function kN(){const e=Pd(this.opacity);return`${e===1?"rgb(":"rgba("}${ls(this.r)}, ${ls(this.g)}, ${ls(this.b)}${e===1?")":`, ${e})`}`}function Pd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ls(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function es(e){return e=ls(e),(e<16?"0":"")+e.toString(16)}function _N(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zr(e,t,n,r)}function zC(e){if(e instanceof zr)return new zr(e.h,e.s,e.l,e.opacity);if(e instanceof mc||(e=Zo(e)),!e)return new zr;if(e instanceof zr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,f=o-i,h=(o+i)/2;return f?(t===o?u=(n-r)/f+(n<r)*6:n===o?u=(r-t)/f+2:u=(t-n)/f+4,f/=h<.5?o+i:2-o-i,u*=60):f=h>0&&h<1?0:u,new zr(u,f,h,e.opacity)}function AR(e,t,n,r){return arguments.length===1?zC(e):new zr(e,t,n,r??1)}function zr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ix(zr,AR,UC(mc,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gn(r0(e>=240?e-240:e+120,i,r),r0(e,i,r),r0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zr($N(this.h),Qu(this.s),Qu(this.l),Pd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pd(this.opacity);return`${e===1?"hsl(":"hsla("}${$N(this.h)}, ${Qu(this.s)*100}%, ${Qu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $N(e){return e=(e||0)%360,e<0?e+360:e}function Qu(e){return Math.max(0,Math.min(1,e||0))}function r0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ox=e=>()=>e;function CR(e,t){return function(n){return e+n*t}}function DR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ER(e){return(e=+e)==1?qC:function(t,n){return n-t?DR(t,n,e):ox(isNaN(t)?n:t)}}function qC(e,t){var n=t-e;return n?CR(e,n):ox(isNaN(e)?t:e)}const IN=(function e(t){var n=ER(t);function r(i,o){var u=n((i=sp(i)).r,(o=sp(o)).r),f=n(i.g,o.g),h=n(i.b,o.b),m=qC(i.opacity,o.opacity);return function(g){return i.r=u(g),i.g=f(g),i.b=h(g),i.opacity=m(g),i+""}}return r.gamma=e,r})(1);function TR(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function OR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PR(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)i[u]=Si(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(f){for(u=0;u<r;++u)o[u]=i[u](f);return o}}function MR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Md(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kR(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Si(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ip=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a0=new RegExp(ip.source,"g");function _R(e){return function(){return e}}function $R(e){return function(t){return e(t)+""}}function IR(e,t){var n=ip.lastIndex=a0.lastIndex=0,r,i,o,u=-1,f=[],h=[];for(e=e+"",t=t+"";(r=ip.exec(e))&&(i=a0.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),f[u]?f[u]+=o:f[++u]=o),(r=r[0])===(i=i[0])?f[u]?f[u]+=i:f[++u]=i:(f[++u]=null,h.push({i:u,x:Md(r,i)})),n=a0.lastIndex;return n<t.length&&(o=t.slice(n),f[u]?f[u]+=o:f[++u]=o),f.length<2?h[0]?$R(h[0].x):_R(t):(t=h.length,function(m){for(var g=0,x;g<t;++g)f[(x=h[g]).i]=x.x(m);return f.join("")})}function Si(e,t){var n=typeof t,r;return t==null||n==="boolean"?ox(t):(n==="number"?Md:n==="string"?(r=Zo(t))?(t=r,IN):IR:t instanceof Zo?IN:t instanceof Date?MR:OR(t)?TR:Array.isArray(t)?PR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kR:Md)(e,t)}function cx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RR(e,t){t===void 0&&(t=e,e=Si);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(u){var f=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[f](u-f)}}function LR(e){return function(){return e}}function kd(e){return+e}var RN=[0,1];function Ln(e){return e}function op(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:LR(isNaN(t)?NaN:.5)}function BR(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function UR(e,t,n){var r=e[0],i=e[1],o=t[0],u=t[1];return i<r?(r=op(i,r),o=n(u,o)):(r=op(r,i),o=n(o,u)),function(f){return o(r(f))}}function zR(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=op(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(f){var h=fc(e,f,1,r)-1;return o[h](i[h](f))}}function hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bf(){var e=RN,t=RN,n=Si,r,i,o,u=Ln,f,h,m;function g(){var y=Math.min(e.length,t.length);return u!==Ln&&(u=BR(e[0],e[y-1])),f=y>2?zR:UR,h=m=null,x}function x(y){return y==null||isNaN(y=+y)?o:(h||(h=f(e.map(r),t,n)))(r(u(y)))}return x.invert=function(y){return u(i((m||(m=f(t,e.map(r),Md)))(y)))},x.domain=function(y){return arguments.length?(e=Array.from(y,kd),g()):e.slice()},x.range=function(y){return arguments.length?(t=Array.from(y),g()):t.slice()},x.rangeRound=function(y){return t=Array.from(y),n=cx,g()},x.clamp=function(y){return arguments.length?(u=y?!0:Ln,g()):u!==Ln},x.interpolate=function(y){return arguments.length?(n=y,g()):n},x.unknown=function(y){return arguments.length?(o=y,x):o},function(y,b){return r=y,i=b,g()}}function ux(){return bf()(Ln,Ln)}function qR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _d(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function di(e){return e=_d(Math.abs(e)),e?e[1]:NaN}function HR(e,t){return function(n,r){for(var i=n.length,o=[],u=0,f=e[0],h=0;i>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),o.push(n.substring(i-=f,i+f)),!((h+=f+1)>r));)f=e[u=(u+1)%e.length];return o.reverse().join(t)}}function FR(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var KR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qo(e){if(!(t=KR.exec(e)))throw new Error("invalid format: "+e);var t;return new dx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qo.prototype=dx.prototype;function dx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YR(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var HC;function GR(e,t){var n=_d(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(HC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_d(e,Math.max(0,t+o-1))[0]}function LN(e,t){var n=_d(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LN(e*100,t),r:LN,s:GR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UN(e){return e}var zN=Array.prototype.map,qN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XR(e){var t=e.grouping===void 0||e.thousands===void 0?UN:HR(zN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?UN:FR(zN.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(x){x=Qo(x);var y=x.fill,b=x.align,j=x.sign,N=x.symbol,S=x.zero,A=x.width,T=x.comma,D=x.precision,O=x.trim,E=x.type;E==="n"?(T=!0,E="g"):BN[E]||(D===void 0&&(D=12),O=!0,E="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var P=N==="$"?n:N==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",M=N==="$"?r:/[%p]/.test(E)?u:"",I=BN[E],R=/[defgprs%]/.test(E);D=D===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function U(V){var H=P,W=M,Q,ve,Y;if(E==="c")W=I(V)+W,V="";else{V=+V;var re=V<0||1/V<0;if(V=isNaN(V)?h:I(Math.abs(V),D),O&&(V=YR(V)),re&&+V==0&&j!=="+"&&(re=!1),H=(re?j==="("?j:f:j==="-"||j==="("?"":j)+H,W=(E==="s"?qN[8+HC/3]:"")+W+(re&&j==="("?")":""),R){for(Q=-1,ve=V.length;++Q<ve;)if(Y=V.charCodeAt(Q),48>Y||Y>57){W=(Y===46?i+V.slice(Q+1):V.slice(Q))+W,V=V.slice(0,Q);break}}}T&&!S&&(V=t(V,1/0));var ge=H.length+V.length+W.length,Ee=ge<A?new Array(A-ge+1).join(y):"";switch(T&&S&&(V=t(Ee+V,Ee.length?A-W.length:1/0),Ee=""),b){case"<":V=H+V+W+Ee;break;case"=":V=H+Ee+V+W;break;case"^":V=Ee.slice(0,ge=Ee.length>>1)+H+V+W+Ee.slice(ge);break;default:V=Ee+H+V+W;break}return o(V)}return U.toString=function(){return x+""},U}function g(x,y){var b=m((x=Qo(x),x.type="f",x)),j=Math.max(-8,Math.min(8,Math.floor(di(y)/3)))*3,N=Math.pow(10,-j),S=qN[8+j/3];return function(A){return b(N*A)+S}}return{format:m,formatPrefix:g}}var Ju,fx,FC;VR({thousands:",",grouping:[3],currency:["$",""]});function VR(e){return Ju=XR(e),fx=Ju.format,FC=Ju.formatPrefix,Ju}function WR(e){return Math.max(0,-di(Math.abs(e)))}function ZR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(di(t)/3)))*3-di(Math.abs(e)))}function QR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,di(t)-di(e))+1}function KC(e,t,n,r){var i=ap(e,t,n),o;switch(r=Qo(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=ZR(i,u))&&(r.precision=o),FC(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=QR(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=WR(i))&&(r.precision=o-(r.type==="%")*2);break}}return fx(r)}function El(e){var t=e.domain;return e.ticks=function(n){var r=t();return np(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return KC(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,u=r[i],f=r[o],h,m,g=10;for(f<u&&(m=u,u=f,f=m,m=i,i=o,o=m);g-- >0;){if(m=rp(u,f,n),m===h)return r[i]=u,r[o]=f,t(r);if(m>0)u=Math.floor(u/m)*m,f=Math.ceil(f/m)*m;else if(m<0)u=Math.ceil(u*m)/m,f=Math.floor(f*m)/m;else break;h=m}return e},e}function YC(){var e=ux();return e.copy=function(){return hc(e,YC())},$r.apply(e,arguments),El(e)}function GC(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,kd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return GC(e).unknown(t)},e=arguments.length?Array.from(e,kd):[0,1],El(n)}function XC(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],u;return o<i&&(u=n,n=r,r=u,u=i,i=o,o=u),e[n]=t.floor(i),e[r]=t.ceil(o),e}function HN(e){return Math.log(e)}function FN(e){return Math.exp(e)}function JR(e){return-Math.log(-e)}function eL(e){return-Math.exp(-e)}function tL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nL(e){return e===10?tL:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rL(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KN(e){return(t,n)=>-e(-t,n)}function mx(e){const t=e(HN,FN),n=t.domain;let r=10,i,o;function u(){return i=rL(r),o=nL(r),n()[0]<0?(i=KN(i),o=KN(o),e(JR,eL)):e(HN,FN),t}return t.base=function(f){return arguments.length?(r=+f,u()):r},t.domain=function(f){return arguments.length?(n(f),u()):n()},t.ticks=f=>{const h=n();let m=h[0],g=h[h.length-1];const x=g<m;x&&([m,g]=[g,m]);let y=i(m),b=i(g),j,N;const S=f==null?10:+f;let A=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),m>0){for(;y<=b;++y)for(j=1;j<r;++j)if(N=y<0?j/o(-y):j*o(y),!(N<m)){if(N>g)break;A.push(N)}}else for(;y<=b;++y)for(j=r-1;j>=1;--j)if(N=y>0?j/o(-y):j*o(y),!(N<m)){if(N>g)break;A.push(N)}A.length*2<S&&(A=np(m,g,S))}else A=np(y,b,Math.min(b-y,S)).map(o);return x?A.reverse():A},t.tickFormat=(f,h)=>{if(f==null&&(f=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Qo(h)).precision==null&&(h.trim=!0),h=fx(h)),f===1/0)return h;const m=Math.max(1,r*f/t.ticks().length);return g=>{let x=g/o(Math.round(i(g)));return x*r<r-.5&&(x*=r),x<=m?h(g):""}},t.nice=()=>n(XC(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),t}function VC(){const e=mx(bf()).domain([1,10]);return e.copy=()=>hc(e,VC()).base(e.base()),$r.apply(e,arguments),e}function YN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hx(e){var t=1,n=e(YN(t),GN(t));return n.constant=function(r){return arguments.length?e(YN(t=+r),GN(t)):t},El(n)}function WC(){var e=hx(bf());return e.copy=function(){return hc(e,WC()).constant(e.constant())},$r.apply(e,arguments)}function XN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function aL(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lL(e){return e<0?-e*e:e*e}function gx(e){var t=e(Ln,Ln),n=1;function r(){return n===1?e(Ln,Ln):n===.5?e(aL,lL):e(XN(n),XN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},El(t)}function px(){var e=gx(bf());return e.copy=function(){return hc(e,px()).exponent(e.exponent())},$r.apply(e,arguments),e}function sL(){return px.apply(null,arguments).exponent(.5)}function VN(e){return Math.sign(e)*e*e}function iL(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZC(){var e=ux(),t=[0,1],n=!1,r;function i(o){var u=iL(e(o));return isNaN(u)?r:n?Math.round(u):u}return i.invert=function(o){return e.invert(VN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,kd)).map(VN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ZC(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},$r.apply(i,arguments),El(i)}function QC(){var e=[],t=[],n=[],r;function i(){var u=0,f=Math.max(1,t.length);for(n=new Array(f-1);++u<f;)n[u-1]=dR(e,u/f);return o}function o(u){return u==null||isNaN(u=+u)?r:t[fc(n,u)]}return o.invertExtent=function(u){var f=t.indexOf(u);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let f of u)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(wl),i()},o.range=function(u){return arguments.length?(t=Array.from(u),i()):t.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return QC().domain(e).range(t).unknown(r)},$r.apply(o,arguments)}function JC(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function u(h){return h!=null&&h<=h?i[fc(r,h,0,n)]:o}function f(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return u}return u.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,f()):[e,t]},u.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,f()):i.slice()},u.invertExtent=function(h){var m=i.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},u.unknown=function(h){return arguments.length&&(o=h),u},u.thresholds=function(){return r.slice()},u.copy=function(){return JC().domain([e,t]).range(i).unknown(o)},$r.apply(El(u),arguments)}function eD(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[fc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eD().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}const l0=new Date,s0=new Date;function cn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const u=i(o),f=i.ceil(o);return o-u<f-o?u:f},i.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,f)=>{const h=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<u)||!(f>0))return h;let m;do h.push(m=new Date(+o)),t(o,f),e(o);while(m<o&&o<u);return h},i.filter=o=>cn(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!o(u););else for(;--f>=0;)for(;t(u,1),!o(u););}),n&&(i.count=(o,u)=>(l0.setTime(+o),s0.setTime(+u),e(l0),e(s0),Math.floor(n(l0,s0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const $d=cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$d.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$d);$d.range;const ja=1e3,Or=ja*60,Na=Or*60,ka=Na*24,xx=ka*7,WN=ka*30,i0=ka*365,ts=cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCSeconds());ts.range;const yx=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getMinutes());yx.range;const vx=cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCMinutes());vx.range;const bx=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja-e.getMinutes()*Or)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getHours());bx.range;const wx=cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCHours());wx.range;const gc=cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Or)/ka,e=>e.getDate()-1);gc.range;const wf=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ka,e=>e.getUTCDate()-1);wf.range;const tD=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ka,e=>Math.floor(e/ka));tD.range;function ps(e){return cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Or)/xx)}const jf=ps(0),Id=ps(1),oL=ps(2),cL=ps(3),fi=ps(4),uL=ps(5),dL=ps(6);jf.range;Id.range;oL.range;cL.range;fi.range;uL.range;dL.range;function xs(e){return cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xx)}const Nf=xs(0),Rd=xs(1),fL=xs(2),mL=xs(3),mi=xs(4),hL=xs(5),gL=xs(6);Nf.range;Rd.range;fL.range;mL.range;mi.range;hL.range;gL.range;const jx=cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jx.range;const Nx=cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nx.range;const _a=cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_a.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_a.range;const $a=cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$a.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$a.range;function nD(e,t,n,r,i,o){const u=[[ts,1,ja],[ts,5,5*ja],[ts,15,15*ja],[ts,30,30*ja],[o,1,Or],[o,5,5*Or],[o,15,15*Or],[o,30,30*Or],[i,1,Na],[i,3,3*Na],[i,6,6*Na],[i,12,12*Na],[r,1,ka],[r,2,2*ka],[n,1,xx],[t,1,WN],[t,3,3*WN],[e,1,i0]];function f(m,g,x){const y=g<m;y&&([m,g]=[g,m]);const b=x&&typeof x.range=="function"?x:h(m,g,x),j=b?b.range(m,+g+1):[];return y?j.reverse():j}function h(m,g,x){const y=Math.abs(g-m)/x,b=ax(([,,S])=>S).right(u,y);if(b===u.length)return e.every(ap(m/i0,g/i0,x));if(b===0)return $d.every(Math.max(ap(m,g,x),1));const[j,N]=u[y/u[b-1][2]<u[b][2]/y?b-1:b];return j.every(N)}return[f,h]}const[pL,xL]=nD($a,Nx,Nf,tD,wx,vx),[yL,vL]=nD(_a,jx,jf,gc,bx,yx);function o0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function c0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $o(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function bL(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,u=e.shortDays,f=e.months,h=e.shortMonths,m=Io(i),g=Ro(i),x=Io(o),y=Ro(o),b=Io(u),j=Ro(u),N=Io(f),S=Ro(f),A=Io(h),T=Ro(h),D={a:re,A:ge,b:Ee,B:$,c:null,d:nS,e:nS,f:HL,g:JL,G:t8,H:UL,I:zL,j:qL,L:rD,m:FL,M:KL,p:ie,q:L,Q:lS,s:sS,S:YL,u:GL,U:XL,V:VL,w:WL,W:ZL,x:null,X:null,y:QL,Y:e8,Z:n8,"%":aS},O={a:ce,A:Ne,b:Ce,B:me,c:null,d:rS,e:rS,f:s8,g:p8,G:y8,H:r8,I:a8,j:l8,L:lD,m:i8,M:o8,p:_,q,Q:lS,s:sS,S:c8,u:u8,U:d8,V:f8,w:m8,W:h8,x:null,X:null,y:g8,Y:x8,Z:v8,"%":aS},E={a:U,A:V,b:H,B:W,c:Q,d:eS,e:eS,f:IL,g:JN,G:QN,H:tS,I:tS,j:ML,L:$L,m:PL,M:kL,p:R,q:OL,Q:LL,s:BL,S:_L,u:AL,U:CL,V:DL,w:SL,W:EL,x:ve,X:Y,y:JN,Y:QN,Z:TL,"%":RL};D.x=P(n,D),D.X=P(r,D),D.c=P(t,D),O.x=P(n,O),O.X=P(r,O),O.c=P(t,O);function P(B,le){return function(ne){var z=[],G=-1,F=0,X=B.length,he,J,ye;for(ne instanceof Date||(ne=new Date(+ne));++G<X;)B.charCodeAt(G)===37&&(z.push(B.slice(F,G)),(J=ZN[he=B.charAt(++G)])!=null?he=B.charAt(++G):J=he==="e"?" ":"0",(ye=le[he])&&(he=ye(ne,J)),z.push(he),F=G+1);return z.push(B.slice(F,G)),z.join("")}}function M(B,le){return function(ne){var z=$o(1900,void 0,1),G=I(z,B,ne+="",0),F,X;if(G!=ne.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(le&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(F=c0($o(z.y,0,1)),X=F.getUTCDay(),F=X>4||X===0?Rd.ceil(F):Rd(F),F=wf.offset(F,(z.V-1)*7),z.y=F.getUTCFullYear(),z.m=F.getUTCMonth(),z.d=F.getUTCDate()+(z.w+6)%7):(F=o0($o(z.y,0,1)),X=F.getDay(),F=X>4||X===0?Id.ceil(F):Id(F),F=gc.offset(F,(z.V-1)*7),z.y=F.getFullYear(),z.m=F.getMonth(),z.d=F.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),X="Z"in z?c0($o(z.y,0,1)).getUTCDay():o0($o(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(X+5)%7:z.w+z.U*7-(X+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,c0(z)):o0(z)}}function I(B,le,ne,z){for(var G=0,F=le.length,X=ne.length,he,J;G<F;){if(z>=X)return-1;if(he=le.charCodeAt(G++),he===37){if(he=le.charAt(G++),J=E[he in ZN?le.charAt(G++):he],!J||(z=J(B,ne,z))<0)return-1}else if(he!=ne.charCodeAt(z++))return-1}return z}function R(B,le,ne){var z=m.exec(le.slice(ne));return z?(B.p=g.get(z[0].toLowerCase()),ne+z[0].length):-1}function U(B,le,ne){var z=b.exec(le.slice(ne));return z?(B.w=j.get(z[0].toLowerCase()),ne+z[0].length):-1}function V(B,le,ne){var z=x.exec(le.slice(ne));return z?(B.w=y.get(z[0].toLowerCase()),ne+z[0].length):-1}function H(B,le,ne){var z=A.exec(le.slice(ne));return z?(B.m=T.get(z[0].toLowerCase()),ne+z[0].length):-1}function W(B,le,ne){var z=N.exec(le.slice(ne));return z?(B.m=S.get(z[0].toLowerCase()),ne+z[0].length):-1}function Q(B,le,ne){return I(B,t,le,ne)}function ve(B,le,ne){return I(B,n,le,ne)}function Y(B,le,ne){return I(B,r,le,ne)}function re(B){return u[B.getDay()]}function ge(B){return o[B.getDay()]}function Ee(B){return h[B.getMonth()]}function $(B){return f[B.getMonth()]}function ie(B){return i[+(B.getHours()>=12)]}function L(B){return 1+~~(B.getMonth()/3)}function ce(B){return u[B.getUTCDay()]}function Ne(B){return o[B.getUTCDay()]}function Ce(B){return h[B.getUTCMonth()]}function me(B){return f[B.getUTCMonth()]}function _(B){return i[+(B.getUTCHours()>=12)]}function q(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var le=P(B+="",D);return le.toString=function(){return B},le},parse:function(B){var le=M(B+="",!1);return le.toString=function(){return B},le},utcFormat:function(B){var le=P(B+="",O);return le.toString=function(){return B},le},utcParse:function(B){var le=M(B+="",!0);return le.toString=function(){return B},le}}}var ZN={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,wL=/^%/,jL=/[\\^$*+?|[\]().{}]/g;function ht(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function NL(e){return e.replace(jL,"\\$&")}function Io(e){return new RegExp("^(?:"+e.map(NL).join("|")+")","i")}function Ro(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function SL(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function AL(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function CL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function DL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function EL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function QN(e,t,n){var r=bn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function JN(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function OL(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function PL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function eS(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ML(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function tS(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _L(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function $L(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function IL(e,t,n){var r=bn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RL(e,t,n){var r=wL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function LL(e,t,n){var r=bn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function BL(e,t,n){var r=bn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function nS(e,t){return ht(e.getDate(),t,2)}function UL(e,t){return ht(e.getHours(),t,2)}function zL(e,t){return ht(e.getHours()%12||12,t,2)}function qL(e,t){return ht(1+gc.count(_a(e),e),t,3)}function rD(e,t){return ht(e.getMilliseconds(),t,3)}function HL(e,t){return rD(e,t)+"000"}function FL(e,t){return ht(e.getMonth()+1,t,2)}function KL(e,t){return ht(e.getMinutes(),t,2)}function YL(e,t){return ht(e.getSeconds(),t,2)}function GL(e){var t=e.getDay();return t===0?7:t}function XL(e,t){return ht(jf.count(_a(e)-1,e),t,2)}function aD(e){var t=e.getDay();return t>=4||t===0?fi(e):fi.ceil(e)}function VL(e,t){return e=aD(e),ht(fi.count(_a(e),e)+(_a(e).getDay()===4),t,2)}function WL(e){return e.getDay()}function ZL(e,t){return ht(Id.count(_a(e)-1,e),t,2)}function QL(e,t){return ht(e.getFullYear()%100,t,2)}function JL(e,t){return e=aD(e),ht(e.getFullYear()%100,t,2)}function e8(e,t){return ht(e.getFullYear()%1e4,t,4)}function t8(e,t){var n=e.getDay();return e=n>=4||n===0?fi(e):fi.ceil(e),ht(e.getFullYear()%1e4,t,4)}function n8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function rS(e,t){return ht(e.getUTCDate(),t,2)}function r8(e,t){return ht(e.getUTCHours(),t,2)}function a8(e,t){return ht(e.getUTCHours()%12||12,t,2)}function l8(e,t){return ht(1+wf.count($a(e),e),t,3)}function lD(e,t){return ht(e.getUTCMilliseconds(),t,3)}function s8(e,t){return lD(e,t)+"000"}function i8(e,t){return ht(e.getUTCMonth()+1,t,2)}function o8(e,t){return ht(e.getUTCMinutes(),t,2)}function c8(e,t){return ht(e.getUTCSeconds(),t,2)}function u8(e){var t=e.getUTCDay();return t===0?7:t}function d8(e,t){return ht(Nf.count($a(e)-1,e),t,2)}function sD(e){var t=e.getUTCDay();return t>=4||t===0?mi(e):mi.ceil(e)}function f8(e,t){return e=sD(e),ht(mi.count($a(e),e)+($a(e).getUTCDay()===4),t,2)}function m8(e){return e.getUTCDay()}function h8(e,t){return ht(Rd.count($a(e)-1,e),t,2)}function g8(e,t){return ht(e.getUTCFullYear()%100,t,2)}function p8(e,t){return e=sD(e),ht(e.getUTCFullYear()%100,t,2)}function x8(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function y8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mi(e):mi.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function v8(){return"+0000"}function aS(){return"%"}function lS(e){return+e}function sS(e){return Math.floor(+e/1e3)}var ti,iD,oD;b8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b8(e){return ti=bL(e),iD=ti.format,ti.parse,oD=ti.utcFormat,ti.utcParse,ti}function w8(e){return new Date(e)}function j8(e){return e instanceof Date?+e:+new Date(+e)}function Sx(e,t,n,r,i,o,u,f,h,m){var g=ux(),x=g.invert,y=g.domain,b=m(".%L"),j=m(":%S"),N=m("%I:%M"),S=m("%I %p"),A=m("%a %d"),T=m("%b %d"),D=m("%B"),O=m("%Y");function E(P){return(h(P)<P?b:f(P)<P?j:u(P)<P?N:o(P)<P?S:r(P)<P?i(P)<P?A:T:n(P)<P?D:O)(P)}return g.invert=function(P){return new Date(x(P))},g.domain=function(P){return arguments.length?y(Array.from(P,j8)):y().map(w8)},g.ticks=function(P){var M=y();return e(M[0],M[M.length-1],P??10)},g.tickFormat=function(P,M){return M==null?E:m(M)},g.nice=function(P){var M=y();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?y(XC(M,P)):g},g.copy=function(){return hc(g,Sx(e,t,n,r,i,o,u,f,h,m))},g}function N8(){return $r.apply(Sx(yL,vL,_a,jx,jf,gc,bx,yx,ts,iD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S8(){return $r.apply(Sx(pL,xL,$a,Nx,Nf,wf,wx,vx,ts,oD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sf(){var e=0,t=1,n,r,i,o,u=Ln,f=!1,h;function m(x){return x==null||isNaN(x=+x)?h:u(i===0?.5:(x=(o(x)-n)*i,f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(y){var b,j;return arguments.length?([b,j]=y,u=x(b,j),m):[u(0),u(1)]}}return m.range=g(Si),m.rangeRound=g(cx),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return o=x,n=x(e),r=x(t),i=n===r?0:1/(r-n),m}}function Tl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cD(){var e=El(Sf()(Ln));return e.copy=function(){return Tl(e,cD())},Ba.apply(e,arguments)}function uD(){var e=mx(Sf()).domain([1,10]);return e.copy=function(){return Tl(e,uD()).base(e.base())},Ba.apply(e,arguments)}function dD(){var e=hx(Sf());return e.copy=function(){return Tl(e,dD()).constant(e.constant())},Ba.apply(e,arguments)}function Ax(){var e=gx(Sf());return e.copy=function(){return Tl(e,Ax()).exponent(e.exponent())},Ba.apply(e,arguments)}function A8(){return Ax.apply(null,arguments).exponent(.5)}function fD(){var e=[],t=Ln;function n(r){if(r!=null&&!isNaN(r=+r))return t((fc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(wl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>uR(e,o/r))},n.copy=function(){return fD(t).domain(e)},Ba.apply(n,arguments)}function Af(){var e=0,t=.5,n=1,r=1,i,o,u,f,h,m=Ln,g,x=!1,y;function b(N){return isNaN(N=+N)?y:(N=.5+((N=+g(N))-o)*(r*N<r*o?f:h),m(x?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,n]=N,i=g(e=+e),o=g(t=+t),u=g(n=+n),f=i===o?0:.5/(o-i),h=o===u?0:.5/(u-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(N){return arguments.length?(x=!!N,b):x},b.interpolator=function(N){return arguments.length?(m=N,b):m};function j(N){return function(S){var A,T,D;return arguments.length?([A,T,D]=S,m=RR(N,[A,T,D]),b):[m(0),m(.5),m(1)]}}return b.range=j(Si),b.rangeRound=j(cx),b.unknown=function(N){return arguments.length?(y=N,b):y},function(N){return g=N,i=N(e),o=N(t),u=N(n),f=i===o?0:.5/(o-i),h=o===u?0:.5/(u-o),r=o<i?-1:1,b}}function mD(){var e=El(Af()(Ln));return e.copy=function(){return Tl(e,mD())},Ba.apply(e,arguments)}function hD(){var e=mx(Af()).domain([.1,1,10]);return e.copy=function(){return Tl(e,hD()).base(e.base())},Ba.apply(e,arguments)}function gD(){var e=hx(Af());return e.copy=function(){return Tl(e,gD()).constant(e.constant())},Ba.apply(e,arguments)}function Cx(){var e=gx(Af());return e.copy=function(){return Tl(e,Cx()).exponent(e.exponent())},Ba.apply(e,arguments)}function C8(){return Cx.apply(null,arguments).exponent(.5)}const Uo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sx,scaleDiverging:mD,scaleDivergingLog:hD,scaleDivergingPow:Cx,scaleDivergingSqrt:C8,scaleDivergingSymlog:gD,scaleIdentity:GC,scaleImplicit:lp,scaleLinear:YC,scaleLog:VC,scaleOrdinal:lx,scalePoint:mR,scalePow:px,scaleQuantile:QC,scaleQuantize:JC,scaleRadial:ZC,scaleSequential:cD,scaleSequentialLog:uD,scaleSequentialPow:Ax,scaleSequentialQuantile:fD,scaleSequentialSqrt:A8,scaleSequentialSymlog:dD,scaleSqrt:sL,scaleSymlog:WC,scaleThreshold:eD,scaleTime:N8,scaleUtc:S8,tickFormat:KC},Symbol.toStringTag,{value:"Module"}));var Ol=e=>e.chartData,Dx=de([Ol],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ex=(e,t,n,r)=>r?Dx(e):Ol(e);function hi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(mr(t)&&mr(n))return!0}return!1}function iS(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function D8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(mr(n))i=n;else if(typeof n=="function")return;if(mr(r))o=r;else if(typeof r=="function")return;var u=[i,o];if(hi(u))return u}}function E8(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(hi(r))return iS(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,u,f;if(i==="auto")t!=null&&(u=Math.min(...t));else if(Fe(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t?.[0]))}catch{}else if(typeof i=="string"&&Jj.test(i)){var h=Jj.exec(i);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(f=Math.max(...t));else if(Fe(o))f=o;else if(typeof o=="function")try{t!=null&&(f=o(t?.[1]))}catch{}else if(typeof o=="string"&&eN.test(o)){var g=eN.exec(o);if(g==null||t==null)f=void 0;else{var x=+g[1];f=t[1]+x}}else f=t?.[1];var y=[u,f];if(hi(y))return t==null?y:iS(y,t,n)}}}var Ai=1e9,T8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ox,Rt=!0,Mr="[DecimalError] ",ss=Mr+"Invalid argument: ",Tx=Mr+"Exponent out of range: ",Ci=Math.floor,Ql=Math.pow,O8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,gn=1e7,_t=7,pD=9007199254740991,Ld=Ci(pD/_t),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(e){return Da(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,n=t.constructor;return Ot(Da(t,new n(e),0,1),n.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return nn(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ir))throw Error(Mr+"NaN");if(n.s<1)throw Error(Mr+(n.s?"NaN":"-Infinity"));return n.eq(ir)?new r(0):(Rt=!1,t=Da(Jo(n,o),Jo(e,o),o),Rt=!0,Ot(t,i))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vD(t,e):xD(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Mr+"NaN");return n.s?(Rt=!1,t=Da(n,e,0,1).times(e),Rt=!0,n.minus(t)):Ot(new r(n),i)};_e.naturalExponential=_e.exp=function(){return yD(this)};_e.naturalLogarithm=_e.ln=function(){return Jo(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xD(t,e):vD(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ss+e);if(t=nn(i)+1,r=i.d.length-1,n=r*_t+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};_e.squareRoot=_e.sqrt=function(){var e,t,n,r,i,o,u,f=this,h=f.constructor;if(f.s<1){if(!f.s)return new h(0);throw Error(Mr+"NaN")}for(e=nn(f),Rt=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Zr(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ci((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=u=n+3;;)if(o=r,r=o.plus(Da(f,o,u+2)).times(.5),Zr(o.d).slice(0,u)===(t=Zr(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),i==u&&t=="4999"){if(Ot(o,n+1,0),o.times(o).eq(f)){r=o;break}}else if(t!="9999")break;u+=4}return Rt=!0,Ot(r,n)};_e.times=_e.mul=function(e){var t,n,r,i,o,u,f,h,m,g=this,x=g.constructor,y=g.d,b=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,h=y.length,m=b.length,h<m&&(o=y,y=b,b=o,u=h,h=m,m=u),o=[],u=h+m,r=u;r--;)o.push(0);for(r=m;--r>=0;){for(t=0,i=h+r;i>r;)f=o[i]+b[r]*y[i-r-1]+t,o[i--]=f%gn|0,t=f/gn|0;o[i]=(o[i]+t)%gn|0}for(;!o[--u];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Rt?Ot(e,x.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ea(e,0,Ai),t===void 0?t=r.rounding:ea(t,0,8),Ot(n,e+nn(n)+1,t))};_e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ds(r,!0):(ea(e,0,Ai),t===void 0?t=i.rounding:ea(t,0,8),r=Ot(new i(r),e+1,t),n=ds(r,!0,e+1)),n};_e.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?ds(i):(ea(e,0,Ai),t===void 0?t=o.rounding:ea(t,0,8),r=Ot(new o(i),e+nn(i)+1,t),n=ds(r.abs(),!1,e+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return Ot(new t(e),nn(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,n,r,i,o,u,f=this,h=f.constructor,m=12,g=+(e=new h(e));if(!e.s)return new h(ir);if(f=new h(f),!f.s){if(e.s<1)throw Error(Mr+"Infinity");return f}if(f.eq(ir))return f;if(r=h.precision,e.eq(ir))return Ot(f,r);if(t=e.e,n=e.d.length-1,u=t>=n,o=f.s,u){if((n=g<0?-g:g)<=pD){for(i=new h(ir),t=Math.ceil(r/_t+4),Rt=!1;n%2&&(i=i.times(f),cS(i.d,t)),n=Ci(n/2),n!==0;)f=f.times(f),cS(f.d,t);return Rt=!0,e.s<0?new h(ir).div(i):Ot(i,r)}}else if(o<0)throw Error(Mr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,f.s=1,Rt=!1,i=e.times(Jo(f,r+m)),Rt=!0,i=yD(i),i.s=o,i};_e.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=nn(i),r=ds(i,n<=o.toExpNeg||n>=o.toExpPos)):(ea(e,1,Ai),t===void 0?t=o.rounding:ea(t,0,8),i=Ot(new o(i),e,t),n=nn(i),r=ds(i,e<=n||n<=o.toExpNeg,e)),r};_e.toSignificantDigits=_e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ea(e,1,Ai),t===void 0?t=r.rounding:ea(t,0,8)),Ot(new r(n),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nn(e),n=e.constructor;return ds(e,t<=n.toExpNeg||t>=n.toExpPos)};function xD(e,t){var n,r,i,o,u,f,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Rt?Ot(t,x):t;if(h=e.d,m=t.d,u=e.e,i=t.e,h=h.slice(),o=u-i,o){for(o<0?(r=h,o=-o,f=m.length):(r=m,i=u,f=h.length),u=Math.ceil(x/_t),f=u>f?u+1:f+1,o>f&&(o=f,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(f=h.length,o=m.length,f-o<0&&(o=f,r=m,m=h,h=r),n=0;o;)n=(h[--o]=h[o]+m[o]+n)/gn|0,h[o]%=gn;for(n&&(h.unshift(n),++i),f=h.length;h[--f]==0;)h.pop();return t.d=h,t.e=i,Rt?Ot(t,x):t}function ea(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ss+e)}function Zr(e){var t,n,r,i=e.length-1,o="",u=e[0];if(i>0){for(o+=u,t=1;t<i;t++)r=e[t]+"",n=_t-r.length,n&&(o+=hl(n)),o+=r;u=e[t],r=u+"",n=_t-r.length,n&&(o+=hl(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Da=(function(){function e(r,i){var o,u=0,f=r.length;for(r=r.slice();f--;)o=r[f]*i+u,r[f]=o%gn|0,u=o/gn|0;return u&&r.unshift(u),r}function t(r,i,o,u){var f,h;if(o!=u)h=o>u?1:-1;else for(f=h=0;f<o;f++)if(r[f]!=i[f]){h=r[f]>i[f]?1:-1;break}return h}function n(r,i,o){for(var u=0;o--;)r[o]-=u,u=r[o]<i[o]?1:0,r[o]=u*gn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,u){var f,h,m,g,x,y,b,j,N,S,A,T,D,O,E,P,M,I,R=r.constructor,U=r.s==i.s?1:-1,V=r.d,H=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Mr+"Division by zero");for(h=r.e-i.e,M=H.length,E=V.length,b=new R(U),j=b.d=[],m=0;H[m]==(V[m]||0);)++m;if(H[m]>(V[m]||0)&&--h,o==null?T=o=R.precision:u?T=o+(nn(r)-nn(i))+1:T=o,T<0)return new R(0);if(T=T/_t+2|0,m=0,M==1)for(g=0,H=H[0],T++;(m<E||g)&&T--;m++)D=g*gn+(V[m]||0),j[m]=D/H|0,g=D%H|0;else{for(g=gn/(H[0]+1)|0,g>1&&(H=e(H,g),V=e(V,g),M=H.length,E=V.length),O=M,N=V.slice(0,M),S=N.length;S<M;)N[S++]=0;I=H.slice(),I.unshift(0),P=H[0],H[1]>=gn/2&&++P;do g=0,f=t(H,N,M,S),f<0?(A=N[0],M!=S&&(A=A*gn+(N[1]||0)),g=A/P|0,g>1?(g>=gn&&(g=gn-1),x=e(H,g),y=x.length,S=N.length,f=t(x,N,y,S),f==1&&(g--,n(x,M<y?I:H,y))):(g==0&&(f=g=1),x=H.slice()),y=x.length,y<S&&x.unshift(0),n(N,x,S),f==-1&&(S=N.length,f=t(H,N,M,S),f<1&&(g++,n(N,M<S?I:H,S))),S=N.length):f===0&&(g++,N=[0]),j[m++]=g,f&&N[0]?N[S++]=V[O]||0:(N=[V[O]],S=1);while((O++<E||N[0]!==void 0)&&T--)}return j[0]||j.shift(),b.e=h,Ot(b,u?o+nn(b)+1:o)}})();function yD(e,t){var n,r,i,o,u,f,h=0,m=0,g=e.constructor,x=g.precision;if(nn(e)>16)throw Error(Tx+nn(e));if(!e.s)return new g(ir);for(Rt=!1,f=x,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(r=Math.log(Ql(2,m))/Math.LN10*2+5|0,f+=r,n=i=o=new g(ir),g.precision=f;;){if(i=Ot(i.times(e),f),n=n.times(++h),u=o.plus(Da(i,n,f)),Zr(u.d).slice(0,f)===Zr(o.d).slice(0,f)){for(;m--;)o=Ot(o.times(o),f);return g.precision=x,t==null?(Rt=!0,Ot(o,x)):o}o=u}}function nn(e){for(var t=e.e*_t,n=e.d[0];n>=10;n/=10)t++;return t}function u0(e,t,n){if(t>e.LN10.sd())throw Rt=!0,n&&(e.precision=n),Error(Mr+"LN10 precision limit exceeded");return Ot(new e(e.LN10),t)}function hl(e){for(var t="";e--;)t+="0";return t}function Jo(e,t){var n,r,i,o,u,f,h,m,g,x=1,y=10,b=e,j=b.d,N=b.constructor,S=N.precision;if(b.s<1)throw Error(Mr+(b.s?"NaN":"-Infinity"));if(b.eq(ir))return new N(0);if(t==null?(Rt=!1,m=S):m=t,b.eq(10))return t==null&&(Rt=!0),u0(N,m);if(m+=y,N.precision=m,n=Zr(j),r=n.charAt(0),o=nn(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Zr(b.d),r=n.charAt(0),x++;o=nn(b),r>1?(b=new N("0."+n),o++):b=new N(r+"."+n.slice(1))}else return h=u0(N,m+2,S).times(o+""),b=Jo(new N(r+"."+n.slice(1)),m-y).plus(h),N.precision=S,t==null?(Rt=!0,Ot(b,S)):b;for(f=u=b=Da(b.minus(ir),b.plus(ir),m),g=Ot(b.times(b),m),i=3;;){if(u=Ot(u.times(g),m),h=f.plus(Da(u,new N(i),m)),Zr(h.d).slice(0,m)===Zr(f.d).slice(0,m))return f=f.times(2),o!==0&&(f=f.plus(u0(N,m+2,S).times(o+""))),f=Da(f,new N(x),m),N.precision=S,t==null?(Rt=!0,Ot(f,S)):f;f=h,i+=2}}function oS(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ci(n/_t),e.d=[],r=(n+1)%_t,n<0&&(r+=_t),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=_t;r<i;)e.d.push(+t.slice(r,r+=_t));t=t.slice(r),r=_t-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Rt&&(e.e>Ld||e.e<-Ld))throw Error(Tx+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ot(e,t,n){var r,i,o,u,f,h,m,g,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(r=t-u,r<0)r+=_t,i=t,m=x[g=0];else{if(g=Math.ceil((r+1)/_t),o=x.length,g>=o)return e;for(m=o=x[g],u=1;o>=10;o/=10)u++;r%=_t,i=r-_t+u}if(n!==void 0&&(o=Ql(10,u-i-1),f=m/o%10|0,h=t<0||x[g+1]!==void 0||m%o,h=n<4?(f||h)&&(n==0||n==(e.s<0?3:2)):f>5||f==5&&(n==4||h||n==6&&(r>0?i>0?m/Ql(10,u-i):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return h?(o=nn(e),x.length=1,t=t-o-1,x[0]=Ql(10,(_t-t%_t)%_t),e.e=Ci(-t/_t)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,o=1,g--):(x.length=g+1,o=Ql(10,_t-r),x[g]=i>0?(m/Ql(10,u-i)%Ql(10,i)|0)*o:0),h)for(;;)if(g==0){(x[0]+=o)==gn&&(x[0]=1,++e.e);break}else{if(x[g]+=o,x[g]!=gn)break;x[g--]=0,o=1}for(r=x.length;x[--r]===0;)x.pop();if(Rt&&(e.e>Ld||e.e<-Ld))throw Error(Tx+nn(e));return e}function vD(e,t){var n,r,i,o,u,f,h,m,g,x,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Rt?Ot(t,b):t;if(h=e.d,x=t.d,r=t.e,m=e.e,h=h.slice(),u=m-r,u){for(g=u<0,g?(n=h,u=-u,f=x.length):(n=x,r=m,f=h.length),i=Math.max(Math.ceil(b/_t),f)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=h.length,f=x.length,g=i<f,g&&(f=i),i=0;i<f;i++)if(h[i]!=x[i]){g=h[i]<x[i];break}u=0}for(g&&(n=h,h=x,x=n,t.s=-t.s),f=h.length,i=x.length-f;i>0;--i)h[f++]=0;for(i=x.length;i>u;){if(h[--i]<x[i]){for(o=i;o&&h[--o]===0;)h[o]=gn-1;--h[o],h[i]+=gn}h[i]-=x[i]}for(;h[--f]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,Rt?Ot(t,b):t):new y(0)}function ds(e,t,n){var r,i=nn(e),o=Zr(e.d),u=o.length;return t?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+hl(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+hl(-i-1)+o,n&&(r=n-u)>0&&(o+=hl(r))):i>=u?(o+=hl(i+1-u),n&&(r=n-i-1)>0&&(o=o+"."+hl(r))):((r=i+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(o+="."),o+=hl(r))),e.s<0?"-"+o:o}function cS(e,t){if(e.length>t)return e.length=t,!0}function bD(e){var t,n,r;function i(o){var u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,o instanceof i){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ss+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return oS(u,o.toString())}else if(typeof o!="string")throw Error(ss+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,O8.test(o))oS(u,o);else throw Error(ss+o)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bD,i.config=i.set=P8,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function P8(e){if(!e||typeof e!="object")throw Error(Mr+"Object expected");var t,n,r,i=["precision",1,Ai,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ci(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ss+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ss+n+": "+r);return this}var Ox=bD(T8);ir=new Ox(1);const bt=Ox;var M8=e=>e,wD={},jD=e=>e===wD,uS=e=>function t(){return arguments.length===0||arguments.length===1&&jD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ND=(e,t)=>e===1?t:uS(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(u=>u!==wD).length;return o>=e?t(...r):ND(e-o,uS(function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];var m=r.map(g=>jD(g)?f.shift():g);return t(...m,...f)}))}),Cf=e=>ND(e.length,e),cp=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},k8=Cf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),_8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return M8;var i=n.reverse(),o=i[0],u=i.slice(1);return function(){return u.reduce((f,h)=>h(f),o(...arguments))}},up=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),SD=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((u,f)=>{var h;return u===((h=t)===null||h===void 0?void 0:h[f])})||(t=i,n=e(...i)),n}};function AD(e){var t;return e===0?t=1:t=Math.floor(new bt(e).abs().log(10).toNumber())+1,t}function CD(e,t,n){for(var r=new bt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Cf((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Cf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Cf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var DD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},ED=(e,t,n)=>{if(e.lte(0))return new bt(0);var r=AD(e.toNumber()),i=new bt(10).pow(r),o=e.div(i),u=r!==1?.05:.1,f=new bt(Math.ceil(o.div(u).toNumber())).add(n).mul(u),h=f.mul(i);return t?new bt(h.toNumber()):new bt(Math.ceil(h.toNumber()))},$8=(e,t,n)=>{var r=new bt(1),i=new bt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new bt(10).pow(AD(e)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new bt(Math.floor(e)))}else e===0?i=new bt(Math.floor((t-1)/2)):n||(i=new bt(Math.floor(e)));var u=Math.floor((t-1)/2),f=_8(k8(h=>i.add(new bt(h-u).mul(r)).toNumber()),cp);return f(0,t)},TD=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var u=ED(new bt(n).sub(t).div(r-1),i,o),f;t<=0&&n>=0?f=new bt(0):(f=new bt(t).add(n).div(2),f=f.sub(new bt(f).mod(u)));var h=Math.ceil(f.sub(t).div(u).toNumber()),m=Math.ceil(new bt(n).sub(f).div(u).toNumber()),g=h+m+1;return g>r?TD(t,n,r,i,o+1):(g<r&&(m=n>0?m+(r-g):m,h=n>0?h:h+(r-g)),{step:u,tickMin:f.sub(new bt(h).mul(u)),tickMax:f.add(new bt(m).mul(u))})};function I8(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[u,f]=DD([t,n]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...cp(0,r-1).map(()=>1/0)]:[...cp(0,r-1).map(()=>-1/0),f];return t>n?up(h):h}if(u===f)return $8(u,r,i);var{step:m,tickMin:g,tickMax:x}=TD(u,f,o,i,0),y=CD(g,x.add(new bt(.1).mul(m)),m);return t>n?up(y):y}function R8(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=DD([n,r]);if(o===-1/0||u===1/0)return[n,r];if(o===u)return[o];var f=Math.max(t,2),h=ED(new bt(u).sub(o).div(f-1),i,0),m=[...CD(new bt(o),new bt(u),h),u];return i===!1&&(m=m.map(g=>Math.round(g))),n>r?up(m):m}var L8=SD(I8),B8=SD(R8),OD=e=>e.rootProps.maxBarSize,U8=e=>e.rootProps.barGap,PD=e=>e.rootProps.barCategoryGap,z8=e=>e.rootProps.barSize,pc=e=>e.rootProps.stackOffset,Px=e=>e.options.chartName,Mx=e=>e.rootProps.syncId,MD=e=>e.rootProps.syncMethod,kx=e=>e.options.eventEmitter,ba={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Df=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},q8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ba.angleAxisId,includeHidden:!1,name:void 0,reversed:ba.reversed,scale:ba.scale,tick:ba.tick,tickCount:void 0,ticks:void 0,type:ba.type,unit:void 0},H8={allowDataOverflow:sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,ticks:void 0,type:sr.type,unit:void 0},F8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ba.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ba.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ba.scale,tick:ba.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},K8={allowDataOverflow:sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,ticks:void 0,type:"category",unit:void 0},_x=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?F8:q8,$x=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?K8:H8,Ef=e=>e.polarOptions,Ix=de([Ra,La,on],fC),kD=de([Ef,Ix],(e,t)=>{if(e!=null)return $n(e.innerRadius,t,0)}),_D=de([Ef,Ix],(e,t)=>{if(e!=null)return $n(e.outerRadius,t,t*.8)}),Y8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},$D=de([Ef],Y8);de([_x,$D],Df);var ID=de([Ix,kD,_D],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([$x,ID],Df);var RD=de([gt,Ef,kD,_D,Ra,La],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:u,cy:f,startAngle:h,endAngle:m}=t;return{cx:$n(u,i,i/2),cy:$n(f,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:m,clockWise:!1}}}),Bt=(e,t)=>t,xc=(e,t,n)=>n;function Rx(e){return e?.id}var un=e=>{var t=gt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Di=e=>e.tooltip.settings.axisId,wn=e=>{var t=un(e),n=Di(e);return yc(e,t,n)},LD=de([wn],e=>e?.dataKey);function BD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,u=new Map;return e.forEach(f=>{var h,m=(h=f.data)!==null&&h!==void 0?h:r;if(!(m==null||m.length===0)){var g=Rx(f);m.forEach((x,y)=>{var b=o==null||i?y:String(zt(x,o,null)),j=zt(x,f.dataKey,0),N;u.has(b)?N=u.get(b):N={},Object.assign(N,{[g]:j}),u.set(b,N)})}}),Array.from(u.values())}function Tf(e){return e.stackId!=null&&e.dataKey!=null}function dS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(n),!0).forEach(function(r){G8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G8(e,t,n){return(t=X8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dp=[0,"auto"],ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UD=(e,t)=>e.cartesianAxis.xAxis[t],Ua=(e,t)=>{var n=UD(e,t);return n??ar},lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dc},zD=(e,t)=>e.cartesianAxis.yAxis[t],za=(e,t)=>{var n=zD(e,t);return n??lr},W8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Lx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??W8},Qt=(e,t,n)=>{switch(t){case"xAxis":return Ua(e,n);case"yAxis":return za(e,n);case"zAxis":return Lx(e,n);case"angleAxis":return _x(e,n);case"radiusAxis":return $x(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Z8=(e,t,n)=>{switch(t){case"xAxis":return Ua(e,n);case"yAxis":return za(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yc=(e,t,n)=>{switch(t){case"xAxis":return Ua(e,n);case"yAxis":return za(e,n);case"angleAxis":return _x(e,n);case"radiusAxis":return $x(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Bx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Ux=e=>e.graphicalItems.cartesianItems,Q8=de([Bt,xc],Bx),zx=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),vc=de([Ux,Qt,Q8],zx),HD=de([vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tf)),FD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),KD=de([vc],FD),qx=e=>e.map(t=>t.data).filter(Boolean).flat(1),J8=de([vc],qx),Hx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Fx=de([J8,Ex],Hx),Kx=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:zt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:zt(i,r)}))):e.map(r=>({value:r})),Of=de([Fx,Qt,vc],Kx);function YD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ys(e){return e.filter(t=>Jr(t)||t instanceof Date).map(Number).filter(t=>dr(t)===!1)}function e7(e,t,n){return!n||typeof t!="number"||dr(t)?[]:n.length?ys(n.flatMap(r=>{var i=zt(e,r.dataKey),o,u;if(Array.isArray(i)?[o,u]=i:o=u=i,!(!mr(o)||!mr(u)))return[t-o,t+u]})):[]}var t7=de([HD,Ex,wn],BD),GD=(e,t,n)=>{var r={},i=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[u,f]=o,h=f.map(Rx);return[u,{stackedData:y$(e,h,n),graphicalItems:f}]}))},fp=de([t7,HD,pc],GD),XD=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=N$(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},n7=de([fp,Ol,Bt],XD),VD=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(u=>{var f,h,m=(f=r[u.id])===null||f===void 0?void 0:f.filter(x=>YD(i,x)),g=zt(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey);return{value:g,errorDomain:e7(o,g,m)}})).filter(Boolean):t?.dataKey!=null?e.map(o=>({value:zt(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),Pf=e=>e.errorBars,WD=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>YD(n,r));de([KD,Pf,Bt],WD);var r7=de([Fx,Qt,KD,Pf,Bt],VD);function a7(e){var{value:t}=e;if(Jr(t)||t instanceof Date)return t}var fS=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ys(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},l7=(e,t,n)=>{var r=e.map(a7).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&oA(r))?$C(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Yx=e=>{var t;if(e==null||!("domain"in e))return dp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ys(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:dp},Ud=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),u=Math.min(...o),f=Math.max(...o);return[u,f]}},ZD=e=>e.referenceElements.dots,Ei=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),s7=de([ZD,Bt,xc],Ei),QD=e=>e.referenceElements.areas,i7=de([QD,Bt,xc],Ei),JD=e=>e.referenceElements.lines,o7=de([JD,Bt,xc],Ei),eE=(e,t)=>{var n=ys(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},c7=de(s7,Bt,eE),tE=(e,t)=>{var n=ys(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},u7=de([i7,Bt],tE),nE=(e,t)=>{var n=ys(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},d7=de(o7,Bt,nE),f7=de(c7,d7,u7,(e,t,n)=>Ud(e,n,t)),rE=de([Qt],Yx),Gx=(e,t,n,r,i,o,u)=>{var f=D8(t,e.allowDataOverflow);if(f!=null)return f;var h=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",m=h?Ud(n,i,fS(r)):Ud(i,fS(r));return E8(t,m,e.allowDataOverflow)},m7=de([Qt,rE,n7,r7,f7,gt,Bt],Gx),h7=[0,1],Xx=(e,t,n,r,i,o,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:f,type:h}=e,m=hs(t,o);return m&&f==null?$C(0,n.length):h==="category"?l7(r,e,m):i==="expand"?h7:u}},Vx=de([Qt,gt,Fx,Of,pc,Bt,m7],Xx),aE=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var f="scale".concat(oc(o));return f in Uo?f:"point"}}},Ti=de([Qt,gt,qD,Px,Bt],aE);function g7(e){if(e!=null){if(e in Uo)return Uo[e]();var t="scale".concat(oc(e));if(t in Uo)return Uo[t]()}}function Wx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=g7(t);if(i!=null){var o=i.domain(n).range(r);return m$(o),o}}}var Zx=(e,t,n)=>{var r=Yx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hi(e))return L8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&hi(e))return B8(e,t.tickCount,t.allowDecimals)}},Qx=de([Vx,yc,Ti],Zx),Jx=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&hi(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],u=t[1],f=n[n.length-1];return[Math.min(i,o),Math.max(u,f)]}return t},p7=de([Qt,Vx,Qx,Bt],Jx),x7=de(Of,Qt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ys(e.map(f=>f.value))).sort((f,h)=>f-h);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];n=Math.min(n,u)}return n/i}}),lE=de(x7,gt,PD,on,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!mr(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var u=$n(n,e*o),f=e*o/2;return f-u-(f-u)/o*u}return 0}),y7=(e,t)=>{var n=Ua(e,t);return n==null||typeof n.padding!="string"?0:lE(e,"xAxis",t,n.padding)},v7=(e,t)=>{var n=za(e,t);return n==null||typeof n.padding!="string"?0:lE(e,"yAxis",t,n.padding)},b7=de(Ua,y7,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),w7=de(za,v7,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),j7=de([on,b7,xf,pf,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),N7=de([on,gt,w7,xf,pf,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:u}=i;return o?[r.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return j7(e,n,r);case"yAxis":return N7(e,n,r);case"zAxis":return(i=Lx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $D(e);case"radiusAxis":return ID(e,n);default:return}},sE=de([Qt,bc],Df),Oi=de([Qt,Ti,p7,sE],Wx);de([vc,Pf,Bt],WD);function iE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Mf=(e,t)=>t,kf=(e,t,n)=>n,S7=de(hf,Mf,kf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(iE)),A7=de(gf,Mf,kf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(iE)),oE=(e,t)=>({width:e.width,height:t.height}),C7=(e,t)=>{var n=typeof t.width=="number"?t.width:dc;return{width:n,height:e.height}},cE=de(on,Ua,oE),D7=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},E7=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},T7=de(La,on,S7,Mf,kf,(e,t,n,r,i)=>{var o={},u;return n.forEach(f=>{var h=oE(t,f);u==null&&(u=D7(t,r,e));var m=r==="top"&&!i||r==="bottom"&&i;o[f.id]=u-Number(m)*h.height,u+=(m?-1:1)*h.height}),o}),O7=de(Ra,on,A7,Mf,kf,(e,t,n,r,i)=>{var o={},u;return n.forEach(f=>{var h=C7(t,f);u==null&&(u=E7(t,r,e));var m=r==="left"&&!i||r==="right"&&i;o[f.id]=u-Number(m)*h.width,u+=(m?-1:1)*h.width}),o}),P7=(e,t)=>{var n=Ua(e,t);if(n!=null)return T7(e,n.orientation,n.mirror)},M7=de([on,Ua,P7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),k7=(e,t)=>{var n=za(e,t);if(n!=null)return O7(e,n.orientation,n.mirror)},_7=de([on,za,k7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),uE=de(on,za,(e,t)=>{var n=typeof t.width=="number"?t.width:dc;return{width:n,height:e.height}}),mS=(e,t,n)=>{switch(t){case"xAxis":return cE(e,n).width;case"yAxis":return uE(e,n).height;default:return}},dE=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:u}=n,f=hs(e,r),h=t.map(m=>m.value);if(u&&f&&o==="category"&&i&&oA(h))return h}},ey=de([gt,Of,Qt,Bt],dE),fE=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,u=hs(e,r);if(u&&(i==="number"||o!=="auto"))return t.map(f=>f.value)}},ty=de([gt,Of,yc,Bt],fE),hS=de([gt,Z8,Ti,Oi,ey,ty,bc,Qx,Bt],(e,t,n,r,i,o,u,f,h)=>{if(t==null)return null;var m=hs(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:i,isCategorical:m,niceTicks:f,range:u,realScaleType:n,scale:r}}),$7=(e,t,n,r,i,o,u,f,h)=>{if(!(t==null||r==null)){var m=hs(e,h),{type:g,ticks:x,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=g==="category"&&r.bandwidth?r.bandwidth()/b:0;j=h==="angleAxis"&&o!=null&&o.length>=2?yn(o[0]-o[1])*2*j:j;var N=x||i;if(N){var S=N.map((A,T)=>{var D=u?u.indexOf(A):A;return{index:T,coordinate:r(D)+j,value:A,offset:j}});return S.filter(A=>!dr(A.coordinate))}return m&&f?f.map((A,T)=>({coordinate:r(A)+j,value:A,index:T,offset:j})):r.ticks?r.ticks(y).map(A=>({coordinate:r(A)+j,value:A,offset:j})):r.domain().map((A,T)=>({coordinate:r(A)+j,value:u?u[A]:A,index:T,offset:j}))}},mE=de([gt,yc,Ti,Oi,Qx,bc,ey,ty,Bt],$7),I7=(e,t,n,r,i,o,u)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var f=hs(e,u),{tickCount:h}=t,m=0;return m=u==="angleAxis"&&r?.length>=2?yn(r[0]-r[1])*2*m:m,f&&o?o.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+m,value:g,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}},gi=de([gt,yc,Oi,bc,ey,ty,Bt],I7),pi=de(Qt,Oi,(e,t)=>{if(!(e==null||t==null))return Bd(Bd({},e),{},{scale:t})}),R7=de([Qt,Ti,Vx,sE],Wx);de((e,t,n)=>Lx(e,n),R7,(e,t)=>{if(!(e==null||t==null))return Bd(Bd({},e),{},{scale:t})});var L7=de([gt,hf,gf],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hE=e=>e.options.defaultTooltipEventType,gE=e=>e.options.validateTooltipEventTypes;function pE(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function ny(e,t){var n=hE(e),r=gE(e);return pE(t,n,r)}function B7(e){return qe(t=>ny(t,e))}var xE=(e,t)=>{var n,r=Number(t);if(!(dr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},U7=e=>e.tooltip.settings,vl={active:!1,index:null,dataKey:void 0,coordinate:void 0},z7={itemInteraction:{click:vl,hover:vl},axisInteraction:{click:vl,hover:vl},keyboardInteraction:vl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yE=hr({name:"tooltip",initialState:z7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ca(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:q7,removeTooltipEntrySettings:H7,setTooltipSettingsState:F7,setActiveMouseOverItemIndex:vE,mouseLeaveItem:K7,mouseLeaveChart:bE,setActiveClickItemIndex:Y7,setMouseOverAxisIndex:wE,setMouseClickAxisIndex:G7,setSyncInteraction:mp,setKeyboardInteraction:hp}=yE.actions,X7=yE.reducer;function gS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(n),!0).forEach(function(r){V7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V7(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function J7(e){return e.index!=null}var jE=(e,t,n,r)=>{if(t==null)return vl;var i=Q7(e,t,n);if(i==null)return vl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(J7(i)){if(o)return ed(ed({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ed(ed({},vl),{},{coordinate:i.coordinate})},ry=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!mr(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},NE=(e,t,n,r,i,o,u,f)=>{if(!(o==null||f==null)){var h=u[0],m=h==null?void 0:f(h.positions,o);if(m!=null)return m;var g=i?.[Number(o)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},SE=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===i})},wc=e=>e.options.tooltipPayloadSearcher,Pi=e=>e.tooltip;function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(r){eB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eB(e,t,n){return(t=tB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tB(e){var t=nB(e,"string");return typeof t=="symbol"?t:t+""}function nB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rB(e,t){return e??t}var AE=(e,t,n,r,i,o,u)=>{if(!(t==null||o==null)){var{chartData:f,computedData:h,dataStartIndex:m,dataEndIndex:g}=n,x=[];return e.reduce((y,b)=>{var j,{dataDefinedOnItem:N,settings:S}=b,A=rB(N,f),T=Array.isArray(A)?mC(A,m,g):A,D=(j=S?.dataKey)!==null&&j!==void 0?j:r,O=S?.nameKey,E;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&u==="axis"?E=l6(T,r,i):E=o(T,t,h,O),Array.isArray(E))E.forEach(M=>{var I=xS(xS({},S),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});y.push(tN({tooltipEntrySettings:I,dataKey:M.dataKey,payload:M.payload,value:zt(M.payload,M.dataKey),name:M.name}))});else{var P;y.push(tN({tooltipEntrySettings:S,dataKey:D,payload:E,value:zt(E,D),name:(P=zt(E,O))!==null&&P!==void 0?P:S?.name}))}return y},x)}},ay=de([wn,gt,qD,Px,un],aE),aB=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lB=de([un,Di],Bx),jc=de([aB,wn,lB],zx),sB=de([jc],e=>e.filter(Tf)),iB=de([jc],qx),Mi=de([iB,Ol],Hx),oB=de([sB,Ol,wn],BD),ly=de([Mi,wn,jc],Kx),cB=de([wn],Yx),uB=de([jc],e=>e.filter(Tf)),dB=de([oB,uB,pc],GD),fB=de([dB,Ol,un],XD),mB=de([jc],FD),hB=de([Mi,wn,mB,Pf,un],VD),gB=de([ZD,un,Di],Ei),pB=de([gB,un],eE),xB=de([QD,un,Di],Ei),yB=de([xB,un],tE),vB=de([JD,un,Di],Ei),bB=de([vB,un],nE),wB=de([pB,bB,yB],Ud),jB=de([wn,cB,fB,hB,wB,gt,un],Gx),CE=de([wn,gt,Mi,ly,pc,un,jB],Xx),NB=de([CE,wn,ay],Zx),SB=de([wn,CE,NB,un],Jx),DE=e=>{var t=un(e),n=Di(e),r=!1;return bc(e,t,n,r)},EE=de([wn,DE],Df),TE=de([wn,ay,SB,EE],Wx),AB=de([gt,ly,wn,un],dE),CB=de([gt,ly,wn,un],fE),DB=(e,t,n,r,i,o,u,f)=>{if(t){var{type:h}=t,m=hs(e,f);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=f==="angleAxis"&&i!=null&&i?.length>=2?yn(i[0]-i[1])*2*x:x,m&&u?u.map((y,b)=>({coordinate:r(y)+x,value:y,index:b,offset:x})):r.domain().map((y,b)=>({coordinate:r(y)+x,value:o?o[y]:y,index:b,offset:x}))}}},qa=de([gt,wn,ay,TE,DE,AB,CB,un],DB),sy=de([hE,gE,U7],(e,t,n)=>pE(n.shared,e,t)),OE=e=>e.tooltip.settings.trigger,iy=e=>e.tooltip.settings.defaultIndex,_f=de([Pi,sy,OE,iy],jE),fs=de([_f,Mi],ry),PE=de([qa,fs],xE),ME=de([_f],e=>{if(e)return e.dataKey}),kE=de([Pi,sy,OE,iy],SE),EB=de([Ra,La,gt,on,qa,iy,kE,wc],NE),TB=de([_f,EB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),OB=de([_f],e=>e.active),PB=de([kE,fs,Ol,LD,PE,wc,sy],AE);de([PB],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(n),!0).forEach(function(r){MB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MB(e,t,n){return(t=kB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $B=()=>qe(wn),IB=()=>{var e=$B(),t=qe(qa),n=qe(TE);return ex(vS(vS({},e),{},{scale:n}),t)},RB=()=>qe(Px),oy=(e,t)=>t,_E=(e,t,n)=>n,cy=(e,t,n,r)=>r,LB=de(qa,e=>sf(e,t=>t.coordinate)),uy=de([Pi,oy,_E,cy],jE),$E=de([uy,Mi],ry),BB=(e,t,n)=>{if(t!=null){var r=Pi(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},IE=de([Pi,oy,_E,cy],SE),zd=de([Ra,La,gt,on,qa,cy,IE,wc],NE),UB=de([uy,zd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),RE=de(qa,$E,xE),zB=de([IE,$E,Ol,LD,RE,wc,oy],AE),qB=de([uy],e=>({isActive:e.active,activeIndex:e.index})),HB=(e,t,n,r,i,o,u,f)=>{if(!(!e||!t||!r||!i||!o)){var h=S$(e.chartX,e.chartY,t,n,f);if(h){var m=C$(h,t),g=d$(m,u,o,r,i),x=A$(t,o,g,h);return{activeIndex:String(g),activeCoordinate:x}}}};function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gp.apply(null,arguments)}function bS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(n),!0).forEach(function(r){FB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FB(e,t,n){return(t=KB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KB(e){var t=YB(e,"string");return typeof t=="symbol"?t:t+""}function YB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GB(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:u,cursor:f,tooltipEventType:h,chartName:m}=e,g=t,x=n,y=r;if(!f||!g||m!=="ScatterChart"&&h!=="axis")return null;var b,j;if(m==="ScatterChart")b=g,j=mI;else if(m==="BarChart")b=hI(u,g,i,o),j=PC;else if(u==="radial"){var{cx:N,cy:S,radius:A,startAngle:T,endAngle:D}=MC(g);b={cx:N,cy:S,startAngle:T,endAngle:D,innerRadius:A,outerRadius:A},j=_C}else b={points:GI(u,g,i)},j=CC;var O=typeof f=="object"&&"className"in f?f.className:void 0,E=td(td(td(td({stroke:"#ccc",pointerEvents:"none"},i),b),sn(f,!1)),{},{payload:x,payloadIndex:y,className:Dt("recharts-tooltip-cursor",O)});return w.isValidElement(f)?w.cloneElement(f,E):w.createElement(j,E)}function XB(e){var t=IB(),n=vC(),r=rx(),i=RB();return w.createElement(GB,gp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var LE=w.createContext(null),VB=()=>w.useContext(LE),d0={exports:{}},wS;function WB(){return wS||(wS=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function o(h,m,g,x,y){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new i(g,x||h,y),j=n?n+m:m;return h._events[j]?h._events[j].fn?h._events[j]=[h._events[j],b]:h._events[j].push(b):(h._events[j]=b,h._eventsCount++),h}function u(h,m){--h._eventsCount===0?h._events=new r:delete h._events[m]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)t.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var y=0,b=x.length,j=new Array(b);y<b;y++)j[y]=x[y].fn;return j},f.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},f.prototype.emit=function(m,g,x,y,b,j){var N=n?n+m:m;if(!this._events[N])return!1;var S=this._events[N],A=arguments.length,T,D;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,x),!0;case 4:return S.fn.call(S.context,g,x,y),!0;case 5:return S.fn.call(S.context,g,x,y,b),!0;case 6:return S.fn.call(S.context,g,x,y,b,j),!0}for(D=1,T=new Array(A-1);D<A;D++)T[D-1]=arguments[D];S.fn.apply(S.context,T)}else{var O=S.length,E;for(D=0;D<O;D++)switch(S[D].once&&this.removeListener(m,S[D].fn,void 0,!0),A){case 1:S[D].fn.call(S[D].context);break;case 2:S[D].fn.call(S[D].context,g);break;case 3:S[D].fn.call(S[D].context,g,x);break;case 4:S[D].fn.call(S[D].context,g,x,y);break;default:if(!T)for(E=1,T=new Array(A-1);E<A;E++)T[E-1]=arguments[E];S[D].fn.apply(S[D].context,T)}}return!0},f.prototype.on=function(m,g,x){return o(this,m,g,x,!1)},f.prototype.once=function(m,g,x){return o(this,m,g,x,!0)},f.prototype.removeListener=function(m,g,x,y){var b=n?n+m:m;if(!this._events[b])return this;if(!g)return u(this,b),this;var j=this._events[b];if(j.fn)j.fn===g&&(!y||j.once)&&(!x||j.context===x)&&u(this,b);else{for(var N=0,S=[],A=j.length;N<A;N++)(j[N].fn!==g||y&&!j[N].once||x&&j[N].context!==x)&&S.push(j[N]);S.length?this._events[b]=S.length===1?S[0]:S:u(this,b)}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&u(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,e.exports=f})(d0)),d0.exports}var ZB=WB();const QB=Ia(ZB);var ec=new QB,pp="recharts.syncEvent.tooltip",jS="recharts.syncEvent.brush";function BE(e,t){if(t){var n=Number.parseInt(t,10);if(!dr(n))return e?.[n]}}var JB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UE=hr({name:"options",initialState:JB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),e9=UE.reducer,{createEventEmitter:t9}=UE.actions;function n9(e){return e.tooltip.syncInteraction}var r9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},zE=hr({name:"chartData",initialState:r9,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:NS,setDataStartEndIndexes:a9,setComputedData:wY}=zE.actions,l9=zE.reducer,s9=["x","y"];function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(n),!0).forEach(function(r){i9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i9(e,t,n){return(t=o9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u9(e,t){if(e==null)return{};var n,r,i=d9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qE=()=>{};function f9(){var e=qe(Mx),t=qe(kx),n=Zt(),r=qe(MD),i=qe(qa),o=rx(),u=nx(),f=qe(h=>h.rootProps.className);w.useEffect(()=>{if(e==null)return qE;var h=(m,g,x)=>{if(t!==x&&e===m){if(r==="index"){var y;if(u&&g!==null&&g!==void 0&&(y=g.payload)!==null&&y!==void 0&&y.coordinate){var b=g.payload.coordinate,{x:j,y:N}=b,S=u9(b,s9),A=Vl(Vl(Vl({},S),typeof j=="number"&&{x:Math.max(u.x,Math.min(j,u.x+u.width))}),typeof N=="number"&&{y:Math.max(u.y,Math.min(N,u.y+u.height))}),T=Vl(Vl({},g),{},{payload:Vl(Vl({},g.payload),{},{coordinate:A})});n(T)}else n(g);return}if(i!=null){var D;if(typeof r=="function"){var O={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},E=r(i,O);D=i[E]}else r==="value"&&(D=i.find(W=>String(W.value)===g.payload.label));var{coordinate:P}=g.payload;if(D==null||g.payload.active===!1||P==null||u==null){n(mp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:I}=P,R=Math.min(M,u.x+u.width),U=Math.min(I,u.y+u.height),V={x:o==="horizontal"?D.coordinate:R,y:o==="horizontal"?U:D.coordinate},H=mp({active:g.payload.active,coordinate:V,dataKey:g.payload.dataKey,index:String(D.index),label:g.payload.label});n(H)}}};return ec.on(pp,h),()=>{ec.off(pp,h)}},[f,n,t,e,r,i,o,u])}function m9(){var e=qe(Mx),t=qe(kx),n=Zt();w.useEffect(()=>{if(e==null)return qE;var r=(i,o,u)=>{t!==u&&e===i&&n(a9(o))};return ec.on(jS,r),()=>{ec.off(jS,r)}},[n,t,e])}function h9(){var e=Zt();w.useEffect(()=>{e(t9())},[e]),f9(),m9()}function g9(e,t,n,r,i,o){var u=qe(y=>BB(y,e,t)),f=qe(kx),h=qe(Mx),m=qe(MD),g=qe(n9),x=g?.active;w.useEffect(()=>{if(!x&&h!=null&&f!=null){var y=mp({active:o,coordinate:n,dataKey:u,index:i,label:typeof r=="number"?String(r):r});ec.emit(pp,h,y,f)}},[x,n,u,i,r,f,h,m,o])}function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(n),!0).forEach(function(r){p9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p9(e,t,n){return(t=x9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v9(e){return e.dataKey}function b9(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(K$,t)}var DS=[],w9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!gs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ES(e){var t=Bn(e,w9),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:u,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:g,position:x,reverseDirection:y,useTranslate3d:b,wrapperStyle:j,cursor:N,shared:S,trigger:A,defaultIndex:T,portal:D,axisId:O}=t,E=Zt(),P=typeof T=="number"?String(T):T;w.useEffect(()=>{E(F7({shared:S,trigger:A,axisId:O,active:n,defaultIndex:P}))},[E,S,A,O,n,P]);var M=nx(),I=AC(),R=B7(S),{activeIndex:U,isActive:V}=qe(Ce=>qB(Ce,R,A,P)),H=qe(Ce=>zB(Ce,R,A,P)),W=qe(Ce=>RE(Ce,R,A,P)),Q=qe(Ce=>UB(Ce,R,A,P)),ve=H,Y=VB(),re=n??V,[ge,Ee]=t_([ve,re]),$=R==="axis"?W:void 0;g9(R,A,Q,$,U,re);var ie=D??Y;if(ie==null)return null;var L=ve??DS;re||(L=DS),f&&L.length&&(L=Dk(ve.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||t.includeHidden)),g,v9));var ce=L.length>0,Ne=w.createElement(Q$,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:h,active:re,coordinate:Q,hasPayload:ce,offset:m,position:x,reverseDirection:y,useTranslate3d:b,viewBox:M,wrapperStyle:j,lastBoundingBox:ge,innerRef:Ee,hasPortalFromProps:!!D},b9(u,CS(CS({},t),{},{payload:L,label:$,active:re,coordinate:Q,accessibilityLayer:I})));return w.createElement(w.Fragment,null,TP.createPortal(Ne,ie),re&&w.createElement(XB,{cursor:N,tooltipEventType:R,coordinate:Q,payload:ve,index:U}))}var f0={},m0={},h0={},TS;function j9(){return TS||(TS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let u,f=null;const h=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),g=()=>{f!==null&&(n.apply(u,f),u=void 0,f=null)},x=()=>{m&&g(),N()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,x()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},N=()=>{j(),u=void 0,f=null},S=()=>{g()},A=function(...T){if(i?.aborted)return;u=this,f=T;const D=y==null;b(),h&&D&&g()};return A.schedule=b,A.cancel=N,A.flush=S,i?.addEventListener("abort",N,{once:!0}),A}e.debounce=t})(h0)),h0}var OS;function N9(){return OS||(OS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j9();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:f=!0,maxWait:h}=o,m=Array(2);u&&(m[0]="leading"),f&&(m[1]="trailing");let g,x=null;const y=t.debounce(function(...N){g=r.apply(this,N),x=null},i,{edges:m}),b=function(...N){return h!=null&&(x===null&&(x=Date.now()),Date.now()-x>=h)?(g=r.apply(this,N),x=Date.now(),y.cancel(),y.schedule(),g):(y.apply(this,N),g)},j=()=>(y.flush(),g);return b.cancel=y.cancel,b.flush=j,b}e.debounce=n})(m0)),m0}var PS;function S9(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N9();function n(r,i=0,o={}){const{leading:u=!0,trailing:f=!0}=o;return t.debounce(r,i,{leading:u,maxWait:i,trailing:f})}e.throttle=n})(f0)),f0}var g0,MS;function A9(){return MS||(MS=1,g0=S9().throttle),g0}var C9=A9();const D9=Ia(C9);var qo=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function kS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(n),!0).forEach(function(r){E9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E9(e,t,n){return(t=T9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _S=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:u=0,minHeight:f,maxHeight:h,children:m,debounce:g=0,id:x,className:y,onResize:b,style:j={}}=e,N=w.useRef(null),S=w.useRef();S.current=b,w.useImperativeHandle(t,()=>N.current);var[A,T]=w.useState({containerWidth:r.width,containerHeight:r.height}),D=w.useCallback((E,P)=>{T(M=>{var I=Math.round(E),R=Math.round(P);return M.containerWidth===I&&M.containerHeight===R?M:{containerWidth:I,containerHeight:R}})},[]);w.useEffect(()=>{var E=R=>{var U,{width:V,height:H}=R[0].contentRect;D(V,H),(U=S.current)===null||U===void 0||U.call(S,V,H)};g>0&&(E=D9(E,g,{trailing:!0,leading:!1}));var P=new ResizeObserver(E),{width:M,height:I}=N.current.getBoundingClientRect();return D(M,I),P.observe(N.current),()=>{P.disconnect()}},[D,g]);var O=w.useMemo(()=>{var{containerWidth:E,containerHeight:P}=A;if(E<0||P<0)return null;qo(Jl(i)||Jl(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),qo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Jl(i)?E:i,I=Jl(o)?P:o;return n&&n>0&&(M?I=M/n:I&&(M=I*n),h&&I>h&&(I=h)),qo(M>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,I,i,o,u,f,n),w.Children.map(m,R=>w.cloneElement(R,{width:M,height:I,style:p0({width:M,height:I},R.props.style)}))},[n,m,o,h,f,u,A,i]);return w.createElement("div",{id:x?"".concat(x):void 0,className:Dt("recharts-responsive-container",y),style:p0(p0({},j),{},{width:i,height:o,minWidth:u,minHeight:f,maxHeight:h}),ref:N},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),Nc=e=>null;Nc.displayName="Cell";function P9(e,t,n){return(t=M9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _9{constructor(t){P9(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(r){I9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I9(e,t,n){return(t=R9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B9={cacheSize:2e3,enableCache:!0},HE=$9({},B9),IS=new _9(HE.cacheSize),U9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RS="recharts_measurement_span";function z9(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(u,"|").concat(f)}var LS=(e,t)=>{try{var n=document.getElementById(RS);n||(n=document.createElement("span"),n.setAttribute("id",RS),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,U9,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Ho=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gs.isSsr)return{width:0,height:0};if(!HE.enableCache)return LS(t,n);var r=z9(t,n),i=IS.get(r);if(i)return i;var o=LS(t,n);return IS.set(r,o),o},BS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,US=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,H9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},F9=Object.keys(FE),ri="NaN";function K9(e,t){return e*FE[t]}class Kn{static parse(t){var n,[,r,i]=(n=H9.exec(t))!==null&&n!==void 0?n:[];return new Kn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,dr(t)&&(this.unit=""),n!==""&&!q9.test(n)&&(this.num=NaN,this.unit=""),F9.includes(n)&&(this.num=K9(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dr(this.num)}}function KE(e){if(e.includes(ri))return ri;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=BS.exec(t))!==null&&n!==void 0?n:[],u=Kn.parse(r??""),f=Kn.parse(o??""),h=i==="*"?u.multiply(f):u.divide(f);if(h.isNaN())return ri;t=t.replace(BS,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,x,y]=(m=US.exec(t))!==null&&m!==void 0?m:[],b=Kn.parse(g??""),j=Kn.parse(y??""),N=x==="+"?b.add(j):b.subtract(j);if(N.isNaN())return ri;t=t.replace(US,N.toString())}return t}var zS=/\(([^()]*)\)/;function Y9(e){for(var t=e,n;(n=zS.exec(t))!=null;){var[,r]=n;t=t.replace(zS,KE(r))}return t}function G9(e){var t=e.replace(/\s+/g,"");return t=Y9(t),t=KE(t),t}function X9(e){try{return G9(e)}catch{return ri}}function x0(e){var t=X9(e.slice(5,-1));return t===ri?"":t}var V9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],W9=["dx","dy","angle","className","breakAll"];function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(null,arguments)}function qS(e,t){if(e==null)return{};var n,r,i=Z9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YE=/[ \f\n\r\t\v\u2028\u2029]+/,GE=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];vn(t)||(n?i=t.toString().split(""):i=t.toString().split(YE));var o=i.map(f=>({word:f,width:Ho(f,r).width})),u=n?0:Ho("",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},Q9=(e,t,n,r,i)=>{var{maxLines:o,children:u,style:f,breakAll:h}=e,m=Fe(o),g=u,x=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((H,W)=>{var{word:Q,width:ve}=W,Y=H[H.length-1];if(Y&&(r==null||i||Y.width+ve+n<Number(r)))Y.words.push(Q),Y.width+=ve+n;else{var re={words:[Q],width:ve};H.push(re)}return H},[])},y=x(t),b=U=>U.reduce((V,H)=>V.width>H.width?V:H);if(!m||i)return y;var j=y.length>o||b(y).width>Number(r);if(!j)return y;for(var N="",S=U=>{var V=g.slice(0,U),H=GE({breakAll:h,style:f,children:V+N}).wordsWithComputedWidth,W=x(H),Q=W.length>o||b(W).width>Number(r);return[Q,W]},A=0,T=g.length-1,D=0,O;A<=T&&D<=g.length-1;){var E=Math.floor((A+T)/2),P=E-1,[M,I]=S(P),[R]=S(E);if(!M&&!R&&(A=E+1),M&&R&&(T=E-1),!M&&R){O=I;break}D++}return O||y},HS=e=>{var t=vn(e)?[]:e.toString().split(YE);return[{words:t}]},J9=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:u}=e;if((t||n)&&!gs.isSsr){var f,h,m=GE({breakAll:o,children:r,style:i});if(m){var{wordsWithComputedWidth:g,spaceWidth:x}=m;f=g,h=x}else return HS(r);return Q9({breakAll:o,children:r,maxLines:u,style:i},f,h,t,n)}return HS(r)},FS="#808080",$f=w.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:f="start",verticalAnchor:h="end",fill:m=FS}=e,g=qS(e,V9),x=w.useMemo(()=>J9({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:y,dy:b,angle:j,className:N,breakAll:S}=g,A=qS(g,W9);if(!Jr(n)||!Jr(r)||x.length===0)return null;var T=n+(Fe(y)?y:0),D=r+(Fe(b)?b:0),O;switch(h){case"start":O=x0("calc(".concat(o,")"));break;case"middle":O=x0("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:O=x0("calc(".concat(x.length-1," * -").concat(i,")"));break}var E=[];if(u){var P=x[0].width,{width:M}=g;E.push("scale(".concat(Fe(M)?M/P:1,")"))}return j&&E.push("rotate(".concat(j,", ").concat(T,", ").concat(D,")")),E.length&&(A.transform=E.join(" ")),w.createElement("text",xp({},sn(A,!0),{ref:t,x:T,y:D,className:Dt("recharts-text",N),textAnchor:f,fill:m.includes("url")?FS:m}),x.map((I,R)=>{var U=I.words.join(S?"":" ");return w.createElement("tspan",{x:T,dy:R===0?O:i,key:"".concat(U,"-").concat(R)},U)}))});$f.displayName="Text";var eU=["labelRef"];function tU(e,t){if(e==null)return{};var n,r,i=nU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(n),!0).forEach(function(r){rU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rU(e,t,n){return(t=aU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aU(e){var t=lU(e,"string");return typeof t=="symbol"?t:t+""}function lU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wa.apply(null,arguments)}var XE=w.createContext(null),sU=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,u=w.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return w.createElement(XE.Provider,{value:u},o)},VE=()=>{var e=w.useContext(XE),t=nx();return e||t},iU=w.createContext(null),oU=()=>{var e=w.useContext(iU),t=qe(RD);return e||t},cU=e=>{var{value:t,formatter:n}=e,r=vn(e.children)?t:e.children;return typeof n=="function"?n(r):r},dy=e=>e!=null&&typeof e=="function",uU=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},dU=(e,t,n,r,i)=>{var{offset:o,className:u}=e,{cx:f,cy:h,innerRadius:m,outerRadius:g,startAngle:x,endAngle:y,clockWise:b}=i,j=(m+g)/2,N=uU(x,y),S=N>=0?1:-1,A,T;switch(t){case"insideStart":A=x+S*o,T=b;break;case"insideEnd":A=y-S*o,T=!b;break;case"end":A=y+S*o,T=b;break;default:throw new Error("Unsupported position ".concat(t))}T=N<=0?T:!T;var D=tn(f,h,j,A),O=tn(f,h,j,A+(T?1:-1)*359),E="M".concat(D.x,",").concat(D.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(T?0:1,`,
    `).concat(O.x,",").concat(O.y),P=vn(e.id)?Ko("recharts-radial-line-"):e.id;return w.createElement("text",wa({},r,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",u)}),w.createElement("defs",null,w.createElement("path",{id:P,d:E})),w.createElement("textPath",{xlinkHref:"#".concat(P)},n))},fU=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:u,startAngle:f,endAngle:h}=e,m=(f+h)/2;if(n==="outside"){var{x:g,y:x}=tn(r,i,u+t,m);return{x:g,y:x,textAnchor:g>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+u)/2,{x:b,y:j}=tn(r,i,y,m);return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},WE=e=>"cx"in e&&Fe(e.cx),mU=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!WE(n)&&(o=n);var{x:u,y:f,width:h,height:m}=t,g=m>=0?1:-1,x=g*r,y=g>0?"end":"start",b=g>0?"start":"end",j=h>=0?1:-1,N=j*r,S=j>0?"end":"start",A=j>0?"start":"end";if(i==="top"){var T={x:u+h/2,y:f-g*r,textAnchor:"middle",verticalAnchor:y};return Wt(Wt({},T),o?{height:Math.max(f-o.y,0),width:h}:{})}if(i==="bottom"){var D={x:u+h/2,y:f+m+x,textAnchor:"middle",verticalAnchor:b};return Wt(Wt({},D),o?{height:Math.max(o.y+o.height-(f+m),0),width:h}:{})}if(i==="left"){var O={x:u-N,y:f+m/2,textAnchor:S,verticalAnchor:"middle"};return Wt(Wt({},O),o?{width:Math.max(O.x-o.x,0),height:m}:{})}if(i==="right"){var E={x:u+h+N,y:f+m/2,textAnchor:A,verticalAnchor:"middle"};return Wt(Wt({},E),o?{width:Math.max(o.x+o.width-E.x,0),height:m}:{})}var P=o?{width:h,height:m}:{};return i==="insideLeft"?Wt({x:u+N,y:f+m/2,textAnchor:A,verticalAnchor:"middle"},P):i==="insideRight"?Wt({x:u+h-N,y:f+m/2,textAnchor:S,verticalAnchor:"middle"},P):i==="insideTop"?Wt({x:u+h/2,y:f+x,textAnchor:"middle",verticalAnchor:b},P):i==="insideBottom"?Wt({x:u+h/2,y:f+m-x,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?Wt({x:u+N,y:f+x,textAnchor:A,verticalAnchor:b},P):i==="insideTopRight"?Wt({x:u+h-N,y:f+x,textAnchor:S,verticalAnchor:b},P):i==="insideBottomLeft"?Wt({x:u+N,y:f+m-x,textAnchor:A,verticalAnchor:y},P):i==="insideBottomRight"?Wt({x:u+h-N,y:f+m-x,textAnchor:S,verticalAnchor:y},P):i&&typeof i=="object"&&(Fe(i.x)||Jl(i.x))&&(Fe(i.y)||Jl(i.y))?Wt({x:u+$n(i.x,h),y:f+$n(i.y,m),textAnchor:"end",verticalAnchor:"end"},P):Wt({x:u+h/2,y:f+m/2,textAnchor:"middle",verticalAnchor:"middle"},P)},hU={offset:5};function gl(e){var t=Bn(e,hU),{viewBox:n,position:r,value:i,children:o,content:u,className:f="",textBreakAll:h,labelRef:m}=t,g=oU(),x=VE(),y=r==="center"?x:g??x,b=n||y;if(!b||vn(i)&&vn(o)&&!w.isValidElement(u)&&typeof u!="function")return null;var j=Wt(Wt({},t),{},{viewBox:b});if(w.isValidElement(u)){var{labelRef:N}=j,S=tU(j,eU);return w.cloneElement(u,S)}var A;if(typeof u=="function"){if(A=w.createElement(u,j),w.isValidElement(A))return A}else A=cU(t);var T=WE(b),D=sn(t,!0);if(T&&(r==="insideStart"||r==="insideEnd"||r==="end"))return dU(t,r,A,D,b);var O=T?fU(b,t.offset,t.position):mU(t,b);return w.createElement($f,wa({ref:m,className:Dt("recharts-label",f)},D,O,{breakAll:h}),A)}gl.displayName="Label";var gU=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(gl,wa({key:"label-implicit"},r)):Jr(e)?w.createElement(gl,wa({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===gl?w.cloneElement(e,Wt({key:"label-implicit"},r)):w.createElement(gl,wa({key:"label-implicit",content:e},r)):dy(e)?w.createElement(gl,wa({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(gl,wa({},e,{key:"label-implicit"},r)):null};function pU(e){var{label:t}=e,n=VE();return gU(t,n)||null}var y0={},v0={},YS;function xU(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(v0)),v0}var b0={},GS;function yU(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(b0)),b0}var XS;function vU(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU(),n=yU(),r=Yp();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(y0)),y0}var w0,VS;function bU(){return VS||(VS=1,w0=vU().last),w0}var wU=bU();const jU=Ia(wU);var NU=["valueAccessor"],SU=["dataKey","clockWise","id","textBreakAll"];function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qd.apply(null,arguments)}function WS(e,t){if(e==null)return{};var n,r,i=AU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CU=e=>Array.isArray(e.value)?jU(e.value):e.value,ZE=w.createContext(void 0),DU=ZE.Provider,QE=w.createContext(void 0),EU=QE.Provider;function TU(){return w.useContext(ZE)}function OU(){return w.useContext(QE)}function od(e){var{valueAccessor:t=CU}=e,n=WS(e,NU),{dataKey:r,clockWise:i,id:o,textBreakAll:u}=n,f=WS(n,SU),h=TU(),m=OU(),g=h||m;return!g||!g.length?null:w.createElement(Wn,{className:"recharts-label-list"},g.map((x,y)=>{var b,j=vn(r)?t(x,y):zt(x&&x.payload,r),N=vn(o)?{}:{id:"".concat(o,"-").concat(y)};return w.createElement(gl,qd({},sn(x,!0),f,N,{fill:(b=n.fill)!==null&&b!==void 0?b:x.fill,parentViewBox:x.parentViewBox,value:j,textBreakAll:u,viewBox:x.viewBox,key:"label-".concat(y),index:y}))}))}od.displayName="LabelList";function JE(e){var{label:t}=e;return t?t===!0?w.createElement(od,{key:"labelList-implicit"}):w.isValidElement(t)||dy(t)?w.createElement(od,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(od,qd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var eT=e=>e.graphicalItems.polarItems,PU=de([Bt,xc],Bx),fy=de([eT,Qt,PU],zx),MU=de([fy],qx),my=de([MU,Dx],Hx),kU=de([my,Qt,fy],Kx),_U=de([my,Qt,fy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,u=zt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:zt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),ZS=()=>{},$U=de([Qt,rE,ZS,_U,ZS,gt,Bt],Gx),tT=de([Qt,gt,my,kU,pc,Bt,$U],Xx),IU=de([tT,Qt,Ti],Zx);de([Qt,tT,IU,Bt],Jx);var RU={radiusAxis:{},angleAxis:{}},nT=hr({name:"polarAxis",initialState:RU,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jY,removeRadiusAxis:NY,addAngleAxis:SY,removeAngleAxis:AY}=nT.actions,LU=nT.reducer;function QS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(n),!0).forEach(function(r){BU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BU(e,t,n){return(t=UU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UU(e){var t=zU(e,"string");return typeof t=="symbol"?t:t+""}function zU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qU=(e,t)=>t,hy=de([eT,qU],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),HU=[],gy=(e,t,n)=>n?.length===0?HU:n,rT=de([Dx,hy,gy],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>JS(JS({},t.presentationProps),o.props))),i!=null)return i}}),FU=de([rT,hy,gy],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,u=zt(r,t.nameKey,t.name),f;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?f=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?f=r.fill:f=t.fill,{value:mf(u,t.dataKey),color:f,payload:r,type:t.legendType}})}),KU=de([rT,hy,gy,on],(e,t,n,r)=>{if(!(t==null||e==null))return Fz({offset:r,pieSettings:t,displayedData:e,cells:n})}),j0={},e2;function YU(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(j0)),j0}var N0,t2;function GU(){return t2||(t2=1,N0=YU().isPlainObject),N0}var XU=GU();const VU=Ia(XU);function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(r){WU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WU(e,t,n){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(null,arguments)}var a2=(e,t,n,r,i)=>{var o=n-r,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+n,",").concat(t),u+="L ".concat(e+n-o/2,",").concat(t+i),u+="L ".concat(e+n-o/2-r,",").concat(t+i),u+="L ".concat(e,",").concat(t," Z"),u},JU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ez=e=>{var t=Bn(e,JU),{x:n,y:r,upperWidth:i,lowerWidth:o,height:u,className:f}=t,{animationEasing:h,animationDuration:m,animationBegin:g,isUpdateAnimationActive:x}=t,y=w.useRef(),[b,j]=w.useState(-1),N=w.useRef(i),S=w.useRef(o),A=w.useRef(u),T=w.useRef(n),D=w.useRef(r),O=vf(e,"trapezoid-");if(w.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var Q=y.current.getTotalLength();Q&&j(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||u!==+u||i===0&&o===0||u===0)return null;var E=Dt("recharts-trapezoid",f);if(!x)return w.createElement("g",null,w.createElement("path",Hd({},sn(t,!0),{className:E,d:a2(n,r,i,o,u)})));var P=N.current,M=S.current,I=A.current,R=T.current,U=D.current,V="0px ".concat(b===-1?1:b,"px"),H="".concat(b,"px 0px"),W=DC(["strokeDasharray"],m,h);return w.createElement(yf,{animationId:O,key:O,canBegin:b>0,duration:m,easing:h,isActive:x,begin:g},Q=>{var ve=En(P,i,Q),Y=En(M,o,Q),re=En(I,u,Q),ge=En(R,n,Q),Ee=En(U,r,Q);y.current&&(N.current=ve,S.current=Y,A.current=re,T.current=ge,D.current=Ee);var $=Q>0?{transition:W,strokeDasharray:H}:{strokeDasharray:V};return w.createElement("path",Hd({},sn(t,!0),{className:E,d:a2(ge,Ee,ve,Y,re),ref:y,style:r2(r2({},$),t.style)}))})},tz=["option","shapeType","propTransformer","activeClassName","isActive"];function nz(e,t){if(e==null)return{};var n,r,i=rz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(r){az(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function az(e,t,n){return(t=lz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lz(e){var t=sz(e,"string");return typeof t=="symbol"?t:t+""}function sz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iz(e,t){return Fd(Fd({},t),e)}function oz(e,t){return e==="symbols"}function s2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return w.createElement(PC,n);case"trapezoid":return w.createElement(ez,n);case"sector":return w.createElement(_C,n);case"symbols":if(oz(t))return w.createElement(TA,n);break;default:return null}}function cz(e){return w.isValidElement(e)?e.props:e}function aT(e){var{option:t,shapeType:n,propTransformer:r=iz,activeClassName:i="recharts-active-shape",isActive:o}=e,u=nz(e,tz),f;if(w.isValidElement(t))f=w.cloneElement(t,Fd(Fd({},u),cz(t)));else if(typeof t=="function")f=t(u);else if(VU(t)&&typeof t!="boolean"){var h=r(t,u);f=w.createElement(s2,{shapeType:n,elementProps:h})}else{var m=u;f=w.createElement(s2,{shapeType:n,elementProps:m})}return o?w.createElement(Wn,{className:i},f):f}var py=(e,t)=>{var n=Zt();return(r,i)=>o=>{e?.(r,i,o),n(vE({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},xy=e=>{var t=Zt();return(n,r)=>i=>{e?.(n,r,i),t(K7())}},yy=(e,t)=>{var n=Zt();return(r,i)=>o=>{e?.(r,i,o),n(Y7({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function lT(e){var{fn:t,args:n}=e,r=Zt(),i=_r();return w.useEffect(()=>{if(!i){var o=t(n);return r(q7(o)),()=>{r(H7(o))}}},[t,n,r,i]),null}var sT=()=>{};function uz(e){var{legendPayload:t}=e,n=Zt(),r=_r();return w.useEffect(()=>r?sT:(n(NC(t)),()=>{n(SC(t))}),[n,r,t]),null}function dz(e){var{legendPayload:t}=e,n=Zt(),r=qe(gt);return w.useEffect(()=>r!=="centric"&&r!=="radial"?sT:(n(NC(t)),()=>{n(SC(t))}),[n,r,t]),null}var S0,fz=()=>{var[e]=w.useState(()=>Ko("uid-"));return e},mz=(S0=W3.useId)!==null&&S0!==void 0?S0:fz;function hz(e,t){var n=mz();return t||(e?"".concat(e,"-").concat(n):n)}var gz=w.createContext(void 0),iT=e=>{var{id:t,type:n,children:r}=e,i=hz("recharts-".concat(n),t);return w.createElement(gz.Provider,{value:i},r(i))},pz={cartesianItems:[],polarItems:[]},oT=hr({name:"graphicalItems",initialState:pz,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Ca(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Ca(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ca(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:xz,replaceCartesianGraphicalItem:yz,removeCartesianGraphicalItem:vz,addPolarGraphicalItem:bz,removePolarGraphicalItem:wz}=oT.actions,jz=oT.reducer;function Nz(e){var t=Zt(),n=w.useRef(null);return w.useEffect(()=>{n.current===null?t(xz(e)):n.current!==e&&t(yz({prev:n.current,next:e})),n.current=e},[t,e]),w.useEffect(()=>()=>{n.current&&(t(vz(n.current)),n.current=null)},[t]),null}function Sz(e){var t=Zt();return w.useEffect(()=>(t(bz(e)),()=>{t(wz(e))}),[t,e]),null}var Az=["onMouseEnter","onClick","onMouseLeave"],Cz=["id"],Dz=["id"];function vy(e,t){if(e==null)return{};var n,r,i=Ez(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ez(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function i2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(n),!0).forEach(function(r){Tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tz(e,t,n){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oz(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(null,arguments)}function Mz(e){var t=w.useMemo(()=>qp(e.children,Nc),[e.children]),n=qe(r=>FU(r,e.id,t));return n==null?null:w.createElement(dz,{legendPayload:n})}function kz(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:u,name:f,hide:h,tooltipType:m}=e;return{dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:u,dataKey:t,nameKey:n,name:mf(f,t),hide:h,type:m,color:u,unit:""}}}var _z=(e,t)=>e>t?"start":e<t?"end":"middle",$z=(e,t,n)=>$n(typeof t=="function"?t(e):t,n,n*.8),Iz=(e,t,n)=>{var{top:r,left:i,width:o,height:u}=t,f=fC(o,u),h=i+$n(e.cx,o,o/2),m=r+$n(e.cy,u,u/2),g=$n(e.innerRadius,f,0),x=$z(n,e.outerRadius,f),y=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:h,cy:m,innerRadius:g,outerRadius:x,maxRadius:y}},Rz=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Lz(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Bz=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Dt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return w.createElement(CC,Sl({},t,{type:"linear",className:n}))},Uz=(e,t,n)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),w.isValidElement(r)))return r;var i=Dt("recharts-pie-label-text",Lz(e));return w.createElement($f,Sl({},t,{alignmentBaseline:"middle",className:i}),r)};function zz(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:u}=n;if(!r||!i||!t)return null;var f=Dl(n),h=sn(i,!1),m=sn(o,!1),g=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,x=t.map((y,b)=>{var j=(y.startAngle+y.endAngle)/2,N=tn(y.cx,y.cy,y.outerRadius+g,j),S=It(It(It(It({},f),y),{},{stroke:"none"},h),{},{index:b,textAnchor:_z(N.x,y.cx)},N),A=It(It(It(It({},f),y),{},{fill:"none",stroke:y.fill},m),{},{index:b,points:[tn(y.cx,y.cy,y.outerRadius,j),N],key:"line"});return w.createElement(Wn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},o&&Bz(o,A),Uz(i,S,zt(y,u)))});return w.createElement(Wn,{className:"recharts-pie-labels"},x)}function qz(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(JE,{label:i}):w.createElement(zz,{sectors:t,props:n,showLabels:r})}function Hz(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=qe(fs),{onMouseEnter:u,onClick:f,onMouseLeave:h}=i,m=vy(i,Az),g=py(u,i.dataKey),x=xy(h),y=yy(f,i.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((b,j)=>{if(b?.startAngle===0&&b?.endAngle===0&&t.length!==1)return null;var N=n&&String(j)===o,S=o?r:null,A=N?n:S,T=It(It({},b),{},{stroke:b.stroke,tabIndex:-1,[xC]:j,[yC]:i.dataKey});return w.createElement(Wn,Sl({tabIndex:-1,className:"recharts-pie-sector"},nf(m,b,j),{onMouseEnter:g(b,j),onMouseLeave:x(b,j),onClick:y(b,j),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(j)}),w.createElement(aT,Sl({option:A,isActive:N,shapeType:"sector"},T)))}))}function Fz(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:u,startAngle:f,endAngle:h,dataKey:m,nameKey:g,tooltipType:x}=n,y=Math.abs(n.minAngle),b=Rz(f,h),j=Math.abs(b),N=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(P=>zt(P,m,0)!==0).length,A=(j>=360?S:S-1)*N,T=j-S*y-A,D=r.reduce((P,M)=>{var I=zt(M,m,0);return P+(Fe(I)?I:0)},0),O;if(D>0){var E;O=r.map((P,M)=>{var I=zt(P,m,0),R=zt(P,g,M),U=Iz(n,o,P),V=(Fe(I)?I:0)/D,H,W=It(It({},P),i&&i[M]&&i[M].props);M?H=E.endAngle+yn(b)*N*(I!==0?1:0):H=f;var Q=H+yn(b)*((I!==0?y:0)+V*T),ve=(H+Q)/2,Y=(U.innerRadius+U.outerRadius)/2,re=[{name:R,value:I,payload:W,dataKey:m,type:x}],ge=tn(U.cx,U.cy,Y,ve);return E=It(It(It(It({},n.presentationProps),{},{percent:V,cornerRadius:u,name:R,tooltipPayload:re,midAngle:ve,middleRadius:Y,tooltipPosition:ge},W),U),{},{value:I,startAngle:H,endAngle:Q,payload:W,paddingAngle:yn(b)*N}),E})}return O}function Kz(e){var{showLabels:t,sectors:n,children:r}=e,i=w.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return w.createElement(EU,{value:t?i:void 0},r)}function Yz(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:m,onAnimationStart:g,onAnimationEnd:x}=t,y=vf(t,"recharts-pie-"),b=n.current,[j,N]=w.useState(!1),S=w.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),A=w.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);return w.createElement(Kz,{showLabels:!j,sectors:r},w.createElement(yf,{animationId:y,begin:o,duration:u,isActive:i,easing:f,onAnimationStart:A,onAnimationEnd:S,key:y},T=>{var D=[],O=r&&r[0],E=O?.startAngle;return r?.forEach((P,M)=>{var I=b&&b[M],R=M>0?os(P,"paddingAngle",0):0;if(I){var U=En(I.endAngle-I.startAngle,P.endAngle-P.startAngle,T),V=It(It({},P),{},{startAngle:E+R,endAngle:E+U+R});D.push(V),E=V.endAngle}else{var{endAngle:H,startAngle:W}=P,Q=En(0,H-W,T),ve=It(It({},P),{},{startAngle:E+R,endAngle:E+Q+R});D.push(ve),E=ve.endAngle}}),n.current=D,w.createElement(Wn,null,w.createElement(Hz,{sectors:D,activeShape:h,inactiveShape:m,allOtherPieProps:t}))}),w.createElement(qz,{showLabels:!j,sectors:r,props:t}),t.children)}var Gz={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!gs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Xz(e){var{id:t}=e,n=vy(e,Cz),{hide:r,className:i,rootTabIndex:o}=e,u=w.useMemo(()=>qp(e.children,Nc),[e.children]),f=qe(g=>KU(g,t,u)),h=w.useRef(null),m=Dt("recharts-pie",i);return r||f==null?(h.current=null,w.createElement(Wn,{tabIndex:o,className:m})):w.createElement(w.Fragment,null,w.createElement(lT,{fn:kz,args:It(It({},e),{},{sectors:f})}),w.createElement(Wn,{tabIndex:o,className:m},w.createElement(Yz,{props:It(It({},n),{},{sectors:f}),previousSectorsRef:h})))}function cT(e){var t=Bn(e,Gz),{id:n}=t,r=vy(t,Dz),i=Dl(r);return w.createElement(iT,{id:n,type:"pie"},o=>w.createElement(w.Fragment,null,w.createElement(Sz,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),w.createElement(Mz,Sl({},r,{id:o})),w.createElement(Xz,Sl({},r,{id:o}))))}cT.displayName="Pie";function o2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(n),!0).forEach(function(r){Vz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vz(e,t,n){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wz(e){var t=Zz(e,"string");return typeof t=="symbol"?t:t+""}function Zz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qz={xAxis:{},yAxis:{},zAxis:{}},uT=hr({name:"cartesianAxis",initialState:Qz,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=c2(c2({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Jz,removeXAxis:eq,addYAxis:tq,removeYAxis:nq,addZAxis:CY,removeZAxis:DY,updateYAxisWidth:rq}=uT.actions,aq=uT.reducer,lq=de([on],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),sq=de([lq,Ra,La],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),dT=()=>qe(sq),iq="Invariant failed";function oq(e,t){throw new Error(iq)}var cq=["x","y"];function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yp.apply(null,arguments)}function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(r){uq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uq(e,t,n){return(t=dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mq(e,t){if(e==null)return{};var n,r,i=hq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gq(e,t){var{x:n,y:r}=e,i=mq(e,cq),o="".concat(n),u=parseInt(o,10),f="".concat(r),h=parseInt(f,10),m="".concat(t.height||i.height),g=parseInt(m,10),x="".concat(t.width||i.width),y=parseInt(x,10);return Lo(Lo(Lo(Lo(Lo({},t),i),u?{x:u}:{}),h?{y:h}:{}),{},{height:g,width:y,name:t.name,radius:t.radius})}function by(e){return w.createElement(aT,yp({shapeType:"rectangle",propTransformer:gq,activeClassName:"recharts-active-bar"},e))}var pq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Fe(t))return t;var o=Fe(r)||vn(r);return o?t(r,i):(o||oq(),n)}},xq={},fT=hr({name:"errorBars",initialState:xq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:EY,replaceErrorBar:TY,removeErrorBar:OY}=fT.actions,yq=fT.reducer,vq=["children"];function bq(e,t){if(e==null)return{};var n,r,i=wq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nq=w.createContext(jq);function Sq(e){var{children:t}=e,n=bq(e,vq);return w.createElement(Nq.Provider,{value:n},t)}function mT(e,t){var n,r,i=qe(m=>Ua(m,e)),o=qe(m=>za(m,t)),u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ar.allowDataOverflow,f=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:lr.allowDataOverflow,h=u||f;return{needClip:h,needClipX:u,needClipY:f}}function Aq(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=dT(),{needClipX:o,needClipY:u,needClip:f}=mT(t,n);if(!f)return null;var{x:h,y:m,width:g,height:x}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:o?h:h-g/2,y:u?m:m-x/2,width:o?g:g*2,height:u?x:x*2}))}var Cq=["onMouseEnter","onMouseLeave","onClick"],Dq=["value","background","tooltipPosition"],Eq=["id"],Tq=["onMouseEnter","onClick","onMouseLeave"];function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(null,arguments)}function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(n),!0).forEach(function(r){Oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oq(e,t,n){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kd(e,t){if(e==null)return{};var n,r,i=kq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _q=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:mf(n,t),payload:e}]};function $q(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:u,unit:f}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:mf(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:f}}}function Iq(e){var t=qe(fs),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:f,onClick:h}=o,m=Kd(o,Cq),g=py(u,r),x=xy(f),y=yy(h,r);if(!i||n==null)return null;var b=sn(i,!1);return w.createElement(w.Fragment,null,n.map((j,N)=>{var{value:S,background:A,tooltipPosition:T}=j,D=Kd(j,Dq);if(!A)return null;var O=g(j,N),E=x(j,N),P=y(j,N),M=Rn(Rn(Rn(Rn(Rn({option:i,isActive:String(N)===t},D),{},{fill:"#eee"},A),b),nf(m,j,N)),{},{onMouseEnter:O,onMouseLeave:E,onClick:P,dataKey:r,index:N,className:"recharts-bar-background-rectangle"});return w.createElement(by,Al({key:"background-bar-".concat(M.index)},M))}))}function Rq(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return Rn(Rn({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return w.createElement(DU,{value:t?i:void 0},n)}function Lq(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:u}=e,f=qe(fs),h=qe(ME),m=n&&String(o)===f&&(h==null||u===h),g=m?n:t;return w.createElement(by,Al({},r,i,{isActive:m,option:g,index:o,dataKey:u}))}function Bq(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return w.createElement(by,Al({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function Uq(e){var{data:t,props:n}=e,r=Dl(n),{id:i}=r,o=Kd(r,Eq),{shape:u,dataKey:f,activeBar:h}=n,{onMouseEnter:m,onClick:g,onMouseLeave:x}=n,y=Kd(n,Tq),b=py(m,f),j=xy(x),N=yy(g,f);return t?w.createElement(w.Fragment,null,t.map((S,A)=>w.createElement(Wn,Al({className:"recharts-bar-rectangle"},nf(y,S,A),{onMouseEnter:b(S,A),onMouseLeave:j(S,A),onClick:N(S,A),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(A)}),h?w.createElement(Lq,{shape:u,activeBar:h,baseProps:o,entry:S,index:A,dataKey:f}):w.createElement(Bq,{shape:u,baseProps:o,entry:S,index:A,dataKey:f})))):null}function zq(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:u,animationDuration:f,animationEasing:h,onAnimationEnd:m,onAnimationStart:g}=t,x=n.current,y=vf(t,"recharts-bar-"),[b,j]=w.useState(!1),N=!b,S=w.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),A=w.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]);return w.createElement(Rq,{showLabels:N,rects:r},w.createElement(yf,{animationId:y,begin:u,duration:f,isActive:o,easing:h,onAnimationEnd:S,onAnimationStart:A,key:y},T=>{var D=T===1?r:r?.map((O,E)=>{var P=x&&x[E];if(P)return Rn(Rn({},O),{},{x:En(P.x,O.x,T),y:En(P.y,O.y,T),width:En(P.width,O.width,T),height:En(P.height,O.height,T)});if(i==="horizontal"){var M=En(0,O.height,T);return Rn(Rn({},O),{},{y:O.y+O.height-M,height:M})}var I=En(0,O.width,T);return Rn(Rn({},O),{},{width:I})});return T>0&&(n.current=D??null),D==null?null:w.createElement(Wn,null,w.createElement(Uq,{props:t,data:D}))}),w.createElement(JE,{label:t.label}),t.children)}function qq(e){var t=w.useRef(null);return w.createElement(zq,{previousRectanglesRef:t,props:e})}var hT=0,Hq=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:zt(e,t)}};class Fq extends w.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:u,needClip:f,background:h,id:m}=this.props;if(t||n==null)return null;var g=Dt("recharts-bar",i),x=m;return w.createElement(Wn,{className:g,id:m},f&&w.createElement("defs",null,w.createElement(Aq,{clipPathId:x,xAxisId:o,yAxisId:u})),w.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(x,")"):void 0},w.createElement(Iq,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),w.createElement(qq,this.props)))}}var Kq={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!gs.isSsr,legendType:"rect",minPointSize:hT,xAxisId:0,yAxisId:0};function Yq(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:h,animationEasing:m,isAnimationActive:g}=e,{needClip:x}=mT(t,n),y=rx(),b=_r(),j=qp(e.children,Nc),N=qe(T=>bH(T,t,n,b,e.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var S,A=N?.[0];return A==null||A.height==null||A.width==null?S=0:S=y==="vertical"?A.height/2:A.width/2,w.createElement(Sq,{xAxisId:t,yAxisId:n,data:N,dataPointFormatter:Hq,errorBarOffset:S},w.createElement(Fq,Al({},e,{layout:y,needClip:x,data:N,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:h,animationEasing:m,isAnimationActive:g})))}function Gq(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:u,yAxis:f,xAxisTicks:h,yAxisTicks:m,stackedData:g,displayedData:x,offset:y,cells:b,parentViewBox:j}=e,N=t==="horizontal"?f:u,S=g?N.scale.domain():null,A=b$({numericAxis:N});return x.map((T,D)=>{var O,E,P,M,I,R;g?O=h$(g[D],S):(O=zt(T,n),Array.isArray(O)||(O=[A,O]));var U=pq(r,hT)(O[1],D);if(t==="horizontal"){var V,[H,W]=[f.scale(O[0]),f.scale(O[1])];E=Qj({axis:u,ticks:h,bandSize:o,offset:i.offset,entry:T,index:D}),P=(V=W??H)!==null&&V!==void 0?V:void 0,M=i.size;var Q=H-W;if(I=dr(Q)?0:Q,R={x:E,y:y.top,width:M,height:y.height},Math.abs(U)>0&&Math.abs(I)<Math.abs(U)){var ve=yn(I||U)*(Math.abs(U)-Math.abs(I));P-=ve,I+=ve}}else{var[Y,re]=[u.scale(O[0]),u.scale(O[1])];if(E=Y,P=Qj({axis:f,ticks:m,bandSize:o,offset:i.offset,entry:T,index:D}),M=re-Y,I=i.size,R={x:y.left,y:P,width:y.width,height:I},Math.abs(U)>0&&Math.abs(M)<Math.abs(U)){var ge=yn(M||U)*(Math.abs(U)-Math.abs(M));M+=ge}}if(E==null||P==null||M==null||I==null)return null;var Ee=Rn(Rn({},T),{},{x:E,y:P,width:M,height:I,value:g?O:O[1],payload:T,background:R,tooltipPosition:{x:E+M/2,y:P+I/2},parentViewBox:j},b&&b[D]&&b[D].props);return Ee}).filter(Boolean)}function Xq(e){var t=Bn(e,Kq),n=_r();return w.createElement(iT,{id:t.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(uz,{legendPayload:_q(t)}),w.createElement(lT,{fn:$q,args:t}),w.createElement(Nz,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:v$(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(Yq,Al({},t,{id:r}))))}var vp=w.memo(Xq);vp.displayName="Bar";function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(r){Vq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vq(e,t,n){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qq=(e,t)=>t,Jq=(e,t,n)=>n,eH=(e,t,n,r)=>r,tH=(e,t,n,r,i)=>i,Sc=de([Ux,tH],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),nH=de([Sc],e=>e?.maxBarSize),rH=(e,t,n,r,i,o)=>o,m2=(e,t,n)=>{var r=n??e;if(!vn(r))return $n(r,t,0)},aH=de([gt,Ux,Qq,Jq,eH],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),lH=(e,t,n,r)=>{var i=gt(e);return i==="horizontal"?fp(e,"yAxis",n,r):fp(e,"xAxis",t,r)},sH=(e,t,n)=>{var r=gt(e);return r==="horizontal"?mS(e,"xAxis",t):mS(e,"yAxis",n)},iH=(e,t,n)=>{var r={},i=e.filter(Tf),o=e.filter(m=>m.stackId==null),u=i.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),r),f=Object.entries(u).map(m=>{var[g,x]=m,y=x.map(j=>j.dataKey),b=m2(t,n,x[0].barSize);return{stackId:g,dataKeys:y,barSize:b}}),h=o.map(m=>{var g=[m.dataKey].filter(y=>y!=null),x=m2(t,n,m.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...f,...h]},oH=de([aH,z8,sH],iH),cH=(e,t,n,r,i)=>{var o,u,f=Sc(e,t,n,r,i);if(f!=null){var h=gt(e),m=OD(e),{maxBarSize:g}=f,x=vn(g)?m:g,y,b;return h==="horizontal"?(y=pi(e,"xAxis",t,r),b=gi(e,"xAxis",t,r)):(y=pi(e,"yAxis",n,r),b=gi(e,"yAxis",n,r)),(o=(u=ex(y,b,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},gT=(e,t,n,r)=>{var i=gt(e),o,u;return i==="horizontal"?(o=pi(e,"xAxis",t,r),u=gi(e,"xAxis",t,r)):(o=pi(e,"yAxis",n,r),u=gi(e,"yAxis",n,r)),ex(o,u)};function uH(e,t,n,r,i){var o=r.length;if(!(o<1)){var u=$n(e,n,0,!0),f,h=[];if(mr(r[0].barSize)){var m=!1,g=n/o,x=r.reduce((A,T)=>A+(T.barSize||0),0);x+=(o-1)*u,x>=n&&(x-=(o-1)*u,u=0),x>=n&&g>0&&(m=!0,g*=.9,x=o*g);var y=(n-x)/2>>0,b={offset:y-u,size:0};f=r.reduce((A,T)=>{var D,O={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:b.offset+b.size+u,size:m?g:(D=T.barSize)!==null&&D!==void 0?D:0}},E=[...A,O];return b=E[E.length-1].position,E},h)}else{var j=$n(t,n,0,!0);n-2*j-(o-1)*u<=0&&(u=0);var N=(n-2*j-(o-1)*u)/o;N>1&&(N>>=0);var S=mr(i)?Math.min(N,i):N;f=r.reduce((A,T,D)=>[...A,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:j+(N+u)*D+(N-S)/2,size:S}}],h)}return f}}var dH=(e,t,n,r,i,o,u)=>{var f=vn(u)?t:u,h=uH(n,r,i!==o?i:o,e,f);return i!==o&&h!=null&&(h=h.map(m=>nd(nd({},m),{},{position:nd(nd({},m.position),{},{offset:m.position.offset-i/2})}))),h},fH=de([oH,OD,U8,PD,cH,gT,nH],dH),mH=(e,t,n,r)=>pi(e,"xAxis",t,r),hH=(e,t,n,r)=>pi(e,"yAxis",n,r),gH=(e,t,n,r)=>gi(e,"xAxis",t,r),pH=(e,t,n,r)=>gi(e,"yAxis",n,r),xH=de([fH,Sc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),yH=(e,t)=>{var n=Rx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(u=>u.key===n)}}}},vH=de([lH,Sc],yH),bH=de([on,tx,mH,hH,gH,pH,xH,gt,Ex,gT,vH,Sc,rH],(e,t,n,r,i,o,u,f,h,m,g,x,y)=>{var{chartData:b,dataStartIndex:j,dataEndIndex:N}=h;if(!(x==null||u==null||t==null||f!=="horizontal"&&f!=="vertical"||n==null||r==null||i==null||o==null||m==null)){var{data:S}=x,A;if(S!=null&&S.length>0?A=S:A=b?.slice(j,N+1),A!=null)return Gq({layout:f,barSettings:x,pos:u,parentViewBox:t,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:g,displayedData:A,offset:e,cells:y})}}),pT=e=>{var{chartData:t}=e,n=Zt(),r=_r();return w.useEffect(()=>r?()=>{}:(n(NS(t)),()=>{n(NS(void 0))}),[t,n,r]),null},h2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xT=hr({name:"brush",initialState:h2,reducers:{setBrushSettings(e,t){return t.payload==null?h2:t.payload}}}),{setBrushSettings:PY}=xT.actions,wH=xT.reducer;function jH(e,t,n){return(t=NH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wy{static create(t){return new wy(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}jH(wy,"EPS",1e-4);function AH(e){return(e%180+180)%180}var CH=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=AH(i),u=o*Math.PI/180,f=Math.atan(r/n),h=u>f&&u<Math.PI-f?r/Math.sin(u):n/Math.cos(u);return Math.abs(h)},DH={dots:[],areas:[],lines:[]},yT=hr({name:"referenceElements",initialState:DH,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ca(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ca(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ca(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:MY,removeDot:kY,addArea:_Y,removeArea:$Y,addLine:IY,removeLine:RY}=yT.actions,EH=yT.reducer,TH=w.createContext(void 0),OH=e=>{var{children:t}=e,[n]=w.useState("".concat(Ko("recharts"),"-clip")),r=dT();if(r==null)return null;var{x:i,y:o,width:u,height:f}=r;return w.createElement(TH.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:o,height:f,width:u}))),t)};function xi(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function vT(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function PH(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return CH(r,n)}function MH(e,t,n){var r=n==="width",{x:i,y:o,width:u,height:f}=e;return t===1?{start:r?i:o,end:r?i+u:o+f}:{start:r?i+u:o+f,end:r?i:o}}function Yd(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function kH(e,t){return vT(e,t+1)}function _H(e,t,n,r,i){for(var o=(r||[]).slice(),{start:u,end:f}=t,h=0,m=1,g=u,x=function(){var j=r?.[h];if(j===void 0)return{v:vT(r,m)};var N=h,S,A=()=>(S===void 0&&(S=n(j,N)),S),T=j.coordinate,D=h===0||Yd(e,T,A,g,f);D||(h=0,g=u,m+=1),D&&(g=T+e*(A()/2+i),h+=m)},y;m<=o.length;)if(y=x(),y)return y.v;return[]}function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(r){$H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $H(e,t,n){return(t=IH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t,n,r,i){for(var o=(r||[]).slice(),u=o.length,{start:f}=t,{end:h}=t,m=function(y){var b=o[y],j,N=()=>(j===void 0&&(j=n(b,y)),j);if(y===u-1){var S=e*(b.coordinate+e*N()/2-h);o[y]=b=Mn(Mn({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else o[y]=b=Mn(Mn({},b),{},{tickCoord:b.coordinate});var A=Yd(e,b.tickCoord,N,f,h);A&&(h=b.tickCoord-e*(N()/2+i),o[y]=Mn(Mn({},b),{},{isShow:!0}))},g=u-1;g>=0;g--)m(g);return o}function BH(e,t,n,r,i,o){var u=(r||[]).slice(),f=u.length,{start:h,end:m}=t;if(o){var g=r[f-1],x=n(g,f-1),y=e*(g.coordinate+e*x/2-m);u[f-1]=g=Mn(Mn({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate});var b=Yd(e,g.tickCoord,()=>x,h,m);b&&(m=g.tickCoord-e*(x/2+i),u[f-1]=Mn(Mn({},g),{},{isShow:!0}))}for(var j=o?f-1:f,N=function(T){var D=u[T],O,E=()=>(O===void 0&&(O=n(D,T)),O);if(T===0){var P=e*(D.coordinate-e*E()/2-h);u[T]=D=Mn(Mn({},D),{},{tickCoord:P<0?D.coordinate-P*e:D.coordinate})}else u[T]=D=Mn(Mn({},D),{},{tickCoord:D.coordinate});var M=Yd(e,D.tickCoord,E,h,m);M&&(h=D.tickCoord+e*(E()/2+i),u[T]=Mn(Mn({},D),{},{isShow:!0}))},S=0;S<j;S++)N(S);return u}function jy(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:u,orientation:f,interval:h,tickFormatter:m,unit:g,angle:x}=e;if(!i||!i.length||!r)return[];if(Fe(h)||gs.isSsr){var y;return(y=kH(i,Fe(h)?h:0))!==null&&y!==void 0?y:[]}var b=[],j=f==="top"||f==="bottom"?"width":"height",N=g&&j==="width"?Ho(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(D,O)=>{var E=typeof m=="function"?m(D.value,O):D.value;return j==="width"?PH(Ho(E,{fontSize:t,letterSpacing:n}),N,x):Ho(E,{fontSize:t,letterSpacing:n})[j]},A=i.length>=2?yn(i[1].coordinate-i[0].coordinate):1,T=MH(o,A,j);return h==="equidistantPreserveStart"?_H(A,T,S,i,u):(h==="preserveStart"||h==="preserveStartEnd"?b=BH(A,T,S,i,u,h==="preserveStartEnd"):b=LH(A,T,S,i,u),b.filter(D=>D.isShow))}var UH=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,u=0;if(t){t.forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>u&&(u=x.width)}});var f=n?n.getBoundingClientRect().width:0,h=i+o,m=u+h+f+(n?r:0);return Math.round(m)}return 0},zH=["axisLine","width","height","className","hide","ticks"],qH=["viewBox"],HH=["viewBox"];function bp(e,t){if(e==null)return{};var n,r,i=FH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ms.apply(null,arguments)}function p2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(n),!0).forEach(function(r){KH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KH(e,t,n){return(t=YH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function XH(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:u,axisLine:f,otherSvgProps:h}=e;if(!f)return null;var m=ln(ln(ln({},h),sn(f,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var g=+(o==="top"&&!u||o==="bottom"&&u);m=ln(ln({},m),{},{x1:t,y1:n+g*i,x2:t+r,y2:n+g*i})}else{var x=+(o==="left"&&!u||o==="right"&&u);m=ln(ln({},m),{},{x1:t+x*r,y1:n,x2:t+x*r,y2:n+i})}return w.createElement("line",ms({},m,{className:Dt("recharts-cartesian-axis-line",os(f,"className"))}))}function VH(e,t,n,r,i,o,u,f,h){var m,g,x,y,b,j,N=f?-1:1,S=e.tickSize||u,A=Fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=g=e.coordinate,y=n+ +!f*i,x=y-N*S,j=x-N*h,b=A;break;case"left":x=y=e.coordinate,g=t+ +!f*r,m=g-N*S,b=m-N*h,j=A;break;case"right":x=y=e.coordinate,g=t+ +f*r,m=g+N*S,b=m+N*h,j=A;break;default:m=g=e.coordinate,y=n+ +f*i,x=y+N*S,j=x+N*h,b=A;break}return{line:{x1:m,y1:x,x2:g,y2:y},tick:{x:b,y:j}}}function WH(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ZH(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function QH(e){var{option:t,tickProps:n,value:r}=e,i,o=Dt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,ln(ln({},n),{},{className:o}));else if(typeof t=="function")i=t(ln(ln({},n),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=Dt(u,t?.className)),i=w.createElement($f,ms({},n,{className:u}),r)}return i}function JH(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:u,padding:f,tickTextProps:h,orientation:m,mirror:g,x,y,width:b,height:j,tickSize:N,tickMargin:S,fontSize:A,letterSpacing:T,getTicksConfig:D,events:O}=e,E=jy(ln(ln({},D),{},{ticks:t}),A,T),P=WH(m,g),M=ZH(m,g),I=Dl(D),R=sn(n,!1),U=ln(ln({},I),{},{fill:"none"},sn(r,!1)),V=E.map((H,W)=>{var{line:Q,tick:ve}=VH(H,x,y,b,j,m,N,g,S),Y=ln(ln(ln(ln({textAnchor:P,verticalAnchor:M},I),{},{stroke:"none",fill:i},R),ve),{},{index:W,payload:H,visibleTicksCount:E.length,tickFormatter:o,padding:f},h);return w.createElement(Wn,ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},nf(O,H,W)),r&&w.createElement("line",ms({},U,Q,{className:Dt("recharts-cartesian-axis-tick-line",os(r,"className"))})),n&&w.createElement(QH,{option:n,tickProps:Y,value:"".concat(typeof o=="function"?o(H.value,W):H.value).concat(u||"")}))});return V.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var eF=w.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:u,ticks:f}=e,h=bp(e,zH),[m,g]=w.useState(""),[x,y]=w.useState(""),b=w.useRef([]);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var N;return UH({ticks:b.current,label:(N=e.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=w.useCallback(N=>{if(N){var S=N.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(S);var A=S[0];if(A){var T=window.getComputedStyle(A),D=T.fontSize,O=T.letterSpacing;(D!==m||O!==x)&&(g(D),y(O))}}},[m,x]);return u||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Wn,{className:Dt("recharts-cartesian-axis",o),ref:j},w.createElement(XH,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Dl(e)}),w.createElement(JH,{ticks:f,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:x,getTicksConfig:e,events:h}),w.createElement(sU,{x:e.x,y:e.y,width:e.width,height:e.height},w.createElement(pU,{label:e.label}),e.children))}),tF=w.memo(eF,(e,t)=>{var{viewBox:n}=e,r=bp(e,qH),{viewBox:i}=t,o=bp(t,HH);return xi(n,i)&&xi(r,o)}),Sy=w.forwardRef((e,t)=>{var n=Bn(e,Ny);return w.createElement(tF,ms({},n,{ref:t}))});Sy.displayName="CartesianAxis";var nF=["x1","y1","x2","y2","key"],rF=["offset"],aF=["xAxisId","yAxisId"],lF=["xAxisId","yAxisId"];function x2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(n),!0).forEach(function(r){sF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sF(e,t,n){return(t=iF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(null,arguments)}function Gd(e,t){if(e==null)return{};var n,r,i=cF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:u,ry:f}=e;return w.createElement("rect",{x:r,y:i,ry:f,width:o,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bT(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:u,key:f}=t,h=Gd(t,nF),m=Dl(h),{offset:g}=m,x=Gd(m,rF);n=w.createElement("line",ns({},x,{x1:r,y1:i,x2:o,y2:u,fill:"none",key:f}))}return n}function dF(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:u}=e,f=Gd(e,aF),h=i.map((m,g)=>{var x=_n(_n({},f),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(g),index:g});return bT(r,x)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function fF(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:u}=e,f=Gd(e,lF),h=i.map((m,g)=>{var x=_n(_n({},f),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(g),index:g});return bT(r,x)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function mF(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:u,horizontalPoints:f,horizontal:h=!0}=e;if(!h||!t||!t.length)return null;var m=f.map(x=>Math.round(x+i-i)).sort((x,y)=>x-y);i!==m[0]&&m.unshift(0);var g=m.map((x,y)=>{var b=!m[y+1],j=b?i+u-x:m[y+1]-x;if(j<=0)return null;var N=y%t.length;return w.createElement("rect",{key:"react-".concat(y),y:x,x:r,height:j,width:o,stroke:"none",fill:t[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function hF(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:u,height:f,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var m=h.map(x=>Math.round(x+i-i)).sort((x,y)=>x-y);i!==m[0]&&m.unshift(0);var g=m.map((x,y)=>{var b=!m[y+1],j=b?i+u-x:m[y+1]-x;if(j<=0)return null;var N=y%n.length;return w.createElement("rect",{key:"react-".concat(y),x,y:o,width:j,height:f,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var gF=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return hC(jy(_n(_n(_n({},Ny),n),{},{ticks:gC(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},pF=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return hC(jy(_n(_n(_n({},Ny),n),{},{ticks:gC(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},xF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wT(e){var t=bC(),n=wC(),r=vC(),i=_n(_n({},Bn(e,xF)),{},{x:Fe(e.x)?e.x:r.left,y:Fe(e.y)?e.y:r.top,width:Fe(e.width)?e.width:r.width,height:Fe(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:u,x:f,y:h,width:m,height:g,syncWithTicks:x,horizontalValues:y,verticalValues:b}=i,j=_r(),N=qe(R=>hS(R,"xAxis",o,j)),S=qe(R=>hS(R,"yAxis",u,j));if(!Fe(m)||m<=0||!Fe(g)||g<=0||!Fe(f)||f!==+f||!Fe(h)||h!==+h)return null;var A=i.verticalCoordinatesGenerator||gF,T=i.horizontalCoordinatesGenerator||pF,{horizontalPoints:D,verticalPoints:O}=i;if((!D||!D.length)&&typeof T=="function"){var E=y&&y.length,P=T({yAxis:S?_n(_n({},S),{},{ticks:E?y:S.ticks}):void 0,width:t,height:n,offset:r},E?!0:x);qo(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(D=P)}if((!O||!O.length)&&typeof A=="function"){var M=b&&b.length,I=A({xAxis:N?_n(_n({},N),{},{ticks:M?b:N.ticks}):void 0,width:t,height:n,offset:r},M?!0:x);qo(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(O=I)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(uF,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(mF,ns({},i,{horizontalPoints:D})),w.createElement(hF,ns({},i,{verticalPoints:O})),w.createElement(dF,ns({},i,{offset:r,horizontalPoints:D,xAxis:N,yAxis:S})),w.createElement(fF,ns({},i,{offset:r,verticalPoints:O,xAxis:N,yAxis:S})))}wT.displayName="CartesianGrid";var yF=["dangerouslySetInnerHTML","ticks"],vF=["id"],bF=["domain"],wF=["domain"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(null,arguments)}function Xd(e,t){if(e==null)return{};var n,r,i=jF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NF(e){var t=Zt();return w.useEffect(()=>(t(Jz(e)),()=>{t(eq(e))}),[e,t]),null}var SF=e=>{var{xAxisId:t,className:n}=e,r=qe(tx),i=_r(),o="xAxis",u=qe(S=>Oi(S,o,t,i)),f=qe(S=>mE(S,o,t,i)),h=qe(S=>cE(S,t)),m=qe(S=>M7(S,t)),g=qe(S=>UD(S,t));if(h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:y}=e,b=Xd(e,yF),{id:j}=g,N=Xd(g,vF);return w.createElement(Sy,wp({},b,N,{scale:u,x:m.x,y:m.y,width:h.width,height:h.height,className:Dt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:f}))},AF={allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,height:ar.height,hide:!1,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tickCount:ar.tickCount,type:ar.type,xAxisId:0},CF=e=>{var t,n,r,i,o,u=Bn(e,AF);return w.createElement(w.Fragment,null,w.createElement(NF,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),w.createElement(SF,u))},DF=(e,t)=>{var{domain:n}=e,r=Xd(e,bF),{domain:i}=t,o=Xd(t,wF);return xi(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:xi({domain:n},{domain:i}):!1},jT=w.memo(CF,DF);jT.displayName="XAxis";var EF=["dangerouslySetInnerHTML","ticks"],TF=["id"],OF=["domain"],PF=["domain"];function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jp.apply(null,arguments)}function Vd(e,t){if(e==null)return{};var n,r,i=MF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kF(e){var t=Zt();return w.useEffect(()=>(t(tq(e)),()=>{t(nq(e))}),[e,t]),null}var _F=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=w.useRef(null),u=w.useRef(null),f=qe(tx),h=_r(),m=Zt(),g="yAxis",x=qe(E=>Oi(E,g,t,h)),y=qe(E=>uE(E,t)),b=qe(E=>_7(E,t)),j=qe(E=>mE(E,g,t,h)),N=qe(E=>zD(E,t));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!y||dy(i)||w.isValidElement(i)||N==null)){var E=o.current;if(E){var P=E.getCalculatedWidth();Math.round(y.width)!==Math.round(P)&&m(rq({id:t,width:P}))}}},[j,y,m,i,t,r,N]),y==null||b==null||N==null)return null;var{dangerouslySetInnerHTML:S,ticks:A}=e,T=Vd(e,EF),{id:D}=N,O=Vd(N,TF);return w.createElement(Sy,jp({},T,O,{ref:o,labelRef:u,scale:x,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Dt("recharts-".concat(g," ").concat(g),n),viewBox:f,ticks:j}))},$F={allowDataOverflow:lr.allowDataOverflow,allowDecimals:lr.allowDecimals,allowDuplicatedCategory:lr.allowDuplicatedCategory,hide:!1,mirror:lr.mirror,orientation:lr.orientation,padding:lr.padding,reversed:lr.reversed,scale:lr.scale,tickCount:lr.tickCount,type:lr.type,width:lr.width,yAxisId:0},IF=e=>{var t,n,r,i,o,u=Bn(e,$F);return w.createElement(w.Fragment,null,w.createElement(kF,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),w.createElement(_F,u))},RF=(e,t)=>{var{domain:n}=e,r=Vd(e,OF),{domain:i}=t,o=Vd(t,PF);return xi(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:xi({domain:n},{domain:i}):!1},NT=w.memo(IF,RF);NT.displayName="YAxis";var A0={exports:{}},C0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function LF(){if(y2)return C0;y2=1;var e=yi();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,u=e.useMemo,f=e.useDebugValue;return C0.useSyncExternalStoreWithSelector=function(h,m,g,x,y){var b=i(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=u(function(){function S(E){if(!A){if(A=!0,T=E,E=x(E),y!==void 0&&j.hasValue){var P=j.value;if(y(P,E))return D=P}return D=E}if(P=D,n(T,E))return P;var M=x(E);return y!==void 0&&y(P,M)?(T=E,P):(T=E,D=M)}var A=!1,T,D,O=g===void 0?null:g;return[function(){return S(m())},O===null?void 0:function(){return S(O())}]},[m,g,x,y]);var N=r(h,b[0],b[1]);return o(function(){j.hasValue=!0,j.value=N},[N]),f(N),N},C0}var v2;function BF(){return v2||(v2=1,A0.exports=LF()),A0.exports}BF();function UF(e){e()}function zF(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UF(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var b2={notify(){},get:()=>[]};function qF(e,t){let n,r=b2,i=0,o=!1;function u(N){g();const S=r.subscribe(N);let A=!1;return()=>{A||(A=!0,S(),x())}}function f(){r.notify()}function h(){j.onStateChange&&j.onStateChange()}function m(){return o}function g(){i++,n||(n=e.subscribe(h),r=zF())}function x(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=b2)}function y(){o||(o=!0,g())}function b(){o&&(o=!1,x())}const j={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return j}var HF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FF=HF(),KF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YF=KF(),GF=()=>FF||YF?w.useLayoutEffect:w.useEffect,XF=GF(),VF=Symbol.for("react-redux-context"),WF=typeof globalThis<"u"?globalThis:{};function ZF(){if(!w.createContext)return{};const e=WF[VF]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var QF=ZF();function JF(e){const{children:t,context:n,serverState:r,store:i}=e,o=w.useMemo(()=>{const h=qF(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),u=w.useMemo(()=>i.getState(),[i]);XF(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,u]);const f=n||QF;return w.createElement(f.Provider,{value:o},t)}var eK=JF,tK=(e,t)=>t,Ay=de([tK,gt,RD,un,EE,qa,LB,on],HB),Cy=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},ST=Pr("mouseClick"),AT=uc();AT.startListening({actionCreator:ST,effect:(e,t)=>{var n=e.payload,r=Ay(t.getState(),Cy(n));r?.activeIndex!=null&&t.dispatch(G7({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Np=Pr("mouseMove"),CT=uc();CT.startListening({actionCreator:Np,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=ny(r,r.tooltip.settings.shared),o=Ay(r,Cy(n));i==="axis"&&(o?.activeIndex!=null?t.dispatch(wE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(bE()))}});var w2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},DT=hr({name:"rootProps",initialState:w2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:w2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),nK=DT.reducer,{updateOptions:rK}=DT.actions,ET=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:aK}=ET.actions,lK=ET.reducer,TT=Pr("keyDown"),OT=Pr("focus"),Dy=uc();Dy.startListening({actionCreator:TT,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(ry(i,Mi(n))),f=qa(n);if(o==="Enter"){var h=zd(n,"axis","hover",String(i.index));t.dispatch(hp({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var m=L7(n),g=m==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,y=u+x*g;if(!(f==null||y>=f.length||y<0)){var b=zd(n,"axis","hover",String(y));t.dispatch(hp({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});Dy.startListening({actionCreator:OT,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",u=zd(n,"axis","hover",String(o));t.dispatch(hp({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var Er=Pr("externalEvent"),PT=uc();PT.startListening({actionCreator:Er,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:TB(n),activeDataKey:ME(n),activeIndex:fs(n),activeLabel:PE(n),activeTooltipIndex:fs(n),isTooltipActive:OB(n)};e.payload.handler(r,e.payload.reactEvent)}}});var sK=de([Pi],e=>e.tooltipItemPayloads),iK=de([sK,wc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(f=>f.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var u=t(o,n);return u}}}),MT=Pr("touchMove"),kT=uc();kT.startListening({actionCreator:MT,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=ny(r,r.tooltip.settings.shared);if(i==="axis"){var o=Ay(r,Cy({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(wE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0],h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(xC),g=(u=h.getAttribute(yC))!==null&&u!==void 0?u:void 0,x=iK(t.getState(),m,g);t.dispatch(vE({activeDataKey:g,activeIndex:m,activeCoordinate:x}))}}});var oK=HA({brush:wH,cartesianAxis:aq,chartData:l9,errorBars:yq,graphicalItems:jz,layout:Q_,legend:U$,options:e9,polarAxis:LU,polarOptions:lK,referenceElements:EH,rootProps:nK,tooltip:X7}),cK=function(t){return N_({reducer:oK,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([AT.middleware,CT.middleware,Dy.middleware,PT.middleware,kT.middleware]),devTools:gs.devToolsEnabled})};function _T(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=_r(),o=w.useRef(null);if(i)return n;o.current==null&&(o.current=cK(t));var u=Xp;return w.createElement(eK,{context:u,store:o.current},n)}function $T(e){var{layout:t,width:n,height:r,margin:i}=e,o=Zt(),u=_r();return w.useEffect(()=>{u||(o(V_(t)),o(W_({width:n,height:r})),o(X_(i)))},[o,u,t,n,r,i]),null}function IT(e){var t=Zt();return w.useEffect(()=>{t(rK(e))},[t,e]),null}var uK=["children"];function dK(e,t){if(e==null)return{};var n,r,i=fK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wd.apply(null,arguments)}var mK={width:"100%",height:"100%"},hK=w.forwardRef((e,t)=>{var n=bC(),r=wC(),i=AC();if(!ui(n)||!ui(r))return null;var{children:o,otherAttributes:u,title:f,desc:h}=e,m,g;return typeof u.tabIndex=="number"?m=u.tabIndex:m=i?0:void 0,typeof u.role=="string"?g=u.role:g=i?"application":void 0,w.createElement(dA,Wd({},u,{title:f,desc:h,role:g,tabIndex:m,width:n,height:r,style:mK,ref:t}),o)}),gK=e=>{var{children:t}=e,n=qe(xf);if(!n)return null;var{width:r,height:i,y:o,x:u}=n;return w.createElement(dA,{width:r,height:i,x:u,y:o},t)},j2=w.forwardRef((e,t)=>{var{children:n}=e,r=dK(e,uK),i=_r();return i?w.createElement(gK,null,n):w.createElement(hK,Wd({ref:t},r),n)});function pK(){var e=Zt(),[t,n]=w.useState(null),r=qe(D$);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;mr(o)&&o!==r&&e(Z_(o))}},[t,e,r]),n}function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(r){yK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yK(e,t,n){return(t=vK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wK=w.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:u,onDoubleClick:f,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseMove:x,onMouseUp:y,onTouchEnd:b,onTouchMove:j,onTouchStart:N,style:S,width:A}=e,T=Zt(),[D,O]=w.useState(null),[E,P]=w.useState(null);h9();var M=pK(),I=w.useCallback(L=>{M(L),typeof t=="function"&&t(L),O(L),P(L)},[M,t,O,P]),R=w.useCallback(L=>{T(ST(L)),T(Er({handler:o,reactEvent:L}))},[T,o]),U=w.useCallback(L=>{T(Np(L)),T(Er({handler:m,reactEvent:L}))},[T,m]),V=w.useCallback(L=>{T(bE()),T(Er({handler:g,reactEvent:L}))},[T,g]),H=w.useCallback(L=>{T(Np(L)),T(Er({handler:x,reactEvent:L}))},[T,x]),W=w.useCallback(()=>{T(OT())},[T]),Q=w.useCallback(L=>{T(TT(L.key))},[T]),ve=w.useCallback(L=>{T(Er({handler:u,reactEvent:L}))},[T,u]),Y=w.useCallback(L=>{T(Er({handler:f,reactEvent:L}))},[T,f]),re=w.useCallback(L=>{T(Er({handler:h,reactEvent:L}))},[T,h]),ge=w.useCallback(L=>{T(Er({handler:y,reactEvent:L}))},[T,y]),Ee=w.useCallback(L=>{T(Er({handler:N,reactEvent:L}))},[T,N]),$=w.useCallback(L=>{T(MT(L)),T(Er({handler:j,reactEvent:L}))},[T,j]),ie=w.useCallback(L=>{T(Er({handler:b,reactEvent:L}))},[T,b]);return w.createElement(LE.Provider,{value:D},w.createElement(y6.Provider,{value:E},w.createElement("div",{className:Dt("recharts-wrapper",r),style:xK({position:"relative",cursor:"default",width:A,height:i},S),onClick:R,onContextMenu:ve,onDoubleClick:Y,onFocus:W,onKeyDown:Q,onMouseDown:re,onMouseEnter:U,onMouseLeave:V,onMouseMove:H,onMouseUp:ge,onTouchEnd:ie,onTouchMove:$,onTouchStart:Ee,ref:I},n)))}),jK=["children","className","width","height","style","compact","title","desc"];function NK(e,t){if(e==null)return{};var n,r,i=SK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RT=w.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:u,compact:f,title:h,desc:m}=e,g=NK(e,jK),x=Dl(g);return f?w.createElement(j2,{otherAttributes:x,title:h,desc:m},n):w.createElement(wK,{className:r,style:u,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(j2,{otherAttributes:x,title:h,desc:m,ref:t},w.createElement(OH,null,n)))}),AK=["width","height"];function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}function CK(e,t){if(e==null)return{};var n,r,i=DK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EK={top:5,right:5,bottom:5,left:5},TK={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:EK,reverseStackOrder:!1,syncMethod:"index"},OK=w.forwardRef(function(t,n){var r,i=Bn(t.categoricalChartProps,TK),{width:o,height:u}=i,f=CK(i,AK);if(!ui(o)||!ui(u))return null;var{chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,categoricalChartProps:y}=t,b={chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return w.createElement(_T,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:h},w.createElement(pT,{chartData:y.data}),w.createElement($T,{width:o,height:u,layout:i.layout,margin:i.margin}),w.createElement(IT,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(RT,Sp({},f,{width:o,height:u,ref:n})))}),PK=["axis","item"],MK=w.forwardRef((e,t)=>w.createElement(OK,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:PK,tooltipPayloadSearcher:BE,categoricalChartProps:e,ref:t}));function kK(e){var t=Zt();return w.useEffect(()=>{t(aK(e))},[t,e]),null}var _K=["width","height","layout"];function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(null,arguments)}function $K(e,t){if(e==null)return{};var n,r,i=IK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RK={top:5,right:5,bottom:5,left:5},LK={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:RK,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},BK=w.forwardRef(function(t,n){var r,i=Bn(t.categoricalChartProps,LK),{width:o,height:u,layout:f}=i,h=$K(i,_K);if(!ui(o)||!ui(u))return null;var{chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:y}=t,b={chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:y,eventEmitter:void 0};return w.createElement(_T,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:m},w.createElement(pT,{chartData:i.data}),w.createElement($T,{width:o,height:u,layout:f,margin:i.margin}),w.createElement(IT,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(kK,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(RT,Ap({width:o,height:u},h,{ref:n})))}),UK=["item"],zK={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qK=w.forwardRef((e,t)=>{var n=Bn(e,zK);return w.createElement(BK,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:UK,tooltipPayloadSearcher:BE,categoricalChartProps:n,ref:t})});const HK=()=>{const[e,t]=w.useState(!0),[n,r]=w.useState(null),[i,o]=w.useState(new Date().getMonth()+1),[u,f]=w.useState(new Date().getFullYear()),[h,m]=w.useState({});w.useEffect(()=>{g()},[i,u]);const g=async()=>{try{t(!0);const E=await ic.getOverview({month:i,year:u});if(E.success){console.log(` Dashboard Data for ${i}/${u}:`),console.log(`   - Monthly Savings: ${E.data.stats?.totalSavings||0}`),console.log(`   - Monthly Collection: ${E.data.stats?.totalCollection||0}`),r(E.data);const P=`${u}-${i.toString().padStart(2,"0")}`;m(M=>({...M,[P]:E.data.stats}))}}catch(E){console.error("Error loading dashboard:",E),fe.error("Failed to load dashboard data")}finally{t(!1)}},x=()=>{i===1?(o(12),f(u-1)):o(i-1)},y=()=>{i===12?(o(1),f(u+1)):o(i+1)},b=()=>{const E=new Date;o(E.getMonth()+1),f(E.getFullYear())},j=()=>new Date(u,i-1).toLocaleString("default",{month:"long",year:"numeric"}),N=()=>{const E=new Date;return i===E.getMonth()+1&&u===E.getFullYear()},S={totalMembers:n?.stats?.totalMembers||0,totalSavings:n?.stats?.totalSavings||0,totalCollection:n?.stats?.totalCollection||0,todayCollection:n?.stats?.todayCollection||0,productsDistributed:n?.stats?.productsDistributed||0,totalOutstandingLoans:n?.stats?.totalOutstandingLoans||0,totalAllTimeSavings:n?.stats?.totalAllTimeSavings||0},A=(n?.recentActivities||[]).map(E=>{const P={member:or,installment:Yn,product:xn,savings:Nl},M={member:"text-blue-600 bg-blue-100",installment:"text-green-600 bg-green-100",product:"text-yellow-600 bg-yellow-100",savings:"text-purple-600 bg-purple-100"};return{...E,icon:P[E.type]||Yn,color:M[E.type]||"text-gray-600 bg-gray-100"}}),T=n?.monthlyTrend||[],D=n?.productBreakdown||[],O=({title:E,value:P,icon:M,color:I,trend:R,trendValue:U,bgColor:V,gradientBg:H,onClick:W,clickable:Q=!1})=>s.jsx("div",{className:`${H||"bg-white"} rounded-xl shadow-lg p-4 border-2 border-white hover:shadow-xl transition-all transform hover:scale-105 ${Q?"cursor-pointer":""}`,onClick:Q?W:void 0,children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"mb-3",children:s.jsx(M,{className:"h-10 w-10 text-white drop-shadow-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-white mb-1 opacity-95 drop-shadow-sm",children:E}),s.jsx("p",{className:"text-2xl font-bold text-white mb-1 drop-shadow-sm",children:P}),R&&s.jsxs("div",{className:`flex items-center justify-center text-xs font-medium ${R==="up"?"text-green-100":"text-red-100"} drop-shadow-sm`,children:[R==="up"?s.jsx(lc,{className:"h-3 w-3 mr-1"}):s.jsx(PM,{className:"h-3 w-3 mr-1"}),U,"%"]})]})]})});return e?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-xl lg:rounded-2xl text-white p-4 md:p-5 lg:p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start space-y-4 lg:space-y-0 mb-4",children:[s.jsxs("div",{className:"text-center lg:text-left",children:[s.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2",children:"Welcome to Satrong Sajghor Traders Dashboard"}),s.jsx("p",{className:"text-indigo-100 text-sm md:text-base",children:"View monthly summary information and activities"})]}),s.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-indigo-800 backdrop-blur-sm rounded-xl p-2 md:p-3 border-2 border-purple-400 shadow-xl mx-auto lg:mx-0",children:s.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[s.jsx("button",{onClick:x,className:"p-1.5 md:p-2 bg-yellow-500 hover:bg-yellow-400 text-purple-900 rounded-lg transition-all hover:scale-110 shadow-md",title:"Previous Month",children:s.jsx(W2,{className:"h-4 md:h-5 w-4 md:w-5 font-bold"})}),s.jsxs("div",{className:"text-center min-w-[120px] md:min-w-[150px]",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1.5 md:space-x-2",children:[s.jsx(Tn,{className:"h-3 md:h-4 w-3 md:w-4 text-yellow-300"}),s.jsx("span",{className:"font-bold text-sm md:text-lg text-white drop-shadow-lg",children:j()})]}),!N()&&s.jsx("button",{onClick:b,className:"text-[10px] md:text-xs text-yellow-200 hover:text-yellow-100 mt-1 underline",children:"Go to Current Month"})]}),s.jsx("button",{onClick:y,className:`p-1.5 md:p-2 rounded-lg transition-all shadow-md ${N()?"bg-gray-500 text-gray-300 cursor-not-allowed opacity-50":"bg-yellow-500 hover:bg-yellow-400 text-purple-900 hover:scale-110"}`,disabled:N(),title:N()?"Cannot view future months":"Next Month",children:s.jsx(Z2,{className:"h-4 md:h-5 w-4 md:w-5 font-bold"})})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-center lg:justify-start gap-2 sm:gap-3",children:[s.jsx("div",{className:"bg-white bg-opacity-90 px-3 py-1.5 md:py-1 rounded-full border border-gray-200 text-center",children:s.jsxs("span",{className:"text-xs md:text-xs font-semibold text-gray-800",children:["Today: ",ii(new Date)]})}),s.jsx("div",{className:"bg-white bg-opacity-90 px-3 py-1.5 md:py-1 rounded-full border border-gray-200 text-center",children:s.jsxs("span",{className:"text-xs md:text-xs font-semibold text-gray-800",children:["Active Members: ",S.totalMembers]})}),!N()&&s.jsx("div",{className:"bg-yellow-500 bg-opacity-90 px-3 py-1.5 md:py-1 rounded-full border border-yellow-600 text-center",children:s.jsxs("span",{className:"text-xs md:text-xs font-semibold text-white",children:[" Viewing ",j()," Data"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(O,{title:"Total Members",value:S.totalMembers||0,icon:or,gradientBg:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",trend:"up",trendValue:"12"}),s.jsx(O,{title:`${j()} Savings`,value:`${(S.totalSavings||0).toLocaleString()}`,icon:Nl,gradientBg:"bg-gradient-to-br from-green-500 via-emerald-600 to-teal-700",trend:"up",trendValue:"8.5"}),s.jsx(O,{title:`${j()} Collection`,value:`${(S.totalCollection||0).toLocaleString()}`,icon:Yn,gradientBg:"bg-gradient-to-br from-yellow-500 via-orange-600 to-red-700",trend:"up",trendValue:"15"}),s.jsx(O,{title:"Product Distribution",value:S.productsDistributed||0,icon:xn,gradientBg:"bg-gradient-to-br from-purple-500 via-pink-600 to-rose-700"}),s.jsx(O,{title:"Total Outstanding Loans",value:`${(S.totalOutstandingLoans||0).toLocaleString()}`,icon:aM,gradientBg:"bg-gradient-to-br from-red-500 via-rose-600 to-pink-700"}),s.jsx(O,{title:"Total Savings (All Time)",value:`${(S.totalAllTimeSavings||0).toLocaleString()}`,icon:UM,gradientBg:"bg-gradient-to-br from-cyan-500 via-sky-600 to-blue-700"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl shadow-lg p-4 border border-blue-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center",children:[s.jsx(Yn,{className:"h-5 w-5 mr-2"}),"Monthly Collection & Savings"]}),s.jsx(_S,{width:"100%",height:250,children:s.jsxs(MK,{data:T,children:[s.jsx(wT,{strokeDasharray:"3 3"}),s.jsx(jT,{dataKey:"month"}),s.jsx(NT,{}),s.jsx(ES,{formatter:E=>`${E.toLocaleString()}`}),s.jsx(vp,{dataKey:"collection",fill:"#3B82F6",name:"Collection"}),s.jsx(vp,{dataKey:"savings",fill:"#10B981",name:"Savings"})]})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl shadow-lg p-4 border border-green-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center",children:[s.jsx(xn,{className:"h-5 w-5 mr-2"}),"Product Distribution"]}),s.jsx(_S,{width:"100%",height:250,children:s.jsxs(qK,{children:[s.jsx(cT,{data:D,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",children:D.map((E,P)=>s.jsx(Nc,{fill:E.color},`cell-${P}`))}),s.jsx(ES,{formatter:E=>`${E}%`})]})}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:D.map((E,P)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:E.color}}),s.jsxs("span",{className:"text-sm text-gray-600",children:[E.name," (",E.value,"%)"]})]},P))})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-100 rounded-xl shadow-lg p-4 border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-yellow-900 flex items-center",children:[s.jsx(bl,{className:"h-5 w-5 mr-2"}),"Recent Activities"]}),s.jsxs("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center",children:[s.jsx(bl,{className:"h-4 w-4 mr-1"}),"View All"]})]}),s.jsx("div",{className:"space-y-4",children:A.map(E=>{const P=E.icon;return s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:`p-2 rounded-full ${E.color}`,children:s.jsx(P,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.message}),s.jsx("p",{className:"text-xs text-gray-500",children:E.time})]})]},E.id)})})]})]})},Ey=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?`/api${e}`:`${"https://satrong-sajghor.com/api".replace("/api","")}${e}`:null,FK=({member:e,onEdit:t,onDelete:n,onViewProfile:r})=>{const i=ji(),o=()=>{i(`/members/${e._id||e.id}`)},u=f=>{switch(f){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"bg-white rounded-xl shadow-md border-2 border-gray-100 hover:shadow-xl hover:border-blue-200 transition-all duration-300 overflow-hidden",children:[s.jsx("div",{className:"relative bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[e.profileImage?s.jsx("img",{src:Ey(e.profileImage),alt:e.name,className:"w-20 h-24 rounded-lg object-cover border-3 border-white shadow-lg",style:{objectPosition:"center top"},onError:f=>{console.error("Failed to load image:",e.profileImage),f.target.style.display="none",f.target.nextSibling.style.display="flex"}}):null,s.jsx("div",{className:`bg-white rounded-lg ${e.profileImage?"hidden":"flex"} items-center justify-center shadow-lg`,style:{width:"80px",height:"96px"},children:s.jsx(Gt,{className:"h-10 w-10 text-gray-400"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:e.name}),s.jsxs("div",{className:"flex items-center text-white/90 text-sm mb-2",children:[s.jsx(jl,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsx("span",{children:e.phone})]}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${u(e.status)} shadow-sm`,children:e.status})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"space-y-2.5 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(Tn,{className:"h-4 w-4 mr-2 text-blue-500"}),s.jsxs("span",{className:"text-xs font-medium",children:["Joined: ",ii(e.joinDate)]})]}),s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(is,{className:"h-4 w-4 mr-2 text-green-500"}),s.jsxs("span",{className:"text-xs font-medium truncate",children:[e.branchCode?`${e.branchCode} - `:"",e.branch]})]}),s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(_M,{className:"h-4 w-4 mr-2 text-purple-500"}),s.jsxs("span",{className:"text-xs font-medium truncate",children:["Collector: ",e.assignedCollector?typeof e.assignedCollector=="object"?e.assignedCollector.name:"Assigned":s.jsx("span",{className:"text-gray-400 italic",children:"Not Assigned"})]})]}),s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(_0,{className:"h-4 w-4 mr-2 text-orange-500"}),s.jsxs("span",{className:"text-xs font-medium",children:["NID: ",e.nidNumber]})]})]}),s.jsx("div",{className:"mt-4 pt-3 border-t-2 border-gray-100",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 border border-green-200",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Savings"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",e.totalSavings?.toLocaleString()||0]})]})})]}),s.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 border-t-2 border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all text-xs font-semibold shadow-sm hover:shadow-md",title:"View Loan History",children:[s.jsx(eM,{className:"h-4 w-4"}),s.jsx("span",{children:"Loan History"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>t(e),className:"flex items-center gap-1 px-3 py-2 text-yellow-600 hover:text-yellow-700 hover:bg-yellow-50 rounded-lg transition-all text-xs font-semibold border border-yellow-300",title:"Edit Member",children:[s.jsx(tA,{className:"h-4 w-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs("button",{onClick:()=>n(e),className:"flex items-center gap-1 px-3 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all text-xs font-semibold border border-red-300",title:"Delete Member",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx("span",{children:"Delete"})]})]})]})})]})},S2=({member:e,onSave:t,onCancel:n,branches:r})=>{const i=r&&r.length===1,o=i?r[0]:null,u=R=>{if(!R)return new Date().toISOString().split("T")[0];try{return new Date(R).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}};e&&(console.log(" Editing member:",e),console.log(" Branch info:",{branch:e.branch,branchName:e.branchName,branchCode:e.branchCode}),console.log(" Join Date:",{original:e.joinDate,formatted:u(e.joinDate)}),console.log(" Profile Image:",{hasImage:!!e.profileImage,imageType:typeof e.profileImage,imageLength:e.profileImage?.length,imagePreview:e.profileImage?.substring(0,50)+"..."}));const[f,h]=w.useState({name:e?.name||"",memberCode:e?.memberCode||"",sponsorName:e?.sponsorName||"",age:e?.age||"",phone:e?.phone||"",joinDate:u(e?.joinDate),nidNumber:e?.nidNumber||"",address:e?.address||"",branch:e?.branch||o?.name||"",branchCode:e?.branchCode||o?.code||"",branchName:e?.branchName||e?.branch||o?.name||"",status:e?.status||"Active",totalSavings:e?.totalSavings||0,profileImage:e?.profileImage||null,assignedCollector:e?.assignedCollector?._id||e?.assignedCollector||null}),[m,g]=w.useState({}),[x,y]=w.useState([]),[b,j]=w.useState(!1),[N,S]=w.useState(!1),[A,T]=w.useState([]),[D,O]=w.useState(!1);w.useEffect(()=>{(async()=>{try{O(!0),console.log(" Fetching branches...");const U=await Pa.getAll({limit:1e3,isActive:"all"});console.log(" Branches response:",U),U.success&&U.data?(console.log(" Branches loaded:",U.data.length,"branches"),T(U.data)):(console.error(" Failed to load branches:",U),fe.error("Failed to load branches"))}catch(U){console.error(" Error fetching branches:",U),fe.error("Failed to load branches: "+U.message)}finally{O(!1)}})()},[]),w.useEffect(()=>{(async()=>{if(f.branchCode&&f.branchCode.length===4)try{j(!0);const U=await pn.getByBranch(f.branchCode);U.success&&U.data?y(U.data):y([])}catch(U){console.error("Error fetching existing members:",U),y([])}finally{j(!1)}else y([])})()},[f.branchCode]);const E=R=>{const U=R.target.value;if(!U){h({...f,branchCode:"",branchName:"",assignedCollector:null});return}const V=A.find(H=>H._id===U);if(V){const H=V.assignedCollector?._id||V.assignedCollector||null;if(h({...f,branchCode:V.branchCode||V.code,branchName:V.name,assignedCollector:H}),H){const W=V.assignedCollector?.name||"Assigned collector";console.log(` Auto-assigned collector: ${W} to branch ${V.name}`)}}},P=()=>{const R={};return f.name.trim()?f.name.trim().length<2||f.name.trim().length>100?R.name="Name must be between 2 and 100 characters":/^[a-zA-Z\s\u0980-\u09FF]+$/.test(f.name.trim())||(R.name="Name can only contain letters and spaces"):R.name="Name is required",e||(f.memberCode.trim()?/^\d{3}$/.test(f.memberCode.trim())?x.some(V=>V.memberCode===f.memberCode.trim())&&(R.memberCode=`Member code ${f.memberCode} already exists in this branch. Please use a different code.`):R.memberCode="Member code must be exactly 3 digits":R.memberCode="Member code is required"),f.age?(f.age<18||f.age>100)&&(R.age="Age must be between 18 and 100"):R.age="Age is required",f.phone.trim()?/^01[3-9]\d{8}$/.test(f.phone.trim())||(R.phone="Please enter a valid Bangladeshi phone number (01XXXXXXXXX)"):R.phone="Phone number is required",f.joinDate&&!/^\d{4}-\d{2}-\d{2}$/.test(f.joinDate)&&(R.joinDate="Please enter a valid date"),f.nidNumber.trim()?f.nidNumber.trim().length<5||f.nidNumber.trim().length>20?R.nidNumber="NID number must be between 5 and 20 digits":/^\d+$/.test(f.nidNumber.trim())||(R.nidNumber="NID number can only contain digits"):R.nidNumber="NID number is required",f.branchName?.trim()?(f.branchName.trim().length<2||f.branchName.trim().length>100)&&(R.branch="Branch name must be between 2 and 100 characters"):R.branch="Branch name is required",f.branchCode?/^\d{4}$/.test(String(f.branchCode))||(R.branchCode="Branch code must be exactly 4 digits"):R.branchCode="Branch code is required",g(R),Object.keys(R).length===0},M=R=>{if(R.preventDefault(),P())if(f.profileImageFile){const U=new FormData;U.append("name",f.name.trim()),U.append("memberCode",f.memberCode.trim().padStart(3,"0")),U.append("sponsorName",f.sponsorName.trim()||""),U.append("age",parseInt(f.age)),U.append("phone",f.phone.trim()),U.append("joinDate",f.joinDate),U.append("nidNumber",f.nidNumber.trim()),U.append("address",f.address.trim()||""),U.append("branch",f.branchName.trim()),U.append("branchCode",f.branchCode.toString()),U.append("status",f.status||"Active"),U.append("totalSavings",parseFloat(f.totalSavings)||0),U.append("assignedCollector",f.assignedCollector||""),U.append("role","member"),U.append("profileImage",f.profileImageFile),console.log(" Sending FormData with image file"),t(U)}else{const U={name:f.name.trim(),memberCode:f.memberCode.trim().padStart(3,"0"),sponsorName:f.sponsorName.trim()||null,age:parseInt(f.age),phone:f.phone.trim(),joinDate:f.joinDate,nidNumber:f.nidNumber.trim(),address:f.address.trim()||null,branch:f.branchName.trim(),branchCode:f.branchCode.toString(),status:f.status||"Active",totalSavings:parseFloat(f.totalSavings)||0,profileImage:f.profileImage||null,assignedCollector:f.assignedCollector||null,role:"member"};console.log(" Sending JSON payload"),t(U)}else fe.error("Please fill all required fields correctly.")},I=R=>{const U=R.target.files[0];if(console.log(" File selected:",U),U){if(console.log("File details:",{name:U.name,size:U.size,type:U.type}),U.size>5*1024*1024){fe.error("Image size should be less than 5MB");return}S(!1);const V=new FileReader;V.onload=H=>{const W=H.target.result;console.log(" Image preview created"),h({...f,profileImage:W,profileImageFile:U}),fe.success("Image uploaded successfully!")},V.onerror=H=>{console.error(" FileReader error:",H),fe.error("Failed to read image file")},V.readAsDataURL(U)}};return s.jsx("div",{className:"bg-white rounded-2xl shadow-xl border max-w-2xl w-full mx-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Member":"Add New Member"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2",children:s.jsx(Rp,{className:"h-6 w-6"})})]}),i&&s.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(is,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Branch Information Auto-filled"}),s.jsxs("p",{className:"text-green-600 text-sm",children:["This member will be added to ",s.jsx("strong",{children:o?.name})," (Code: ",s.jsx("strong",{children:o?.code}),")"]})]})]})}),s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg border-2 border-blue-100",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:" Profile Image (Passport Size)"}),s.jsxs("div",{className:"flex items-center space-x-6",children:[console.log(" Render - Profile Image State:",{hasImage:!!f.profileImage,imageError:N,imageLength:f.profileImage?.length,imagePreview:f.profileImage?.substring(0,50)}),s.jsx("div",{className:"relative",children:f.profileImage&&!N?s.jsx("div",{className:"relative",children:s.jsx("img",{src:f.profileImage,alt:"Profile preview",className:"w-32 h-40 object-cover border-4 border-white shadow-lg rounded-lg bg-gray-200",style:{objectPosition:"center top"},onError:R=>{console.error(" Image failed to load"),console.error("Image source:",f.profileImage?.substring(0,100)),S(!0)},onLoad:()=>{console.log(" Image loaded successfully"),S(!1)}})}):f.profileImage&&N?s.jsxs("div",{className:"w-32 h-40 bg-gradient-to-br from-yellow-100 to-orange-100 border-4 border-white shadow-lg rounded-lg flex flex-col items-center justify-center",children:[s.jsx(Gt,{className:"h-16 w-16 text-yellow-600 mb-2"}),s.jsx("span",{className:"text-xs text-yellow-700 font-medium px-2 text-center",children:"Image Error"}),s.jsx("span",{className:"text-xs text-yellow-600 mt-1",children:"Upload new"})]}):s.jsxs("div",{className:"w-32 h-40 bg-gradient-to-br from-gray-100 to-gray-200 border-4 border-white shadow-lg rounded-lg flex flex-col items-center justify-center",children:[s.jsx(Gt,{className:"h-16 w-16 text-gray-400 mb-2"}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"No Image"})]})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:"image/*",onChange:I,id:"profile-image-input",className:"hidden"}),s.jsxs("label",{htmlFor:"profile-image-input",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer font-medium text-sm",children:[s.jsx(V2,{className:"h-4 w-4"}),f.profileImage?"Change Image":"Upload Image"]})]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-blue-600",children:""})," JPG, PNG, GIF up to 5MB"]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-blue-600",children:""})," Passport size recommended"]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-blue-600",children:""})," Clear face photo"]})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Gt,{className:"h-4 w-4 inline mr-1"}),"Full Name *"]}),s.jsx("input",{type:"text",value:f.name,onChange:R=>h({...f,name:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter full name"}),m.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(_0,{className:"h-4 w-4 inline mr-1"}),"Member Code *"]}),s.jsx("input",{type:"text",value:f.memberCode,onChange:R=>{const U=R.target.value;if(h({...f,memberCode:U}),!e)if(!U.trim())g({...m,memberCode:"Member code is required"});else if(!/^\d{3}$/.test(U.trim()))g({...m,memberCode:"Member code must be exactly 3 digits"});else if(x.some(H=>H.memberCode===U.trim()))g({...m,memberCode:`Member code ${U} already exists in this branch`});else{const{memberCode:H,...W}=m;g(W)}},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.memberCode?"border-red-300":"border-gray-300"}`,placeholder:"Enter 3 digit code (e.g. 001)",maxLength:"3",disabled:!!e}),b&&f.branchCode&&s.jsxs("p",{className:"text-blue-500 text-xs mt-1",children:[" Checking member code availability in branch ",f.branchCode,"..."]}),m.memberCode&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.memberCode}),!m.memberCode&&!b&&f.memberCode&&f.branchCode&&x.length>=0&&s.jsxs("p",{className:"text-green-500 text-xs mt-1",children:[" Member code ",f.memberCode," is available in branch ",f.branchCode]}),!f.branchCode&&s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:" Member codes must be unique within the same branch only"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Gt,{className:"h-4 w-4 inline mr-1"}),"Sponsor Name"]}),s.jsx("input",{type:"text",value:f.sponsorName,onChange:R=>h({...f,sponsorName:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter sponsor name (optional)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age *"}),s.jsx("input",{type:"number",value:f.age,onChange:R=>h({...f,age:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.age?"border-red-300":"border-gray-300"}`,placeholder:"Enter age",min:"18"}),m.age&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.age})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(jl,{className:"h-4 w-4 inline mr-1"}),"Phone Number *"]}),s.jsx("input",{type:"tel",value:f.phone,onChange:R=>h({...f,phone:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.phone?"border-red-300":"border-gray-300"}`,placeholder:"01xxxxxxxxx"}),m.phone&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"Join Date * ",e&&s.jsx("span",{className:"text-xs text-gray-500",children:"(Cannot be changed)"})]}),s.jsx("input",{type:"date",value:f.joinDate,onChange:R=>h({...f,joinDate:R.target.value}),disabled:!!e,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.joinDate?"border-red-300":"border-gray-300"} ${e?"bg-gray-100 cursor-not-allowed":""}`}),m.joinDate&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.joinDate})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(_0,{className:"h-4 w-4 inline mr-1"}),"NID Number *"]}),s.jsx("input",{type:"text",value:f.nidNumber,onChange:R=>h({...f,nidNumber:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.nidNumber?"border-red-300":"border-gray-300"}`,placeholder:"National ID number"}),m.nidNumber&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.nidNumber})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(is,{className:"h-4 w-4 inline mr-1"}),"Address"]}),s.jsx("input",{type:"text",value:f.address,onChange:R=>h({...f,address:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter full address"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(D4,{className:"h-4 w-4 inline mr-1"}),"Select Branch *",i&&s.jsx("span",{className:"text-green-600 text-xs ml-2",children:"(Auto-filled from selected branch)"}),e&&s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Cannot be changed)"})]}),s.jsxs("select",{value:A.find(R=>(R.branchCode||R.code)===f.branchCode)?._id||"",onChange:E,disabled:i||!!e||D,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.branchCode||m.branch?"border-red-300":"border-gray-300"} ${i||e||D?"bg-gray-100 cursor-not-allowed":""}`,children:[s.jsx("option",{value:"",children:"-- Select a Branch --"}),D?s.jsx("option",{disabled:!0,children:"Loading branches..."}):A.map(R=>s.jsxs("option",{value:R._id,children:["(",R.branchCode||R.code,") ",R.name]},R._id))]}),(m.branchCode||m.branch)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.branchCode||m.branch}),f.branchCode&&f.branchName&&!m.branchCode&&!m.branch&&s.jsxs("div",{className:"text-xs mt-1 space-y-1",children:[s.jsxs("p",{className:"text-green-500",children:[" Selected: (",f.branchCode,") ",f.branchName]}),f.assignedCollector&&s.jsx("p",{className:"text-blue-500",children:" Collector will be auto-assigned from this branch"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:f.status,onChange:R=>h({...f,status:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Pending",children:"Pending"})]})]}),!e&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Savings ()"}),s.jsx("input",{type:"number",value:f.totalSavings,onChange:R=>h({...f,totalSavings:parseFloat(R.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0",min:"0"})]})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-all",children:e?"Update Member":"Add Member"})]})]})]})})},KK=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,o]=w.useState(""),[u,f]=w.useState("all"),[h,m]=w.useState(!0),[g,x]=w.useState([]),y=[];w.useEffect(()=>{b()},[]);const b=async()=>{try{m(!0);const T=new AbortController,D=setTimeout(()=>T.abort(),1e4),E=await fetch("https://satrong-sajghor.com/api/members?limit=10000",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("ngo_token")}`},signal:T.signal});if(clearTimeout(D),E.ok){const P=await E.json();if(P.success&&P.data){console.log(" Members fetched:",P.data.length,"members"),console.log(" Sample member data:",P.data[0]),x(P.data);return}}x(y),fe.error("Failed to fetch members from server, showing sample data")}catch(T){console.error("Error fetching members:",T),x(y),fe.error("Error connecting to server, showing sample data")}finally{m(!1)}};w.useEffect(()=>{if(i!==""||u!=="all"){const T=setTimeout(()=>{b()},500);return()=>clearTimeout(T)}},[i,u]);const j=g.filter(T=>{const D=T.name.toLowerCase().includes(i.toLowerCase())||T.phone.includes(i)||T.branch.toLowerCase().includes(i.toLowerCase()),O=u==="all"||T.status.toLowerCase()===u.toLowerCase();return D&&O}),N=async T=>{try{const D=fe.loading("Updating member..."),O=await pn.update(e._id||e.id,T);fe.dismiss(D),O.success?(fe.success("Member updated successfully!"),t(null),b()):fe.error(O.message||"Failed to update member")}catch(D){console.error("Error updating member:",D),fe.error("Error updating member. Please try again.")}},S=async T=>{try{const D=fe.loading("Adding member..."),O=T instanceof FormData?await pn.createWithImage(T):await pn.create(T);fe.dismiss(D),O.success?(fe.success("Member added successfully!"),r(!1),b()):fe.error(O.message||"Failed to add member")}catch(D){console.error("Error adding member:",D),fe.error("Error adding member. Please try again.")}},A=async T=>{if(window.confirm(`Are you sure you want to delete ${T.name}?`))try{const D=fe.loading("Deleting member..."),O=await pn.delete(T._id||T.id);fe.dismiss(D),O.success?(fe.success("Member deleted successfully!"),b()):fe.error(O.message||"Failed to delete member")}catch(D){console.error("Error deleting member:",D),fe.error("Error deleting member. Please try again.")}};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 mb-6",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search members by name, phone, or branch...",value:i,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("select",{value:u,onChange:T=>f(T.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 bg-white transition-all",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"pending",children:"Pending"})]})})]})})}),n&&s.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsx(S2,{onSave:S,onCancel:()=>{r(!1)}})})}),e&&s.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsx(S2,{member:e,onSave:N,onCancel:()=>{t(null)}})})}),h?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading members..."})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:j.length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(or,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No members found"}),s.jsx("p",{className:"text-gray-600",children:i||u!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first member."}),g.length>0&&s.jsxs("p",{className:"text-red-600 mt-2",children:["Note: ",g.length," members exist but are filtered out"]})]}):j.map(T=>s.jsx(FK,{member:T,onEdit:t,onDelete:A},T._id||T.id))})})]})})},YK=({product:e,onEdit:t,onDelete:n,onUpdateStock:r})=>{const[i,o]=w.useState(!1),[u,f]=w.useState(""),h=N=>N>50?"text-green-600":N>20?"text-yellow-600":"text-red-600",m=N=>N>50?"bg-green-50 border-green-200":N>20?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200",g=N=>N>50?"In Stock":N>20?"Low Stock":N>0?"Critical":"Out of Stock",x=N=>({Food:"bg-orange-100 text-orange-700",Clothing:"bg-purple-100 text-purple-700",Medicine:"bg-red-100 text-red-700",Education:"bg-blue-100 text-blue-700",Emergency:"bg-pink-100 text-pink-700",Other:"bg-gray-100 text-gray-700"})[N]||"bg-gray-100 text-gray-700",y=e.availableStock||e.totalStock||e.stock||0,b=e.distributedStock||0,j=y*(e.unitPrice||e.price||0);return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-3 rounded-xl shadow-md",children:s.jsx(xn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:e.name}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${x(e.category)}`,children:e.category})]})]}),s.jsxs("div",{className:"flex space-x-1 ml-2",children:[s.jsx("button",{onClick:()=>o(!i),className:"p-2.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Update Stock",children:s.jsx(xn,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>t(e),className:"p-2.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Product",children:s.jsx(tA,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(e._id||e.id),className:"p-2.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Product",children:s.jsx(zo,{className:"h-5 w-5"})})]})]}),e.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-2",children:e.description})]}),s.jsxs("div",{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:s.jsx(Yn,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Unit Price"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",e.unitPrice||e.price]})]})]}),s.jsx("div",{className:`px-4 py-2 rounded-xl text-sm font-bold border-2 ${m(y)} ${h(y)}`,children:g(y)})]}),i&&s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border-2 border-green-200",children:[s.jsx("p",{className:"text-sm font-bold text-green-800 mb-3",children:" Update Stock"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{const N=parseInt(u)||0;f(Math.max(-y,N-10).toString())},className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all",title:"Decrease by 10",children:s.jsx(gM,{className:"h-4 w-4"})}),s.jsx("input",{type:"number",value:u,onChange:N=>f(N.target.value),className:"flex-1 px-3 py-2 border-2 border-green-300 rounded-lg text-center font-bold text-gray-900 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"+10 or -5"}),s.jsx("button",{onClick:()=>{const N=parseInt(u)||0;f((N+10).toString())},className:"p-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-all",title:"Increase by 10",children:s.jsx(Vn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs("button",{onClick:()=>{const N=parseInt(u)||0;r&&N!==0&&(r(e._id||e.id,N),f(""),o(!1))},disabled:!u||parseInt(u)===0,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-2 rounded-lg font-semibold transition-all disabled:cursor-not-allowed",children:["Apply (",(parseInt(u)||0)>0?"+":"",parseInt(u)||0,")"]}),s.jsx("button",{onClick:()=>{f(""),o(!1)},className:"px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg font-semibold transition-all",children:"Cancel"})]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Current: ",y,"  New: ",y+(parseInt(u)||0)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl border border-blue-100",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(xn,{className:"h-4 w-4 text-blue-600"}),s.jsx("p",{className:"text-xs text-blue-700 font-semibold",children:"Available"})]}),s.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[y," ",s.jsx("span",{className:"text-sm font-medium",children:e.unit||"kg"})]})]}),s.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl border border-purple-100",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(lc,{className:"h-4 w-4 text-purple-600"}),s.jsx("p",{className:"text-xs text-purple-700 font-semibold",children:"Sold"})]}),s.jsxs("p",{className:"text-xl font-bold text-purple-900",children:[b," ",s.jsx("span",{className:"text-sm font-medium",children:e.unit||"kg"})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-3 rounded-xl border border-amber-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-amber-600"}),s.jsx("p",{className:"text-sm text-amber-700 font-semibold",children:"Total Stock Value"})]}),s.jsxs("p",{className:"text-xl font-bold text-amber-900",children:["",j.toLocaleString()]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Added"})]}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:(()=>{try{if(e.createdAt){const N=new Date(e.createdAt);if(!isNaN(N.getTime()))return N.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return"Recently"}catch{return"Recently"}})()})]}),y>0&&y<=20&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start space-x-2",children:[s.jsx(Xn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-red-800",children:"Low Stock Alert!"}),s.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:"Consider restocking soon to avoid shortages."})]})]})]})]})},GK=({product:e,onSave:t,onCancel:n})=>{const[r,i]=w.useState({name:e?.name||"",unit:e?.unit||"piece",unitPrice:e?.unitPrice||e?.price||"",totalStock:e?.totalStock||e?.availableStock||e?.stock||"",minimumStock:e?.minimumStock||10,description:e?.description||"",expiryDate:e?.expiryDate||"",supplier:{name:e?.supplier?.name||"",contact:e?.supplier?.contact||""}});console.log(" ProductForm initialized with product:",e),console.log(" Form data initialized:",r);const[o,u]=w.useState({}),f=["piece","kg","liter","box","bag","bosta","bottle","packet","dozen"],h=()=>{const g={};return r.name.trim()||(g.name="Product name is required"),r.unit||(g.unit="Unit is required"),(!r.unitPrice||r.unitPrice<=0)&&(g.unitPrice="Valid unit price is required"),!e&&(!r.totalStock||r.totalStock<0)&&(g.totalStock="Valid stock quantity is required"),u(g),Object.keys(g).length===0},m=g=>{if(g.preventDefault(),h()){const x={name:r.name.trim(),unit:r.unit,unitPrice:parseFloat(r.unitPrice),minimumStock:parseInt(r.minimumStock),description:r.description.trim(),expiryDate:r.expiryDate||null,supplier:{name:r.supplier.name.trim()||null,contact:r.supplier.contact.trim()||null}};e||(x.totalStock=parseInt(r.totalStock),x.availableStock=parseInt(r.totalStock),x.stock=parseInt(r.totalStock)),console.log(" Sending product payload:",x),t(x)}};return s.jsx("div",{className:"bg-white rounded-2xl shadow-xl border max-w-2xl w-full mx-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Product":"Add New Product"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2",children:s.jsx(Rp,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(xn,{className:"h-4 w-4 inline mr-1"}),"Product Name *"]}),s.jsx("input",{type:"text",value:r.name,onChange:g=>i({...r,name:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter product name"}),o.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(xn,{className:"h-4 w-4 inline mr-1"}),"Unit *"]}),s.jsxs("select",{value:r.unit,onChange:g=>i({...r,unit:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.unit?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select Unit"}),f.map(g=>s.jsx("option",{value:g,children:g},g))]}),o.unit&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.unit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Yn,{className:"h-4 w-4 inline mr-1"}),"Price per ",r.unit||"unit"," () *"]}),s.jsx("input",{type:"number",value:r.unitPrice,onChange:g=>i({...r,unitPrice:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.unitPrice?"border-red-300":"border-gray-300"}`,placeholder:"Enter price per unit",min:"0",step:"0.01"}),o.unitPrice&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.unitPrice})]}),!e&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ew,{className:"h-4 w-4 inline mr-1"}),"Stock Quantity *"]}),s.jsx("input",{type:"number",value:r.totalStock,onChange:g=>i({...r,totalStock:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.totalStock?"border-red-300":"border-gray-300"}`,placeholder:"Enter stock quantity",min:"0"}),o.totalStock&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.totalStock})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ew,{className:"h-4 w-4 inline mr-1"}),"Minimum Stock Alert"]}),s.jsx("input",{type:"number",value:r.minimumStock,onChange:g=>i({...r,minimumStock:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Minimum stock level",min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:r.description,onChange:g=>i({...r,description:g.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter product description (optional)"})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-all",children:e?"Update Product":"Add Product"})]})]})]})})},XK=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(null),[i,o]=w.useState(""),[u,f]=w.useState([]),[h,m]=w.useState(!0),[g,x]=w.useState(!1),[y,b]=w.useState(1),[j,N]=w.useState(1);w.useEffect(()=>{S()},[y]),w.useEffect(()=>{b(1),S()},[i]),w.useEffect(()=>{const P=()=>{document.hidden||(console.log(" Page became visible, refreshing products..."),S(!0))};return document.addEventListener("visibilitychange",P),()=>document.removeEventListener("visibilitychange",P)},[]);const S=async(P=!1)=>{try{P?x(!0):m(!0);const M={};i&&(M.search=i),M.page=y,M.limit=50,P&&(M._t=Date.now()),console.log(" Fetching products with params:",M);const I=await yl.getAll(M);if(console.log(" Products API response:",I),I.success){const R=I.data||[];console.log(` Loaded ${R.length} products:`,R),R.forEach((U,V)=>{console.log(` Product ${V+1} (${U.name}):`,{totalStock:U.totalStock,availableStock:U.availableStock,stock:U.stock,unitPrice:U.unitPrice,price:U.price})}),f(R),I.pagination&&N(I.pagination.pages||1),P&&fe.success("Products refreshed!")}else console.error(" API returned error:",I),fe.error("Failed to fetch products"),f([])}catch(M){console.error(" Error fetching products:",M),fe.error("Error connecting to server"),f([])}finally{m(!1),x(!1)}},A=async P=>{try{const M=await yl.create(P);M.success?(fe.success("Product added successfully!"),t(!1),await S()):fe.error(M.message||"Failed to add product")}catch(M){console.error("Error adding product:",M),fe.error("Error adding product. Please try again.")}},T=async P=>{try{console.log(" Updating product:",n._id||n.id,P);const M=await yl.update(n._id||n.id,P);console.log(" Update response:",M),M.success?(fe.success("Product updated successfully!  Refreshing..."),r(null),console.log(" Refreshing products after update..."),x(!0),setTimeout(async()=>{await S(!0)},500)):(console.error(" Update failed:",M),fe.error(M.message||"Failed to update product"))}catch(M){console.error(" Error updating product:",M),fe.error("Error updating product. Please try again.")}},D=async P=>{const M=u.find(U=>(U._id||U.id)===P),I=M?M.name:"this product",R=`Are you sure you want to delete "${I}"?

This will:
 Remove the product from inventory
 Hide it from all product listings
 Preserve historical distribution records

This action cannot be undone.`;if(window.confirm(R))try{console.log(" Deleting product:",P,I);const U=await yl.delete(P);U.success?(fe.success(`Product "${I}" deleted successfully! `),console.log(" Product deleted, refreshing list..."),x(!0),setTimeout(async()=>{await S(!0)},300)):(console.error(" Delete failed:",U),fe.error(U.message||"Failed to delete product"))}catch(U){console.error(" Error deleting product:",U),fe.error("Error deleting product. Please try again.")}},O=async(P,M)=>{try{const I=u.find(Q=>(Q._id||Q.id)===P);if(!I){fe.error("Product not found");return}const R=I.availableStock||I.totalStock||I.stock||0,U=R+M;if(U<0){fe.error("Stock cannot be negative!");return}console.log(" Updating stock:",I.name,"from",R,"to",U);const V=M>0?"add":"remove",H=Math.abs(M),W=await yl.updateStock(P,{action:V,quantity:H,reason:`Stock ${V==="add"?"increased":"decreased"} by ${H}`});W.success?(fe.success(`Stock updated! ${R}  ${U} (${M>0?"+":""}${M})`),x(!0),setTimeout(async()=>{await S(!0)},300)):fe.error(W.message||"Failed to update stock")}catch(I){console.error(" Error updating stock:",I),fe.error("Error updating stock. Please try again.")}},E=u.filter(P=>P.name.toLowerCase().includes(i.toLowerCase())||P.description.toLowerCase().includes(i.toLowerCase()));return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-md mb-3",children:s.jsx(xn,{className:"h-7 w-7 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Product Management"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Manage inventory and track stock levels"})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ac,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search products by name or description...",value:i,onChange:P=>o(P.target.value),className:"w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>S(!0),disabled:g,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-blue-400 disabled:to-blue-400 text-white px-5 py-3.5 rounded-xl font-semibold transition-all flex items-center space-x-2 shadow-md hover:shadow-lg",children:[s.jsx(Oa,{className:`h-5 w-5 ${g?"animate-spin":""}`}),s.jsx("span",{children:g?"Refreshing...":"Refresh"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3.5 rounded-xl font-semibold transition-all flex items-center space-x-2 shadow-md hover:shadow-lg",children:[s.jsx(Vn,{className:"h-5 w-5"}),s.jsx("span",{children:"Add Product"})]})]})})]})}),(e||n)&&s.jsx("div",{className:"mb-8",children:s.jsx(GK,{product:n,onSave:n?T:A,onCancel:()=>{t(!1),r(null)}})}),h&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Loading products..."})]}),!h&&u.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-5 text-white shadow-lg",children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total Products"}),s.jsx("p",{className:"text-3xl font-bold",children:u.length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-5 text-white shadow-lg",children:[s.jsx("p",{className:"text-green-100 text-sm font-medium mb-1",children:"In Stock"}),s.jsx("p",{className:"text-3xl font-bold",children:u.filter(P=>(P.availableStock||P.totalStock||P.stock||0)>20).length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-5 text-white shadow-lg",children:[s.jsx("p",{className:"text-yellow-100 text-sm font-medium mb-1",children:"Low Stock"}),s.jsx("p",{className:"text-3xl font-bold",children:u.filter(P=>{const M=P.availableStock||P.totalStock||P.stock||0;return M>0&&M<=20}).length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-5 text-white shadow-lg",children:[s.jsx("p",{className:"text-red-100 text-sm font-medium mb-1",children:"Out of Stock"}),s.jsx("p",{className:"text-3xl font-bold",children:u.filter(P=>(P.availableStock||P.totalStock||P.stock||0)===0).length})]})]}),!h&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:E.map(P=>s.jsx(YK,{product:P,onEdit:r,onDelete:D,onUpdateStock:O},P._id||P.id))}),!h&&u.length>0&&j>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8 mb-4",children:[s.jsx("button",{onClick:()=>b(P=>Math.max(1,P-1)),disabled:y===1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),s.jsx("div",{className:"flex space-x-1",children:[...Array(j)].map((P,M)=>{const I=M+1;return I===1||I===j||I>=y-1&&I<=y+1?s.jsx("button",{onClick:()=>b(I),className:`w-10 h-10 rounded-lg font-medium transition-all ${y===I?"bg-green-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"}`,children:I},I):I===y-2&&I>1||I===y+2&&I<j?s.jsx("span",{className:"px-1 text-gray-400 self-end mb-2",children:"..."},I):null})}),s.jsx("button",{onClick:()=>b(P=>Math.min(j,P+1)),disabled:y===j,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),!h&&E.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"bg-gray-100 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:s.jsx(xn,{className:"h-10 w-10 text-gray-400"})}),s.jsx("p",{className:"text-gray-500 text-lg mb-2",children:u.length===0?"No products available":"No products match your criteria"}),s.jsx("p",{className:"text-gray-400 mb-4",children:u.length===0?"Add your first product to get started":"Try adjusting your search or filter criteria"}),u.length===0&&s.jsxs("button",{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all flex items-center space-x-2 mx-auto",children:[s.jsx(Vn,{className:"h-5 w-5"}),s.jsx("span",{children:"Add First Product"})]})]})]})})},VK=()=>{const[e,t]=w.useState(kn()),[n,r]=w.useState(kn()),[i,o]=w.useState(null),[u,f]=w.useState(!1),[h,m]=w.useState("all"),g=w.useRef(!0),x=["Food","Clothing","Medicine","Education","Emergency","Other"];w.useEffect(()=>{y()},[e,n]);const y=async()=>{try{if(f(!0),console.log(" Fetching sales report for date range:",{startDate:e,endDate:n}),new Date(e)>new Date(n)){fe.error("Start date cannot be after end date"),f(!1);return}const O=await yl.getSalesReport({startDate:e,endDate:n});if(console.log(" Sales report response:",O),O.success){o(O.data);const E=Math.ceil((new Date(n)-new Date(e))/(1e3*60*60*24))+1;g.current?g.current=!1:e===n?fe.success(`Sales report loaded for ${ei(e)}`):fe.success(`Sales report loaded for ${E} days (${ei(e)} - ${ei(n)})`)}else fe.error("Failed to load sales report")}catch(O){console.error(" Error fetching sales report:",O),fe.error("Error loading sales report")}finally{f(!1)}},b=()=>{const O=kn();t(O),r(O)},j=()=>{const O=kn(),[E,P,M]=O.split("-").map(Number),I=new Date(E,P-1,M-1),R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(R)},N=()=>{const O=kn(),[E,P,M]=O.split("-").map(Number),I=new Date(E,P-1,M);I.setDate(I.getDate()-6);const R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(O)},S=()=>{const O=kn(),[E,P,M]=O.split("-").map(Number),I=new Date(E,P-1,M);I.setDate(I.getDate()-9);const R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(O)},A=()=>{const O=kn(),[E,P,M]=O.split("-").map(Number),I=new Date(E,P-1,M);I.setDate(I.getDate()-29);const R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(O)},T=O=>({Food:"bg-orange-100 text-orange-700 border-orange-200",Clothing:"bg-purple-100 text-purple-700 border-purple-200",Medicine:"bg-red-100 text-red-700 border-red-200",Education:"bg-blue-100 text-blue-700 border-blue-200",Emergency:"bg-pink-100 text-pink-700 border-pink-200",Other:"bg-gray-100 text-gray-700 border-gray-200"})[O]||"bg-gray-100 text-gray-700 border-gray-200",D=i?.productSales.filter(O=>h==="all"||O.category===h)||[];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-md mb-3",children:s.jsx(k0,{className:"h-7 w-7 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Sales Report"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"View product sales for any date or date range"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-6 mb-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"From Date"]}),s.jsx("input",{type:"date",value:e,onChange:O=>t(O.target.value),max:n,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium text-lg"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"To Date"]}),s.jsx("input",{type:"date",value:n,onChange:O=>r(O.target.value),min:e,max:kn(),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium text-lg"})]})]})}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx("button",{onClick:b,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all font-semibold text-sm shadow-md",children:"Today"}),s.jsx("button",{onClick:j,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all font-semibold text-sm shadow-md",children:"Yesterday"}),s.jsx("button",{onClick:N,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all font-semibold text-sm shadow-md",children:"Last 7 Days"}),s.jsx("button",{onClick:S,className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-lg hover:from-pink-600 hover:to-pink-700 transition-all font-semibold text-sm shadow-md",children:"Last 10 Days"}),s.jsx("button",{onClick:A,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-lg hover:from-indigo-600 hover:to-indigo-700 transition-all font-semibold text-sm shadow-md",children:"Last 30 Days"}),s.jsxs("button",{onClick:y,disabled:u,className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all font-semibold shadow-md flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[s.jsx(Oa,{className:`h-4 w-4 ${u?"animate-spin":""}`}),s.jsx("span",{children:u?"Loading...":"Refresh"})]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[s.jsx(Q2,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:h,onChange:O=>m(O.target.value),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white font-medium",children:[s.jsx("option",{value:"all",children:"All Categories"}),x.map(O=>s.jsx("option",{value:O,children:O},O))]})]})]}),u&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Loading sales report..."})]}),!u&&i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-3 rounded-full shadow-lg",children:[s.jsx(Tn,{className:"h-5 w-5"}),e===n?s.jsxs("span",{className:"font-semibold",children:["Report for: ",ei(e)]}):s.jsxs("span",{className:"font-semibold",children:["Report from ",ei(e)," to ",ei(n),s.jsxs("span",{className:"ml-2 bg-white bg-opacity-20 px-2 py-0.5 rounded-full text-sm",children:[Math.ceil((new Date(n)-new Date(e))/(1e3*60*60*24))+1," days"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Total Sales Value"}),s.jsx(Yn,{className:"h-6 w-6 text-green-200"})]}),s.jsxs("p",{className:"text-4xl font-bold",children:["",i.summary.totalSalesValue.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Products Sold"}),s.jsx(xn,{className:"h-6 w-6 text-blue-200"})]}),s.jsx("p",{className:"text-4xl font-bold",children:i.summary.totalProductsSold}),s.jsx("p",{className:"text-xs text-blue-100 mt-1",children:"Unique products"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Quantity"}),s.jsx(lc,{className:"h-6 w-6 text-purple-200"})]}),s.jsx("p",{className:"text-4xl font-bold",children:i.summary.totalQuantitySold}),s.jsx("p",{className:"text-xs text-purple-100 mt-1",children:"Units sold"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[s.jsx(xn,{className:"h-6 w-6 mr-2 text-blue-600"}),"Product-wise Sales Details"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Showing ",D.length," of ",i.productSales.length," products"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Product Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Quantity Sold"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Unit Price"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Total Value"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Transactions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.length>0?D.map((O,E)=>s.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:s.jsx(xn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:O.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",O.productId.slice(-6)]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${T(O.category)}`,children:O.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[O.totalQuantity," ",s.jsx("span",{className:"text-sm font-medium text-gray-500",children:O.unit})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",O.unitPrice.toLocaleString()]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["",O.totalValue.toLocaleString()]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-purple-100 text-purple-700",children:O.transactions})})]},O.productId)):s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[s.jsx(xn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No sales found for this date"}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:h!=="all"?"Try selecting a different category or date":"No product distributions were made on this date"}),s.jsx("p",{className:"text-gray-400 text-xs mt-2 italic",children:" Sales data comes from completed product distributions"})]})})})]})})]})]}),!u&&!i&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-xl",children:[s.jsx(k0,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No sales report generated yet"}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:'Select a date range and click "Generate Report"'})]})]})})},WK=({weekDays:e,onDaySelect:t})=>s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Select Day"}),s.jsx("p",{className:"text-gray-600",children:"Choose the day for installment collection"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:e.map(n=>s.jsxs("button",{onClick:()=>t(n),className:`bg-gradient-to-r ${n.color} hover:scale-105 text-white p-6 rounded-2xl font-bold text-xl shadow-lg transform transition-all duration-300 hover:shadow-2xl ${n.isDaily?"md:col-span-3":""}`,children:[n.isDaily?s.jsx(Aa,{className:"h-8 w-8 mx-auto mb-3"}):s.jsx(Tn,{className:"h-8 w-8 mx-auto mb-3"}),n.name]},n.id))})]}),ZK=({selectedDay:e,onCollectorSelect:t,onGoBack:n})=>{const[r,i]=w.useState([]),[o,u]=w.useState(!0),[f,h]=w.useState(!1),[m,g]=w.useState(!1),[x,y]=w.useState({name:""}),[b,j]=w.useState([]),[N,S]=w.useState(!1),A=["from-blue-500 to-blue-600","from-green-500 to-green-600","from-purple-500 to-purple-600","from-yellow-500 to-yellow-600","from-red-500 to-red-600","from-indigo-500 to-indigo-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600","from-teal-500 to-teal-600","from-cyan-500 to-cyan-600"];w.useEffect(()=>{T()},[e]);const T=async()=>{try{u(!0);const M=await ni.getAll({limit:100,role:"collector"});if(M.success&&M.data){const I=M.data;console.log(" Total collectors from API:",I.length),console.log(" All collectors:",I.map(W=>({name:W.name,role:W.role,isActive:W.isActive,email:W.email})));const R=I.filter(W=>{const Q=W.role==="collector",ve=!!W.email,Y=W.isActive!==!1,re=W.collectionType||"weekly",ge=e?.isDaily?re==="daily":re==="weekly",Ee=Q&&ve&&Y&&ge;return Ee||console.log(` Excluding collector: ${W.name} - Role: ${W.role}, Email: ${!!W.email}, IsActive: ${W.isActive}, CollectionType: ${re}, SelectedDay: ${e?.name}`),Ee});console.log(" Filtered collectors:",R.length);let U=[];try{const W=await Pa.getAll();W.success&&W.data&&(U=W.data,console.log(" Total branches loaded:",U.length),console.log(" Sample branches (first 3):",U.slice(0,3).map(Q=>({name:Q.name,code:Q.branchCode,assignedCollector:Q.assignedCollector}))))}catch(W){console.error(" Error loading branches:",W)}const H=R.map(W=>{const Q=W.id||W._id,ve=U.filter(re=>{const ge=re.assignedCollector?._id||re.assignedCollector,Ee=ge&&ge.toString()===Q.toString();return ge&&console.log(` Comparing: Branch "${re.name}" collector (${ge}) vs Collector ${W.name} (${Q}) = ${Ee}`),Ee}),Y=ve.length;return console.log(` Collector: ${W.name} (${Q}) - Branches: ${Y}`),{id:Q,name:W.name,email:W.email,branches:ve,branchCount:Y}}).map((W,Q)=>({...W,color:A[Q%A.length]}));i(H);return}if(M.success&&(!M.data||M.data.length===0)){i([]);return}fe.error("Failed to load collectors from database"),i([])}catch{fe.error("Failed to load collectors"),i([])}finally{u(!1)}},D=async()=>{if(!x.name.trim()){fe.error("Please enter collector name");return}try{g(!0),console.log(" Adding new collector:",x.name);const M={name:x.name.trim(),collectionType:e?.isDaily?"daily":"weekly"};console.log(" Sending collector data to API:",M);const I=await ni.create(M);console.log(" Collector created successfully:",I),console.log(" Response success:",I.success),console.log(" Response data:",I.data),console.log(" Response message:",I.message),fe.success(`Collector ${x.name} created successfully!`),console.log(" Created collector ID:",I.data?.id||I.data?._id),console.log(" Created collector data:",I.data),y({name:""}),h(!1),console.log(" Reloading collectors from database..."),await new Promise(R=>setTimeout(R,500)),await T(),console.log(" Collectors reloaded. Current count:",r.length)}catch(M){console.error(" Error creating collector:",M),fe.error(M.message||"Failed to create collector")}finally{g(!1)}},O=async M=>{if(!window.confirm(`Are you sure you want to delete collector "${M.name}"?

This will:
 Remove the collector from the database
 Unassign all branches (${M.branchCount} branches)
 This action cannot be undone

Type "DELETE" to confirm deletion.`))return;if(window.prompt(`To permanently delete collector "${M.name}", please type "DELETE" (in capital letters):`)!=="DELETE"){fe.error('Deletion cancelled. You must type "DELETE" exactly to confirm.');return}try{fe.loading(`Deleting collector ${M.name}...`);const U=await ni.deactivate(M.id);fe.dismiss(),fe.success(`Collector ${M.name} has been deleted successfully!`),await T()}catch(U){fe.dismiss(),console.error(" Error deleting collector:",U),fe.error(U.message||`Failed to delete collector ${M.name}`)}},E=async()=>{if(b.length===0){fe.error("Please select collectors to delete");return}const M=b.map(U=>{const V=r.find(H=>H.id===U);return V?V.name:"Unknown"}).join(", ");if(!window.confirm(`Are you sure you want to delete ${b.length} collectors?

Collectors to delete:
${M}

This will permanently remove them from the database.
This action cannot be undone.`))return;if(window.prompt(`To permanently delete ${b.length} collectors, please type "DELETE ALL" (in capital letters):`)!=="DELETE ALL"){fe.error('Bulk deletion cancelled. You must type "DELETE ALL" exactly to confirm.');return}try{fe.loading(`Deleting ${b.length} collectors...`);const U=b.map(V=>ni.deactivate(V));await Promise.all(U),fe.dismiss(),fe.success(`Successfully deleted ${b.length} collectors!`),j([]),S(!1),await T()}catch(U){fe.dismiss(),console.error(" Error deleting collectors:",U),fe.error(U.message||"Failed to delete some collectors")}},P=M=>{j(I=>I.includes(M)?I.filter(R=>R!==M):[...I,M])};return o?s.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading collectors..."})]})}):s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border p-4 md:p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 md:mb-8 gap-4",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:e?.isDaily?"Daily Kisti Collectors":"Select Collector"})}),s.jsxs("div",{className:"flex flex-wrap gap-2 md:space-x-3",children:[N?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:E,disabled:b.length===0,className:"flex items-center px-3 py-2 md:px-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-xl font-semibold transition-all disabled:cursor-not-allowed text-sm md:text-base",children:[s.jsx(zo,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsxs("span",{className:"hidden sm:inline",children:["Delete Selected (",b.length,")"]}),s.jsxs("span",{className:"sm:hidden",children:["Delete (",b.length,")"]})]}),s.jsx("button",{onClick:()=>{S(!1),j([])},className:"flex items-center px-3 py-2 md:px-4 bg-gray-600 hover:bg-gray-700 text-white rounded-xl font-semibold transition-all text-sm md:text-base",children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>S(!0),className:"flex items-center px-3 py-2 md:px-4 bg-red-600 hover:bg-red-700 text-white rounded-xl font-semibold transition-all text-sm md:text-base",title:"Bulk delete collectors",children:[s.jsx(zo,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Bulk Delete"}),s.jsx("span",{className:"sm:hidden",children:"Delete"})]}),s.jsxs("button",{onClick:T,className:"flex items-center px-3 py-2 md:px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all text-sm md:text-base",children:[s.jsx("span",{className:"text-base",children:""}),s.jsx("span",{className:"ml-1 md:ml-2 hidden sm:inline",children:"Refresh"})]})]}),s.jsxs("button",{onClick:n,className:"flex items-center px-3 py-2 md:px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-semibold transition-all text-sm md:text-base",children:[s.jsx(Ni,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Go Back"}),s.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]}),s.jsxs("div",{className:"text-center mb-4 md:mb-6",children:[s.jsxs("p",{className:"text-base md:text-lg text-gray-600",children:["Selected Day: ",s.jsx("span",{className:"font-bold text-blue-600",children:e.name})]}),N&&s.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:[s.jsx("p",{className:"text-red-800 font-semibold",children:" Bulk Delete Mode"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Click on collectors to select them for deletion. Selected collectors will have a red ring around them."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.map(M=>s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{onClick:()=>N?P(M.id):t(M),className:`w-full bg-gradient-to-r ${M.color} hover:scale-105 text-white p-6 rounded-2xl font-bold text-xl shadow-lg transform transition-all duration-300 hover:shadow-2xl ${N&&b.includes(M.id)?"ring-4 ring-red-400 ring-opacity-75":""}`,children:[s.jsx(or,{className:"h-8 w-8 mx-auto mb-3"}),M.name,N&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 border-white flex items-center justify-center ${b.includes(M.id)?"bg-red-500":"bg-transparent"}`,children:b.includes(M.id)&&s.jsx("span",{className:"text-white text-xs font-bold",children:""})})})]}),!N&&s.jsx("button",{onClick:I=>{I.stopPropagation(),O(M)},className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110",title:`Delete ${M.name}`,children:s.jsx(zo,{className:"h-4 w-4"})})]},M.id)),s.jsxs("button",{onClick:()=>h(!0),className:"border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 p-6 rounded-2xl font-bold text-xl text-gray-600 hover:text-blue-600 transition-all duration-300 flex flex-col items-center justify-center",children:[s.jsx(Vn,{className:"h-8 w-8 mb-3"}),"Add New Collector"]})]}),f&&s.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border-2 border-dashed border-gray-300",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Add New ",e?.isDaily?"Daily Kisti":""," Collector"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(or,{className:"h-4 w-4 inline mr-1"}),"Collector Name *"]}),s.jsx("input",{type:"text",placeholder:"Enter collector name",value:x.name,onChange:M=>y({...x,name:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]}),e?.isDaily&&s.jsxs("div",{className:"text-xs text-gray-700 bg-orange-50 p-3 rounded-lg border border-orange-200",children:[s.jsx("strong",{children:" Daily Kisti Collector:"})," This collector will collect installments every day"]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded-lg",children:[s.jsx("strong",{children:"Note:"})," Collectors are for organizational purposes only. Admin/Manager will handle all collection operations through the system."]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:D,disabled:!x.name.trim()||m,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed flex items-center justify-center",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Collector"}),s.jsx("button",{onClick:()=>{h(!1),y({name:""})},disabled:m,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed",children:"Cancel"})]})]})]})]})},QK=({selectedDay:e,selectedCollector:t,onGoBack:n,onBranchSelect:r,onShowCollectionSheet:i})=>{const[o,u]=w.useState(!0),[f,h]=w.useState(!1),[m,g]=w.useState(!1),x=()=>{const M=new Date,I=new Date(M.getTime()+360*60*1e3),R=I.getUTCFullYear(),U=String(I.getUTCMonth()+1).padStart(2,"0"),V=String(I.getUTCDate()).padStart(2,"0");return`${R}-${U}-${V}`},[y,b]=w.useState(x()),[j,N]=w.useState({branchName:"",branchCode:""}),[S,A]=w.useState({todayCollection:0,todaySavings:0,todayTarget:25e3,productSales:0,totalDue:0,previousDue:0,actualTarget:25e3,outstandingBalance:0,branches:[],recentTransactions:[]});w.useEffect(()=>{console.log(" COLLECTOR DASHBOARD LOADED - NEW CODE VERSION "),console.log(" Selected Date:",y),console.log(" Selected Collector:",t?.name),T();const M=R=>{console.log(" Installment collected event received:",R.detail),console.log(" Reloading collector dashboard..."),setTimeout(()=>{T()},600)};window.addEventListener("installmentCollected",M);const I=()=>{console.log(" Generic dashboard reload event received"),T()};return window.addEventListener("dashboardReload",I),()=>{window.removeEventListener("installmentCollected",M),window.removeEventListener("dashboardReload",I)}},[t,e,y]);const T=async()=>{console.log(`

 LOADING COLLECTOR DASHBOARD `),console.log(" Date:",y),console.log(" Collector:",t?.name,t?.id);try{u(!0);const M=e?.isDaily?"Daily":e?.name,I=await ic.getCollectorDashboard(t.id,y,M);if(console.log(" API Response:",I),I.success){console.log(" API SUCCESS - Using backend data");const R=I.data;console.log(" Backend Due Balance:",R.dueBalance),console.log(" Backend Net Balance:",R.netBalance),A(U=>({...U,todayCollection:R.todayCollection||0,todaySavings:R.todaySavings||0,totalDue:R.dueBalance||0,outstandingBalance:R.netBalance||0,branches:R.branches||[],todayTarget:R.dueBalance||0,actualTarget:R.dueBalance||0}))}else console.log(" API FAILED - Using fallback method"),await D(),setTimeout(()=>{O()},100)}catch(M){console.log("API error, falling back to old method:",M),await D(),setTimeout(()=>{O()},100)}finally{u(!1)}},D=async()=>{try{const M=y;new Date(y).setHours(0,0,0,0),new Date(y).setHours(23,59,59,999);const U=await Pa.getByCollector(t.id),V=U.success?U.data:[];A(H=>({...H,branches:V}))}catch{}},O=async()=>{console.log(`

 LOADING DETAILED DASHBOARD DATA (FALLBACK METHOD) `);try{const M=y;new Date(y).setHours(0,0,0,0),new Date(y).setHours(23,59,59,999);let U=[];console.log(` Fetching branches for collector ID: ${t.id}`);const V=await Pa.getByCollector(t.id);console.log(" Branches API Response:",V);const H=V.success?V.data:[];console.log(` Collector has ${H.length} branches:`,H.map(q=>q.branchCode)),console.log(` DEBUG: Selected Date: ${y}`),console.log(` DEBUG: Collector ID: ${t.id}`),console.log(` DEBUG: Collector Name: ${t.name}`);for(const q of H){console.log(`   Processing branch: ${q.branchCode} (${q.name})`);try{const B=await pn.getAll({branchCode:q.branchCode,limit:1e3});if(console.log(`     Found ${B.data?.length||0} members in branch ${q.branchCode}`),B.success&&B.data)for(const le of B.data)try{const ne=await ur.getMemberHistory(le._id,100);if(ne.success){let z=[];Array.isArray(ne.data)?z=ne.data:ne.data&&Array.isArray(ne.data.history)?z=ne.data.history:ne.data&&Array.isArray(ne.data.installments)&&(z=ne.data.installments),U.push(...z)}}catch{}}catch{}}console.log(` Collector Dashboard: Fetched ${U.length} total installments from all branches`);const W={success:!0,data:U};let Q=0;for(const q of H)try{const B=await pn.getAll({branchCode:q.branchCode,limit:1e3});if(B.success&&B.data){let le=0;B.data.forEach(ne=>{const z=ne.totalSavings||ne.savings||0;le+=z}),Q+=le}}catch{}let ve=0,Y=0,re=0,ge=0,Ee=[];if(W.success&&W.data){const q=W.data,B=z=>!(z instanceof Date)||isNaN(z.getTime())?null:new Date(z.getTime()+360*60*1e3).toISOString().split("T")[0];console.log(`
 ========== ALL COLLECTED INSTALLMENTS (Last 10) ==========`);const le=q.filter(z=>z.status==="collected"||z.status==="partial");console.log(`Total Collected/Partial: ${le.length}`),le.slice(0,10).forEach(z=>{const G=z.collectionDate||z.createdAt,F=new Date(G),X=B(F),he=z.paidAmount!=null?z.paidAmount:z.amount;console.log(`   ${z.member?.name}: ${he} - BD Date: ${X} - Status: ${z.status} - Type: ${z.installmentType}`)}),console.log(`========================================
`),console.log(`
 ========== FILTERING TODAY'S COLLECTIONS ==========`),console.log(` Selected Date: ${y}`),console.log(` Total Installments to Check: ${q.length}`),console.log(`
 Sample of ALL installments (first 5):`),q.slice(0,5).forEach(z=>{const G=z.collectionDate||z.createdAt,F=new Date(G),X=B(F);console.log(`  - Member: ${z.member?.name}, Amount: ${z.amount}, PaidAmount: ${z.paidAmount}, Status: ${z.status}, Type: ${z.installmentType}, BD Date: ${X}, Note: ${z.note?.substring(0,30)||"N/A"}`)}),Ee=q.filter(z=>{if(z.status!=="collected"&&z.status!=="partial")return!1;const G=z.collectionDate||z.createdAt,F=new Date(G),X=new Date(y),he=B(F),J=B(X),ye=he===J;return q.filter(Se=>Se.status==="collected"||Se.status==="partial").indexOf(z)<5&&console.log(`   ${z.member?.name}: Status=${z.status}, Amount=${z.amount}, CollectionDate=${he}, Selected=${J}, Match=${ye}`),ye}),console.log(` Found ${Ee.length} installments collected on ${y}`),console.log(`========================================
`),console.log(` Collector Dashboard: Found ${Ee.length} collected installments today`),Ee.forEach(z=>{let G=0;z.paidAmount!=null&&z.paidAmount>0?G=z.paidAmount:z.amount!=null&&z.amount>0?G=z.amount:z.status==="collected"&&z.amount===0&&console.warn(" Installment has amount=0 but status=collected:",z);const F=z.note||"",X=z.installmentType,he=z.member?.name||"Unknown";console.log(` Processing: ${he} - Amount: ${G}, PaidAmount: ${z.paidAmount}, InstallmentAmount: ${z.amount}`);const J=F.toLowerCase(),ye=J.includes("savings withdrawal")||J.includes("withdrawal"),Se=J.includes("savings collection"),ee=!ye&&(X==="savings"||Se||J.includes("")),De=J.includes("product sale")||J.includes("");console.log(`
 Categorizing installment:`),console.log(`   Member: ${he}`),console.log(`   Type: ${X}`),console.log(`   Note: ${F||"No note"}`),console.log(`   Amount calculated: ${G}`),console.log(`   InstallmentAmount field: ${z.amount}`),console.log(`   PaidAmount field: ${z.paidAmount}`),console.log(`   Status: ${z.status}`),console.log(`   Is Savings: ${ee}`),console.log(`   Is Savings Withdrawal: ${ye}`),console.log(`   Is Product Sale: ${De}`),De?console.log("    SKIPPED: Product Sale (loan disbursement, not collection)"):ye?(Y-=G,console.log(`    Category: SAVINGS WITHDRAWAL (-${G})`)):ee?(Y+=G,console.log(`    Category: SAVINGS COLLECTION (${G})`)):(ve+=G,console.log(`    Category: LOAN INSTALLMENT (${G})`))}),console.log(`
 ========== TODAY'S COLLECTIONS (${y}) ==========`),console.log(` Loan Collections: ${ve}`),console.log(` Savings Collections: ${Y}`),console.log(` Total Collected Today: ${ve+Y}`),console.log(`========================================
`),q.filter(z=>z.status==="collected"||z.status==="partial").forEach(z=>{const G=(z.paidAmount!=null?z.paidAmount:z.amount)||0,F=z.note||"",X=z.installmentType,he=F.toLowerCase(),J=he.includes("product sale")||he.includes(""),ye=X==="savings"||he.includes("savings")||he.includes("");J?re+=G:ye||(ge+=G)}),console.log(`
 ========== NET BALANCE CALCULATION (ALL TIME) ==========`),console.log(` Product Sales (Loans Given): ${re}`),console.log(` Loan Repayments (Money Received): ${ge}`)}let $=0,ie=0;if(W.success&&W.data){const q=W.data,le=new Date(y).toDateString(),ne=q.filter(J=>{if(J.status!=="pending"&&J.status!=="partial"||!J.dueDate)return!1;const ye=new Date(J.dueDate);ye.setHours(0,0,0,0);const Se=new Date(y);Se.setHours(0,0,0,0);const ee=ye<=Se;if(ee&&J.member){const De=Math.floor((Se-ye)/864e5);let Ue="Due Today";De>0&&(Ue=`${De} day${De>1?"s":""} overdue`),console.log(` Including ${J.member.name}: ${Ue}, Amount: ${J.amount}`)}return ee});console.log(`
 ===== DUE BALANCE CALCULATION =====`),console.log(` Selected Date (Today): ${new Date(y).toLocaleDateString()}`),console.log(` Found ${ne.length} installments due/overdue (today + past only)`),console.log(` DEBUG: Total installments in database: ${q.length}`),console.log(` DEBUG: Pending installments: ${q.filter(J=>J.status==="pending").length}`),console.log(` DEBUG: Partial installments: ${q.filter(J=>J.status==="partial").length}`),console.log(` DEBUG: Collected installments: ${q.filter(J=>J.status==="collected").length}`);const z=q.filter(J=>{if(J.status!=="pending"&&J.status!=="partial"||!J.dueDate)return!1;const ye=new Date(J.dueDate);ye.setHours(0,0,0,0);const Se=new Date(y);return Se.setHours(0,0,0,0),ye>Se}).length;console.log(` DEBUG: Future installments (excluded from due): ${z}`),console.log(" DEBUG: Sample pending installment due dates vs Selected Date:");const G=new Date(y);G.setHours(0,0,0,0),q.filter(J=>J.status==="pending").slice(0,10).forEach(J=>{const ye=J.member?.name||"Unknown";if(J.dueDate){const Se=new Date(J.dueDate);Se.setHours(0,0,0,0);const ee=Se.toLocaleDateString(),De=Se<=G,Ue=Se<G?"OVERDUE":Se.getTime()===G.getTime()?"DUE TODAY":"FUTURE";console.log(`  - ${ye}: Due ${ee} (${J.amount})  ${Ue} ${De?" INCLUDED":" EXCLUDED"}`)}else console.log(`  - ${ye}: No due date (${J.amount})`)});const F=Ee.map(J=>J._id).filter(Boolean),X=Ee.map(J=>{const ye=J.member?._id||J.member,Se=J.amount||0,ee=J.dueDate?new Date(J.dueDate).toDateString():null;return`${ye}-${Se}-${ee}`}).filter(Boolean);console.log(` Excluding ${F.length} installments collected today from due balance`);const he=ne.filter(J=>{if(F.includes(J._id))return console.log(`   Excluded by ID: ${J.member?.name} - ${J.amount}`),!1;const ye=J.member?._id||J.member,Se=J.amount||0,ee=J.dueDate?new Date(J.dueDate).toDateString():null,De=`${ye}-${Se}-${ee}`;return X.includes(De)?(console.log(`   Excluded by match: ${J.member?.name} - ${Se}`),!1):!0});console.log(` After excluding collected installments: ${he.length} still due`),he.forEach(J=>{let ye=0;if(J.status==="partial"){const Ze=J.amount||0,Re=J.paidAmount||0;ye=Math.max(0,Ze-Re)}else J.status==="pending"&&(ye=J.amount||0);$+=ye;const Se=J.status==="partial"?"":"",ee=J.member?.name||"Unknown",De=new Date(J.dueDate).toLocaleDateString(),Ue=new Date(y);Ue.setHours(0,0,0,0);const Me=new Date(J.dueDate);Me.setHours(0,0,0,0);let Le="Due Today";const wt=Math.floor((Ue-Me)/(1e3*60*60*24));wt>0?Le=`${wt} day${wt>1?"s":""} overdue`:wt<0&&(Le=`Due in ${Math.abs(wt)} day${Math.abs(wt)>1?"s":""}`),console.log(`  ${Se} ${ee}: ${ye} (${Le}) - Status: ${J.status}`)}),console.log(` TOTAL DUE BALANCE (Today + Overdue ONLY): ${$}`),console.log(" This includes only installments due today or overdue (past dates)"),ie=$,console.log(` Total Expected to Collect: ${ie} (includes overdue amounts)`)}const L=$;console.log(`
 NET BALANCE = ${L} (same as Due Balance - all outstanding)`),console.log(`   This shows total amount still owed by members
`);const ce=ve+Y,Ne=$,Ce=Ne,me=0,_=[];W.success&&W.data&&W.data.sort((B,le)=>new Date(le.collectionDate||le.createdAt)-new Date(B.collectionDate||B.createdAt)).slice(0,10).forEach((B,le)=>{const ne=new Date(B.collectionDate||B.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});let z="installment";B.installmentType==="regular"?z="savings":B.installmentType==="extra"&&(z="product"),_.push({id:B._id||le,type:z,member:B.member?.name||"Unknown Member",amount:B.amount||0,time:ne,note:B.note||""})}),A(q=>({...q,todayCollection:ve,todaySavings:Y,todayTarget:Ne,actualTarget:Ce,totalDue:$,previousDue:0,outstandingBalance:L,recentTransactions:_})),console.log(` Dashboard Updated - Due Balance: ${$} (Due + Overdue, matches Pending Installments: 5,698)`)}catch{}},E=async()=>{if(!j.branchName.trim()||!j.branchCode.trim()){fe.error("Please fill in all required fields");return}if(!/^\d{4}$/.test(j.branchCode.trim())){fe.error("Branch code must be exactly 4 digits");return}if(S.branches.find(I=>I.branchCode===j.branchCode.trim())){fe.error("Branch code already exists");return}try{g(!0);const I={collectorId:t.id,collectionDay:e.isDaily?"Daily":e.name,branches:[{branchCode:j.branchCode.trim(),branchName:j.branchName.trim(),members:[]}]};console.log(" Creating schedule with branch:",I);const R=await WM.create(I);if(R.success)fe.success(`Branch ${j.branchName} added successfully!`),N({branchName:"",branchCode:""}),h(!1),await T();else throw new Error(R.message||"Failed to add branch")}catch(I){console.error("Error adding branch:",I),fe.error(I.message||"Failed to add branch")}finally{g(!1)}},P=M=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(M)+"";return o?s.jsx("div",{className:"bg-white rounded-xl lg:rounded-3xl shadow-2xl border p-4 md:p-6 lg:p-8",children:s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 md:h-12 w-10 md:w-12 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-sm md:text-base text-gray-600",children:"Loading collector dashboard..."})]})}):s.jsxs("div",{className:"bg-white rounded-xl lg:rounded-3xl shadow-2xl border p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 lg:mb-8 space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"text-center lg:text-left",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Collector Dashboard"}),s.jsxs("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:[t.name," - ",e.name]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 lg:space-x-3 lg:items-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-gray-50 px-3 md:px-4 py-2 rounded-xl border border-gray-300",children:[s.jsx(Tn,{className:"h-4 md:h-5 w-4 md:w-5 text-gray-600"}),s.jsx("input",{type:"date",value:y,onChange:M=>b(M.target.value),max:x(),className:"bg-transparent border-none focus:outline-none focus:ring-0 text-gray-900 font-medium cursor-pointer text-sm md:text-base"})]}),s.jsx("button",{onClick:()=>{T()},disabled:o,className:"flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-xl font-semibold transition-all text-sm md:text-base",children:o?"Refreshing...":"Refresh Data"}),s.jsxs("button",{onClick:n,className:"flex items-center justify-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-xl font-semibold transition-all text-sm md:text-base",children:[s.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Today's Collection"}),s.jsx("p",{className:"text-2xl font-bold",children:P(S.todayCollection)})]}),s.jsx(Yn,{className:"h-8 w-8 text-green-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Today's Savings"}),s.jsx("p",{className:"text-2xl font-bold",children:P(Math.max(0,S.todaySavings))})]}),s.jsx(or,{className:"h-8 w-8 text-blue-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Due Balance"}),s.jsx("p",{className:"text-2xl font-bold",children:P(S.totalDue)}),s.jsx("p",{className:"text-xs mt-1 opacity-90",children:"Today + Overdue"})]}),s.jsx(Xn,{className:"h-8 w-8 text-orange-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Net Balance"}),s.jsx("p",{className:"text-2xl font-bold",children:P(S.outstandingBalance)}),s.jsx("p",{className:"text-xs mt-1 opacity-90",children:"Total Outstanding"})]}),s.jsx(xn,{className:"h-8 w-8 text-purple-200"})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(EM,{className:"h-5 w-5 mr-2"}),"Target vs Achievement Calculation"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Base Daily Target:"}),s.jsx("span",{className:"font-semibold",children:P(S.todayTarget)})]}),s.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[s.jsx("span",{className:"text-gray-900 font-medium",children:"Total Outstanding:"}),s.jsx("span",{className:"font-bold text-orange-600",children:P(S.totalDue)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Today's Collection:"}),s.jsx("span",{className:"font-semibold text-green-600",children:P(S.todayCollection)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Today's Savings:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:P(S.todaySavings)})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-900 font-medium",children:"Net Balance (Outstanding):"}),s.jsx("span",{className:"font-bold text-orange-600",children:P(S.outstandingBalance)})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[s.jsx("span",{children:"Collection Progress (vs Total Outstanding)"}),s.jsxs("span",{children:[S.todayTarget>0?Math.round(S.todayCollection/S.todayTarget*100):0,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${S.todayTarget>0?Math.min(S.todayCollection/S.todayTarget*100,100):0}%`}})})]}),S.totalDue>0&&s.jsx("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsxs("p",{className:"text-orange-800 text-sm",children:[s.jsx("strong",{children:" Total Outstanding:"})," ",P(S.totalDue)," is currently pending from all members. Keep collecting!"]})}),S.todayCollection>0&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-green-800 text-sm",children:[s.jsx("strong",{children:" Great work!"})," You've collected ",P(S.todayCollection)," today."]})})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Branch to Manage"}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Add New Branch"]})]}),f&&s.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-xl border",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Branch"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Name *"}),s.jsx("input",{type:"text",placeholder:"Enter branch name",value:j.branchName,onChange:M=>N({...j,branchName:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Code (4 digits) *"}),s.jsx("input",{type:"text",inputMode:"numeric",maxLength:4,placeholder:"e.g. 1234",value:j.branchCode,onChange:M=>N({...j,branchCode:M.target.value.replace(/[^0-9]/g,"")}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[s.jsx("button",{onClick:E,disabled:m,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all disabled:opacity-50",children:m?"Adding...":"Add Branch"}),s.jsx("button",{onClick:()=>{h(!1),N({branchName:"",branchCode:""})},className:"px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg font-medium transition-all",children:"Cancel"})]})]}),S.branches.length===0&&!f?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:[s.jsx(Xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"No branches assigned to this collector"}),s.jsxs("button",{onClick:()=>h(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all flex items-center space-x-2 mx-auto",children:[s.jsx(Vn,{className:"h-5 w-5"}),s.jsx("span",{children:"Add First Branch"})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.branches.map(M=>s.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-blue-300 rounded-xl shadow-sm overflow-hidden transition-all",children:[s.jsx("button",{onClick:()=>r({code:M.branchCode,name:M.name,members:M.members||[],collectorName:t.name}),className:"w-full p-6 text-left hover:bg-blue-50 transition-all",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-xl",children:M.branchCode}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:M.name}),s.jsxs("p",{className:"text-gray-600 text-sm",children:[M.memberCount||0," members"]})]})]}),s.jsx("div",{className:"text-blue-600 text-2xl",children:""})]})}),s.jsx("div",{className:"px-6 pb-6",children:s.jsxs("button",{onClick:()=>i({branchCode:M.branchCode,name:M.name,members:M.members||[]}),className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-all text-sm flex items-center justify-center space-x-2",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Collection Sheet"})]})})]},M._id||M.id))})]})]})},JK=({selectedDay:e,selectedCollector:t,onBranchSelect:n,onGoBack:r,onShowCollectionSheet:i})=>{const[o,u]=w.useState(!1),[f,h]=w.useState(!1),[m,g]=w.useState(!0),[x,y]=w.useState([]),[b,j]=w.useState({branchName:"",branchCode:""});w.useEffect(()=>{N()},[t]);const N=async()=>{try{g(!0),console.log(" Loading branches for collector:",t.id);const A=await Pa.getByCollector(t.id);console.log(" Branches API response:",A),A.success&&A.data&&A.data.length>0?(A.data.forEach(T=>{console.log(` Branch: ${T.name} (${T.branchCode}) - Members: ${T.memberCount||0}`)}),y(A.data),console.log(` Loaded ${A.data.length} branches for collector`)):(console.log(" No branches found from API"),y([]))}catch(A){console.error(" Error loading branches:",A),y([]),fe.error("Error loading branches")}finally{g(!1)}},S=async()=>{if(!b.branchName.trim()||!b.branchCode.trim()){fe.error("Please fill in all required fields");return}if(!/^\d{4}$/.test(b.branchCode.trim())){fe.error("Branch code must be exactly 4 digits");return}if(x.find(T=>T.branchCode===b.branchCode.trim())){fe.error("Branch code already exists");return}try{h(!0),console.log(" Adding new branch:",b);const T={name:b.branchName.trim(),branchCode:b.branchCode.trim(),assignedCollector:t.id};console.log(" Sending branch data to API:",T);const D=await Pa.create(T);console.log(" Branch created successfully:",D),fe.success(`Branch ${b.branchName} added successfully!`),j({branchName:"",branchCode:""}),u(!1),console.log(" Reloading branches from database..."),await N()}catch(T){console.error(" Error adding branch:",T),fe.error(T.message||"Failed to add branch")}finally{h(!1)}};return m?s.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading branches..."})]})}):s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Select Branch"}),s.jsxs("div",{className:"flex space-x-3",children:[x.length>0&&s.jsx("button",{onClick:()=>i(x[0]),className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl font-semibold transition-all",children:" Collection Sheet"}),s.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-semibold transition-all",children:[s.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})]}),s.jsx("div",{className:"text-center mb-6",children:s.jsxs("p",{className:"text-lg text-gray-600",children:["Day: ",s.jsx("span",{className:"font-bold text-blue-600",children:e.name})," | Collector: ",s.jsx("span",{className:"font-bold text-green-600",children:t.name})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[x.map(A=>s.jsxs("button",{onClick:()=>n({code:A.branchCode,name:A.name,members:A.members||[],collectorName:t.name}),className:"flex items-center justify-between p-6 bg-gray-50 hover:bg-blue-50 border-2 border-gray-200 hover:border-blue-300 rounded-2xl transition-all transform hover:scale-105",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-xl",children:A.branchCode}),s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:A.name}),s.jsxs("p",{className:"text-gray-600",children:[A.memberCount!==void 0?A.memberCount:0," members"]})]})]}),s.jsx("div",{className:"text-blue-600 text-2xl",children:""})]},A.branchCode)),s.jsxs("button",{onClick:()=>u(!0),className:"border-2 border-dashed border-gray-300 hover:border-green-400 hover:bg-green-50 p-6 rounded-2xl font-bold text-xl text-gray-600 hover:text-green-600 transition-all duration-300 flex flex-col items-center justify-center",children:[s.jsx(Vn,{className:"h-8 w-8 mb-3"}),"Add New Branch"]})]}),o&&s.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border-2 border-dashed border-gray-300",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Branch"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(M0,{className:"h-4 w-4 inline mr-1"}),"Branch Name *"]}),s.jsx("input",{type:"text",placeholder:"Enter branch name",value:b.branchName,onChange:A=>j({...b,branchName:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(is,{className:"h-4 w-4 inline mr-1"}),"Branch Code *"]}),s.jsx("input",{type:"text",placeholder:"B001",maxLength:4,value:b.branchCode,onChange:A=>j({...b,branchCode:A.target.value.toUpperCase()}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-green-50 p-3 rounded-lg",children:[s.jsx("strong",{children:"Note:"})," The branch will be added to ",t.name,"'s collection schedule for ",e.name,"."]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:S,disabled:!b.branchName.trim()||!b.branchCode.trim()||f,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed flex items-center justify-center",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Branch"}),s.jsx("button",{onClick:()=>{u(!1),j({branchName:"",branchCode:""})},disabled:f,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed",children:"Cancel"})]})]})]})]})},eY=({selectedBranch:e,selectedCollector:t,onClose:n,onMemberAdded:r,editingMember:i=null})=>{const[o,u]=w.useState({name:"",memberCode:"",nidNumber:"",sponsorName:"",age:"",phone:"",address:"",joinDate:kn(),initialSavings:""}),[f,h]=w.useState(!1),[m,g]=w.useState(null),[x,y]=w.useState(null),[b,j]=w.useState({}),[N,S]=w.useState(!1),[A,T]=w.useState(""),[D,O]=w.useState("");w.useEffect(()=>{i&&(u({name:i.name||"",memberCode:i.memberCode||i.memberNumber||"",nidNumber:i.nidNumber||"",sponsorName:i.sponsorName||"",age:i.age||"",phone:i.phone||"",address:i.address||"",joinDate:i.joinDate?i.joinDate.split("T")[0]:kn(),initialSavings:i.initialSavings||""}),i.profileImage&&y(i.profileImage))},[i]),w.useEffect(()=>{if(i)return;const R=o.memberCode;if(R.length<3){T(""),O("");return}const U=setTimeout(()=>{S(!0),T(""),O(""),pn.checkCode(R).then(V=>{V.exists?T(`Code ${R} is already taken by ${V.member.name} in branch ${V.member.branchCode}.`):O(`Code ${R} is available.`)}).catch(V=>{console.error("Error checking member code:",V),T("Could not verify code. Please try again.")}).finally(()=>{S(!1)})},300);return()=>{clearTimeout(U)}},[o.memberCode,i]);const E=R=>{const{name:U,value:V}=R.target;if(b[U]&&j(H=>{const W={...H};return delete W[U],W}),U==="memberCode"){const H=V.replace(/\D/g,"").slice(0,3);u(W=>({...W,memberCode:H})),T(""),O("");return}if(U==="phone"){const H=V.replace(/\D/g,"");H.length>0&&H.length!==11?j(W=>({...W,phone:"length"})):H.length===11&&j(W=>{const Q={...W};return delete Q.phone,Q}),u(W=>({...W,[U]:H}));return}u(H=>({...H,[U]:V}))},P=R=>{const U=R.target.files[0];if(U){if(!U.type.startsWith("image/")){ke.error("Please select an image file");return}if(U.size>5*1024*1024){ke.error("Image size must be less than 5MB");return}g(U);const V=new FileReader;V.onload=H=>{y(H.target.result)},V.readAsDataURL(U)}},M=()=>{g(null),y(null);const R=document.getElementById("profileImage");R&&(R.value="")},I=async R=>{R.preventDefault();const U={};let V=!1;if(i||((!o.memberCode||o.memberCode.length!==3)&&(U.memberCode="Member code must be exactly 3 digits",V=!0),A&&(U.memberCode=A,V=!0)),(!o.name||o.name.trim()==="")&&(U.name="required",V=!0),(!o.nidNumber||o.nidNumber.trim()==="")&&(U.nidNumber="required",V=!0),(!o.age||o.age.trim()==="")&&(U.age="required",V=!0),!o.phone||o.phone.trim()===""?(U.phone="required",V=!0):o.phone.length!==11&&(U.phone="length",V=!0),(!o.address||o.address.trim()==="")&&(U.address="required",V=!0),!i&&!m&&!x&&(U.profileImage="required",V=!0),V){j(U),ke.error("     (Please fill all required fields)");return}h(!0);const H=ke.loading(i?"Updating member...":"Adding member...");try{const W=new FormData;W.append("name",o.name||""),W.append("memberCode",o.memberCode||""),W.append("nidNumber",o.nidNumber||""),W.append("sponsorName",o.sponsorName||""),W.append("age",o.age?parseInt(o.age):""),W.append("phone",o.phone||""),W.append("address",o.address||""),W.append("joinDate",o.joinDate||kn());const Q=o.initialSavings?parseFloat(o.initialSavings):0;console.log(" Initial Savings from form:",o.initialSavings),console.log(" Parsed totalSavings value:",Q),W.append("totalSavings",Q),W.append("branch",e?.name||""),W.append("branchCode",e?.code||""),W.append("role","member"),t?.id&&W.append("assignedCollector",t.id),m&&W.append("profileImage",m);let ve;if(i)if(m)ve=await pn.updateWithImage(i._id,W);else{const Y={name:o.name||"",memberCode:o.memberCode||"",nidNumber:o.nidNumber||"",sponsorName:o.sponsorName||"",age:o.age&&!isNaN(parseInt(o.age))?parseInt(o.age):"",phone:o.phone||"",address:o.address||"",joinDate:o.joinDate||kn(),totalSavings:o.initialSavings&&!isNaN(parseFloat(o.initialSavings))?parseFloat(o.initialSavings):0,branch:e?.name||"",branchCode:e?.code||"",role:"member",...t?.id&&{assignedCollector:t.id}};ve=await pn.update(i._id,Y)}else if(m)ve=await pn.createWithImage(W);else{const Y={name:o.name||"",memberCode:o.memberCode||"",nidNumber:o.nidNumber||"",sponsorName:o.sponsorName||"",age:o.age&&!isNaN(parseInt(o.age))?parseInt(o.age):"",phone:o.phone||"",address:o.address||"",joinDate:o.joinDate||kn(),totalSavings:o.initialSavings&&!isNaN(parseFloat(o.initialSavings))?parseFloat(o.initialSavings):0,branch:e?.name||"",branchCode:e?.code||"",role:"member",...t?.id&&{assignedCollector:t.id}};ve=await pn.create(Y)}if(ke.dismiss(H),ve.success)ke.success(i?"Member updated successfully!":"Member added successfully!"),j({}),r(),n();else{const Y=ve.message||`Failed to ${i?"update":"add"} member`,re={},ge=Y.toLowerCase();ge.includes("member code")&&ge.includes("already")?(re.memberCode="This member code is already in use. Please choose another.",ke.error(" Member Code already exists!")):ge.includes("nid")&&ge.includes("already")?(re.nidNumber=!0,ke.error(" NID Number already exists! Please use a different NID.")):ge.includes("phone")&&ge.includes("already")?(re.phone=!0,ke.error(" Phone Number already exists! Please use a different phone number.")):ke.error(Y),j(re)}}catch(W){ke.dismiss(H),console.error("Error adding member:",W);const Q=W.response?.data?.message||W.message||"Failed to add member",ve={},Y=Q.toLowerCase();Y.includes("member code")&&Y.includes("already")?(ve.memberCode="This member code is already in use. Please choose another.",ke.error(" Member Code already exists!")):Y.includes("nid")&&Y.includes("already")?(ve.nidNumber=!0,ke.error(" NID Number already exists! Please use a different NID.")):Y.includes("phone")&&Y.includes("already")?(ve.phone=!0,ke.error(" Phone Number already exists! Please use a different phone number.")):ke.error(Q),j(ve)}finally{h(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-transparent backdrop-blur-md flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl mx-4 max-h-[95vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:i?"Edit Member":"Add New Member"}),s.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center mr-3",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Adding to Branch"}),s.jsxs("p",{className:"text-green-800 font-semibold",children:[e.code," - ",e.name]})]})]})}),s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Profile Image (Passport Size) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),b.profileImage&&s.jsx("p",{className:"text-xs text-red-500 mb-2 font-medium",children:" Profile image is required"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:x?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:"Profile Preview",className:"w-24 h-32 object-cover border-2 border-gray-300 rounded-lg"}),s.jsx("button",{type:"button",onClick:M,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]}):s.jsx("div",{className:"w-24 h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-8 h-8 text-gray-400 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"No Image"})]})})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"file",id:"profileImageCamera",accept:"image/*",capture:"environment",onChange:P,className:"hidden"}),s.jsxs("label",{htmlFor:"profileImageCamera",className:"cursor-pointer w-full inline-flex items-center justify-center px-4 py-2 border border-purple-300 rounded-lg shadow-sm text-sm font-medium text-purple-700 bg-purple-50 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})," Take Photo"]})]}),s.jsxs("div",{children:[s.jsx("input",{type:"file",id:"profileImageUpload",accept:"image/*",onChange:P,className:"hidden"}),s.jsxs("label",{htmlFor:"profileImageUpload",className:"cursor-pointer w-full inline-flex items-center justify-center px-4 py-2 border border-indigo-300 rounded-lg shadow-sm text-sm font-medium text-indigo-700 bg-indigo-50 hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})," Upload from Gallery"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, GIF up to 5MB"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Member Code ",b.memberCode&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"memberCode",value:o.memberCode,onChange:E,disabled:!!i,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${A?"border-red-500 focus:ring-red-500 bg-red-50":D?"border-green-500 focus:ring-green-500 bg-green-50":"border-gray-300 focus:ring-green-500"} ${i?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"001",maxLength:"3"}),N&&s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:" Checking..."}),A&&s.jsxs("p",{className:"text-xs text-red-500 mt-1 font-medium",children:[" ",A]}),D&&s.jsxs("p",{className:"text-xs text-green-600 mt-1 font-medium",children:[" ",D]}),!o.memberCode&&!i&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-digit code (e.g., 001, 002)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:o.name,onChange:E,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${b.name?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Enter full name"}),b.name&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Full name is required"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["NID Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"nidNumber",value:o.nidNumber||"",onChange:E,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${b.nidNumber?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Enter NID number"}),b.nidNumber==="required"&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" NID number is required"}),b.nidNumber===!0&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" This NID number is already registered"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sponsor Name"}),s.jsx("input",{type:"text",name:"sponsorName",value:o.sponsorName||"",onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter sponsor name (optional)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Age ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"age",value:o.age,onChange:E,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${b.age?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Age"}),b.age&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Age is required"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:E,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${b.phone?"border-red-500 focus:ring-red-500 bg-red-50":o.phone&&o.phone.length===11?"border-green-500 focus:ring-green-500 bg-green-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"01XXXXXXXXX",maxLength:"11"}),b.phone==="required"&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Phone number is required"}),b.phone==="length"&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Phone number must be exactly 11 digits"}),b.phone===!0&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" This phone number is already registered"}),o.phone&&o.phone.length===11&&!b.phone&&s.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:" Valid phone number"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"address",value:o.address,onChange:E,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${b.address?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Enter address",rows:"2"}),b.address&&s.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Address is required"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Date"}),s.jsx("input",{type:"date",name:"joinDate",value:o.joinDate,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Savings ()"}),s.jsx("input",{type:"number",name:"initialSavings",value:o.initialSavings,onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",disabled:f,children:f?i?"Updating...":"Adding...":i?"Update Member":"Add Member"})]})]})]})})},tY=({selectedMember:e,selectedBranch:t,selectedCollector:n,selectedDay:r,availableProducts:i,onClose:o,onSaleAdded:u})=>{const f=()=>{const D=new Date;return new Date(D.getTime()+360*60*1e3).toISOString().split("T")[0]},[h,m]=w.useState({selectedProducts:[],customProductName:"",totalAmount:0,savingsCollection:0,notes:"",paymentType:"installment",installmentType:"weekly",installmentCount:4,installmentAmount:0,manualInstallmentAmount:!1,saleDate:(()=>{const D=f();return console.log(" Initializing ProductSaleForm with default date:",D),D})()}),[g,x]=w.useState(!1);w.useEffect(()=>{if(!h.customProductName){const D=h.selectedProducts.reduce((O,E)=>O+E.subtotal,0);m(O=>({...O,totalAmount:D,installmentAmount:O.manualInstallmentAmount?O.installmentAmount:O.installmentCount>0?Math.round(D/O.installmentCount):0}))}},[h.selectedProducts,h.installmentCount,h.customProductName]);const y=(D,O)=>{let E=4;return O==="daily"?D<=500?E=10:D<=1e3?E=15:D<=2e3?E=20:D<=5e3?E=30:E=45:O==="weekly"?D<=500?E=4:D<=1e3?E=6:D<=2e3?E=8:D<=5e3?E=12:E=16:O==="monthly"&&(D<=1e3?E=2:D<=3e3?E=3:D<=5e3?E=4:D<=1e4?E=6:E=8),E};w.useEffect(()=>{if(h.totalAmount>0&&h.paymentType==="installment"){const D=y(h.totalAmount,h.installmentType),O=Math.round(h.totalAmount/D);m(E=>({...E,installmentCount:D,installmentAmount:O}))}},[h.totalAmount,h.installmentType,h.paymentType]);const b=D=>{if(!D)return;if(!h.selectedProducts.some(E=>E.product._id===D._id)){const E={product:D,quantity:1,subtotal:D.unitPrice*1};m(P=>({...P,selectedProducts:[...P.selectedProducts,E]}))}},j=D=>{m(O=>({...O,selectedProducts:O.selectedProducts.filter(E=>E.product._id!==D)}))},N=(D,O)=>{O<=0||m(E=>({...E,selectedProducts:E.selectedProducts.map(P=>P.product._id===D?{...P,quantity:O,subtotal:P.product.unitPrice*O}:P)}))},S=(D,O)=>{O<0||m(E=>({...E,selectedProducts:E.selectedProducts.map(P=>P.product._id===D?{...P,product:{...P.product,unitPrice:O},subtotal:O*P.quantity}:P)}))},A=D=>{const{name:O,value:E}=D.target;let P={[O]:E};if(O==="totalAmount"){const M=parseFloat(E)||0;P.totalAmount=M,!h.manualInstallmentAmount&&h.installmentCount>0&&(P.installmentAmount=Math.round(M/h.installmentCount))}O==="installmentCount"&&E>0&&!h.manualInstallmentAmount&&(P.installmentAmount=Math.round(h.totalAmount/parseInt(E))),O==="installmentAmount"&&(P.manualInstallmentAmount=!0),O==="installmentType"&&(P.manualInstallmentAmount=!1,P.installmentAmount=Math.round(h.totalAmount/h.installmentCount)),m(M=>({...M,...P}))},T=async D=>{if(D.preventDefault(),h.selectedProducts.length===0&&!h.customProductName){ke.error("Please select at least one product or enter a custom product name");return}if(h.totalAmount<=0){ke.error("Total amount must be greater than 0");return}x(!0);const O=ke.loading("Creating product sale...");try{const E=new Date,M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][E.getDay()],I=Math.ceil(E.getDate()/7),R=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`,U={memberId:e._id,memberName:e.name,branchCode:t.code||t.branchCode,branchName:t.name,products:h.selectedProducts.map(H=>({productId:H.product._id,productName:H.product.name,quantity:H.quantity,unitPrice:H.product.unitPrice,subtotal:H.subtotal})),customProductName:h.customProductName,totalAmount:parseFloat(h.totalAmount),paymentType:h.paymentType,installmentType:h.installmentType,installmentCount:parseInt(h.installmentCount),installmentAmount:parseFloat(h.installmentAmount),savingsCollection:parseFloat(h.savingsCollection)||0,collectionDay:M,weekNumber:I,monthYear:R,paymentMethod:(h.paymentType==="cash","cash"),deliveryDate:h.saleDate,notes:h.notes||""};console.log(" Sending product sale data:",U);const V=await ur.createProductSale(U);if(ke.dismiss(O),V.success){if(ke.success("Product sale created successfully!"),h.paymentType==="installment"){console.log(" Creating loan installments for installment payment...");const H=n?._id||n?.id;if(console.log(" Using collector ID from props:",H),console.log(" Selected Collector:",n?.name),!H){console.error(" No collector ID found! Using fallback."),ke.error("Collector not selected properly. Please try again.");return}let W=r?.isDaily?"Daily":r?.name||r;if(W||(W=n?.collectionDay,console.log(" Using collector default day:",W)),!W)try{const re=await(await fetch(`/api/schedules?collectorId=${H}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();re.success&&re.data.length>0&&(W=re.data[0].collectionDay,console.log(" Loaded collection day from schedule:",W))}catch(Y){console.error("Error loading collection day:",Y)}W||(W="Saturday",console.log(" Using fallback collection day: Saturday")),console.log(" Final Collection Day for installments:",W),console.log(" Collection Day:",W);const Q=V.data?.saleTransactionId;if(console.log(" Sale Transaction ID from response:",Q),!Q){console.error(" No saleTransactionId in response!"),ke.error("Product sale created but missing transaction ID. Please refresh.");return}const ve={memberId:U.memberId,productNames:U.products.length>0?U.products.map(Y=>Y.productName).join(", "):U.customProductName,totalAmount:U.totalAmount,installmentCount:U.installmentCount,installmentAmount:U.installmentAmount,installmentType:U.installmentType,branchCode:U.branchCode,branchName:U.branchName,collectionDay:W,collectorId:n?._id||n?.id,saleDate:h.saleDate,saleTransactionId:Q};console.log(" Creating product loan with data:",ve);try{const Y=await ur.createProductLoan(ve);Y.success?(ke.success(`${Y.data.summary.totalInstallments} loan installments created successfully! `),console.log(" Product loan installments created:",Y.data)):ke.error("Product sale created but failed to create loan installments")}catch(Y){console.error("Error creating product loan:",Y),Y.message&&Y.message.includes("MAX_ACTIVE_SALES_REACHED")?ke.error("                 ",{duration:6e3}):ke.error("Product sale created but failed to create loan installments")}}u(),o()}else ke.error(V.message||"Failed to create product sale")}catch(E){ke.dismiss(O),console.error("Error creating product sale:",E),console.error("Error details:",E.message),E.message.includes("Authentication")?ke.error("Authentication failed. Please login again."):E.message.includes("Validation")?ke.error("Validation error: Please check all required fields"):E.message.includes("Member not found")?ke.error("Member not found. Please refresh and try again."):ke.error(`Failed to create product sale: ${E.message}`)}finally{x(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-transparent backdrop-blur-md flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Product Sale"}),s.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center mr-3",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Member"}),s.jsx("p",{className:"text-blue-800 font-semibold",children:e.name})]})]})}),s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Sale Date *"}),s.jsx("input",{type:"date",name:"saleDate",value:h.saleDate,onChange:A,max:f(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Default: Today's date. You can select previous dates if needed."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Products * (Multiple Selection with Individual Quantities)"}),h.selectedProducts.length>0&&s.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-green-800 mb-3",children:"Selected Products:"}),s.jsx("div",{className:"space-y-3",children:h.selectedProducts.map(D=>s.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:D.product.name}),s.jsx("button",{type:"button",onClick:()=>j(D.product._id),className:"text-red-500 hover:text-red-700 font-bold text-xl ml-2",children:""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit Price"}),s.jsx("input",{type:"number",value:D.product.unitPrice||"",onChange:O=>{const E=O.target.value;S(D.product._id,E===""?0:parseFloat(E))},className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",min:"0",step:"1",placeholder:"Enter price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Qty"}),s.jsx("input",{type:"number",value:D.quantity||"",onChange:O=>{const E=O.target.value;N(D.product._id,E===""?1:parseInt(E))},className:"w-full px-3 py-2 border border-gray-300 rounded text-center focus:ring-2 focus:ring-green-500",min:"1",placeholder:"Qty"})]})]}),s.jsx("div",{className:"bg-green-50 px-3 py-2 rounded border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Total Amount:"}),s.jsxs("span",{className:"text-sm font-bold text-green-700",children:["",D.subtotal]})]})})]})},D.product._id))}),s.jsx("div",{className:"mt-4 pt-3 border-t border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Amount:"}),s.jsxs("span",{className:"text-lg font-bold text-green-800",children:["",h.totalAmount]})]})})]}),s.jsxs("select",{onChange:D=>{if(D.target.value){const O=i.find(E=>E._id===D.target.value);b(O),D.target.value=""}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose from stock..."}),i.map(D=>s.jsxs("option",{value:D._id,disabled:h.selectedProducts.some(O=>O.product._id===D._id),children:[D.name," - Stock: ",D.availableStock," - ",D.unitPrice]},D._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Or Enter Custom Product Name (Optional)"}),s.jsx("input",{type:"text",name:"customProductName",value:h.customProductName,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter custom product name if not in stock"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Amount () *",h.customProductName?s.jsx("span",{className:"text-blue-600",children:"(Editable)"}):s.jsx("span",{className:"text-green-600",children:"(Auto-calculated)"})]}),s.jsx("input",{type:"number",name:"totalAmount",value:h.totalAmount,onChange:A,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 ${h.customProductName?"bg-white":"bg-gray-50 cursor-not-allowed"}`,placeholder:h.customProductName?"Enter total amount":"Auto-calculated from selected products",readOnly:!h.customProductName,min:"1",step:"1",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.customProductName?" Enter amount for custom product. Installments will auto-calculate.":"Amount automatically calculated from selected products  quantity"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type *"}),s.jsxs("select",{name:"paymentType",value:h.paymentType,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"cash",children:"Cash Payment"}),s.jsx("option",{value:"installment",children:"Installment Payment"})]})]}),h.paymentType==="installment"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installment Type"}),s.jsx("select",{name:"installmentType",value:h.installmentType,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:n?.collectionType==="daily"||r?.isDaily,children:n?.collectionType==="daily"||r?.isDaily?s.jsx("option",{value:"daily",children:"Daily"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})}),(n?.collectionType==="daily"||r?.isDaily)&&s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Daily Kisti collector - Only daily installments available"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Number of Installments ",s.jsx("span",{className:"text-blue-600",children:"(Auto-suggested)"})]}),s.jsx("input",{type:"number",name:"installmentCount",value:h.installmentCount,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"}),s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Suggested based on ",h.installmentType," payment"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Per Installment () ",s.jsx("span",{className:"text-blue-600",children:"(Editable)"})]}),s.jsx("input",{type:"number",name:"installmentAmount",value:h.installmentAmount,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",step:"0.01"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.manualInstallmentAmount?`Manual: ${h.installmentAmount}  ${h.installmentCount} = ${h.installmentAmount*h.installmentCount}`:`Auto: ${h.totalAmount}  ${h.installmentCount} = ${h.installmentAmount}`})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" Savings Collection () ",s.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),s.jsx("input",{type:"number",name:"savingsCollection",value:h.savingsCollection,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter savings amount collected",min:"0",step:"1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Collect savings from member during product sale (will be added to total savings)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),s.jsx("textarea",{name:"notes",value:h.notes,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Additional notes..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:g,children:g?"Creating Sale...":"Create Sale"})]})]})]})})},nY=(e={})=>{try{const t=new CustomEvent("installmentCollected",{detail:{timestamp:new Date().toISOString(),memberId:e.memberId,memberName:e.memberName,amount:e.amount,installmentId:e.installmentId,status:e.status,collectionDate:e.collectionDate,note:e.note||"Collection updated"}});window.dispatchEvent(t),console.log(" Collection update event triggered:",t.detail);const n=new CustomEvent("dashboardReload",{detail:t.detail});window.dispatchEvent(n)}catch(t){console.error(" Failed to trigger collection update:",t)}},rY=({selectedMember:e,selectedBranch:t,selectedCollector:n,onClose:r,onInstallmentCollected:i})=>{const[o,u]=w.useState([]),[f,h]=w.useState([]),[m,g]=w.useState([]),[x,y]=w.useState(!0),[b,j]=w.useState(!1),[N,S]=w.useState(!1),[A,T]=w.useState(null),[D,O]=w.useState(""),[E,P]=w.useState(!1),[M,I]=w.useState(""),[R,U]=w.useState("in"),[V,H]=w.useState(!1),W=({installment:L})=>(L.serialNumber===4&&console.log(" Installment #4 Data:",{paid:L.paidAmount,remaining:L.remainingAmount,isAuto:L.isAutoApplied,receipt:L.receiptNumber,lastPay:L.lastPaymentAmount,status:L.status}),s.jsx("div",{className:`rounded-xl border p-4 transition-all duration-300 hover:shadow-lg ${ve(L.status)}`,children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-2xl",children:Y(L.status)}),s.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-blue-600 text-white rounded-lg px-3 py-1",children:s.jsxs("span",{className:"text-sm font-bold",children:["#",L.serialNumber]})})]}),s.jsxs("div",{className:"flex-1 md:flex-none",children:[s.jsx("h4",{className:"font-bold text-gray-800 text-base md:text-lg",children:L.productName}),s.jsx("div",{className:"mt-1",children:s.jsxs("p",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-bold whitespace-nowrap",children:["Due: ",L.dueDate,"  (",L.installmentNumber,"/",L.totalInstallments,")"]})}),L.paidAmount>0&&!L.isAutoApplied&&s.jsxs("p",{className:"text-green-600 font-semibold text-xs md:text-sm",children:["Paid: ",L.originalInstallment?.lastPaymentAmount||L.paidAmount]})]})]}),s.jsxs("div",{className:"flex items-center justify-between md:justify-end space-x-4 w-full md:w-auto",children:[s.jsxs("div",{className:"text-left md:text-right",children:[s.jsxs("p",{className:"text-xl font-bold text-gray-800",children:["",L.remainingAmount]}),s.jsx("div",{className:`inline-block px-3 py-1 rounded-lg text-xs font-bold ${ve(L.status)}`,children:L.status.toUpperCase()})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[L.status!=="paid"&&L.remainingAmount>0?s.jsx(s.Fragment,{children:s.jsx("button",{onClick:()=>re(L),disabled:b,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-lg font-medium transition-all duration-300 disabled:opacity-50 text-sm",children:" Loan"})}):s.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 px-4 py-2 rounded-lg",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-green-700 font-bold text-sm",children:"COLLECTED"})]}),s.jsx("button",{onClick:()=>ge(L),disabled:b,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-lg font-medium transition-all duration-300 disabled:opacity-50 text-sm",children:" Savings"})]})]})]})}));w.useEffect(()=>{Q();const L=Ne=>{Ne.key&&Ne.key.includes("collection_schedule_")&&(console.log(" Collector schedule changed, refreshing installments..."),Q())};window.addEventListener("storage",L);const ce=()=>{console.log(" Schedule updated in same tab, refreshing installments..."),setTimeout(()=>Q(),100)};return window.addEventListener("collectorScheduleUpdated",ce),()=>{window.removeEventListener("storage",L),window.removeEventListener("collectorScheduleUpdated",ce)}},[e]);const Q=async()=>{if(e?._id){y(!0);try{const L=await ur.getByMember(e._id);if(L.success&&L.data){const ce=L.data.filter(Ne=>{if(!(Ne.installmentType==="regular"&&Ne.note&&Ne.note.includes("Product Loan")||Ne.installmentType==="loan"))return!1;if(Ne.status==="partial")return console.log(` Keeping partial status installment: Amount ${Ne.amount}, Remaining: ${Ne.remainingAmount||0}`),!0;if(Ne.status==="collected"&&Ne.note){const me=Ne.note.match(/InstallmentAmt: (\d+)/);if(me){const _=parseInt(me[1]);if(Ne.amount<_)return console.log(` Skipping duplicate partial completion record: Amount ${Ne.amount} < InstallmentAmt ${_}`),!1}}return!0});if(ce.length>0){console.log(" Using actual loan installments:",ce),console.log(` Total loan installments loaded: ${ce.length}`),console.log(" Installment details:"),ce.forEach((F,X)=>{console.log(`   ${X+1}. Amount: ${F.amount}, Status: ${F.status}, Note: ${F.note?.substring(0,50)}`)});const Ne=JSON.parse(localStorage.getItem("selectedCollector")||"{}"),Ce=Ne.id||Ne._id||"hayat",me=localStorage.getItem(`collection_schedule_${Ce}`);let _=["02/09/2025","09/09/2025","16/09/2025","23/09/2025","30/09/2025"];me&&(_=JSON.parse(me).collectionDates||_),console.log(" Current collector schedule:",_);const le=ce.map((F,X)=>{const he=F.status==="collected";console.log(` Installment ${X+1} (${F._id}): status = ${F.status}`),console.log(` Checking collections for installment ${X+1}:`,L.data.length,"total records");const J=L.data.filter(Oe=>{const Qe=Oe.memberId===e._id||Oe.member&&(typeof Oe.member=="object"&&Oe.member._id===e._id||typeof Oe.member=="string"&&Oe.member===e._id),jt=Oe.installmentType==="regular",Ie=Oe.note&&(Oe.note.includes("Product Loan:")&&Oe.note.includes("Installment")&&Oe.note.includes("/")&&(Oe.note.includes("Full payment")||Oe.note.includes("Partial payment")||Oe.note.includes("Full Payment")||Oe.note.includes("Partial Payment"))||Oe.note.includes("Loan Installment")&&(Oe.note.includes("Full payment")||Oe.note.includes("Partial payment")||Oe.note.includes("Full Payment")||Oe.note.includes("Partial Payment"))||Oe.note.includes("Product Loan")&&(Oe.note.includes("payment")||Oe.note.includes("Payment")||Oe.note.includes("collected")));return Qe&&jt&&Ie});console.log(` Found ${J.length} collection records for member ${e.name}`),(X===16||X===17)&&(console.log(`    ALL collection amounts for ${e.name}:`),J.forEach((Oe,Qe)=>{console.log(`      ${Qe+1}. ${Oe.amount} - Note: ${Oe.note?.substring(0,80)}...`)}));const ye=X+1;console.log(` Checking specific installment #${ye} collections:`);const Se=J.filter(Oe=>{if(!Oe.note)return!1;console.log(`    Checking note: "${Oe.note}"`);const Qe=F._id;if(Oe.note&&Oe.note.includes(`ID: ${Qe}`))return console.log(`    PERFECT MATCH by Installment ID: ${Qe}`),!0;if(![`Installment ${ye}/`,`Installment ${ye} `,`- Installment ${ye}`,` ${ye}/`,` ${ye} `,`Installment #${ye}/`,`#${ye}/`].some(Je=>{const xe=Oe.note.includes(Je);return xe&&console.log(`    Pattern match: "${Je}" found in note`),xe}))return console.log(`    No pattern match for installment #${ye}`),!1;(!Oe.note||!Oe.note.includes("ID:"))&&console.log("     Old format collection without ID - using pattern match");const st=Oe.amount||0,Ke=F.amount||0,Xe=Oe.note.match(/InstallmentAmt: (\d+)/);if(Xe){const Je=parseInt(Xe[1]);return Je===Ke?(console.log(`    Strong match by InstallmentAmt in note: ${Je}`),!0):(console.log(`    InstallmentAmt mismatch: Expected ${Ke}, Note has ${Je}`),!1)}const Ye=Math.max(Ke*.1,10),ct=Math.abs(st-Ke);return ct<=Ye?(console.log(`    Fallback match by amount tolerance: ${st}`),!0):(console.log(`    Amount mismatch: Expected ${Ke}, Got ${st} (Diff: ${ct})`),!1)});console.log(` Found ${Se.length} collections for installment #${ye}`);let ee="due",De=F.paidAmount||0,Ue=F.remainingAmount||F.amount;if(F.paidAmount!==void 0&&F.remainingAmount!==void 0){De=F.paidAmount,Ue=F.remainingAmount,console.log(` Installment #${ye} Status Check:`),console.log(`   - Backend status: "${F.status}"`),console.log(`   - paidAmount: ${F.paidAmount}`),console.log(`   - remainingAmount: ${F.remainingAmount}`),console.log(`   - remainingAmount <= 0: ${Ue<=0}`),console.log(`   - status === 'collected': ${F.status==="collected"}`);const Oe=L.data.filter(Qe=>Qe.installmentType!=="regular"||!Qe.note?!1:Qe.note.includes(`ID: ${F._id}`));if(Oe.length>0){console.log(`    Found ${Oe.length} collection records for this installment`),Oe.forEach((Ie,st)=>{console.log(`      Record ${st+1}: Amount ${Ie.amount}, Date: ${Ie.date||Ie.createdAt}`)});const Qe=Oe.reduce((Ie,st)=>Ie+(st.amount||0),0),jt=Math.max(0,F.amount-Qe);console.log(`    Total installment amount: ${F.amount}`),console.log(`    Actual collected from records: ${Qe}`),console.log(`    Actual remaining: ${jt}`),De=Qe,Ue=jt}Ue<=0?(ee="paid",Ue=0,console.log(" Setting status to PAID (fully collected)")):De>0&&(ee="partial",console.log(` Setting status to PARTIAL (${De} paid, ${Ue} remaining)`))}else he||F.status==="collected"?(ee="paid",De=F.amount,Ue=0,console.log(` Installment ${ye} is COLLECTED (old system)`)):(De=Se.reduce((Oe,Qe)=>{const jt=Qe.paidAmount!=null?Qe.paidAmount:Qe.amount;return Oe+(jt||0)},0),Ue=Math.max(0,F.amount-De),De>=F.amount?ee="paid":De>0&&(ee="partial"));let Me;try{if(F.dueDate)Me=new Date(F.dueDate).toISOString().split("T")[0],console.log(` Using backend dueDate for installment #${X+1}: ${Me}`);else{console.log(` No backend dueDate, calculating for installment #${X+1}`);const Oe=X%_.length,[Qe,jt,Ie]=_[Oe].split("/");if(Me=new Date(parseInt(Ie),parseInt(jt)-1,parseInt(Qe),12,0,0),X>=_.length){const Ye=Math.floor(X/_.length);Me.setDate(Me.getDate()+Ye*7)}const st=Me.getFullYear(),Ke=String(Me.getMonth()+1).padStart(2,"0"),Xe=String(Me.getDate()).padStart(2,"0");Me=`${st}-${Ke}-${Xe}`}}catch(Oe){console.error("Date calculation error:",Oe),Me=F.dueDate||F.date||F.createdAt,Me?Me=new Date(Me).toISOString().split("T")[0]:Me=new Date().toISOString().split("T")[0]}let Le="Product Loan";if(F.note){const Oe=F.note.match(/Product Loan: (.+?) -/);Oe&&Oe[1]&&(Le=Oe[1].trim())}const wt=Se.some(Oe=>!Oe.isAutoApplied),Ze=F.paidAmount>0&&(!F.isAutoApplied||F.receiptNumber&&!F.receiptNumber.startsWith("PL-")),Re=wt||Ze;return{id:`${F._id}-${X}`,serialNumber:X+1,productName:Le,installmentNumber:X+1,totalInstallments:ce.length,installmentType:"loan",dueDate:Me,amount:F.amount,paidAmount:De,remainingAmount:Ue,status:ee,distributionId:F.distributionId,isAutoApplied:F.isAutoApplied||!1,hasManualCollection:Re,originalInstallment:F}}).sort((F,X)=>{const he=new Date(F.dueDate),J=new Date(X.dueDate);return he-J}).map((F,X)=>({...F,installmentNumber:X+1,serialNumber:X+1}));console.log(" Processed loan installments:",le),console.log(" Sorted by dueDate - First:",le[0]?.dueDate,"Last:",le[le.length-1]?.dueDate),console.log(" Renumbered - First #",le[0]?.installmentNumber,"Last #",le[le.length-1]?.installmentNumber);const ne={};le.forEach(F=>{let X=F.distributionId;(!X||X==="unknown")&&(X=`amount_${F.amount}`),ne[X]||(ne[X]=[]),ne[X].push(F)}),console.log(" Grouped installments:",Object.keys(ne).map(F=>({key:F,count:ne[F].length,allPaid:ne[F].every(X=>X.status==="paid")})));const z=[],G=[];Object.entries(ne).forEach(([F,X])=>{const he=X.every(J=>{const ye=J.status==="paid",Se=J.remainingAmount===0||J.remainingAmount==="0";return ye||Se});if(console.log(` Group ${F}: ${X.length} installments, allPaid: ${he}`),X.forEach((J,ye)=>{console.log(`   ${ye+1}. Status: ${J.status}, Remaining: ${J.remainingAmount}, Paid: ${J.paidAmount}`)}),he&&X.length>0){const J=X[0],ye=J.productName||"Unknown Product",Se=X.reduce((De,Ue)=>De+Ue.amount,0),ee=J.amount;z.push({distributionId:F,productName:ye,totalInstallments:X.length,installmentAmount:ee,totalAmount:Se,completedDate:X[X.length-1]?.dueDate||new Date().toISOString().split("T")[0],installments:X}),console.log(` Completed sale found: ${ye} (${X.length} installments, ${Se})`)}else G.push(...X)}),console.log(` Active installments: ${G.length}, Completed sales: ${z.length}`),u(G),h(z),g(L.data)}else console.log(" No loan installments found for this member"),u([]),h([])}else console.log(" No installment data found"),u([]);y(!1)}catch(L){console.error("Error loading member installments:",L),u([]),y(!1)}}},ve=L=>{switch(L){case"due":return"bg-yellow-50 text-yellow-800 border-yellow-200";case"overdue":return"bg-red-50 text-red-800 border-red-200";case"partial":return"bg-orange-50 text-orange-800 border-orange-200";case"upcoming":return"bg-blue-50 text-blue-800 border-blue-200";case"paid":return"bg-green-50 text-green-800 border-green-200";default:return"bg-gray-50 text-gray-800 border-gray-200"}},Y=L=>{switch(L){case"due":return"";case"overdue":return"";case"partial":return"";case"upcoming":return"";case"paid":return"";default:return""}},re=L=>{T(L),O(""),S(!0)},ge=L=>{T(L),I(""),U("in"),P(!0)},Ee=async(L,ce,Ne,Ce="installment",me="in")=>{j(!0);const _=ke.loading(`Collecting ${Ce}...`);try{const q=new Date,le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][q.getDay()],ne=Math.ceil(q.getDate()/7),z=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,G=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}-${String(q.getDate()).padStart(2,"0")}`,F=Ce==="savings"&&L?.dueDate?L.dueDate:L?.dueDate||G,X=n?._id||n?.id||JSON.parse(localStorage.getItem("selectedCollector")||"{}")._id||JSON.parse(localStorage.getItem("selectedCollector")||"{}").id;X?console.log(" Using selected collector:",n?.name||"Unknown","(ID:",X,")"):console.warn(" No collector selected! Using logged-in user as fallback.");const he={memberId:e._id,collectorId:X,amount:ce,installmentType:Ce==="savings"?"extra":"regular",collectionDay:le,paymentMethod:Ce==="savings"&&me==="out"?"savings_withdrawal":"cash",weekNumber:ne,monthYear:z,dueDate:F,note:Ce==="savings"?me==="out"?`Savings Withdrawal - ${ce} - Product: ${L?.productName||"General"} - Member: ${e.name}${L?` - From Installment #${L.installmentNumber} (Due: ${L.dueDate})`:""}`:`Savings Collection - ${ce} - Product: ${L?.productName||"General"} - Member: ${e.name}${L?` - With Installment #${L.installmentNumber} (Due: ${L.dueDate})`:""}`:`Product Loan: ${L.productName} - Installment #${L.installmentNumber}/${L.totalInstallments} - ${Ne} - Amount: ${ce} - InstallmentAmt: ${L.amount} - ID: ${L.originalInstallment._id}`,receiptNumber:`${Ce==="savings"?"SAV":"RC"}-${Date.now()}`,branchCode:t.code||t.branchCode,branch:t.name,...L&&{installmentId:L.originalInstallment?._id,distributionId:L.originalInstallment?.distributionId,serialNumber:L.originalInstallment?.serialNumber}};console.log(" Collecting:",he),console.log(" Installment object:",L),console.log(" Original Installment:",L?.originalInstallment),L&&(console.log(` ${Ce==="savings"?"Savings":"Installment"} Identifiers:`),console.log("   - installmentId:",he.installmentId),console.log("   - distributionId:",he.distributionId),console.log("   - serialNumber:",he.serialNumber),Ce!=="savings"&&!he.installmentId&&(console.error(" ERROR: installmentId is missing! Backend will create NEW installment instead of updating."),console.error(" This will cause duplicate installments!"),console.error(" Installment structure:",JSON.stringify(L,null,2)))),Ce==="savings"&&L&&(console.log(" Savings with installment context:"),console.log("   - Installment #",L.installmentNumber),console.log("   - Installment Due Date:",L.dueDate),console.log("   - Will appear in sheet column:",L.dueDate));const J=await ur.collect(he);if(ke.dismiss(_),J.success){let ye="";if(Ce==="savings")me==="out"?ye=`Savings withdrawal of ${ce} processed successfully! `:ye=`Savings of ${ce} collected successfully! `;else if(L&&ce>L.remainingAmount)ye=`Payment collected! ${(ce-L.remainingAmount).toFixed(2)} overpayment applied to next installment(s)! `;else if(L&&ce<L.remainingAmount){const Se=L.remainingAmount-ce;ye=`Partial payment of ${ce} collected! Remaining due: ${Se.toFixed(2)}`}else ye=`Installment of ${ce} collected successfully!`;ke.success(ye),await Q(),i(),nY({memberId:e._id,memberName:e.name,amount:ce,installmentId:L?.originalInstallment?._id||L?._id,status:Ce==="savings"?"savings_collected":ce<L?.remainingAmount?"partial":"collected",collectionDate:new Date().toISOString(),note:Ce==="savings"?me==="out"?`Savings withdrawal of ${ce}`:`Savings collection of ${ce}`:`${Ne} of ${ce} for ${L?.productName}`}),console.log(" Collection Sheet update event triggered"),N&&(S(!1),T(null)),E&&(P(!1),T(null))}else ke.error(J.message||"Failed to collect payment")}catch(q){ke.dismiss(_),console.error("Error collecting payment:",q),ke.error("Failed to collect payment. Please try again.")}finally{j(!1)}},$=async()=>{const L=parseFloat(M);if(L<=0){ke.error("Please enter a valid amount");return}if(R==="out"&&A){const Ce={};o.forEach(G=>{const F=G.amount||G.remainingAmount;Ce[F]||(Ce[F]=[]),Ce[F].push(G)});const me=Object.keys(Ce).map(Number).sort((G,F)=>F-G),_=A.amount||A.remainingAmount,q=me.indexOf(_);console.log(` Installment amount: ${_}, Group index: ${q} (0=Type 1, 1=Type 2)`);const B=m.filter(G=>{if(!(G.installmentType==="extra"||G.installmentType==="savings")||!G.note)return!1;const F=G.note.includes("Savings Collection"),X=G.note.includes("Savings Withdrawal"),he=G.note.includes("Initial Savings"),J=G.note.match(/Product Sale:.+\(Qty:.+\|/);return(F||X||he)&&!J}),le=q>=0?Ce[me[q]]:[];let ne=B.reduce((G,F)=>{if(le.some(he=>F.distributionId&&he.originalInstallment?.distributionId?F.distributionId===he.originalInstallment.distributionId:F.installmentId&&he.originalInstallment?._id?F.installmentId===he.originalInstallment._id:!!(F.note&&he.productName&&F.note.includes(he.productName)))){const he=F.note.includes("Withdrawal");return G+(he?-F.amount:F.amount)}return G},0);if(q===1||q===0&&me.length===1){const G=B.filter(X=>X.note&&(X.note.includes("Initial Savings")||X.note.includes("Registration"))).reduce((X,he)=>X+he.amount,0),F=B.filter(X=>!X.distributionId&&!X.installmentId?!o.some(J=>X.note&&J.productName&&X.note.includes(J.productName))&&!X.note.includes("Initial Savings"):!1).reduce((X,he)=>{const J=he.note&&he.note.includes("Withdrawal");return X+(J?-he.amount:he.amount)},0);if(ne+=G+F,f&&f.length>0){const X=f.reduce((he,J)=>{const ye=B.filter(Se=>!!(Se.distributionId&&Se.distributionId===J.distributionId||Se.note&&Se.note.includes(J.productName))).reduce((Se,ee)=>{const De=ee.note&&ee.note.includes("Withdrawal");return Se+(De?-ee.amount:ee.amount)},0);return he+Math.max(0,ye)},0);X>0&&(console.log(` Adding ${X} from ${f.length} completed product(s) to Type 1`),ne+=X)}console.log(` Type 1 Product ${A.productName} - Product-specific: ${ne-G-F}, Initial: ${G}, Unmatched: ${F}, Total: ${ne}`)}else console.log(` Type ${q+1} Product ${A.productName} - Available Savings: ${ne}`);if(L>ne){ke.error(` Cannot withdraw ${L.toLocaleString()}!
Available savings for ${A.productName}: ${ne.toLocaleString()}
Exceeds by: ${(L-ne).toLocaleString()}`,{duration:5e3});return}}const ce="savings",Ne=R==="out"?`Savings withdrawal - ${L}`:`Savings collection - ${L}`;await Ee(A,L,Ne,ce,R)},ie=async()=>{const L=parseFloat(D);if(L<=0){ke.error("Please enter a valid amount");return}const ce=o.filter(me=>me.productName===A.productName);console.log(" Product Name Filter Debug:"),console.log(`   Selected Installment: #${A.installmentNumber}, Product: "${A.productName}"`),console.log(`   Total member installments: ${o.length}`),console.log(`   Matched installments: ${ce.length}`),ce.forEach((me,_)=>{console.log(`      ${_+1}. #${me.installmentNumber}: ${me.productName}, Remaining: ${me.remainingAmount}`)});const Ne=ce.reduce((me,_)=>me+_.remainingAmount,0);if(console.log(` Over-collection check for ${A.productName}:`),console.log(`    Payment amount: ${L}`),console.log(`    Total remaining due: ${Ne}`),L>Ne){ke.error(` Cannot collect ${L.toLocaleString()}!
Total remaining due for ${A.productName}: ${Ne.toLocaleString()}
Over-collection: ${(L-Ne).toLocaleString()}`,{duration:5e3});return}const Ce=L>A.remainingAmount?`Payment with overpayment (${(L-A.remainingAmount).toFixed(2)} will be applied to next installment)`:"Partial payment";await Ee(A,L,Ce)};return s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-50/80 to-indigo-100/80 backdrop-blur-md flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-blue-100 w-full max-w-7xl h-[95vh] overflow-hidden flex flex-col",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-xl font-bold",children:"Collect Installment"})}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("button",{onClick:r,className:"text-white hover:text-indigo-200 text-2xl font-light transition-colors",children:""})})]})}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-3 shadow border border-blue-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl w-10 h-10 flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Member"}),s.jsx("p",{className:"text-gray-800 font-bold text-lg",children:e.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",e.memberNumber||e._id.slice(-6)]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-3 shadow border border-blue-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl w-10 h-10 flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Branch"}),s.jsxs("p",{className:"text-gray-800 font-bold text-lg",children:[t.code," - ",t.name]})]})]})})]})}),s.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:x?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading installments..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Please wait while we fetch your installment data"})]}):o.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:V?`${f.length} Completed Sales`:`${o.length} Installments`}),s.jsx("div",{className:"flex items-center space-x-2",children:f.length>0&&s.jsxs("button",{onClick:()=>H(!V),className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 flex items-center space-x-2 shadow hover:shadow-lg text-sm",children:[s.jsx("span",{children:V?"":""}),s.jsx("span",{children:V?"Active":"History"}),!V&&f.length>0&&s.jsx("span",{className:"bg-white text-orange-600 rounded-full px-2 py-0.5 text-xs font-bold",children:f.length})]})})]}),V?s.jsx("div",{className:"space-y-4",children:f.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No completed sales yet"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Completed product sales will appear here"})]}):f.map((L,ce)=>s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full w-12 h-12 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold text-green-800",children:L.productName}),s.jsxs("p",{className:"text-sm text-green-600",children:["Completed on ",L.completedDate]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["",L.totalAmount.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-green-600",children:[L.totalInstallments," installments  ",L.installmentAmount]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-green-200",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Installments"}),s.jsx("p",{className:"text-lg font-bold text-gray-800",children:L.totalInstallments})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Per Installment"}),s.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",L.installmentAmount]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Status"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:"PAID"})]})]})]},L.distributionId))}):(()=>{const L=[],ce={};o.forEach(xe=>{const be=xe.productName||"Unknown Product",Be=xe.distributionId||xe.originalInstallment?.distributionId||`temp_${be}`;ce[Be]||(ce[Be]={productName:be,distributionId:Be,isActive:!0,timestamp:Be.split("-").pop()||"0",installments:[]}),ce[Be].installments.push(xe)});const Ne={};f.forEach(xe=>{const be=xe.distributionId;Ne[be]={productName:xe.productName,distributionId:be,isActive:!1,timestamp:be.split("-").pop()||"0",completedSale:xe}}),L.push(...Object.values(ce),...Object.values(Ne)),L.sort((xe,be)=>parseInt(xe.timestamp)-parseInt(be.timestamp));const Ce={};L.forEach((xe,be)=>{Ce[xe.distributionId]=be+1,console.log(` Stable Type ${be+1}: ${xe.productName} (${xe.isActive?"Active":"Completed"})`)});const me={};o.forEach(xe=>{const be=xe.productName||"Unknown Product";me[be]||(me[be]=[]),me[be].push(xe)});const _=Object.keys(me).sort((xe,be)=>{const Be=me[xe][0],Pe=me[be][0],et=Be.distributionId||Be.originalInstallment?.distributionId||"",ft=Pe.distributionId||Pe.originalInstallment?.distributionId||"",qt=Ce[et]||999,dn=Ce[ft]||999;return qt-dn});if(_.length===1){const xe=_[0],be=me[xe],Be=be.map((pt,rt)=>({...pt,serialNumber:rt+1,installmentNumber:rt+1,totalInstallments:be.length})),Pe=be.reduce((pt,rt)=>pt+rt.amount,0),et=be.reduce((pt,rt)=>(rt.status==="paid"||rt.status==="partial"||rt.status==="collected")&&rt.paidAmount>0?rt.status==="partial"?pt+(rt.paidAmount||0):pt+rt.amount:pt,0),ft=Math.max(0,Pe-et);if(ft<.01)return console.log(` Product "${xe}" is fully paid. Hiding from active view.`),s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("p",{className:"text-gray-700 text-lg font-bold",children:"All installments paid!"}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"This product sale has been completed"})]});const qt=m.filter(pt=>{if(!(pt.installmentType==="extra"||pt.installmentType==="savings")||!pt.note)return!1;const rt=pt.note.includes("Savings Collection"),Ht=pt.note.includes("Savings Withdrawal"),ut=pt.note.includes("Initial Savings"),at=pt.note.match(/Product Sale:.+\(Qty:.+\|/);return(rt||Ht||ut)&&!at});console.log(" Single type - Total savings records found:",qt.length);let dn=qt.reduce((pt,rt)=>{const Ht=rt.note.includes("Withdrawal");return pt+(Ht?-rt.amount:rt.amount)},0);console.log(" Single type total savings:",dn);const gr=Be[0]?.productName||"Product",pr=Be[0]?.distributionId||Be[0]?.originalInstallment?.distributionId,ki=Ce[pr]||1;return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[s.jsxs("h4",{className:"text-lg font-bold text-blue-800 mb-3",children:["Type ",ki,": ",gr]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Pe.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),s.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",et.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),s.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",ft.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),s.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",dn.toLocaleString()]})]})]}),s.jsxs("p",{className:"text-sm text-blue-600",children:[Be.length," installments  ",Be[0]?.amount||0," each"]})]}),Be.map(pt=>s.jsx(W,{installment:pt},pt.id))]})}if(_.length>2)return console.log(` ${_.length} products found - displaying vertically`),s.jsx("div",{className:"space-y-6",children:_.map((xe,be)=>{const Be=me[xe],Pe=Be.reduce((ut,at)=>ut+at.amount,0),et=Be.reduce((ut,at)=>(at.status==="paid"||at.status==="partial"||at.status==="collected")&&at.paidAmount>0?at.status==="partial"?ut+(at.paidAmount||0):ut+at.amount:ut,0),ft=Math.max(0,Pe-et);if(ft<.01)return console.log(` Product "${xe}" is fully paid. Hiding from active view.`),null;const qt=Be.map((ut,at)=>({...ut,serialNumber:at+1,installmentNumber:at+1,totalInstallments:Be.length})),dn=m.filter(ut=>{if(!(ut.installmentType==="extra"||ut.installmentType==="savings")||!ut.note)return!1;const at=ut.note.includes("Savings Collection"),Ha=ut.note.includes("Savings Withdrawal"),jn=ut.note.includes("Initial Savings"),Fa=ut.note.match(/Product Sale:.+\(Qty:.+\|/);return(at||Ha||jn)&&!Fa}),gr=dn.reduce((ut,at)=>{const Ha=at.note.includes("Withdrawal");return ut+(Ha?-at.amount:at.amount)},0);let pr=dn.reduce((ut,at)=>{if(Be.some(jn=>{if(at.distributionId&&jn.originalInstallment?.distributionId)return at.distributionId===jn.originalInstallment.distributionId;if(at.installmentId&&jn.originalInstallment?._id)return at.installmentId===jn.originalInstallment._id;if(!at.distributionId&&at.note&&jn.productName&&ft>.01){const Fa=at.note.toLowerCase(),na=jn.productName.toLowerCase().trim();if(Fa.includes(na))return console.log(`    ACTIVE Type ${be+1} match: ${at.amount}  "${jn.productName}"`),!0}return!1})){const jn=at.note.includes("Withdrawal");return ut+(jn?-at.amount:at.amount)}return ut},0);if(be===0){let ut=0;_.forEach((at,Ha)=>{if(Ha===0)return;const jn=me[at],Fa=jn.reduce((Un,Pt)=>Un+Pt.amount,0),na=jn.reduce((Un,Pt)=>(Pt.status==="paid"||Pt.status==="partial"||Pt.status==="collected")&&Pt.paidAmount>0?Un+(Pt.status==="partial"?Pt.paidAmount:Pt.amount):Un,0),_i=Math.max(0,Fa-na),Ka=dn.reduce((Un,Pt)=>{if(jn.some(Et=>{if(Pt.distributionId&&Et.originalInstallment?.distributionId)return Pt.distributionId===Et.originalInstallment.distributionId;if(Pt.installmentId&&Et.originalInstallment?._id)return Pt.installmentId===Et.originalInstallment._id;if(!Pt.distributionId&&Pt.note&&Et.productName&&_i>.01){const Ac=Pt.note.toLowerCase(),Cc=Et.productName.toLowerCase().trim();if(Ac.includes(Cc))return!0}return!1})){const Et=Pt.note.includes("Withdrawal");return Un+(Et?-Pt.amount:Pt.amount)}return Un},0);ut+=Ka}),pr=gr-ut,console.log(` Type 1 Savings (Conservation): Total ${gr} - Other Types ${ut} = ${pr}`)}const ki=Be[0]?.distributionId||Be[0]?.originalInstallment?.distributionId,pt=Ce[ki]||be+1,rt=[{bg:"from-blue-50 to-indigo-50",border:"border-blue-200",text:"text-blue-800"},{bg:"from-green-50 to-emerald-50",border:"border-green-200",text:"text-green-800"},{bg:"from-purple-50 to-pink-50",border:"border-purple-200",text:"text-purple-800"}],Ht=rt[be%rt.length];return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`bg-gradient-to-r ${Ht.bg} rounded-xl p-4 border ${Ht.border}`,children:[s.jsxs("h4",{className:`text-lg font-bold ${Ht.text} mb-3`,children:["Type ",pt,": ",xe]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Pe.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),s.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",et.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),s.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",ft.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),s.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",pr.toLocaleString()]})]})]}),s.jsxs("p",{className:"text-sm ${color.text}",children:[qt.length," installments  ",Be[0]?.amount||0," each"]})]}),qt.map(ut=>s.jsx(W,{installment:ut},ut.id))]},xe)})});const q=_[0],B=_[1],le=me[q]||[],ne=me[B]||[],z=xe=>{const be=new Set;xe.forEach(Pe=>{const et=Pe.productName;et&&et!=="Product Loan"&&et!=="Product"&&et.trim().length>0&&be.add(et)});const Be=Array.from(be);return console.log(" Product names for this type:",Be),Be},G=z(le),F=z(ne),X=le[0]?.distributionId||le[0]?.originalInstallment?.distributionId,he=ne[0]?.distributionId||ne[0]?.originalInstallment?.distributionId,J=Ce[X]||1,ye=Ce[he]||2;console.log(` Stable Type Numbers: Left=${J}, Right=${ye}`);const Se=JSON.parse(localStorage.getItem("selectedCollector")||"{}"),ee=Se.id||Se._id||"hayat",De=localStorage.getItem(`collection_schedule_${ee}`);let Ue=["02/09/2025","09/09/2025","16/09/2025","23/09/2025","30/09/2025"];De&&(Ue=JSON.parse(De).collectionDates||Ue);const Me=le.map((xe,be)=>({...xe,dueDate:xe.dueDate,serialNumber:be+1,installmentNumber:be+1,totalInstallments:le.length})),Le=ne.map((xe,be)=>({...xe,dueDate:xe.dueDate,serialNumber:be+1,installmentNumber:be+1,totalInstallments:ne.length})),wt=le.reduce((xe,be)=>xe+be.amount,0),Ze=le.reduce((xe,be)=>(be.status==="paid"||be.status==="partial"||be.status==="collected")&&be.paidAmount>0?be.status==="partial"?xe+(be.paidAmount||0):xe+be.amount:xe,0),Re=Math.max(0,wt-Ze),Oe=ne.reduce((xe,be)=>xe+be.amount,0),Qe=ne.reduce((xe,be)=>(be.status==="paid"||be.status==="partial"||be.status==="collected")&&be.paidAmount>0?be.status==="partial"?xe+(be.paidAmount||0):xe+be.amount:xe,0),jt=Math.max(0,Oe-Qe),Ie=xe=>{if(!xe||xe.length===0)return Date.now();const be=xe.map(Be=>{const Pe=Be.saleDate||Be.createdAt||Be.originalInstallment?.createdAt||Be.originalInstallment?.saleDate||Be.date;return Pe?new Date(Pe).getTime():Date.now()});return Math.min(...be)};Ie(le);const st=Ie(ne),Ke=m.filter(xe=>{if(!(xe.installmentType==="extra"||xe.installmentType==="savings")||!xe.note)return!1;const be=xe.note.includes("Savings Collection"),Be=xe.note.includes("Savings Withdrawal"),Pe=xe.note.includes("Initial Savings"),et=xe.note.match(/Product Sale:.+\(Qty:.+\|/);return!!((be||Be||Pe)&&!et)});console.log(" Multiple types - Total savings records found:",Ke.length),Ke.forEach((xe,be)=>{console.log(`   ${be+1}. Type: ${xe.installmentType}, Amount: ${xe.amount}, DistId: ${xe.distributionId||"NONE"}, Note: ${xe.note?.substring(0,80)}`)});const Xe=Ke.reduce((xe,be)=>{const Be=be.note.includes("Withdrawal");return xe+(Be?-be.amount:be.amount)},0),Ye=Ke.reduce((xe,be)=>{if(ne.some(Pe=>{if(be.distributionId&&Pe.originalInstallment?.distributionId)return be.distributionId===Pe.originalInstallment.distributionId;if(be.installmentId&&Pe.originalInstallment?._id)return be.installmentId===Pe.originalInstallment._id;if(!be.distributionId&&be.note&&Pe.productName&&jt>.01){const et=be.note.toLowerCase(),ft=Pe.productName.toLowerCase().trim();if(et.includes(ft))return new Date(be.createdAt||be.collectionDate||Date.now()).getTime()<st-5e3?(console.log(`    Ghost skipped (Right): ${be.note}`),!1):(console.log(`    ACTIVE product name match: ${be.amount}  "${Pe.productName}"`),!0)}return!1})){const Pe=be.note.includes("Withdrawal");return xe+(Pe?-be.amount:be.amount)}return xe},0);let ct=Xe-Ye;console.log(" Savings Calculation (Conservation):"),console.log(`   - Total Savings: ${Xe}`),console.log(`   - Right (Type 2) Matched: ${Ye}`),console.log(`   - Left (Type 1) Calculated: ${ct}`);const pe=Re<.01,Je=jt<.01;return pe&&Je?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("p",{className:"text-gray-700 text-lg font-bold",children:"All installments paid!"}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"All product sales have been completed"})]}):pe?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200 rounded-xl p-4 border",children:[s.jsxs("h4",{className:"text-lg font-bold mb-3 text-orange-800",children:["Type ",ye,": ",F.length>0?F.join(", "):"Product"]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Oe.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),s.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Qe.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),s.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",jt.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),s.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",Ye.toLocaleString()]})]})]}),s.jsxs("p",{className:"text-sm text-orange-600",children:[ne.length," installments  ",ne[0]?.amount||0," each"]})]}),Le.map(xe=>s.jsx(W,{installment:xe},xe.id))]}):Je?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 rounded-xl p-4 border",children:[s.jsxs("h4",{className:"text-lg font-bold mb-3 text-green-800",children:["Type ",J,": ",G.length>0?G.join(", "):"Product"]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",wt.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),s.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Ze.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),s.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",Re.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),s.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",ct.toLocaleString()]})]})]}),s.jsxs("p",{className:"text-sm text-green-600",children:[Me.length," installments  ",Me[0]?.amount||0," each"]})]}),Me.map(xe=>s.jsx(W,{installment:xe},xe.id))]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 rounded-xl p-4 border",children:[s.jsxs("h4",{className:"text-lg font-bold mb-3 text-green-800",children:["Type ",J,": ",G.length>0?G.join(", "):"Product"]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",wt.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),s.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Ze.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),s.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",Re.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),s.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",ct.toLocaleString()]})]})]}),s.jsxs("p",{className:"text-sm text-green-600",children:[Me.length," installments  ",Me[0]?.amount||0," each"]})]}),Me.map(xe=>s.jsx(W,{installment:xe},xe.id))]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200 rounded-xl p-4 border",children:[s.jsxs("h4",{className:"text-lg font-bold mb-3 text-orange-800",children:["Type ",ye,": ",F.length>0?F.join(", "):"Product"]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Oe.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),s.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Qe.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),s.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",jt.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[s.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),s.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",Ye.toLocaleString()]})]})]}),s.jsxs("p",{className:"text-sm text-orange-600",children:[ne.length," installments  ",ne[0]?.amount||0," each"]})]}),Le.map(xe=>s.jsx(W,{installment:xe},xe.id))]})]})})()]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-blue-100 rounded-full w-24 h-24 mx-auto flex items-center justify-center mb-6",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Installments Found"}),s.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"This member doesn't have any product loan installments yet."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-4",children:[s.jsx("button",{onClick:()=>{T(null),U("in"),P(!0)},className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:" Collect Savings"}),s.jsx("button",{onClick:()=>{T(null),U("out"),P(!0)},className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:" Withdraw Savings"})]}),s.jsx("button",{onClick:r,className:"bg-gradient-to-r from-indigo-500 to-blue-600 hover:from-indigo-600 hover:to-blue-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Close"})]})}),N&&A&&s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/30 to-gray-900/30 backdrop-blur-md flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-3xl p-8 w-full max-w-md mx-4 shadow-2xl border-2 border-blue-200",children:[s.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800",children:" Loan Payment"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-gray-600 mb-2 font-medium",children:[A.productName," - Installment #",A.serialNumber]}),s.jsxs("p",{className:"text-gray-600 font-semibold",children:["Total Due: ",A.remainingAmount]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Payment Amount () *"}),s.jsx("input",{type:"number",value:D,onChange:L=>O(L.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter payment amount",min:"0.01",step:"0.01"}),D&&parseFloat(D)>0&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsxs("p",{className:"text-blue-800 font-semibold",children:["Collecting: ",D]}),s.jsxs("p",{className:"text-blue-600",children:["Remaining: ",(A.remainingAmount-parseFloat(D)).toFixed(2)]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>{S(!1),T(null),O("")},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ie,disabled:!D||parseFloat(D)<=0||b,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 font-semibold transition-all duration-300",children:b?"Processing...":"Collect Payment"})]})]})}),E&&s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/30 to-gray-900/30 backdrop-blur-md flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-3xl p-8 w-full max-w-md mx-4 shadow-2xl border-2 border-purple-200",children:[s.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:" Savings Transaction"}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600 mb-2 font-medium",children:["Member: ",e.name]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Transaction Type *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>U("in"),className:`px-4 py-3 rounded-xl font-semibold transition-all duration-300 ${R==="in"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Savings In"}),s.jsx("button",{onClick:()=>U("out"),className:`px-4 py-3 rounded-xl font-semibold transition-all duration-300 ${R==="out"?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Savings Out"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[R==="in"?"Deposit":"Withdrawal"," Amount () *"]}),s.jsx("input",{type:"number",value:M,onChange:L=>I(L.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg",placeholder:`Enter ${R==="in"?"deposit":"withdrawal"} amount`,min:"0.01",step:"0.01"}),M&&parseFloat(M)>0&&s.jsxs("div",{className:`mt-3 p-3 rounded-xl border ${R==="in"?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[s.jsxs("p",{className:`font-semibold ${R==="in"?"text-green-800":"text-orange-800"}`,children:[R==="in"?"Depositing":"Withdrawing",": ",M]}),s.jsx("p",{className:`text-sm ${R==="in"?"text-green-600":"text-orange-600"}`,children:R==="in"?"This will be added to member savings":"This will be deducted from member savings and shown in Sav Out column"}),A&&s.jsxs("p",{className:`text-xs mt-1 ${R==="in"?"text-green-500":"text-orange-500"}`,children:["Sheet Date: ",A.dueDate]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>{P(!1),T(null),I(""),U("in")},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),s.jsx("button",{onClick:$,disabled:!M||parseFloat(M)<=0||b,className:`flex-1 px-6 py-3 text-white rounded-xl disabled:opacity-50 font-semibold transition-all duration-300 ${R==="in"?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700"}`,children:b?"Processing...":R==="in"?"Collect Savings":"Withdraw Savings"})]})]})})]})})},aY=({selectedBranch:e,selectedCollector:t,selectedDay:n,onGoBack:r})=>{const[i,o]=w.useState([]),[u,f]=w.useState(!0),[h,m]=w.useState(!1),[g,x]=w.useState(null),[y,b]=w.useState(!1),[j,N]=w.useState(!1),[S,A]=w.useState(null),[T,D]=w.useState([]),[O,E]=w.useState(null),[P,M]=w.useState([]),[I,R]=w.useState(new Set),[U,V]=w.useState(null),[H,W]=w.useState({});w.useEffect(()=>{Q(),ve();const $=localStorage.getItem("autoOpenMember");if($)try{const L=JSON.parse($);console.log(" Auto-opening member collection:",L.name),setTimeout(()=>{re(L),localStorage.removeItem("autoOpenMember")},1e3)}catch(L){console.log("Error parsing auto-open member:",L),localStorage.removeItem("autoOpenMember")}const ie=localStorage.getItem("lastPayment");if(ie)try{const L=JSON.parse(ie);Date.now()-L.timestamp<300*1e3&&(console.log(" Recent payment detected, will refresh data..."),setTimeout(()=>{L.memberId&&Y(L.memberId)},1e3))}catch(L){console.log("Error parsing payment data:",L)}},[e]),w.useEffect(()=>{try{const $=aA(),ie=$.toLocaleDateString("en-US",{weekday:"long"}),L=$.toISOString().split("T")[0],ce=new Set;i.forEach(Ne=>{Ne.activeProductSales&&Ne.activeProductSales.length>0&&Ne.activeProductSales.forEach(Ce=>{Ce.installments&&Ce.installments.some(me=>me.status==="pending")&&ce.add(Ne._id)})}),R(ce)}catch($){console.log("Error checking due members:",$)}},[i]);const Q=async()=>{try{f(!0),console.log(" Loading members for branch:",e.code);const $=await pn.getByBranch(e.code);if(console.log(" Members API response:",$),$.success&&$.data){let ie=$.data;t&&t._id&&(console.log(" Filtering members for collector:",t.name),ie=$.data.filter(L=>L.assignedCollector===t._id||L.assignedCollector?._id===t._id),console.log(" Filtered members count:",ie.length)),o(ie),console.log(" Members loaded successfully:",ie.length),ge(ie)}else console.log(" Failed to load members:",$),o([])}catch($){console.error(" Error loading members:",$),fe.error("Failed to load members"),o([])}finally{f(!1)}},ve=async()=>{try{const $=await yl.getAll();$.success&&M($.data||[])}catch($){console.error("Error loading products:",$),M([])}},Y=async $=>{try{console.log(" Loading product sales for member:",$);const ie=await ur.getByMember($);if(ie.success&&ie.data){console.log(" Raw API Response:",ie.data);const L=ie.data.filter(me=>me.installmentType==="extra"&&me.note&&me.note.includes("Product Sale"));console.log(" Found product sale installments:",L);const ce=L.map((me,_)=>{console.log(` Processing installment ${_+1}:`,me);let q="Unknown Product";const B=me.note.match(/Product Sale: ([^|]+)/);B&&(q=B[1].trim());const le={id:me._id||`sale-${_}`,productName:q,totalAmount:me.amount||0,paidAmount:me.amount||0,remainingAmount:0,saleDate:me.collectionDate||me.createdAt||new Date().toISOString(),installmentType:"completed",status:me.status||"collected",memberId:me.member?._id||$,memberName:me.member?.name||"Unknown Member",note:me.note||"",receiptNumber:me.receiptNumber||"",collectionDay:me.collectionDay||""};return console.log(" Extracted product data:",le),le}),Ne=ce.filter(me=>me.status!=="completed");console.log(" Final product sales array:",ce),console.log(" Active product sales:",Ne);const Ce=localStorage.getItem("lastPayment");if(Ce)try{const me=JSON.parse(Ce);if(Date.now()-me.timestamp<600*1e3&&me.memberId===$){console.log(" Preserving recent payment status for installment #"+me.installmentNumber);const q=Ne.map(B=>{if(B.id===me.productId){const le=B.installmentSchedule.map(ne=>ne.installmentNumber===me.installmentNumber?{...ne,isPaid:!0,status:"paid"}:ne);return{...B,installmentSchedule:le}}return B});D(q);return}}catch(me){console.log("Error parsing payment data:",me)}D(Ne)}else console.log(" API response failed or no data:",ie),D([])}catch(ie){console.error(" Error loading member product sales:",ie),D([])}},re=$=>{console.log(" Opening installment form for member:",$.name,"ID:",$._id),A($),b(!0)},ge=async $=>{try{const ie={};await Promise.all($.map(async L=>{try{const ce=await ur.getActiveSales(L._id);ce.success&&ce.data&&(ie[L._id]={count:ce.data.activeProductSalesCount,canCreateNew:ce.data.canCreateNewSale,activeSales:ce.data.activeSales})}catch(ce){console.error(`Error loading active sales for member ${L.name}:`,ce),ie[L._id]={count:0,canCreateNew:!0,activeSales:[]}}})),W(ie),console.log(" Active sales data loaded:",ie)}catch(ie){console.error("Error loading active sales:",ie)}},Ee=$=>{const ie=H[$._id];if(ie&&!ie.canCreateNew){fe.error(`${$.name}   ${ie.count}              `,{duration:5e3});return}console.log(" Opening product sale form for member:",$.name),A($),N(!0)};return u?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600 mx-auto"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-400 animate-ping"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Loading Members"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your branch members..."}),s.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 p-2 md:p-6",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-gray-600 hover:text-indigo-600 transition-all duration-300 hover:bg-indigo-50 px-4 py-2 rounded-lg",children:[s.jsx(Ni,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Back to Branch Selection"})]}),s.jsx("div",{className:"hidden md:block"}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[s.jsx(Vn,{className:"h-5 w-5"}),s.jsx("span",{children:"Add Member"})]})]}),s.jsx("div",{className:"mt-6 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-xl p-4 text-white",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-lg p-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2 flex-shrink-0",children:s.jsx(xn,{className:"h-5 w-5"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-indigo-100 text-xs font-medium",children:"Branch"}),s.jsxs("p",{className:"font-bold text-sm md:text-base truncate",children:[e.code," - ",e.name]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-lg p-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2 flex-shrink-0",children:s.jsx(or,{className:"h-5 w-5"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-indigo-100 text-xs font-medium",children:"Collector"}),s.jsx("p",{className:"font-bold text-sm md:text-base truncate",children:e.collectorName||t?.name||"Not Assigned"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-lg p-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2 flex-shrink-0",children:s.jsx(sd,{className:"h-5 w-5"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-indigo-100 text-xs font-medium",children:"Total Members"}),s.jsx("p",{className:"font-bold text-sm md:text-base",children:i.length})]})]})]})})]}),i.length===0?s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-16 max-w-lg mx-auto border border-white/20",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-blue-100 rounded-full w-24 h-24 mx-auto flex items-center justify-center",children:s.jsx(or,{className:"h-12 w-12 text-indigo-600"})}),s.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full w-8 h-8 flex items-center justify-center",children:s.jsx(Vn,{className:"h-4 w-4 text-white"})})]}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Members Found"}),s.jsxs("p",{className:"text-gray-600 mb-8 leading-relaxed",children:["No members are registered for this branch yet.",s.jsx("br",{}),s.jsx("span",{className:"text-indigo-600 font-medium",children:"Start by adding your first member!"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-10 py-4 rounded-2xl font-bold transition-all duration-300 flex items-center space-x-3 mx-auto shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:[s.jsx(Vn,{className:"h-6 w-6"}),s.jsx("span",{children:"Add Your First Member"})]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(($,ie)=>s.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 p-4 md:p-6 border border-white/20 hover:border-indigo-200 transform hover:-translate-y-2 h-full flex flex-col ${I.has($._id)?"ring-2 ring-orange-400 bg-gradient-to-br from-orange-50 to-amber-50":"hover:bg-gradient-to-br hover:from-indigo-50 hover:to-blue-50"}`,style:{animationDelay:`${ie*100}ms`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-indigo-100 to-blue-100 rounded-full -translate-y-10 translate-x-10 opacity-20 group-hover:opacity-30 transition-opacity"}),s.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[$.profileImage?s.jsxs("div",{className:"relative w-12 h-12 rounded-full overflow-hidden shadow-lg border-2 border-white",children:[s.jsx("img",{src:Ey($.profileImage),alt:$.name,className:"w-full h-full object-cover",onError:L=>{L.target.style.display="none",L.target.nextSibling.style.display="flex"}}),s.jsx("div",{className:`absolute inset-0 ${I.has($._id)?"bg-gradient-to-r from-orange-400 to-amber-500":"bg-gradient-to-r from-indigo-500 to-blue-600"} rounded-full p-3 shadow-lg hidden items-center justify-center`,children:s.jsx(or,{className:"h-5 w-5 text-white"})})]}):s.jsx("div",{className:`${I.has($._id)?"bg-gradient-to-r from-orange-400 to-amber-500":"bg-gradient-to-r from-indigo-500 to-blue-600"} rounded-full p-3 shadow-lg`,children:s.jsx(or,{className:"h-5 w-5 text-white"})}),I.has($._id)&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full w-3 h-3 animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800 text-lg group-hover:text-indigo-700 transition-colors",children:$.memberCode?`(${$.memberCode}) ${$.name}`:$.name}),s.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:["ID: ",$.memberNumber||$._id.slice(-6)]})]})]}),I.has($._id)&&s.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center shadow-lg animate-pulse",children:[s.jsx(P0,{className:"h-3 w-3 mr-1"}),"Due Today"]})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 rounded-lg p-2",children:[s.jsx("div",{className:"bg-indigo-100 rounded-full p-1 mr-3",children:s.jsx(Tn,{className:"h-3 w-3 text-indigo-600"})}),s.jsxs("span",{className:"font-medium",children:["Age: ",$.age," | Phone: ",$.phone]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 rounded-lg p-2",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-1 mr-3",children:s.jsx(Aa,{className:"h-3 w-3 text-blue-600"})}),s.jsxs("span",{className:"font-medium",children:["Join Date: ",ii($.joinDate||$.createdAt)]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-green-50 rounded-lg p-2",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-1 mr-3",children:s.jsx(Yn,{className:"h-3 w-3 text-green-600"})}),s.jsxs("span",{className:"font-bold text-green-700",children:["Total Savings: ",$.totalSavings?.toLocaleString()||0]})]})]}),s.jsx("div",{className:"mb-3 h-8",children:H[$._id]&&H[$._id].count>0?s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-blue-700 font-semibold",children:["Active Sales: ",H[$._id].count,"/2"]}),!H[$._id].canCreateNew&&s.jsx("span",{className:"text-red-600 font-bold",children:"Max Limit"})]})}):s.jsx("div",{})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[s.jsxs("button",{onClick:()=>re($),className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-3 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[s.jsx(Yn,{className:"h-4 w-4 mr-1"}),"Collect"]}),s.jsxs("button",{onClick:()=>Ee($),disabled:H[$._id]&&!H[$._id].canCreateNew,className:`${H[$._id]&&!H[$._id].canCreateNew?"bg-gradient-to-r from-gray-300 to-gray-400 cursor-not-allowed opacity-60":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 hover:shadow-xl transform hover:-translate-y-0.5"} text-white px-3 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center justify-center shadow-lg relative`,title:H[$._id]&&!H[$._id].canCreateNew?"       ":"  ",children:[s.jsx(xn,{className:"h-4 w-4 mr-1"}),"Sale",H[$._id]&&H[$._id].count>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:H[$._id].count})]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-blue-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},$._id))}),h&&s.jsx(eY,{selectedBranch:e,selectedCollector:t,editingMember:g,onClose:()=>{m(!1),x(null)},onMemberAdded:Q}),j&&S&&s.jsx(tY,{selectedMember:S,selectedBranch:e,selectedCollector:t,selectedDay:n,availableProducts:P,onClose:()=>{N(!1),A(null)},onSaleAdded:()=>{Q(),S&&Y(S._id)}},`sale-form-${S._id}`),y&&S&&s.jsx(rY,{selectedMember:S,selectedBranch:e,selectedCollector:t,onClose:()=>{b(!1),A(null)},onInstallmentCollected:Q})]})},va=e=>""+(Number(e)||0).toString(),lY=({selectedCollector:e,selectedBranch:t,selectedDay:n,onGoBack:r})=>{const[i,o]=w.useState(!0),[u,f]=w.useState(0),[h,m]=w.useState("Loading collection sheet..."),[g,x]=w.useState([]),[y,b]=w.useState(!1),[j,N]=w.useState([]),[S,A]=w.useState([]),[T,D]=w.useState("all"),[O,E]=w.useState(()=>{const _=new Date;return{month:_.getMonth(),year:_.getFullYear()}}),[P,M]=w.useState(0),[I,R]=w.useState(!1),U=9;console.log(" CollectionSheet loaded with DATES_PER_PAGE:",U),w.useEffect(()=>{V()},[e,t]),w.useEffect(()=>{const _=q=>{console.log(" Collection Sheet: Installment collected! Refreshing data...",q.detail),setTimeout(()=>{V(),fe.success("Collection sheet updated!",{icon:"",duration:2e3})},1500)};return window.addEventListener("installmentCollected",_),window.addEventListener("dashboardReload",_),()=>{window.removeEventListener("installmentCollected",_),window.removeEventListener("dashboardReload",_)}},[e,t]);const V=async()=>{try{if(o(!0),f(0),!e){x([]);return}m("Loading branches and products..."),f(25);try{const z=await yl.getAll({limit:1e3});z.success&&z.data&&(console.log(` Loaded ${z.data.length} products for unit lookup`),A(z.data))}catch(z){console.error(" Failed to load products:",z)}let _=[];if(t)console.log(" Using selected branch:",t),_=[{branchCode:t.code,name:t.name,members:t.members||[]}],N(_),D(t.code);else{const z=await Pa.getByCollector(e.id);if(!z.success||!z.data){x([]);return}_=z.data,N(_),T==="all"&&_.length===1&&D(_[0].branchCode)}let q=[];m("Loading members..."),f(60),console.log(` Loading members from ${_.length} branch(es):`,_.map(z=>`${z.branchCode}-${z.name}`));for(const z of _){console.log(` Fetching members for branch ${z.branchCode} (${z.name})...`);const G=await pn.getAll({branchCode:z.branchCode,limit:1e3});if(console.log(` Members API response for ${z.branchCode}:`,{success:G.success,count:G.data?.length||0,sample:G.data?.slice(0,2).map(F=>({name:F.name,branchCode:F.branchCode}))}),G.success&&G.data){const F=G.data.map(X=>({...X,branchName:z.name,branchCode:z.branchCode}));q.push(...F),console.log(` Added ${F.length} members from branch ${z.branchCode}`)}else console.log(` No members found for branch ${z.branchCode}`)}console.log(` Total members loaded: ${q.length}`),q.length===0&&(console.log(" WARNING: No members found! Check if:"),console.log("1. Members exist in database for branch code:",_.map(z=>z.branchCode)),console.log("2. Member branchCode field matches branch branchCode"),console.log("3. Members are active (isActive: true)")),m("Loading real database information..."),f(70);const B=[],le=5,ne=Math.min(q.length,50);for(let z=0;z<ne;z+=le){const G=q.slice(z,z+le);m(`Loading member details (${z+G.length}/${ne})...`),f(70+z/ne*25);const F=await Promise.all(G.map(async(X,he)=>{try{const J=await pn.getById(X._id);let ye={...X};if(J.success&&J.data){const De=J.data,Ue=Number(De.currentSavings||De.savingsBalance||0);ye={...X,name:De.name||X.name||"Unknown Member",sponsorName:De.sponsorName||De.sponsor||De.sponser||X.sponsorName||"N/A",address:De.address||De.village||De.location||De.area||X.address||"N/A",totalSavings:Ue,phone:De.phone||De.mobile||De.phoneNumber||X.phone||"N/A",memberCode:De.memberCode||De.code||X.memberCode||`${String(z+he+1).padStart(3,"0")}`,nidNumber:De.nidNumber||De.nid||X.nidNumber||"N/A",joinDate:De.joinDate||De.createdAt||X.joinDate||"N/A",branch:De.branch||X.branchName||"N/A",branchCode:De.branchCode||X.branchCode||"N/A"}}const Se=await ur.getByMember(X._id);let ee=[];if(Se.success&&Se.data)if(ee=Se.data,ee.length>0){const De=H(ee);ye.productInstallments=De,ye.allInstallmentRecords=ee;const Ue=ee.filter(Re=>Re.installmentType==="regular"&&(Re.status==="collected"||Re.status==="partial")),Me=De.reduce((Re,Oe)=>Re+(Oe.paidAmount||0),0),wt=ee.filter(Re=>Re.installmentType==="extra"&&Re.note&&Re.note.includes("Savings Collection")).reduce((Re,Oe)=>Re+(Oe.amount||0),0);ye.totalCollectedAmount=Me;const Ze=Number(ye.totalSavings||X.totalSavings||X.savings||0);ye.totalSavings=Ze}else{const De=Number(X.totalSavings||X.savings||0);ye.productInstallments=[],ye.allInstallmentRecords=[],ye.totalCollectedAmount=0,ye.totalSavings=De}else{const De=Number(X.totalSavings||X.savings||0);ye.productInstallments=[],ye.allInstallmentRecords=[],ye.totalCollectedAmount=0,ye.totalSavings=De}return ye}catch{return{...X,productInstallments:[],allInstallmentRecords:[],memberCode:X.memberCode||`${String(z+he+1).padStart(3,"0")}`,sponsorName:X.sponsorName||X.sponsor||"N/A",address:X.address||X.village||"N/A",phone:X.phone||X.mobile||"N/A",totalSavings:Number(X.totalSavings||X.savings||0),totalCollectedAmount:0}}}));B.push(...F),z+le<ne&&await new Promise(X=>setTimeout(X,100))}if(q.length>ne){const z=q.slice(ne).map((G,F)=>({...G,productInstallments:[],allInstallmentRecords:[],memberCode:G.memberCode||`${String(ne+F+1).padStart(3,"0")}`,sponsorName:G.sponsorName||G.sponsor||"N/A",address:G.address||G.village||"N/A",phone:G.phone||G.mobile||"N/A",totalSavings:Number(G.totalSavings||G.savings||0),totalCollectedAmount:0}));B.push(...z)}m("Collection sheet ready!"),f(100),x(B),b(!0)}catch{fe.error("Failed to load collection sheet data."),x([])}finally{o(!1)}},H=_=>{const q={};_.forEach(F=>{if(F.note&&F.note.includes("Product Sale")){let X=F.note;const he=X.match(/Product Sale:\s*/);he&&(X=X.substring(he[0].length));const J=X.split(/,(?![^(]*\))/);J.forEach(ye=>{const Se=ye.trim();if(!Se)return;const ee=Se.match(/\(Qty:\s*(\d+(?:\.\d+)?)(?:\s*([a-zA-Z]+))?/i);let De=Se,Ue=null,Me=null;if(ee)Ue=ee[1],Me=ee[2]||null,De=Se.substring(0,ee.index).trim();else{const Le=Se.match(/(.+?)\s*\((\d+(?:\.\d+)?)\s*([a-zA-Z]+)?\)/);Le&&(De=Le[1].trim(),Ue=Le[2],Me=Le[3])}if(De){const Le=De.trim();Le&&(Ue||!q[Le])&&(q[Le]={quantity:Ue,unit:Me}),J.length===1&&F.distributionId&&(Ue||!q[F.distributionId])&&(q[F.distributionId]={quantity:Ue,unit:Me})}})}}),console.log(" Extracted Product Metadata:",q);const B=_.filter(F=>{if(!(F.installmentType==="regular"&&F.note&&F.note.includes("Product Loan")||F.installmentType==="loan"))return!1;if(F.status==="partial")return!0;if(F.status==="collected"&&F.note){const he=F.note.match(/InstallmentAmt: (\d+)/);if(he){const J=parseInt(he[1]);if(F.amount<J)return!1}}return!0});if(B.length===0)return[];const le=B.sort((F,X)=>{const he=new Date(F.dueDate||F.createdAt),J=new Date(X.dueDate||X.createdAt);return he-J}),ne={};le.forEach(F=>{let X=F.distributionId;(!X||X==="unknown")&&(X=`legacy_${F.productName}_${F.amount}`);let he=F.productName,J=null,ye=null;if((!he||he==="Product Loan"||he==="Unknown Product")&&F.note){const ee=F.note.match(/Product Loan: (.+?) -/);if(ee&&ee[1])he=ee[1].trim();else if(F.note.includes("Product Loan")){const De=F.note.split("-");if(De.length>1){const Ue=De[0].replace("Product Loan:","").trim();Ue.length>2&&(he=Ue)}}}if(F.note){const ee=F.note.match(/Qty:\s*(\d+(?:\.\d+)?)(?:\s*([a-zA-Z]+))?/i);ee&&(J=ee[1],ye=ee[2]||null)}he||(he="Unknown Product"),!J&&q[X]&&(J=q[X].quantity,ye=q[X].unit),!J&&q[he]&&(J=q[he].quantity,ye=q[he].unit),ne[X]?J&&!ne[X].quantity&&(ne[X].quantity=J,ne[X].unit=ye):ne[X]={productName:he,quantity:J,unit:ye,distributionId:X,timestamp:new Date(F.createdAt).getTime(),installments:[]};const Se=new Date(F.createdAt).getTime();Se<ne[X].timestamp&&(ne[X].timestamp=Se),ne[X].installments.push(F)});const z=Object.values(ne).sort((F,X)=>F.timestamp-X.timestamp);z.forEach((F,X)=>{F.dofaNo=X+1});const G=[];for(const F of z){const X=F.installments.reduce((ye,Se)=>ye+Se.amount,0),he=F.installments.reduce((ye,Se)=>(Se.status==="paid"||Se.status==="partial"||Se.status==="collected")&&(Se.paidAmount>0||Se.status==="collected")?Se.status==="partial"?ye+(Se.paidAmount||0):ye+Se.amount:ye,0),J=Math.max(0,X-he);if(J>.01){const ye=F.installments[0],Se=F.installments.filter(ee=>ee.status==="paid"||ee.status==="collected"||ee.status==="partial").length;G.push({productName:F.productName,quantity:F.quantity,unit:F.unit,dofaNo:F.dofaNo,distributionId:F.distributionId,totalAmount:X,paidAmount:he,pendingAmount:J,installmentCount:Se,totalInstallments:F.installments.length,installmentFrequency:ye.installmentFrequency||"weekly",deliveryDate:ye.saleDate||ye.dueDate||ye.createdAt,saleId:ye._id,note:ye.note,metadataMap:q})}}return G},W=cd.useRef(new Set),Q=(_,q,B,le,ne=!1)=>{try{const z=q instanceof Date?q:new Date(q);if(isNaN(z.getTime()))return{loanAmount:0,savingsInAmount:0,savingsOutAmount:0};const G=`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}-${String(z.getDate()).padStart(2,"0")}`,F=_.allInstallmentRecords||[],X=le.map(ee=>ee.distributionId||ee.saleId||ee._id).filter(Boolean);_.name==="Mehenaj"&&(console.log(` MEHENAJ DEBUG - Checking row for date ${G}`),console.log("    Products in this row:",le),console.log("    Distribution IDs:",X),console.log("    All collected/partial loan records:",F.filter(ee=>(ee.status==="collected"||ee.status==="partial")&&ee.installmentType==="regular"&&ee.note?.includes("Product Loan")).map(ee=>({amount:ee.amount,dueDate:ee.dueDate,distributionId:ee.distributionId,note:ee.note?.substring(0,100),status:ee.status}))));let he=0,J=0,ye=0;const Se=new Set;return F.forEach(ee=>{if(!ee)return;const De=ee._id||ee.id||`${ee.amount}-${ee.note}-${ee.createdAt}`;if(Se.has(De))return;Se.add(De);const Ue=`${_._id||_.id}-${G}-${De}`,Me=ee.paidAmount!==void 0&&ee.paidAmount>0?ee.paidAmount:ee.amount||0,Le=ee.note||"",wt=ee.installmentType||"";let Ze=null,Re=null;const Oe=wt==="extra"&&Le&&(Le.includes("Savings Collection")||Le.includes("")||Le.toLowerCase().includes("savings")&&!Le.includes("Product")&&!Le.includes("Loan"));if(ee.paymentMethod==="savings_deduction"||Le.includes("deducted from savings")||ee.status==="collected"||ee.status==="partial"?Re=ee.collectionDate||ee.date||ee.createdAt:Re=ee.dueDate||ee.installmentDate||ee.collectionDate||ee.date||ee.createdAt,Re)try{const Ie=new Date(Re);isNaN(Ie.getTime())||(Ze=`${Ie.getFullYear()}-${String(Ie.getMonth()+1).padStart(2,"0")}-${String(Ie.getDate()).padStart(2,"0")}`,ee.installmentType==="regular"&&ee.note?.includes("Product Loan")?console.log(`   Loan Record: Due=${Ze}, Type=${ee.installmentType}, Status=${ee.status}, Amount=${ee.amount}, CollectionDate=${ee.collectionDate?new Date(ee.collectionDate).toISOString().split("T")[0]:"N/A"}, DistID=${ee.distributionId||"N/A"}`):Oe&&console.log("   [getProductSpecificCollection] Savings Record Found:",{memberName:_.name,amount:Me,collectionDate:Ze,targetDate:G,matches:Ze===G,note:Le.substring(0,50)}))}catch{return}let jt=!1;if(Ze){const Ie=new Date(Re);Ie.setHours(12,0,0,0);const st=new Date(G);st.setHours(12,0,0,0);const Ke=new Date(st);Ke.setDate(st.getDate()-3);const Xe=new Date(st);if(Xe.setDate(st.getDate()+3),jt=Ie>=Ke&&Ie<=Xe,jt&&wt==="regular"&&ee.status==="collected"){const Ye=Math.round((Ie-st)/864e5);console.log(`   DATE MATCH: Record ${Ze} matches column ${G} (${Ye} days diff, range 3 days)`)}}if(jt){if(wt==="regular"&&Le&&(Le.includes("Product Loan")||Le.includes("Installment")||Le.includes("Full payment")||Le.includes("Partial payment")||Le.includes("Full Payment")||Le.includes("Partial Payment"))){const Ie=ee.distributionId;console.log(` LOAN COLLECTION: ${_.name} | Date: ${G} | Amount: ${Me} | Status: ${ee.status}`),console.log(`    Record DistID: ${Ie||"NONE"}`),console.log(`    Row DistIDs: ${JSON.stringify(X)}`),console.log(`    Note: "${Le.substring(0,80)}"`),console.log(`    Products: ${le.map(Ye=>Ye.productName).join(", ")}`);const st=ee.collectionDate?new Date(ee.collectionDate).toISOString().split("T")[0]:"N/A",Ke=ee.dueDate?new Date(ee.dueDate).toISOString().split("T")[0]:"N/A";console.log(`    CollectionDate: ${st} | DueDate: ${Ke}`),console.log(`    Using date for matching: ${Ze}`),console.log(`    PAYMENT AMOUNT: record.amount=${ee.amount}, record.paidAmount=${ee.paidAmount||"N/A"}, using amount=${Me}`);let Xe=!1;if(Ie&&X.includes(Ie))Xe=!0,console.log(`    Distribution ID match found: ${Ie}`);else if(Ie){let Ye=null;if(Ie.startsWith("DIST-")){const pe=Ie.split("-");pe.length>=2&&(Ye=pe[1])}if(console.log(`    Extracted Sale ID from ${Ie}: ${Ye}`),X.some(pe=>pe===Ie?(console.log(`    Direct match: ${pe} === ${Ie}`),!0):Ye&&pe===Ye?(console.log(`    Extracted saleId match: ${pe} === ${Ye}`),!0):Ie.includes(pe)?(console.log(`    Contains match: ${Ie} contains ${pe}`),!0):pe.includes(Ie)?(console.log(`    Reverse contains match: ${pe} contains ${Ie}`),!0):Ye&&pe.includes(Ye)?(console.log(`    ID contains extracted saleId: ${pe} contains ${Ye}`),!0):!1))Xe=!0,console.log(`    Distribution ID partial match found: ${Ie} matches saleId in`,X);else{console.log(`    Distribution ID mismatch: ${Ie} not in`,X),console.log("    Attempting product name fallback for distribution ID mismatch...");const pe=le.map(be=>(be.productName||be.name||"").split("(")[0].trim().toLowerCase()).filter(be=>be.length>0),Je=Le.toLowerCase();console.log("    Product names (lowercase):",pe),console.log(`    Note text (lowercase): "${Je}"`);let xe=!1;for(const be of pe){console.log(`    Checking product: "${be}"`);const Be=be.split(" ").filter(Pe=>Pe.length>3);if(console.log(`    Keywords (>3 chars): ${JSON.stringify(Be)}`),Je.includes(be)){console.log(`    Product name found in note: "${be}"`),xe=!0;break}else console.log(`    Product name NOT in note: "${be}"`);for(const Pe of Be)if(Je.includes(Pe)){console.log(`    Product keyword found in note: "${Pe}" (from "${be}")`),xe=!0;break}if(xe)break}xe?(Xe=!0,console.log("    Product name fallback successful - accepting collection")):Xe=!1}}else{console.log("    No distributionId in record, falling back to product name matching");const Ye=B.productNames.toLowerCase(),ct=Le.toLowerCase(),pe=B.productNames.split(",").map(Je=>Je.trim().toLowerCase());console.log("    Checking product names:",pe);for(const Je of pe)if(ct.includes(Je)){Xe=!0,console.log(`    Product name match found: "${Je}" in note`);break}if(!Xe&&ct.includes("product loan"))for(const Je of pe){const xe=Je.split(" ").filter(be=>be.length>2);for(const be of xe)if(ct.includes(be)){Xe=!0,console.log(`    Product word match found: "${be}"`);break}if(Xe)break}if(!Xe&&B.totalInstallments>0){const Je=Math.round(B.totalAmount/B.totalInstallments),xe=Math.max(Je*.5,200),be=Math.abs(Me-Je);if(console.log(" Enhanced Amount-based matching:"),console.log(`    Collection Amount: ${Me}`),console.log(`    Expected Amount: ${Je}`),console.log(`    Tolerance: ${xe}`),console.log(`    Difference: ${be}`),console.log(`    Within Tolerance: ${be<=xe}`),be<=xe)Xe=!0,console.log(`    Enhanced amount-based match found: ${Me}  ${Je}`);else{const Be=le.map(Pe=>Pe.totalAmount&&Pe.totalInstallments?Math.round(Pe.totalAmount/Pe.totalInstallments):null).filter(Boolean);console.log("    Trying alternative amounts:",Be);for(const Pe of Be){const et=Math.abs(Me-Pe),ft=Math.max(Pe*.5,200);if(console.log(`     - ${Pe}: diff=${et}, tolerance=${ft}`),et<=ft){Xe=!0,console.log(`    Alternative amount match found: ${Me}  ${Pe}`);break}}if(!Xe&&Me>=50&&Me<=5e3&&Le.includes("Product Loan"))if(le&&le.length>0&&le.some(et=>et.totalAmount&&et.totalAmount>0)){const et=le.reduce((qt,dn)=>qt+(dn.totalAmount||0),0),ft={min:Math.floor(et/50),max:Math.ceil(et/5)};Me>=ft.min&&Me<=ft.max?(console.log("    Ultra-fallback matching applied for orphaned loan collection"),console.log(`    Member has product loans (total: ${et}), estimated installment range: ${ft.min}-${ft.max}`),console.log(`    Collection amount ${Me} falls within estimated range, accepting as match`),Xe=!0):console.log(`    Ultra-fallback rejected: ${Me} outside estimated range ${ft.min}-${ft.max}`)}else console.log("    Ultra-fallback not applied: member has no product loans")}}}if(Xe)if(W.current.has(Ue))console.log(` Skipping ${Me} - already matched to another row for this member`);else{if(ee.status==="pending"&&(!ee.paidAmount||ee.paidAmount===0)){console.log(" SKIPPING: Pending with no payment");return}let Ye=0;ee.status==="collected"||ee.status==="paid"?Ye=ee.paidAmount||ee.amount||0:ee.status==="partial"&&(Ye=ee.paidAmount||0),console.log(` COLLECTION: ${Ye} (Status: ${ee.status})`),he+=Ye,W.current.add(Ue),console.log(` Added ${Ye} (Status: ${ee.status}) to loan collection for this row. Total: ${he}`)}else console.log(" Collection does not belong to this product row")}else if(wt==="extra"&&Le&&(Le.includes("Savings Collection")||Le.includes("")||Le.toLowerCase().includes("savings")&&!Le.includes("Product")&&!Le.includes("Loan")&&!Le.includes("Withdrawal"))){let Ie=!1;const st=Le.toLowerCase();ee.distributionId&&X.includes(ee.distributionId)?(Ie=!0,console.log("   Savings matched by distributionId")):st.includes("product:")?le.map(Xe=>(Xe.productName||Xe.name||"").split("(")[0].trim().toLowerCase()).filter(Xe=>Xe.length>0).some(Xe=>st.includes(`product: ${Xe}`))&&(Ie=!0,console.log("   Savings matched by product name in note")):!ee.distributionId&&!st.includes("product:")&&ne&&(Ie=!0,console.log("   Old savings (no product info) - showing in first row only")),Ie?(J+=Me,console.log(` [getProductSpecificCollection] Savings Added: ${Me} for ${_.name} on ${G}`)):console.log(` [getProductSpecificCollection] Savings SKIPPED: ${Me} (not for this product row)`)}else if(wt==="extra"&&Le&&Le.includes("Savings Withdrawal")){let Ie=!1;const st=Le.toLowerCase();ee.distributionId&&X.includes(ee.distributionId)?(Ie=!0,console.log("   Savings Withdrawal matched by distributionId")):st.includes("product:")?le.map(Xe=>(Xe.productName||Xe.name||"").split("(")[0].trim().toLowerCase()).filter(Xe=>Xe.length>0).some(Xe=>st.includes(`product: ${Xe}`))&&(Ie=!0,console.log("   Savings Withdrawal matched by product name in note")):!ee.distributionId&&!st.includes("product:")&&ne&&(Ie=!0,console.log("   Old withdrawal (no product info) - showing in first row only")),Ie?(ye+=Me,console.log(` [getProductSpecificCollection] Savings Withdrawal Added: ${Me} for ${_.name} on ${G}`)):console.log(` [getProductSpecificCollection] Savings Withdrawal SKIPPED: ${Me} (not for this product row)`)}}}),{loanAmount:he,savingsInAmount:J,savingsOutAmount:ye}}catch(z){return console.error(` Error in getProductSpecificCollection for ${_.name}:`,z),{loanAmount:0,savingsInAmount:0,savingsOutAmount:0}}},ve=(_,q,B=null)=>{try{const le=q instanceof Date?q:new Date(q);if(isNaN(le.getTime()))return{loanAmount:0,savingsInAmount:0,savingsOutAmount:0};const ne=`${le.getFullYear()}-${String(le.getMonth()+1).padStart(2,"0")}-${String(le.getDate()).padStart(2,"0")}`,z=_.allInstallmentRecords||[];let G=0,F=0,X=0;const he=new Set;return z.forEach(J=>{if(!J)return;const ye=J._id||J.id||`${J.amount}-${J.note}-${J.createdAt}`;if(he.has(ye))return;he.add(ye);const Se=J.paidAmount!==void 0&&J.paidAmount>0?J.paidAmount:J.amount||0,ee=J.note||"",De=J.installmentType||"";let Ue=null,Me=null;const Le=De==="extra"&&ee&&(ee.includes("Savings Collection")||ee.includes("")||ee.toLowerCase().includes("savings")&&!ee.includes("Product")&&!ee.includes("Loan")&&!ee.includes("Withdrawal"));if(J.paymentMethod==="savings_deduction"||ee.includes("deducted from savings")||Le?Me=J.collectionDate||J.date||J.createdAt:Me=J.dueDate||J.installmentDate||J.collectionDate||J.date||J.createdAt,Me)try{const Re=new Date(Me);isNaN(Re.getTime())||(Ue=`${Re.getFullYear()}-${String(Re.getMonth()+1).padStart(2,"0")}-${String(Re.getDate()).padStart(2,"0")}`,Le&&console.log(" [getCollectionForDate] Savings Collection Found:",{memberName:_.name,amount:Se,collectionDate:Ue,targetDate:ne,matches:Ue===ne,note:ee.substring(0,50)}))}catch{return}if(Ue===ne)if(De==="regular"&&ee&&(ee.includes("Product Loan")||ee.includes("Installment")||ee.includes("Full payment")||ee.includes("Partial payment")||ee.includes("Mobile")||ee.includes("Rice")||ee.includes("Dal"))){let Re=0;J.status==="collected"||J.status==="paid"?Re=J.paidAmount||J.amount||0:J.status==="partial"&&(Re=J.paidAmount||0),console.log(` [getCollectionForDate] COLLECTION: ${Re} (Status: ${J.status})`),G+=Re}else De==="extra"&&ee&&(ee.includes("Savings Collection")||ee.includes("")||ee.toLowerCase().includes("savings")&&!ee.includes("Product")&&!ee.includes("Loan")&&!ee.includes("Withdrawal"))?(F+=Se,console.log(` [getCollectionForDate] Savings Added: ${Se} for ${_.name} on ${ne}`)):De==="extra"&&ee&&ee.includes("Savings Withdrawal")&&(X+=Se,console.log(` [getCollectionForDate] Savings withdrawal: ${Se} for ${_.name} on ${ne}`))}),{loanAmount:G,savingsInAmount:F,savingsOutAmount:X}}catch(le){return console.error(` Error in getCollectionForDate for ${_.name}:`,le),{loanAmount:0,savingsInAmount:0,savingsOutAmount:0}}},Y=()=>{let _=!1;try{if(e?.collectionType==="daily"||n?.isDaily)_=!0,console.log(" DAILY KISTI COLLECTOR DETECTED from collector type!");else{console.log(" Checking for daily schedule in",g.length,"members");for(const q of g)if(q.productInstallments&&q.productInstallments.length>0){console.log(` Member ${q.name} has ${q.productInstallments.length} products`);for(const B of q.productInstallments)if(console.log(`  - Product: ${B.productName}, Frequency: ${B.installmentFrequency}`),B.installmentFrequency==="daily"){_=!0,console.log(" DAILY SCHEDULE DETECTED from product!");break}if(_)break}}console.log(` Final daily schedule detection result: ${_}`)}catch(q){console.log(" Error checking daily schedule:",q)}if(_!==I&&(console.log(` Updating isDailySchedule state from ${I} to ${_}`),R(_)),_){const q=O.year,B=O.month,le=new Date(q,B+1,0).getDate(),ne=[];for(let z=1;z<=le;z++){const G=new Date(q,B,z);G.getDay()!==5&&ne.push(G)}return console.log(` Daily schedule detected: Generated ${ne.length} dates (Fridays excluded)`),ne}else{try{const X=localStorage.getItem(`collection_schedule_${e?.id}`);if(X){const he=JSON.parse(X);if(he.collectionDates&&he.collectionDates.length>0)return he.collectionDates.map(J=>{const[ye,Se,ee]=J.split("/");return new Date(ee,Se-1,ye)})}}catch(X){console.log("Error loading collector schedule:",X)}const q=O.month,B=O.year,le=n?.name||"Saturday";console.log(" Selected Day:",n),console.log(" Day Name:",le);const ne={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},z=ne[le]!==void 0?ne[le]:6;console.log(` Generating dates for ${le} (day ${z}) in ${q+1}/${B}`);const G=new Date(B,q+1,0).getDate(),F=[];for(let X=1;X<=G;X++){const he=new Date(B,q,X);he.getDay()===z&&(F.push(he),console.log(`   Found ${le}: ${X}/${q+1}/${B}`))}return console.log(` Generated ${F.length} ${le}s for October 2025`),F}},re=_=>_.filter(q=>q.getMonth()===O.month&&q.getFullYear()===O.year),ge=_=>{if(!I)return _;const q=P*U,B=q+U,le=_.slice(q,B);return console.log(` Showing dates ${q+1}-${q+le.length} of ${_.length}`),le},Ee=()=>{P>0&&M(P-1)},$=()=>{const _=re(Y()),q=Math.ceil(_.length/U);P<q-1&&M(P+1)},ie=()=>{E(_=>{const q=_.month===0?11:_.month-1,B=_.month===0?_.year-1:_.year;return{month:q,year:B}}),M(0)},L=()=>{E(_=>{const q=_.month===11?0:_.month+1,B=_.month===11?_.year+1:_.year;return{month:q,year:B}}),M(0)},ce=()=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][O.month]} ${O.year}`;if(!t||!e)return s.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Please select a branch and collector first."}),s.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:"Go Back"})]})})});if(i)return s.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center w-full max-w-md",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:h}),s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Loading real database information..."}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${u}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:[Math.round(u),"% Complete"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fetching member details, sponsor names, addresses, and product sales..."}),s.jsx("button",{onClick:()=>{o(!1),x([])},className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl font-semibold transition-all",children:"Cancel Loading"})]})})});const Ne=Y(),Ce=re(Ne),me=ge(Ce);return s.jsxs("div",{className:"bg-white rounded-xl md:rounded-3xl shadow-2xl border p-3 md:p-6 lg:p-8 print:p-0 print:shadow-none print:border-0 print:rounded-none",children:[s.jsx("div",{className:"mb-6 no-print",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 md:p-4 border space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsxs("button",{onClick:r,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-all w-full sm:w-auto",children:[s.jsx(Ni,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm md:text-base",children:"Back to Selection"})]}),s.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all w-full sm:w-auto",title:"Print Collection Sheet (Legal Size)",children:[s.jsx(eA,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm md:text-base",children:"Print Sheet"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700 whitespace-nowrap",children:"Branch:"}),s.jsxs("select",{value:T,onChange:_=>D(_.target.value),className:"flex-1 px-2 md:px-3 py-1.5 md:py-1 bg-white border border-gray-300 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Branches"}),j.map(_=>s.jsxs("option",{value:_.branchCode,children:["(",_.branchCode,") ",_.name]},_.branchCode))]})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:ie,className:"p-1.5 md:p-2 hover:bg-gray-200 rounded-lg transition-all",children:s.jsx(W2,{className:"h-4 w-4"})}),s.jsx("span",{className:"px-2 md:px-3 py-1 bg-white rounded-lg font-medium text-xs md:text-sm border whitespace-nowrap",children:ce()}),s.jsx("button",{onClick:L,className:"p-1.5 md:p-2 hover:bg-gray-200 rounded-lg transition-all",children:s.jsx(Z2,{className:"h-4 w-4"})})]})]}),I&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3 pt-2 border-t",children:[s.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-700 text-center sm:text-left",children:[" Dates ",P*U+1,"-",Math.min((P+1)*U,Ce.length)," of ",Ce.length]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsx("button",{onClick:Ee,disabled:P===0,className:"flex-1 sm:flex-none px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all text-xs md:text-sm",children:" Previous 9"}),s.jsx("button",{onClick:$,disabled:P>=Math.ceil(Ce.length/U)-1,className:"flex-1 sm:flex-none px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all text-xs md:text-sm",children:"Next 9 "})]})]})]})}),s.jsxs("div",{id:"collection-sheet-content",className:I?"daily-schedule-sheet":"",children:[(()=>{const _=T==="all"?g:g.filter(B=>B.branchCode===T),q=T==="all"?j:j.filter(B=>B.branchCode===T);return 12+me.length,_.length>0&&me.length>0?s.jsx("div",{className:"overflow-x-auto",style:{marginTop:"0",paddingTop:"0"},children:s.jsxs("table",{className:"w-full border-collapse border border-black text-xs sheet-table",children:[s.jsxs("thead",{children:[s.jsx("tr",{children:s.jsx("td",{colSpan:12+me.length,className:"p-0",children:s.jsx("table",{className:"w-full",children:s.jsxs("tbody",{children:[s.jsx("tr",{children:s.jsxs("td",{className:"text-center py-1 border-0",children:[s.jsx("div",{className:"text-lg font-bold",children:"Satrong Sajghor Traders"}),s.jsx("div",{className:"text-base",children:"Borobari, Lalmonirhat"}),s.jsxs("div",{className:"text-base font-bold",children:["Collection Sheet - ",ce()]})]})}),s.jsx("tr",{children:s.jsx("td",{className:"p-1 relative border-0",children:s.jsxs("div",{className:"flex justify-center",children:[s.jsxs("div",{className:"absolute left-1 border border-black px-2 py-1.5",children:[s.jsx("div",{className:"font-bold mb-1 text-[14px]",children:"Somity Name & Code:"}),s.jsx("div",{className:"font-bold text-[16px]",children:q.map((B,le)=>s.jsxs("span",{children:[le>0&&", ","(",B.branchCode,") ",B.name]},B.branchCode||le))})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[s.jsx("span",{className:"font-bold",children:"District:"})," Lalmonirhat"]}),s.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[s.jsx("span",{className:"font-bold",children:"Upazilla:"})," Lalmonirhat"]}),s.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[s.jsx("span",{className:"font-bold",children:"Union:"})," Borobari"]})]})]})})}),s.jsx("tr",{children:s.jsx("td",{className:"p-1 border-0",children:s.jsxs("div",{className:"flex gap-1 justify-center",children:[s.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[s.jsx("span",{className:"font-bold",children:"Field Officer Name:"})," ",e?.name||"N/A"]}),s.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[s.jsx("span",{className:"font-bold",children:"Start Date:"})," ",me.length>0?me[0].toLocaleDateString("en-GB"):"N/A"]}),s.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[s.jsx("span",{className:"font-bold",children:"Day/Month/Year:"})," ",aA().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})]})})})]})})})}),s.jsxs("tr",{className:"bg-gray-200",children:[s.jsx("th",{className:"border border-black px-1 py-2 text-center font-bold",style:{width:"30px"},children:"S.L"}),s.jsxs("th",{className:"border border-black px-1.5 py-1.5 text-center font-bold",style:{minWidth:"120px"},children:[s.jsx("div",{children:"Member Name"}),s.jsx("div",{children:"& Code"})]}),s.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"85px"},children:[s.jsx("div",{children:"Mobile"}),s.jsx("div",{children:"Number"})]}),s.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"90px"},children:[s.jsx("div",{children:"Sponsor"}),s.jsx("div",{children:"Name"})]}),s.jsx("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"100px"},children:"Address"}),s.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"90px"},children:[s.jsx("div",{children:"Product"}),s.jsx("div",{children:"Name"})]}),s.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"65px"},children:[s.jsx("div",{children:"Total"}),s.jsx("div",{children:"Amount"})]}),s.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"60px"},children:[s.jsx("div",{children:"Delivery"}),s.jsx("div",{children:"Date"})]}),s.jsxs("th",{className:"border border-black px-0.5 py-1.5 text-center font-bold",style:{width:"35px"},children:[s.jsx("div",{children:"Dofa"}),s.jsx("div",{children:"No"})]}),s.jsxs("th",{className:"border border-black px-0.5 py-1.5 text-center font-bold",style:{width:"35px"},children:[s.jsx("div",{children:"Install"}),s.jsx("div",{children:"ment"})]}),s.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"70px"},children:[s.jsx("div",{children:"Total Collected"}),s.jsx("div",{children:"Amount"})]}),s.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"65px"},children:[s.jsx("div",{children:"Total"}),s.jsx("div",{children:"Savings"})]}),me.map((B,le)=>s.jsxs("th",{className:"border border-black px-0.5 py-1.5 text-center font-bold",style:{minWidth:"115px",maxWidth:"115px"},children:[s.jsx("div",{className:"font-bold mb-0.5 text-[11px]",children:ii(B)}),s.jsxs("div",{className:"grid grid-cols-3 gap-0",children:[s.jsx("div",{className:"text-[9px] font-normal bg-red-100 px-0.5 py-0.5 border-r border-black",children:"Loan"}),s.jsx("div",{className:"text-[9px] font-normal bg-green-100 px-0.5 py-0.5 border-r border-black",children:"Sav In"}),s.jsx("div",{className:"text-[9px] font-normal bg-orange-100 px-0.5 py-0.5",title:"Savings Deducted (Auto + Manual)",children:"Sav Out"})]})]},le))]})]}),s.jsx("tbody",{children:(()=>{let B;I?(console.log(' Daily collector: All members will be under "SHORT" group'),B=_.map(G=>({...G,_frequency:"short"}))):(console.log(" Weekly/Monthly collector: Grouping by member frequency"),B=_.map(G=>({...G,_frequency:G.productInstallments&&G.productInstallments.length>0&&G.productInstallments.some(F=>F.installmentFrequency==="monthly")?"monthly":"weekly"})));const le=I?B:B.sort((G,F)=>G._frequency===F._frequency?0:G._frequency==="weekly"?-1:1),ne=[];let z=null;return le.forEach((G,F)=>{if(G._frequency!==z){let he;I?he="SHORT":he=G._frequency==="weekly"?"JAGORON":"AGROSOR",ne.push(s.jsx("tr",{className:"bg-white",children:s.jsx("td",{colSpan:12+me.length,className:"border border-black py-1.5 font-bold text-black text-sm",style:{textAlign:"left",paddingLeft:"140px"},children:he})},`group-${G._frequency}`)),z=G._frequency}const X=(()=>{if(W.current.clear(),G.productInstallments&&G.productInstallments.length>0){console.log(` Member: ${G.name} - Checking ${G.productInstallments.length} products:`),G.productInstallments.forEach((Se,ee)=>{console.log(`  ${ee+1}. ${Se.productName}: Total=${Se.totalAmount||0}, Paid=${Se.paidAmount||0}, Fully Paid=${(Se.paidAmount||0)>=(Se.totalAmount||0)&&(Se.totalAmount||0)>0}`)});const he={};G.productInstallments.forEach(Se=>{const ee=Se.saleTransactionId||`LEGACY-${Se.saleId}`;he[ee]||(he[ee]=[]),he[ee].push(Se)});const J=[];Object.entries(he).forEach(([Se,ee])=>{ee.every(Ue=>{const Me=Ue.totalAmount||0;return(Ue.paidAmount||0)>=Me&&Me>0})?console.log(` Transaction fully paid - removing from sheet: ${Se}`):J.push([Se,ee])});const ye=J.sort(([,Se],[,ee])=>{const De=new Date(Se[0].deliveryDate),Ue=new Date(ee[0].deliveryDate);return De-Ue});if(ye.length===0&&console.log(` All product groups fully paid for ${G.name} - showing as No Product member (savings only)`),ye.length>0){const Se=[],ee={};let De=0;ye.forEach(([wt,Ze],Re)=>{Ze.map(Ke=>(Ke.productName||"").toLowerCase().split("(")[0].trim()),Ze.map(Ke=>Ke.distributionId).filter(Boolean);const Qe=(G.allInstallmentRecords||[]).filter(Ke=>{if(!(Ke.installmentType==="extra"||Ke.installmentType==="savings")||!Ke.note)return!1;const Xe=Ke.note.includes("Savings Collection"),Ye=Ke.note.includes("Savings Withdrawal"),ct=Ke.note.includes("Initial Savings"),pe=Ke.note.match(/Product Sale:.+\(Qty:.+\|/);return(Xe||Ye||ct)&&!pe});let jt=0,Ie=0;Qe.forEach(Ke=>{const Xe=Ke.note&&Ke.note.includes("Withdrawal"),Ye=Ke.amount||0;Ze.some(pe=>{if(Ke.distributionId&&pe.distributionId&&Ke.distributionId===pe.distributionId)return pe.pendingAmount!==void 0&&pe.pendingAmount<=0||pe.paidAmount!==void 0&&pe.totalAmount!==void 0&&pe.paidAmount>=pe.totalAmount?(console.log(`  [First Loop]  Skipping completed ${pe.productName} - savings will transfer`),!1):!0;if(Ke.distributionId&&pe.saleId&&Ke.distributionId===pe.saleId)return pe.pendingAmount!==void 0&&pe.pendingAmount<=0||pe.paidAmount!==void 0&&pe.totalAmount!==void 0&&pe.paidAmount>=pe.totalAmount?(console.log(`  [First Loop]  Skipping completed ${pe.productName}`),!1):!0;const Je=pe.totalAmount/pe.totalInstallments;if(Ke.note&&Ke.note.includes(`InstallmentAmt: ${Je}`))return!0;if(!Ke.distributionId&&Ke.note&&pe.productName){if(pe.pendingAmount!==void 0&&pe.pendingAmount<=0||pe.paidAmount!==void 0&&pe.totalAmount!==void 0&&pe.paidAmount>=pe.totalAmount)return console.log(`  [First Loop Method 4]  Skipping completed ${pe.productName}`),!1;const be=pe.productName.split("(")[0].trim();if(Ke.note.includes(be))return!0}return!1})&&(Xe?(Ie+=Ye,console.log(` [WITHDRAWAL] ${G.name} - ${Ze[0]?.productName}: ${Ye} withdrawn`)):(jt+=Ye,console.log(` [COLLECTION] ${G.name} - ${Ze[0]?.productName}: ${Ye} collected`)))});const st=Math.max(0,jt-Ie);console.log(` Row ${Re} (${Ze[0]?.productName}): In=${jt}, Out=${Ie}, Net=${st}`),ee[Re]=st,De+=st});const Ue=Number(G.totalSavings||0),Me=Math.max(0,Ue-De),Le=Math.max(0,Ue-De);return console.log(` Savings Distribution for ${G.name}: Backend Total=${Ue}, Matched=${De}, Unmatched=${Me}, Remainder=${Le}`),ye.forEach(([wt,Ze],Re)=>{console.log(` Transaction ${wt}:`,Ze.map(pe=>({name:pe.productName,totalInstallments:pe.totalInstallments,installmentCount:pe.installmentCount})));const Oe=Ze.map(pe=>pe.distributionId||pe.saleId||pe._id).filter(Boolean),Qe=(G.allInstallmentRecords||[]).filter(pe=>{if(!(pe.installmentType==="extra"||pe.installmentType==="savings")||!pe.note)return!1;const Je=pe.note.includes("Savings Collection"),xe=pe.note.includes("Savings Withdrawal"),be=pe.note.includes("Initial Savings"),Be=pe.note.match(/Product Sale:.+\(Qty:.+\|/);return(Je||xe||be)&&!Be});console.log(` Total savings records for ${G.name}:`,Qe.length);let jt=0,Ie=0;Qe.forEach((pe,Je)=>{const xe=pe.note&&pe.note.includes("Withdrawal"),be=pe.amount||0;Ze.some(Pe=>{if(pe.distributionId&&Pe.distributionId&&pe.distributionId===Pe.distributionId)return console.log(`   Matched by distributionId: ${pe.distributionId}`),!0;if(pe.distributionId&&Pe.saleId&&pe.distributionId===Pe.saleId)return console.log(`   Matched by saleId: ${Pe.saleId}`),!0;const et=Pe.totalAmount/Pe.totalInstallments;if(pe.note&&pe.note.includes(`InstallmentAmt: ${et}`))return console.log("   Matched by InstallmentAmt in note"),!0;if(!pe.distributionId&&pe.note&&Pe.productName){if(Pe.pendingAmount!==void 0&&Pe.pendingAmount<=0||Pe.paidAmount!==void 0&&Pe.totalAmount!==void 0&&Pe.paidAmount>=Pe.totalAmount)return console.log(`   Skipping old record for completed product: ${Pe.productName}`),!1;const qt=Pe.productName.split("(")[0].trim();if(pe.note.includes(qt))return console.log(`   Matched by product name (old record): ${qt}`),!0}return!1})&&(xe?(Ie+=be,console.log(`   Withdrawal: ${be}`)):(jt+=be,console.log(`   Collection: ${be}`)))});const st=Math.max(0,jt-Ie);console.log(` Product Savings for ${G.name} (Transaction: ${wt}):`),console.log(`    Savings In: ${jt}`),console.log(`    Savings Out: ${Ie}`),console.log(`    Net Savings: ${st}`);const Ke=Ze.reduce((pe,Je)=>pe+(Je.paidAmount||0),0);console.log(` Row Collected Amount for ${G.name} (Transaction: ${wt}):`),console.log("    Row Distribution IDs:",Oe),console.log("    Products in row:",Ze.map(pe=>`${pe.productName} (Paid: ${pe.paidAmount||0})`)),console.log(`    Total Collected for this row: ${Ke}`),console.log(" Dofa & Installment Debug:",Ze.map(pe=>({name:pe.productName,dofaNo:pe.dofaNo,installmentCount:pe.installmentCount,paidAmount:pe.paidAmount,distributionId:pe.distributionId})));const Xe=Math.max(...Ze.map(pe=>pe.installmentCount||0),0);let Ye;if(Re===0){const pe=Number(G.totalSavings||0);let Je=0;for(let xe=1;xe<ye.length;xe++){const be=ee[xe]||0;Je+=be}Ye=Math.max(0,pe-Je),console.log(` FIRST ROW Savings: Total=${pe} - Others=${Je} = ${Ye}`)}else Ye=st,console.log(` Row ${Re} Savings: ${Ye} (product-specific)`);const ct={productNames:Ze.map(pe=>{const xe=(pe.productName||pe.name||"Unknown Product").split("(")[0].trim();if(xe.includes(","))return xe.split(",").map(et=>et.trim()).map(et=>{const ft=pe.metadataMap?pe.metadataMap[et]:null,qt=ft?.quantity||1;if(ft?.unit||pe.unit,ft?.unit)return`${et} (${qt} ${ft.unit})`;{const gr=S.find(pr=>pr.name===et)?.unit||"piece";return`${et} (${qt} ${gr})`}}).join(", ");const be=pe.quantity||1;if(pe.unit)return`${xe} (${be} ${pe.unit})`;{const Pe=S.find(et=>et.name===xe)?.unit||"piece";return`${xe} (${be} ${Pe})`}}).join(", "),totalAmount:Ze.reduce((pe,Je)=>pe+(Je.totalAmount||0),0),totalInstallments:Math.max(...Ze.map(pe=>pe.totalInstallments||pe.installmentCount||0)),installmentCount:Xe,paidAmount:Ke,totalSavings:Ye,deliveryDate:Ze[0].deliveryDate,dofaNumber:Ze[0]?.dofaNo||Re+1};Se.push(s.jsxs("tr",{className:"h-8",children:[Re===0&&s.jsxs(s.Fragment,{children:[s.jsx("td",{rowSpan:ye.length,className:"border border-black px-1 py-1 text-center font-medium text-xs",children:F+1}),s.jsx("td",{rowSpan:ye.length,className:"border border-black px-1.5 py-1 text-xs",children:s.jsxs("div",{className:"font-medium",children:["(",G.memberCode||String(F+1).padStart(3,"0"),") ",G.name]})}),s.jsx("td",{rowSpan:ye.length,className:"border border-black px-1 py-1 text-center text-[11px]",children:G.phone}),s.jsx("td",{rowSpan:ye.length,className:"border border-black px-1 py-1 text-center text-[11px]",children:G.sponsorName||"N/A"}),s.jsx("td",{rowSpan:ye.length,className:"border border-black px-1 py-1 text-[11px]",children:G.address||G.village||"N/A"})]}),s.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-[11px]",children:ct.productNames}),s.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-[11px]",children:va(ct.totalAmount)}),s.jsx("td",{className:"border border-black px-1 py-1 text-center text-[10px]",children:ct.deliveryDate?ii(ct.deliveryDate):"N/A"}),s.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-[11px]",children:ct.dofaNumber}),s.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-[11px]",children:ct.installmentCount}),s.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-green-600 text-[11px]",children:va(ct.paidAmount)}),s.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-blue-600 text-[11px]",children:ct.totalSavings>0?va(ct.totalSavings):""}),me.map((pe,Je)=>{let xe=null;if(ct.deliveryDate)try{xe=new Date(ct.deliveryDate),isNaN(xe.getTime())&&(console.warn(` Invalid deliveryDate for ${G.name}: ${ct.deliveryDate}`),xe=null)}catch(pr){console.error(` Error parsing deliveryDate for ${G.name}:`,pr),xe=null}const be=new Date(pe);xe&&xe.setHours(0,0,0,0),be.setHours(0,0,0,0);let Be=!1;xe&&(Be=be>xe);const Pe=ct.totalInstallments>0?Math.round(ct.totalAmount/ct.totalInstallments):0,ft=(Ze[0]?.installmentFrequency||"weekly")==="monthly"?50:20,qt=Be?Q(G,pe,ct,Ze,Re===0):{savingsOutAmount:0},dn=Be&&Pe>0?va(Pe):"",gr=Be?`${ft}`:"";return s.jsx("td",{className:"border border-black px-0.5 py-0.5",children:s.jsxs("div",{className:"grid grid-cols-3 gap-0 h-6",children:[s.jsx("div",{className:"text-center text-[9px] flex items-center justify-center bg-red-50 collection-cell border-r border-black",children:dn}),s.jsx("div",{className:"text-center text-[9px] flex items-center justify-center bg-green-50 collection-cell border-r border-black",children:gr}),s.jsx("div",{className:"text-center text-[9px] flex items-center justify-center bg-orange-50 collection-cell",children:qt.savingsOutAmount>0?va(qt.savingsOutAmount):""})]})},Je)})]},`${G._id}-${wt}`))}),Se}}return s.jsxs("tr",{className:"h-8",children:[s.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-xs",children:F+1}),s.jsx("td",{className:"border border-black px-1.5 py-1 text-xs",children:s.jsxs("div",{className:"font-medium",children:["(",G.memberCode||String(F+1).padStart(3,"0"),") ",G.name]})}),s.jsx("td",{className:"border border-black px-1 py-1 text-center text-[11px]",children:G.phone}),s.jsx("td",{className:"border border-black px-1 py-1 text-center text-[11px]",children:G.sponsorName||"N/A"}),s.jsx("td",{className:"border border-black px-1 py-1 text-[11px]",children:G.address||G.village||"N/A"}),s.jsx("td",{className:"border border-black px-1 py-1 text-center text-gray-500 text-[11px]",children:"No Product"}),s.jsx("td",{className:"border border-black px-1 py-1 text-center text-gray-500 text-[11px]",children:va(0)}),s.jsx("td",{className:"border border-black px-1 py-1 text-center text-gray-500 text-[10px]",children:"N/A"}),s.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-gray-500 text-[11px]",children:"N/A"}),s.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-gray-500 text-[11px]",children:"0"}),s.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-green-600 text-[11px]",children:va(G.totalCollectedAmount||0)}),s.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-blue-600 text-[11px]",children:(console.log(` [SHEET RENDER] ${G.name} totalSavings: ${G.totalSavings}`),va(G.totalSavings||0))}),me.map((he,J)=>{const ye=G._frequency==="monthly"?50:20,Se=G.joinDate?new Date(G.joinDate):null,ee=new Date(he);Se&&Se.setHours(0,0,0,0),ee.setHours(0,0,0,0);const De=!Se||ee>Se;J===0&&console.log(` [${G.name}] Join: ${Se?Se.toISOString().split("T")[0]:"N/A"}, First Collection: ${ee.toISOString().split("T")[0]}, Show Savings: ${De}`);const Ue=ve(G,he);return s.jsx("td",{className:"border border-black px-0.5 py-0.5",children:s.jsxs("div",{className:"grid grid-cols-3 gap-0 h-6",children:[s.jsx("div",{className:"text-center text-[8px] flex items-center justify-center bg-red-50 collection-cell border-r border-black"}),s.jsx("div",{className:"text-center text-[8px] flex items-center justify-center bg-green-50 collection-cell border-r border-black",children:De?`${ye}`:""}),s.jsx("div",{className:"text-center text-[8px] flex items-center justify-center bg-orange-50 collection-cell",children:Ue.savingsOutAmount>0?va(Ue.savingsOutAmount):""})]})},J)})]},G._id)})();Array.isArray(X)?ne.push(...X):X&&ne.push(X)}),ne})()})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Members Found"}),s.jsx("p",{className:"text-gray-600",children:"No members found for selected filter."})]})})(),s.jsxs("div",{className:"signature-section mt-16 mb-6 px-8",children:[s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-black w-48 mb-2"}),s.jsx("p",{className:"text-sm font-semibold",children:"Manager Signature"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-t-2 border-black w-48 mb-2"}),s.jsx("p",{className:"text-sm font-semibold",children:"Field Officer Signature"})]})]}),s.jsx("div",{className:"mt-4 text-right",children:s.jsx("p",{className:"text-xs text-gray-600",children:"Page: 1 of 1"})})]})]})]})},sY=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(null),[i,o]=w.useState(null),[u,f]=w.useState(!1),[h,m]=w.useState(!1),[g,x]=w.useState(0);w.useEffect(()=>{const P=localStorage.getItem("installmentCollectionState"),I=new URLSearchParams(window.location.search).get("fresh")==="true";if(P&&!I)try{const{day:U,collector:V,branch:H,dashboard:W,directMember:Q}=JSON.parse(P);U&&t(U),V&&(r(V),localStorage.setItem("selectedCollector",JSON.stringify(V))),H&&o(H),W!==void 0&&f(W),Q&&H&&(console.log(" Direct member navigation detected:",Q.name),o(H),f(!1),localStorage.setItem("autoOpenMember",JSON.stringify(Q)))}catch{localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector")}else if(I){if(!(P&&JSON.parse(P).day))localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector"),localStorage.removeItem("autoOpenMember"),console.log(" Fresh start - showing day selection");else{console.log(" Day already selected, restoring previous state");try{const{day:V,collector:H,branch:W,dashboard:Q,directMember:ve}=JSON.parse(P);V&&t(V),H&&(r(H),localStorage.setItem("selectedCollector",JSON.stringify(H))),W&&o(W),Q!==void 0&&f(Q),ve&&W&&(o(W),f(!1),localStorage.setItem("autoOpenMember",JSON.stringify(ve)))}catch{localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector")}}window.history.replaceState({},"","/installments")}const R=()=>{console.log(" PARENT: Dashboard reload triggered from installment collection"),setTimeout(()=>{console.log(" PARENT: Reloading dashboard with updated data..."),x(U=>U+1)},2e3)};return window.addEventListener("installmentCollected",R),window.addEventListener("dashboardReload",R),()=>{window.removeEventListener("installmentCollected",R),window.removeEventListener("dashboardReload",R)}},[]),w.useEffect(()=>{const P={day:e,collector:n,branch:i,dashboard:u};(e||n||i||u)&&localStorage.setItem("installmentCollectionState",JSON.stringify(P))},[e,n,i,u]);const y=P=>{t(P),r(null),o(null)},b=P=>{r(P),o(null),f(!0),localStorage.setItem("selectedCollector",JSON.stringify(P))},j=P=>{o(P)},N=()=>{t(null),r(null),o(null),f(!1),localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector")},S=()=>{r(null),o(null),f(!1)},A=()=>{o(null),f(!0)},T=()=>{o(null),f(!0)},D=(P=null)=>{if(console.log(" Collection Sheet requested for branch:",P),P){const M={code:P.branchCode||P.code,name:P.name,members:P.members||[]};console.log(" Setting selected branch:",M),o(M),m(!0),f(!1)}else console.log(" No branch provided - showing all branches sheet"),o(null),m(!0),f(!1)},O=()=>{m(!1),f(!0),o(null)},E=[{id:1,name:"Saturday",color:"from-blue-500 to-blue-600"},{id:2,name:"Sunday",color:"from-green-500 to-green-600"},{id:3,name:"Monday",color:"from-purple-500 to-purple-600"},{id:4,name:"Tuesday",color:"from-yellow-500 to-yellow-600"},{id:5,name:"Wednesday",color:"from-red-500 to-red-600"},{id:6,name:"Thursday",color:"from-indigo-500 to-indigo-600"},{id:7,name:"Daily Kisti",color:"from-orange-500 to-orange-600",isDaily:!0}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 md:p-6 print:p-0 print:bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto print:max-w-none",children:[s.jsxs("div",{className:"text-center mb-8 no-print",children:[s.jsx("button",{onClick:N,className:"mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition-all",children:" Start Over"}),e&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.name,n&&`  ${n.name}`,i&&`  ${i.name}`]})]}),e?n?h?s.jsx(lY,{selectedCollector:n,selectedBranch:i,selectedDay:e,onGoBack:O}):u&&!i?s.jsx(QK,{selectedDay:e,selectedCollector:n,onGoBack:S,onBranchSelect:j,onShowCollectionSheet:D},g):i?s.jsx(aY,{selectedBranch:i,selectedCollector:n,selectedDay:e,onGoBack:T}):s.jsx(JK,{selectedDay:e,selectedCollector:n,onBranchSelect:j,onGoBack:A,onShowCollectionSheet:D}):s.jsx(ZK,{selectedDay:e,onCollectorSelect:b,onGoBack:S}):s.jsx(WK,{weekDays:E,onDaySelect:y})]})})},iY=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(null),[i,o]=w.useState(""),[u,f]=w.useState(""),[h,m]=w.useState(!1),x=[{id:1,name:"Rokeya Khatun",phone:"01967890123",branch:"B006 - Sylhet Branch",collector:"Badshah",regularInstallment:150,totalPaid:1200,extraPayments:[{date:"2024-08-15",amount:300,note:"Bonus Payment"},{date:"2024-07-20",amount:200,note:"Advance Installment"}]},{id:2,name:"Abdur Rahim",phone:"01578901234",branch:"B006 - Sylhet Branch",collector:"Badshah",regularInstallment:500,totalPaid:2e3,extraPayments:[{date:"2024-09-01",amount:500,note:"Double Payment"}]},{id:3,name:"Fatema Khatun",phone:"01823456789",branch:"B001 - Dhaka Branch",collector:"Rahim",regularInstallment:50,totalPaid:1500,extraPayments:[]},{id:4,name:"Kamal Hossain",phone:"01867890123",branch:"B002 - Gulshan Branch",collector:"Rahim",regularInstallment:300,totalPaid:3e3,extraPayments:[{date:"2024-08-25",amount:600,note:"Double Payment"}]},{id:5,name:"Shahinur Rahman",phone:"01978901234",branch:"B003 - Mirpur Branch",collector:"Karim",regularInstallment:800,totalPaid:4800,extraPayments:[]}].filter(b=>b.name.toLowerCase().includes(e.toLowerCase())||b.phone.includes(e)),y=()=>{if(!n||!i){fe.error("Please enter a valid amount.");return}const b=fe.loading("Processing payment...");console.log("Extra Payment:",{memberId:n.id,amount:parseFloat(i),note:u,date:new Date().toISOString()}),setTimeout(()=>{fe.dismiss(b),fe.success(`Extra installment of ${i} for ${n.name} has been successfully accepted!`),r(null),o(""),f(""),m(!1)},1e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(Vn,{className:"h-8 w-8 mr-3 text-green-600"}),"Extra Installment Collection"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Accept extra installments from members"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by member name or phone number...",value:e,onChange:b=>t(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Member List"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.length," members found"]})]}),s.jsx("div",{className:"divide-y divide-gray-200",children:x.map(b=>s.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:s.jsx(or,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:b.name}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(jl,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:b.phone})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(is,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:b.branch})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Regular Installment"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",b.regularInstallment]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Extra Payments"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:[b.extraPayments.length," times"]})]}),s.jsxs("button",{onClick:()=>{r(b),m(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[s.jsx(Vn,{className:"h-4 w-4"}),s.jsx("span",{children:"Extra Installment"})]})]})]}),b.extraPayments.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Extra Payment History:"}),s.jsx("div",{className:"space-y-2",children:b.extraPayments.map((j,N)=>s.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(U4,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:j.note})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-bold text-green-600",children:["",j.amount]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(j.date).toLocaleDateString("bn-BD")})]})]},N))})]})]},b.id))})]}),h&&n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Extra Installment Payment"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:n.name}),s.jsx("p",{className:"text-sm text-gray-600",children:n.phone}),s.jsx("p",{className:"text-sm text-gray-600",children:n.branch}),s.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["Regular Installment: ",n.regularInstallment]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Extra Installment Amount ()"}),s.jsx("input",{type:"number",value:i,onChange:b=>o(b.target.value),placeholder:"Enter amount...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note (Optional)"}),s.jsx("textarea",{value:u,onChange:b=>f(b.target.value),placeholder:"Reason for payment or special note...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),s.jsx("button",{onClick:y,disabled:!i,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Accept Payment"})]})]})]})})})]})},oY=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Savings Management"}),s.jsx("p",{className:"text-gray-600",children:"Member savings and financial management"})]}),s.jsxs("button",{className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:[s.jsx(Vn,{className:"h-5 w-5 mr-2"}),"New Savings Deposit"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:s.jsx(Nl,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Savings"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:",,"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx(or,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Savers"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:""})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:s.jsx(lc,{className:"h-8 w-8 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Growth"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:".%"})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Nl,{className:"mx-auto h-16 w-16 text-gray-400"}),s.jsx("h3",{className:"mt-4 text-xl font-medium text-gray-900",children:"Savings Management"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Detailed features for this page will be added soon"}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:[s.jsx(Vn,{className:"h-5 w-5 mr-2"}),"Make Savings Deposit"]})})]})})]}),cY=()=>{const[e,t]=w.useState(""),[n,r]=w.useState("all"),[i,o]=w.useState("all"),f=[{id:1,name:"Rokeya Khatun",age:26,phone:"01967890123",joinDate:"2024-02-25",nidNumber:"6789012345678",branch:"B006 - Sylhet Branch",collector:"Badshah",installmentType:"Weekly",installmentAmount:150,totalInstallments:12,paidInstallments:8,remainingInstallments:4,dueAmount:600,products:["Rice (50 kg)","Lentils (10 kg)"],lastPayment:"2024-09-10"},{id:2,name:"Abdur Rahim",age:39,phone:"01578901234",joinDate:"2024-01-08",nidNumber:"7890123456789",branch:"B006 - Sylhet Branch",collector:"Badshah",installmentType:"Monthly",installmentAmount:500,totalInstallments:6,paidInstallments:4,remainingInstallments:2,dueAmount:1e3,products:["Sewing Machine"],lastPayment:"2024-08-15"},{id:3,name:"Fatema Khatun",age:28,phone:"01823456789",joinDate:"2024-02-10",nidNumber:"2345678901234",branch:"B001 - Dhaka Branch",collector:"Rahim",installmentType:"Daily",installmentAmount:50,totalInstallments:30,paidInstallments:25,remainingInstallments:5,dueAmount:250,products:["Oil (5 liters)","Sugar (5 kg)"],lastPayment:"2024-09-12"},{id:4,name:"Kamal Hossain",age:38,phone:"01867890123",joinDate:"2024-01-30",nidNumber:"6789012345678",branch:"B002 - Gulshan Branch",collector:"Rahim",installmentType:"Weekly",installmentAmount:300,totalInstallments:15,paidInstallments:10,remainingInstallments:5,dueAmount:1500,products:["Rickshaw"],lastPayment:"2024-09-08"},{id:5,name:"Shahinur Rahman",age:33,phone:"01978901234",joinDate:"2024-02-15",nidNumber:"7890123456789",branch:"B003 - Mirpur Branch",collector:"Karim",installmentType:"Monthly",installmentAmount:800,totalInstallments:10,paidInstallments:6,remainingInstallments:4,dueAmount:3200,products:["Cow"],lastPayment:"2024-08-20"}].filter(m=>{const g=m.name.toLowerCase().includes(e.toLowerCase())||m.phone.includes(e)||m.nidNumber.includes(e),x=n==="all"||m.branch.includes(n),y=i==="all"||m.installmentType===i;return g&&x&&y}),h=()=>{const m=`
      <html>
        <head>
          <title>Member Information Report</title>
          <style>
            @page {
              margin: 0.2cm 0.5cm 0.5cm 0.5cm;
              size: A4;
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body { 
              font-family: Arial, sans-serif; 
              margin: 0;
              padding: 0;
              font-size: 11px;
              line-height: 1.2;
            }
            .header { 
              text-align: center; 
              margin: 0 0 10px 0;
              padding: 5px 0 8px 0;
              border-bottom: 2px solid #333;
            }
            .header h1 {
              font-size: 18px;
              margin-bottom: 5px;
              color: #333;
            }
            .header h2 {
              font-size: 14px;
              margin-bottom: 5px;
              color: #666;
            }
            .header p {
              font-size: 12px;
              color: #666;
            }
            table { 
              width: 100%; 
              border-collapse: collapse; 
              margin: 10px 0;
              page-break-inside: auto;
            }
            th, td { 
              border: 1px solid #333; 
              padding: 4px; 
              text-align: left; 
              font-size: 10px;
              vertical-align: top;
            }
            th { 
              background-color: #f0f0f0; 
              font-weight: bold;
              font-size: 9px;
              text-align: center;
            }
            tr {
              page-break-inside: avoid;
            }
            tr:nth-child(even) { 
              background-color: #f9f9f9; 
            }
            .status-due { 
              color: #dc3545; 
              font-weight: bold; 
            }
            .status-paid { 
              color: #28a745; 
              font-weight: bold; 
            }
            @media print {
              body {
                margin: 0 !important;
                padding: 5px !important;
              }
              .header {
                margin-bottom: 10px !important;
              }
              table {
                margin: 5px 0 !important;
              }
              th, td {
                padding: 3px !important;
                font-size: 9px !important;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Satrong Sajghor Traders</h1>
            <h2>Member Details & Installment Report</h2>
            <p>Date: ${new Date().toLocaleDateString("en-US")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Age</th>
                <th>Phone</th>
                <th>NID Number</th>
                <th>Join Date</th>
                <th>Branch</th>
                <th>Collector</th>
                <th>Installment Type</th>
                <th>Amount Per Installment</th>
                <th>Total Installments</th>
                <th>Paid Installments</th>
                <th>Remaining Installments</th>
                <th>Due Amount</th>
                <th>Products</th>
                <th>Last Payment</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${f.map(x=>`
                <tr>
                  <td>${x.id}</td>
                  <td>${x.name}</td>
                  <td>${x.age}</td>
                  <td>${x.phone}</td>
                  <td>${x.nidNumber}</td>
                  <td>${new Date(x.joinDate).toLocaleDateString("en-US")}</td>
                  <td>${x.branch}</td>
                  <td>${x.collector}</td>
                  <td>${x.installmentType===""?"Daily":x.installmentType===""?"Weekly":"Monthly"}</td>
                  <td>${x.installmentAmount}</td>
                  <td>${x.totalInstallments}</td>
                  <td>${x.paidInstallments}</td>
                  <td>${x.remainingInstallments}</td>
                  <td class="${x.dueAmount>0?"status-due":"status-paid"}">${x.dueAmount}</td>
                  <td>${x.products.join(", ")}</td>
                  <td>${new Date(x.lastPayment).toLocaleDateString("en-US")}</td>
                  <td class="${x.dueAmount>0?"status-due":"status-paid"}">${x.dueAmount>0?"Due":"Paid"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,g=window.open("","_blank");g.document.write(m),g.document.close(),g.onload=function(){g.print()}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(W4,{className:"h-8 w-8 mr-3 text-blue-600"}),"Sheet Collection"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Complete member information and installment report"})]}),s.jsx("div",{className:"mt-4 sm:mt-0",children:s.jsxs("button",{onClick:h,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg transition-all transform hover:scale-105",children:[s.jsx(_p,{className:"h-5 w-5"}),s.jsx("span",{children:"Download PDF"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name, phone or NID...",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{children:s.jsxs("select",{value:n,onChange:m=>r(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Branches"}),s.jsx("option",{value:"Dhaka",children:"Dhaka Branch"}),s.jsx("option",{value:"Gulshan",children:"Gulshan Branch"}),s.jsx("option",{value:"Mirpur",children:"Mirpur Branch"}),s.jsx("option",{value:"Sylhet",children:"Sylhet Branch"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:m=>o(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"All Installment Types"}),s.jsx("option",{value:"Daily",children:"Daily"}),s.jsx("option",{value:"Weekly",children:"Weekly"}),s.jsx("option",{value:"Monthly",children:"Monthly"})]})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Q2,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[f.length," members found"]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Member Details Sheet"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"ID"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Age"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Phone"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"NID Number"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Join Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Branch"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Collector"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Installment Type"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Amount Per Installment"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Total Installments"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Paid Installments"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Remaining Installments"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Due Amount"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Products"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Last Payment"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((m,g)=>s.jsxs("tr",{className:`hover:bg-gray-50 ${g%2===0?"bg-white":"bg-gray-25"}`,children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200 font-medium",children:m.id}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200 font-medium",children:m.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.age}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.phone}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.nidNumber}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:new Date(m.joinDate).toLocaleDateString("en-US")}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.branch}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.collector}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.installmentType==="Daily"?"bg-green-100 text-green-800":m.installmentType==="Weekly"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:m.installmentType})}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200 font-medium",children:["",m.installmentAmount]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.totalInstallments}),s.jsx("td",{className:"px-4 py-3 text-sm text-green-600 border-r border-gray-200 font-medium",children:m.paidInstallments}),s.jsx("td",{className:"px-4 py-3 text-sm text-orange-600 border-r border-gray-200 font-medium",children:m.remainingInstallments}),s.jsx("td",{className:"px-4 py-3 text-sm border-r border-gray-200 font-bold",children:s.jsxs("span",{className:m.dueAmount>0?"text-red-600":"text-green-600",children:["",m.dueAmount]})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:s.jsx("div",{className:"max-w-xs",children:m.products.map((x,y)=>s.jsx("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded mb-1 inline-block mr-1",children:x},y))})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:new Date(m.lastPayment).toLocaleDateString("en-US")}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.dueAmount>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:m.dueAmount>0?"Due":"Paid"})})]},m.id))})]})})]})]})},uY=()=>{const[e,t]=w.useState(kn()),[n,r]=w.useState(null),[i,o]=w.useState(!0),[u,f]=w.useState(!1),h=async(j=e)=>{try{o(!0),console.log(` Fetching daily collection for date: ${j}`);try{const T=await ic.getDailyCollection(j);if(T.success&&T.data){const{summary:D,collectors:O}=T.data,E={date:j,totalCollection:D.totalCollection||0,activeCollectors:O.length,collectors:O.map(P=>({id:P.id,name:P.name,totalCollection:P.totalCollection||0,totalMembers:P.totalMembers||0,branches:P.branches||[],branchCount:P.branchCount||0,lastUpdated:P.lastUpdated})),lastUpdated:T.data.lastUpdated};r(E),o(!1),console.log(" Using backend API data");return}}catch(T){console.log(" Backend API failed, falling back to manual calculation:",T.message)}const S=new Date(j).toISOString().split("T")[0];console.log(` Target date string: ${S}`);const A=await ni.getAll({limit:100,isActive:"true",role:"collector"});if(A.success&&A.data){const D=A.data.filter(Q=>Q.role==="collector"&&Q.isActive&&Q.email);console.log(` Found ${D.length} active collectors`);let O=[];try{const Q=await Pa.getAll();Q.success&&Q.data&&(O=Q.data)}catch(Q){console.error("Error loading branches:",Q)}const E=new Map,P=new Map;for(const Q of D){let ve=[];Q.branches&&Q.branches.length>0?ve=Q.branches:Q.assignedBranches&&Q.assignedBranches.length>0?ve=Q.assignedBranches:ve=O.filter(re=>re.assignedCollector===Q._id||re.collectorId===Q._id||re.collector===Q._id);for(const Y of ve){const re=Y.branchCode||Y.code;if(re&&!E.has(re))try{const ge=await pn.getAll({branchCode:re,limit:1e3});ge.success&&ge.data&&(E.set(re,ge.data),ge.data.forEach(Ee=>{P.set(Ee._id,Q._id)}))}catch(ge){console.error(`Error loading members for branch ${re}:`,ge)}else re&&E.has(re)&&E.get(re).forEach(Ee=>{P.set(Ee._id,Q._id)})}}console.log(` Loaded ${E.size} branches with members`);let M=[];try{const Q=await ur.getAll({limit:1e4});Q.success&&Q.data&&(M=Q.data)}catch(Q){console.error("Error loading installments:",Q)}console.log(` Found ${M.length} total installments in database`);const I=M.filter(Q=>{if(Q.status!=="collected"&&Q.status!=="partial"||!Q.collectionDate)return!1;const Y=new Date(Q.collectionDate).toISOString().split("T")[0],re=Y===S;return(Q.status==="collected"||Q.status==="partial")&&console.log(re?` MATCH: Collected on ${Y} = ${S}`:` SKIP: Collected on ${Y}, looking for ${S}`),re});console.log(` ${I.length} installments were actually collected on ${S}`);const R=new Map;I.forEach(Q=>{const ve=Q.member?._id||Q.member,Y=P.get(ve);if(Y){R.has(Y)||R.set(Y,{totalCollection:0,collectedMembers:new Set});const re=R.get(Y);let ge=0,Ee=!1;if(Q.paymentHistory&&Q.paymentHistory.length>0){const ce=Q.paymentHistory.filter(Ne=>Ne.date?new Date(Ne.date).toISOString().split("T")[0]===S:!1);ce.length>0&&(ge=ce.reduce((Ne,Ce)=>Ne+(Ce.amount||0),0),Ee=!0,console.log(` [Manual] Installment ${Q._id}: ${ce.length} payments today = ${ge}`))}Ee||(ge=Q.lastPaymentAmount!=null&&Q.lastPaymentAmount>0?Q.lastPaymentAmount:Q.paidAmount!=null&&Q.paidAmount>0?Q.paidAmount:Q.amount||0);const $=Q.note||"",ie=Q.installmentType,L=$.toLowerCase();L.includes("product sale:")&&L.includes("saleid:")?console.log("   Skipped Product Sale (loan disbursement)"):L.includes("savings collection")&&L.includes("product sale:")?console.log("   Skipped Savings from Product Sale (collected during product sale)"):L.includes("initial savings")?console.log("   Skipped Initial Savings (member registration)"):(re.totalCollection+=ge,re.collectedMembers.add(ve),L.includes("savings")||ie==="savings"?console.log(`   Collector ${Y}: +${ge} (Savings)`):console.log(`   Collector ${Y}: +${ge} (Loan/Regular)`))}});const U=D.map(Q=>{const ve=Q._id||Q.id,Y=R.get(ve)||{totalCollection:0,collectedMembers:new Set};let re=[];Q.branches&&Q.branches.length>0?re=Q.branches:Q.assignedBranches&&Q.assignedBranches.length>0?re=Q.assignedBranches:re=O.filter($=>$.assignedCollector===ve||$.collectorId===ve||$.collector===ve);let ge=0;re.forEach($=>{const ie=$.branchCode||$.code,L=E.get(ie)||[];ge+=L.length});const Ee=Y.totalCollection>0;return{id:ve,name:Q.name,totalCollection:Y.totalCollection,totalMembers:ge,todayMembers:Y.collectedMembers.size,assignedMembers:ge,branches:re.map($=>$.name||$.branchName).filter(Boolean),branchCount:re.length,lastUpdated:Ee?new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):null}}),V=U.reduce((Q,ve)=>Q+ve.totalCollection,0),H=U.reduce((Q,ve)=>Q+ve.totalMembers,0);console.log(` Total Collection for ${S}: ${V}`),U.forEach(Q=>{console.log(`Collector ${Q.name}: ${Q.branchCount} branches, branches array:`,Q.branches)});const W={date:j,totalCollection:V,activeCollectors:U.length,collectors:U,lastUpdated:new Date().toISOString()};r(W)}else r(null)}catch(N){console.error("Error in fetchDailyCollection:",N),fe.error(`Error loading collection data: ${N.message}`),r(null)}finally{o(!1)}},m=async()=>{f(!0),await h(),f(!1),fe.success("Data refreshed successfully")},g=j=>{t(j),h(j)};w.useEffect(()=>{h()},[]);const x=[{id:1,name:"Rahim",branches:[{code:"B001",name:"Dhaka Branch",members:[{name:"Abdul Karim",dueAmount:150},{name:"Fatema Khatun",dueAmount:200},{name:"Nasir Uddin",dueAmount:150}]},{code:"B002",name:"Gulshan Branch",members:[{name:"Salma Begum",dueAmount:180},{name:"Rasheda Begum",dueAmount:150},{name:"Kamal Hossain",dueAmount:220}]}]},{id:2,name:"Karim",branches:[{code:"B003",name:"Mirpur Branch",members:[{name:"Rokeya Khatun",dueAmount:150},{name:"Abdur Rahim",dueAmount:500}]},{code:"B004",name:"Uttara Branch",members:[{name:"Sumaiya Akter",dueAmount:150},{name:"Alamgir Hossain",dueAmount:190}]}]}],y=()=>{let j=0,N=0;const S=[];return x.forEach(A=>{let T=0,D=0;const O=[];A.branches.forEach(E=>{O.push(E.name),E.members.forEach(P=>{T+=P.dueAmount,D+=1})}),j+=T,N+=D,S.push({id:A.id,name:A.name,amount:T,members:D,branches:O,branchCount:A.branches.length,lastUpdated:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})}),{totalCollection:j,totalMembers:N,collectedMembers:N,pendingMembers:0,collectors:S}};let b;if(n)b={summary:{totalCollection:n.totalCollection||0,totalMembers:n.collectors?.reduce((j,N)=>j+(N.totalMembers||0),0)||0,activeCollectors:n.activeCollectors||0,targetCollection:5e3,collectionPercentage:0},collectors:n.collectors||[],date:n.date||e,lastUpdated:n.lastUpdated||new Date().toISOString()};else if(i)b={summary:{totalCollection:0,totalMembers:0,activeCollectors:0,targetCollection:5e3,collectionPercentage:0},collectors:[],date:e,lastUpdated:new Date().toISOString()};else{const j=y();b={summary:{totalCollection:j.totalCollection,totalMembers:j.totalMembers,activeCollectors:j.collectors.length,targetCollection:2e3,collectionPercentage:Math.round(j.totalCollection/2e3*100)},collectors:j.collectors,date:e,lastUpdated:new Date().toISOString()}}return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"Select Date"]}),s.jsx("input",{type:"date",value:e,onChange:j=>g(j.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",disabled:i})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx(Aa,{className:"h-4 w-4 inline mr-1"}),"Last updated: ",rA(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:m,disabled:u,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2",children:[s.jsx(Oa,{className:`h-4 w-4 ${u?"animate-spin":""}`}),s.jsx("span",{children:u?"Refreshing...":"Refresh"})]}),s.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2",children:[s.jsx(_p,{className:"h-4 w-4"}),s.jsx("span",{children:"Export Report"})]})]})]})}),i&&s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading collection data..."})]}),!i&&s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl shadow-lg p-8 text-white max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-sm opacity-80 mb-1",children:"Collection Date"}),s.jsx("p",{className:"text-xl font-semibold",children:new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Total Collection"}),s.jsxs("p",{className:"text-6xl font-bold",children:["",b.summary.totalCollection.toLocaleString()]}),s.jsxs("p",{className:"text-sm opacity-80 mt-3",children:[b.collectors.filter(j=>j.totalCollection>0).length," of ",b.summary.activeCollectors," collectors collected today"]})]}),s.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full ml-6",children:s.jsx(Yn,{className:"h-12 w-12"})})]})]})}),!i&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Collectors Performance"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[b.summary.activeCollectors," Active Collectors"]})]}),b.collectors.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsxs("p",{className:"text-gray-500",children:["No collection data available for ",e]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.collectors.map(j=>{const N=(j.totalCollection||0)>0;return s.jsxs("div",{className:`rounded-xl p-5 border-2 transition-all ${N?"bg-gradient-to-br from-green-50 to-green-100 border-green-300 shadow-md":"bg-gray-50 border-gray-200"}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-full ${N?"bg-green-500":"bg-gray-400"}`,children:s.jsx(Gt,{className:"h-5 w-5 text-white"})}),s.jsx("div",{children:s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:j.name})})]})}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Today's Collection"}),s.jsxs("p",{className:`text-3xl font-bold ${N?"text-green-600":"text-gray-400"}`,children:["",(j.totalCollection||0).toLocaleString()]}),N&&j.lastUpdated&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",j.lastUpdated]})]})})]},j.id)})})]})]})})},dY=()=>{const[e,t]=w.useState(kn()),[n,r]=w.useState(null),[i,o]=w.useState(!0),[u,f]=w.useState(!1),h=async(y=e)=>{try{o(!0),console.log(` Fetching daily savings for date: ${y}`);const b=await ic.getDailySavings(y);if(b.success&&b.data){const{summary:j,collectors:N}=b.data,S={date:y,totalSavings:j.totalSavings||0,activeCollectors:N.length,collectorsWithSavings:j.collectorsWithSavings||0,collectors:N.map(A=>({id:A.id,name:A.name,totalSavings:A.totalSavings||0,membersSavedToday:A.membersSavedToday||0,totalMembers:A.totalMembers||0,branches:A.branches||[],branchCount:A.branchCount||0,lastUpdated:A.lastUpdated,savingsTransactions:A.savingsTransactions||0})),lastUpdated:b.data.lastUpdated};r(S),console.log(" Savings data loaded:",S)}o(!1)}catch(b){console.error("Error fetching daily savings:",b),fe.error("Failed to load savings data"),o(!1)}};w.useEffect(()=>{h(e)},[e]);const m=y=>{t(y.target.value)},g=async()=>{f(!0),await h(e),f(!1),fe.success("Savings data refreshed!")},x=n||{date:e,totalSavings:0,activeCollectors:0,collectorsWithSavings:0,collectors:[]};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center bg-white rounded-lg shadow-sm border px-2 sm:px-4 py-2",children:[s.jsx(Tn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-500 mr-1 sm:mr-2"}),s.jsx("input",{type:"date",value:e,onChange:m,className:"border-none focus:outline-none focus:ring-0 text-gray-700 font-medium text-sm sm:text-base w-32 sm:w-auto"})]}),s.jsxs("button",{onClick:g,disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-6 py-2 rounded-lg font-medium transition-all flex items-center space-x-1 sm:space-x-2 disabled:opacity-50 text-sm sm:text-base",children:[s.jsx(Oa,{className:`h-4 w-4 sm:h-5 sm:w-5 ${u?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:inline",children:u?"Refreshing...":"Refresh"})]})]})})}),i&&s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Oa,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading savings data..."})]})}),!i&&s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl shadow-2xl p-8 mb-8 text-white",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Tn,{className:"h-5 w-5"}),s.jsx("p",{className:"text-lg opacity-90",children:new Date(x.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Total Savings Collected"}),s.jsxs("p",{className:"text-6xl font-bold",children:["",x.totalSavings.toLocaleString()]}),s.jsxs("p",{className:"text-sm opacity-80 mt-3",children:[x.collectorsWithSavings," of ",x.activeCollectors," collectors collected savings today"]})]}),s.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full ml-6",children:s.jsx(Nl,{className:"h-12 w-12"})})]})]})}),!i&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Collectors Savings Performance"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[x.activeCollectors," Active Collectors"]})]}),x.collectors.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsxs("p",{className:"text-gray-500",children:["No savings data available for ",e]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.collectors.map(y=>{const b=(y.totalSavings||0)>0;return s.jsxs("div",{className:`rounded-xl p-5 border-2 transition-all ${b?"bg-gradient-to-br from-blue-50 to-purple-100 border-blue-300 shadow-md":"bg-gray-50 border-gray-200"}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-full ${b?"bg-blue-500":"bg-gray-400"}`,children:s.jsx(Gt,{className:"h-5 w-5 text-white"})}),s.jsx("div",{children:s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:y.name})})]})}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Today's Savings"}),s.jsxs("p",{className:`text-3xl font-bold ${b?"text-blue-600":"text-gray-400"}`,children:["",(y.totalSavings||0).toLocaleString()]}),b&&y.lastUpdated&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",new Date(y.lastUpdated).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]})})]},y.id)})})]})]})})},fY=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!1),[i,o]=w.useState(null),[u,f]=w.useState(null),h=w.useRef(!1),m=async(y=!0)=>{r(!0);try{console.log(" Fetching collectors and calculating actual due balances...");const b=await ni.getAll({limit:100,isActive:!0});if(!b.success||!b.data)throw new Error("Failed to fetch collectors");const j=b.data.filter(O=>O.role==="collector");console.log(` Found ${j.length} collectors`);const N=await Pa.getAll(),S=N.success?N.data:[],A=kn(),D=(await Promise.all(j.map(async O=>{const E=O._id||O.id;try{const P=await ic.getCollectorDashboard(E,A);if(P.success&&P.data){const M=P.data.dueBalance||0,I=S.filter(R=>R.assignedCollector===E||R.collectorId===E);return console.log(` ${O.name}: Due Balance = ${M}, Branches: ${I.length}`),{id:E,name:O.name,email:O.email||"",branches:I.map(R=>({name:R.name,code:R.branchCode})),branchCount:I.length,totalDue:M,products:[],lastPayment:null,lastUpdated:new Date}}}catch(P){console.error(`Error fetching data for ${O.name}:`,P)}return{id:E,name:O.name,email:O.email||"",branches:[],branchCount:0,totalDue:0,products:[],lastPayment:null,lastUpdated:new Date}}))).filter(O=>O.totalDue>0);D.sort((O,E)=>E.totalDue-O.totalDue),t(D),o(new Date),y&&ke.success(`Due balances loaded! ${D.length} collectors have outstanding dues.`)}catch(b){console.error("Error fetching due amounts:",b),y&&ke.error(b.message||"Failed to load due amounts")}finally{r(!1)}};w.useEffect(()=>{h.current||(h.current=!0,m(!1))},[]);const g=e.reduce((y,b)=>y+b.totalDue,0),x=e.length;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx(Aa,{className:"h-4 w-4 inline mr-1"}),"Last updated: ",i?rA(i).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Not updated yet"]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:m,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n?s.jsx(fd,{className:"h-4 w-4 animate-spin"}):s.jsx(Oa,{className:"h-4 w-4"}),s.jsx("span",{children:n?"Loading...":"Refresh"})]}),s.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2",children:[s.jsx(_p,{className:"h-4 w-4"}),s.jsx("span",{children:"Export Report"})]})]})]})}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl shadow-lg p-8 text-white max-w-md w-full",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-center w-full",children:[s.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Total Due Amount"}),s.jsxs("p",{className:"text-5xl font-bold",children:["",g.toLocaleString()]}),s.jsxs("p",{className:"text-sm opacity-80 mt-2",children:[x," Collectors"]})]}),s.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full ml-4",children:s.jsx(Xn,{className:"h-10 w-10"})})]})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Collectors Due Details"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[x," Collectors with Outstanding Dues"]})]}),n?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(fd,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading due amounts..."})]}):e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No collectors with outstanding dues found."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>{const b=y.totalDue>0;return s.jsxs("div",{className:`rounded-xl p-6 border-2 transition-all ${b?"bg-gradient-to-br from-red-50 to-orange-50 border-red-300 shadow-md":"bg-gray-50 border-gray-200"}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-full ${b?"bg-red-500":"bg-gray-400"}`,children:s.jsx(Gt,{className:"h-5 w-5 text-white"})}),s.jsx("div",{children:s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:y.name})})]})}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Due Amount"}),s.jsxs("p",{className:`text-4xl font-bold ${b?"text-red-600":"text-gray-400"}`,children:["",y.totalDue.toLocaleString()]})]})}),b&&y.branches.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-red-200",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Branches:"}),s.jsx("p",{className:"text-sm text-gray-700",children:y.branches.map(j=>j.name).join(", ")})]}),b&&s.jsx("div",{className:"mt-4",children:s.jsxs("button",{onClick:()=>{f(u===y.id?null:y.id),ke.info("Date-wise breakdown coming soon!")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center space-x-2",children:[s.jsx("span",{children:"View Details"}),u===y.id?s.jsx(R4,{className:"h-4 w-4"}):s.jsx(k4,{className:"h-4 w-4"})]})})]},y.id)})})]})]})})},mY=()=>{const{id:e}=_5(),t=ji(),[n,r]=w.useState(null),[i,o]=w.useState(!0),[u,f]=w.useState([]),[h,m]=w.useState(!0),[g,x]=w.useState("all"),[y,b]=w.useState([]);return w.useEffect(()=>{const j=document.createElement("style");return j.innerHTML=`
      @media print {
        @page { size: legal landscape; margin: 0.5in; }
        body * { visibility: hidden; }
        #printable-area, #printable-area * { visibility: visible; }
        #printable-area { position: absolute; left: 0; top: 0; width: 100%; }
        .no-print { display: none !important; }
        .print-full-width { width: 100% !important; max-width: 100% !important; }
        table { page-break-inside: auto; }
        tr { page-break-inside: avoid; page-break-after: auto; }
        thead { display: table-header-group; }
      }
    `,document.head.appendChild(j),()=>document.head.removeChild(j)},[]),w.useEffect(()=>{e&&(async()=>{try{o(!0);const N=await pn.getById(e);N.success?r(N.data):(fe.error("Failed to load member"),t("/members"))}catch(N){console.error("Error:",N),fe.error("Error loading member"),t("/members")}finally{o(!1)}})()},[e,t]),w.useEffect(()=>{e&&(async()=>{try{m(!0);const N=await ur.getByMember(e);if(N.success&&N.data){console.log(" Raw Response Data:",N.data.length,"installments");const S={};N.data.forEach(M=>{const R=(M.note||"").match(/Installment (\d+)\/\d+/);if(R){const U=R[1];S[U]||(S[U]=[]),S[U].push({amount:M.amount,date:M.collectionDate,isAuto:M.isAutoApplied,receipt:M.receiptNumber})}}),console.log(" Installment Collections Count:"),Object.keys(S).forEach(M=>{S[M].length>1&&console.log(`   Installment #${M}: ${S[M].length} collections`,S[M])});let A=null;try{A=await ur.getCollectionHistory(e),A.success&&A.data&&console.log(" Fetched",A.data.length,"collection history records")}catch{console.log(" No collection history available (this is normal for older data)")}window.rawLoanData=N.data,window.collectionHistoryData=A?.data||[];const T=[],D=[];N.data.forEach(M=>{const I=M.note||"";if(M.isAutoApplied&&!M.receiptNumber){console.log(" Skipping auto-applied installment:",{note:I.substring(0,60),amount:M.amount,paid:M.paidAmount});return}I.toLowerCase().includes("savings collection")||I.toLowerCase().includes("savings withdrawal")||I.toLowerCase().includes("initial savings")||M.installmentType==="savings"?T.push(M):D.push(M)}),window.memberSavingsData=T;const O=[...T,...D].sort((M,I)=>new Date(M.dueDate||M.collectionDate)-new Date(I.dueDate||I.collectionDate));f(O);const E=new Map;O.forEach(M=>{if(M.distributionId){const I=M.distributionId.toString();if(!E.has(I)){const R=M.note||"";let U="";if(R.includes("Product Loan:")){console.log(" Processing LOAN note for saleId",I.slice(-6),":",R.substring(0,100));const V=[/Product Loan: ([^-]+)/,/Product Loan:\s*([^\n]+)/];for(const H of V){const W=R.match(H);if(W&&W[1]){U=W[1].trim().split("-")[0].trim(),console.log(" Product name extracted:",U);break}}U&&(E.set(I,{id:I,productName:U,shortId:I.slice(-6)}),console.log(" Added to salesMap:",I.slice(-6),"",U))}}}}),console.log(" Total products found:",E.size);const P=Array.from(E.values()).sort((M,I)=>M.id.localeCompare(I.id));b(P),P.length>0?x(P[0].id):x("savings")}}catch(N){console.error("Error:",N),fe.error("Failed to load loan history")}finally{m(!1)}})()},[e]),i?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between no-print",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/members"),className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(Ni,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Member Profile"}),s.jsxs("p",{className:"text-gray-600",children:["ID: #",(n._id||n.id).toString().slice(-6)]})]})]}),s.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg",children:[s.jsx(eA,{className:"h-4 w-4 mr-2"}),"Print"]})]}),s.jsxs("div",{id:"printable-area",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 print-full-width",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:n.profileImage?s.jsx("img",{src:Ey(n.profileImage),alt:n.name,className:"w-24 h-32 rounded-lg object-cover border-3 border-blue-300",style:{objectPosition:"center top"},onError:j=>{console.error("Error loading image:",j.target.src),j.target.src="https://via.placeholder.com/150?text=No+Image"}}):s.jsx("div",{className:"w-24 h-32 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Gt,{className:"h-12 w-12 text-blue-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.name}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(jl,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.phone||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(is,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.address||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Tn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Join Date"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.joinDate?new Date(n.joinDate).toLocaleDateString("en-US"):"N/A"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Nl,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Branch"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.branch||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Tn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Current Filter"}),s.jsx("p",{className:"font-medium text-gray-900",children:g==="savings"?" Savings":y.length>0?`Dofa ${y.findIndex(j=>j.id===g)+1}`:"N/A"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Tn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),s.jsx("p",{className:"font-medium text-gray-900",children:y.length>0?`${y.length} Dofa`:"No Sales"})]})]})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden print-full-width mt-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 px-6 py-4 print:bg-gray-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Nl,{className:"h-6 w-6 text-white print:text-gray-900"}),s.jsx("h3",{className:"text-xl font-bold text-white print:text-gray-900",children:y.length>0?"Loan & Savings History":"Savings History"})]}),y.length>0&&s.jsx("select",{value:g,onChange:j=>x(j.target.value),className:"no-print px-4 py-2 rounded-lg border-2 border-white/30 bg-white/10 text-white font-semibold focus:outline-none focus:ring-2 focus:ring-white/50",children:y.map((j,N)=>s.jsxs("option",{value:j.id,className:"text-gray-900",children:[j.productName," (Dofa ",N+1,")"]},j.id))})]})}),h?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}):s.jsx("div",{className:"p-4",children:(()=>{const j=window.memberSavingsData||[],N=y.length>0;if(console.log(" Rendering History - Has Products:",N,"Selected:",g),!N){console.log(" Showing ONLY Savings (no products)");let _=0;const q=j.filter(B=>!B.note?.includes("Product Sale:")).sort((B,le)=>new Date(B.collectionDate||B.dueDate)-new Date(le.collectionDate||le.dueDate)).map((B,le)=>{const z=new Date(B.collectionDate||B.dueDate).toLocaleDateString("en-GB"),G=B.note?.toLowerCase().includes("withdrawal"),F=B.paidAmount||B.amount||0,X=G?0:F,he=G?F:0;_+=X-he;const J=le%2===0?"bg-white":"bg-gray-50";return s.jsxs("tr",{className:`${J} hover:bg-blue-50 transition-colors`,children:[s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:z}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-green-600 border border-gray-800",children:X>0?`${X.toLocaleString()}`:"-"}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-red-600 border border-gray-800",children:he>0?`${he.toLocaleString()}`:"-"}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-blue-600 border border-gray-800",children:["",_.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:B.collector?.name||B.collectorName||"N/A"})]},`sav-${le}`)});return q.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),"No savings history found"]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border-collapse border border-gray-800",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Date"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings In"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Out"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Balance"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Field Officer"})]})}),s.jsx("tbody",{className:"bg-white",children:q})]})})}console.log(" Showing Loan + Savings for product:",g);const S=u.filter(_=>{const q=_.note?.includes("Product Loan:"),B=_.distributionId?.toString()===g;return q&&B}),A=_=>{const B=(window.collectionHistoryData||[]).filter(F=>F.distributionId===_);if(B.length===0)return!1;const ne=B.sort((F,X)=>new Date(X.collectionDate)-new Date(F.collectionDate))[0];return parseFloat(ne.outstanding||ne.outstandingAfterCollection||0)<=.1},T=S.map(_=>({status:_.status,paidAmount:_.paidAmount,amount:_.amount,note:_.note?.substring(0,50)}));console.log(" All product installments:",JSON.stringify(T,null,2));const D=S.filter(_=>_.status==="collected"||_.status==="paid"||_.status==="partial");console.log(` Found ${D.length} collected installments for product`);const E=(window.rawLoanData||[]).filter(_=>_.distributionId?.toString()===g&&_.note?.includes("Product Loan:")),P=E.reduce((_,q)=>_+(q.amount||0),0);let M=P;console.log(" Total Loan Amount (from raw data):",P,"installments:",E.length);const I=[];if(S.length>0){const q=[...S].sort((ne,z)=>new Date(ne.dueDate)-new Date(z.dueDate))[0],le=new Date(q.saleDate||q.dueDate||q.collectionDate).toLocaleDateString("en-GB");I.push(s.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100 transition-colors",children:[s.jsx("td",{className:"px-3 py-3 text-sm font-bold text-gray-900 border border-gray-800",children:le}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-bold text-purple-600 border border-gray-800",children:["",P.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:"Product Sale"})]},"product-sale"))}const U=(window.collectionHistoryData||[]).filter(_=>_.distributionId===g);console.log(` Found ${U.length} collection history records for product ${g}`),U.length>0?U.sort((_,q)=>new Date(_.collectionDate)-new Date(q.collectionDate)).forEach((_,q)=>{const le=new Date(_.collectionDate).toLocaleDateString("en-GB"),ne=_.installmentTarget||0,z=_.collectionAmount||0,G=_.installmentDue||0,F=_.outstandingAfterCollection||0,X=(q+1)%2===0?"bg-white":"bg-gray-50",he=_.collector?.name||"N/A";console.log(` Collection #${q+1}: Date=${le}, Collection=${z}, Outstanding=${F}`),I.push(s.jsxs("tr",{className:`${X} hover:bg-blue-50 transition-colors`,children:[s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:le}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:["",ne.toLocaleString()]}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-green-600 border border-gray-800",children:["",z.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-orange-600 border border-gray-800",children:G>0?`${G.toLocaleString()}`:"-"}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-purple-600 border border-gray-800",children:["",F.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:he})]},`collection-${_._id||q}`))}):(console.log(" No collection history found, using fallback method (installments)"),D.sort((_,q)=>new Date(_.collectionDate)-new Date(q.collectionDate)).forEach((_,q)=>{const le=new Date(_.collectionDate).toLocaleDateString("en-GB"),ne=_.amount||0,z=_.lastPaymentAmount||_.paidAmount||0;console.log(` Row ${q+1}: Date=${le}, Collection=${z}, Target=${ne}`);const G=_.remainingAmount!==void 0?_.remainingAmount:Math.max(0,ne-z);M-=z;const F=Math.max(0,M),X=(q+1)%2===0?"bg-white":"bg-gray-50",he=_.collector?.name||_.collectorName||"N/A";I.push(s.jsxs("tr",{className:`${X} hover:bg-blue-50 transition-colors`,children:[s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:le}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:["",ne.toLocaleString()]}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-green-600 border border-gray-800",children:["",z.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-orange-600 border border-gray-800",children:G>0?`${G.toLocaleString()}`:"-"}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-purple-600 border border-gray-800",children:["",F.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:he})]},`loan-${_._id||q}`))}));const V=j.filter(_=>{if(!(_.installmentType==="extra"||_.installmentType==="savings")||!_.note)return!1;const q=_.note.includes("Savings Collection"),B=_.note.includes("Savings Withdrawal"),le=_.note.includes("Initial Savings"),ne=_.note.match(/Product Sale:.+\(Qty:.+\|/);return(q||B||le)&&!ne});console.log(" Total valid savings records found:",V.length),console.log(" ALL Valid Savings Records:"),V.forEach((_,q)=>{const B=_.paidAmount||_.amount||0,le=_.distributionId?`SALE-${_.distributionId.toString().slice(-6)}`:"NO_DIST_ID",ne=_.installmentId?_.installmentId.toString().slice(-6):"NO_INST_ID";console.log(`   [${q+1}] ${B} | DistID: ${le} | InstID: ${ne} | Note: ${_.note?.substring(0,60)}`)});let H=[];const W=V.filter(_=>_.distributionId&&_.distributionId.toString()===g?(console.log(`    Direct match by distributionId: ${_.note?.substring(0,50)}`),!0):_.installmentId&&S.some(B=>B._id===_.installmentId)?(console.log(`    Match by installmentId: ${_.note?.substring(0,50)}`),!0):!1);H.push(...W),console.log(` Found ${W.length} direct savings for product ${g.slice(-6)}`);const ve=y.find(_=>_.id===g)?.productName||"",Y=y.findIndex(_=>_.id===g);if(Y===0){const _=V.filter(q=>H.some(le=>le._id===q._id)?!1:!q.distributionId&&q.note?.includes("Initial Savings")?(console.log(`    Initial Savings (added to 1st product): ${q.note?.substring(0,50)}`),!0):!1);H.push(..._),console.log(` Added ${_.length} Initial Savings to first product`)}const re=A(g);re&&Y>0&&(console.log(" Checking for previous completed products' savings to include..."),y.slice(0,Y).forEach((q,B)=>{if(A(q.id)){console.log(`    Previous completed product [${B}]: ${q.productName}`);const ne=V.filter(z=>{if(H.some(F=>F._id===z._id))return!1;if(z.distributionId&&z.distributionId.toString()===q.id)return!0;const G=u.filter(F=>F.distributionId?.toString()===q.id&&F.note?.includes("Product Loan:"));return!!(z.installmentId&&G.some(F=>F._id===z.installmentId)||B===0&&!z.distributionId&&z.note?.includes("Initial Savings"))});ne.length>0&&(H.push(...ne),console.log(`       Added ${ne.length} savings from completed product: ${q.productName}`))}}),console.log(` Total savings after including previous completed products: ${H.length}`));const ge=y.filter(_=>!A(_.id)),Ee=ge.length>0?ge[0]:null,$=Ee&&Ee.id===g;if(console.log(`   Current Product: ${ve}, Index: ${Y}`),console.log(`   Is First Active Product: ${$}`),console.log(`   First Active Product: ${Ee?.productName||"None"}`),console.log(" DEBUG - All products status:"),y.forEach((_,q)=>{const B=A(_.id);console.log(`   [${q}] ${_.productName}: ${B?" COMPLETED":" ACTIVE (incomplete)"}`)}),console.log(` DEBUG - Active products: ${ge.map(_=>_.productName).join(", ")}`),console.log(` DEBUG - First active product: ${Ee?.productName||"None"}`),$){console.log("    This is First Active Product - adding unmatched savings...");const _=V.filter(B=>H.some(ne=>ne._id===B._id)||ge.some(ne=>{if(B.distributionId&&B.distributionId.toString()===ne.id)return console.log(`       Skipping - belongs to active product: ${ne.productName}`),!0;const z=u.filter(G=>G.distributionId?.toString()===ne.id&&G.note?.includes("Product Loan:"));return B.installmentId&&z.some(G=>G._id===B.installmentId)?(console.log(`       Skipping - belongs to active product: ${ne.productName}`),!0):!1})?!1:(console.log(`       Unmatched savings (not from any active product): ${B.note?.substring(0,50)}`),!0));H.push(..._),console.log(`    Added ${_.length} unmatched savings to First Active Product`);const q=y.filter(B=>A(B.id));console.log(`    Found ${q.length} completed products for transfer`),q.forEach(B=>{const le=V.filter(ne=>{if(H.some(G=>G._id===ne._id))return!1;if(ne.distributionId&&ne.distributionId.toString()===B.id)return console.log(`          Match by distributionId for ${B.productName}`),!0;const z=u.filter(G=>G.distributionId?.toString()===B.id);return ne.installmentId&&z.some(G=>G._id===ne.installmentId)?(console.log(`          Match by installmentId for ${B.productName}`),!0):!ne.distributionId&&ne.note&&B.productName&&ne.note.includes(B.productName)?(console.log(`          Match by name for ${B.productName}`),!0):!1});le.length>0?(console.log(`       Transferring ${le.length} savings from completed: ${B.productName}`),H.push(...le)):console.log(`       No savings found for completed product: ${B.productName}`)})}console.log(` Total savings for ${ve}: ${H.length} records`);const ie=[],L=[];H.forEach(_=>{_.distributionId&&_.distributionId.toString()===g||_.installmentId&&S.some(B=>B._id===_.installmentId)?ie.push(_):L.push(_)}),console.log(` Direct savings: ${ie.length}, Inherited/Transferred: ${L.length}`);let ce=[];re?(ce=H.sort((_,q)=>new Date(_.collectionDate||_.dueDate)-new Date(q.collectionDate||q.dueDate)),console.log(` COMPLETED Product - Showing historical snapshot: ${ce.length} savings records`)):(ce=H.filter(_=>_.distributionId&&_.distributionId.toString()===g||_.installmentId&&S.some(q=>q._id===_.installmentId)||!_.distributionId&&_.note?.includes("Initial Savings")&&Y===0).sort((_,q)=>new Date(_.collectionDate||_.dueDate)-new Date(q.collectionDate||q.dueDate)),console.log(` ACTIVE Product - Showing direct savings: ${ce.length} savings records (includes Initial Savings if first product)`));let Ne=0;if(Y>0||L.length>0){const _=H.filter(q=>!(q.distributionId&&q.distributionId.toString()===g||q.installmentId&&S.some(le=>le._id===q.installmentId)||!q.distributionId&&q.note?.includes("Initial Savings")&&Y===0));_.forEach(q=>{const B=q.note?.toLowerCase().includes("withdrawal"),le=q.paidAmount||q.amount||0;Ne+=B?-le:le}),console.log(` Opening balance from transferred savings: ${Ne} (${_.length} previous transactions)`),re&&Ne!==0&&(ce=H.filter(q=>q.distributionId&&q.distributionId.toString()===g||q.installmentId&&S.some(B=>B._id===q.installmentId)||!q.distributionId&&q.note?.includes("Initial Savings")&&Y===0).sort((q,B)=>new Date(q.collectionDate||q.dueDate)-new Date(B.collectionDate||B.dueDate)),console.log(`    Filtered to show only direct savings: ${ce.length} records (opening balance will be shown separately)`))}const Ce=[];let me=Ne;if(Ne!==0&&Ce.push(s.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100 transition-colors",children:[s.jsx("td",{className:"px-3 py-3 text-sm font-bold text-gray-900 border border-gray-800",children:"-"}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-bold text-blue-600 border border-gray-800",children:["",Ne.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:"Opening Balance (Transferred)"})]},"opening-balance")),ce.forEach((_,q)=>{const le=new Date(_.collectionDate||_.dueDate).toLocaleDateString("en-GB"),ne=_.note?.toLowerCase().includes("withdrawal"),z=_.paidAmount||_.amount||0,G=ne?0:z,F=ne?z:0;me+=G-F;const X=(q+(Ne!==0?1:0))%2===0?"bg-white":"bg-gray-50";Ce.push(s.jsxs("tr",{className:`${X} hover:bg-blue-50 transition-colors`,children:[s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:le}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-green-600 border border-gray-800",children:G>0?`${G.toLocaleString()}`:"-"}),s.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-red-600 border border-gray-800",children:F>0?`${F.toLocaleString()}`:"-"}),s.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-blue-600 border border-gray-800",children:["",me.toLocaleString()]}),s.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:_.collector?.name||_.collectorName||"N/A"})]},`sav-${_._id||q}`))}),console.log(` Final savings balance for ${ve}: ${me}`),re&&me!==0){const _=me<0?"Note: This product is completed. Historical transactions shown. Final savings transferred to active products.":`Note: This product is completed. Final balance of ${me.toLocaleString()} transferred to active products.`;console.log(`    ${_}`)}return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:""})," Loan History"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border-collapse border border-gray-800",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Date"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Target"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Collection"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Due"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Outstanding"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Field Officer"})]})}),s.jsx("tbody",{className:"bg-white",children:I})]})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:""})," Savings History"]}),Ce.length>0?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full border-collapse border border-gray-800",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Date"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings In"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Out"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Balance"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Field Officer"})]})}),s.jsx("tbody",{className:"bg-white",children:Ce})]}),re&&me<0&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-800",children:[s.jsx(Xn,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("strong",{children:" Completed Product:"})," This product's loan is fully paid. Historical transactions shown above. Any remaining positive balance has been transferred to active products. Negative balance indicates withdrawals were made using transferred savings from other products."]})]})})]}):s.jsxs("div",{className:"text-center py-12 text-gray-500 border border-gray-200 rounded-lg bg-gray-50",children:[s.jsx(Xn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),"No savings history for this product"]})]})]})})})()})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Member not found"}),s.jsx("button",{onClick:()=>t("/members"),className:"text-blue-600 hover:text-blue-700",children:"Back to Members"})]})})},hY=()=>{const e=ji(),t=ta(),[n,r]=w.useState([]),[i,o]=w.useState([]),[u,f]=w.useState(!0),[h,m]=w.useState(""),[g,x]=w.useState("all"),[y,b]=w.useState(0),j=async()=>{console.log(" fetchPendingInstallments called at:",new Date().toLocaleTimeString()),f(!0);try{const O=new Date;O.setHours(0,0,0,0);const E=Date.now();console.log(" Cache busting timestamp:",E);const P=await ur.getAll({status:"pending",limit:1e3,populate:!0,_t:E});console.log(" Pending response:",{success:P.success,count:P.data?.length||0});const M=await ur.getAll({status:"partial",limit:1e3,populate:!0,_t:E});console.log(" Partial response:",{success:M.success,count:M.data?.length||0});const I=[...P.success?P.data||[]:[],...M.success?M.data||[]:[]];console.log(" Total installments fetched:",I.length);const R=I.filter(H=>{if(!H.member||H.member.isActive===!1)return console.log(" Skipping installment for inactive member:",H.member?.name),!1;const W=H.dueDate||H.collectionDate;if(!W)return!0;const Q=new Date(W);return Q.setHours(0,0,0,0),Q<=O});R.sort((H,W)=>{const Q=new Date(H.dueDate||H.collectionDate||new Date),ve=new Date(W.dueDate||W.collectionDate||new Date);return Q-ve}),console.log(" Due installments after filtering:",R.length),R.length>0&&console.log(" First few due installments:",R.slice(0,3).map(H=>({member:H.member?.name,amount:H.amount,dueDate:H.dueDate,status:H.status}))),r(R);const U=new Map;R.forEach(H=>{if(!H.member||!H.collector)return;const W=H.collector._id||H.collector.id,Q=H.collector.name||"Unknown",ve=H.member._id||H.member.id;U.has(W)||U.set(W,{collector:H.collector,members:new Map});const Y=U.get(W);Y.members.has(ve)||Y.members.set(ve,{member:H.member,installments:[],totalDue:0});const re=Y.members.get(ve);re.installments.push(H);const ge=H.status==="partial"?H.amount-(H.paidAmount||0):H.amount;re.totalDue+=ge});const V=Array.from(U.values()).map(H=>({collector:H.collector,members:Array.from(H.members.values()),totalMembers:H.members.size,totalDue:Array.from(H.members.values()).reduce((W,Q)=>W+Q.totalDue,0)}));V.sort((H,W)=>W.totalDue-H.totalDue),console.log(" Collector groups created:",V.length),V.forEach(H=>{console.log(`   - ${H.collector.name}: ${H.totalMembers} members, ${H.totalDue}`)}),o(V)}catch(O){console.error("Error fetching pending installments:",O),ke.error("Failed to load pending installments")}finally{f(!1)}};w.useEffect(()=>{console.log(" Location changed - refreshing pending installments"),console.log(" Location key:",t.key,"Pathname:",t.pathname),b(O=>O+1),j()},[t.pathname,t.key]),w.useEffect(()=>{j();const O=()=>{document.hidden||(console.log(" Page became visible, refreshing pending installments..."),j())},E=P=>{console.log(" Installment collected! Refreshing pending list...",P.detail),setTimeout(()=>{b(M=>M+1),j(),ke.success("Pending list updated!",{icon:"",duration:2e3})},1e3)};return document.addEventListener("visibilitychange",O),window.addEventListener("installmentCollected",E),window.addEventListener("dashboardReload",E),()=>{document.removeEventListener("visibilitychange",O),window.removeEventListener("installmentCollected",E),window.removeEventListener("dashboardReload",E)}},[]);const N=i.filter(O=>{if(g!=="all"){const E=O.collector._id||O.collector.id;if(String(E)!==String(g))return!1}return h?O.members.filter(P=>{const M=P.member;return M.name?.toLowerCase().includes(h.toLowerCase())||M.phone?.includes(h)||M.branchCode?.includes(h)}).length>0:!0}).map(O=>{if(h){const E=O.members.filter(P=>{const M=P.member;return M.name?.toLowerCase().includes(h.toLowerCase())||M.phone?.includes(h)||M.branchCode?.includes(h)});return{...O,members:E,totalMembers:E.length,totalDue:E.reduce((P,M)=>P+M.totalDue,0)}}return O}),S=N.reduce((O,E)=>O+E.totalDue,0),A=N.reduce((O,E)=>O+E.totalMembers,0),T=(O,E)=>{const P=O.member;if(!P){ke.error("Member information not available");return}const M=E?{_id:E._id||E.id,name:E.name||"Unknown",email:E.email||""}:null,I={code:P.branchCode||P.branch_code||"N/A",branchCode:P.branchCode||P.branch_code||"N/A",name:P.branch||"Unknown",collectorName:M?.name||"Unknown"},H={day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],collector:M,branch:I,dashboard:!1,directMember:P};localStorage.setItem("installmentCollectionState",JSON.stringify(H)),M&&localStorage.setItem("selectedCollector",JSON.stringify(M)),ke.success(`Opening collection for ${P.name}`,{icon:"",duration:2e3}),e("/installments")},D=O=>{if(!O)return 0;const E=new Date;E.setHours(0,0,0,0);const P=new Date(O);P.setHours(0,0,0,0);const M=E-P,I=Math.floor(M/(1e3*60*60*24));return I>0?I:0};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ac,{className:"h-4 w-4 inline mr-1"}),"Search Member"]}),s.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),placeholder:"Search by name, phone, or branch code...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Gt,{className:"h-4 w-4 inline mr-1"}),"Filter by Collector"]}),s.jsxs("select",{value:g,onChange:O=>x(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[s.jsx("option",{value:"all",children:"All Collectors"}),i.map(O=>s.jsxs("option",{value:O.collector._id||O.collector.id,children:[O.collector.name," (",O.totalMembers," members)"]},O.collector._id||O.collector.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Pending Amount"}),s.jsxs("p",{className:"text-3xl font-bold",children:["",S.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Members"}),s.jsx("p",{className:"text-3xl font-bold",children:A})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Collectors"}),s.jsx("p",{className:"text-3xl font-bold",children:N.length})]})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsxs("button",{onClick:j,disabled:u,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-all disabled:opacity-50",children:[u?s.jsx(fd,{className:"h-4 w-4 animate-spin"}):s.jsx(Oa,{className:"h-4 w-4"}),s.jsx("span",{children:"Refresh"})]})})]}),s.jsx("div",{className:"space-y-6",children:u?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(fd,{className:"h-8 w-8 animate-spin text-orange-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading pending installments..."})]})}):N.length===0?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-lg font-semibold mb-2",children:h||g!=="all"?"No pending installments found matching your filters":"No pending installments found"}),s.jsx("p",{className:"text-sm text-gray-500",children:"All installments are up to date!"})]})}):N.map(O=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 pb-4 border-b-2 border-orange-200 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:s.jsx(Gt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:O.collector.name}),s.jsx("p",{className:"text-sm text-gray-600",children:O.collector.email})]})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Due"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",O.totalDue.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[O.totalMembers," members"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.members.map((E,P)=>{const M=E.member,I=E.installments[0],R=D(I?.dueDate),U=R>0;return s.jsxs("div",{onClick:()=>T(E,O.collector),className:"border-2 border-orange-200 rounded-lg p-4 hover:shadow-lg hover:border-orange-400 transition-all cursor-pointer bg-gradient-to-r from-white to-orange-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[M.photo?s.jsx("img",{src:M.photo,alt:M.name,className:"h-12 w-12 rounded-full object-cover border-2 border-orange-300"}):s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center border-2 border-orange-300",children:s.jsx("span",{className:"text-lg font-bold text-white",children:M.name?.charAt(0)||"M"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-gray-900 truncate",children:M.name}),s.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[" ",M.phone]})]})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[s.jsx(is,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{className:"truncate",children:[M.branchCode||"N/A"," - ",M.branch||"Unknown"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 mb-2 border border-red-300",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Total Due Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",E.totalDue.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[E.installments.length," pending installment",E.installments.length>1?"s":""]})]}),s.jsx("div",{className:"flex justify-between items-center",children:U?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-600 text-white animate-pulse",children:[s.jsx(Xn,{className:"h-3 w-3 mr-1"}),R," day",R>1?"s":""," overdue"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[s.jsx(Aa,{className:"h-3 w-3 mr-1"}),"Due Today"]})})]},M._id||P)})})]},O.collector._id||O.collector.id))})]})})},gY=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,o]=w.useState(!0),u=()=>new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Dhaka"}),[f,h]=w.useState(u());w.useEffect(()=>{m()},[f]);const m=async()=>{try{o(!0);const g=await pn.getAll({limit:1e3,includeDeleted:!0});if(g.success){const x=f;console.log(" Total members from API:",g.data.length),console.log(" Filter date (BD):",x);const y=N=>N?new Date(N).toLocaleDateString("en-CA",{timeZone:"Asia/Dhaka"})===x:!1,b=g.data.filter(N=>N.isActive===!1&&N.updatedAt?y(N.updatedAt):!1),j=g.data.filter(N=>N.isActive!==!1&&N.createdAt?y(N.createdAt):!1);console.log(" Date:",f,"Deleted:",b.length,"Joined:",j.length),t(b),r(j)}else fe.error("Failed to load activity")}catch(g){console.error("Error fetching activity:",g),fe.error("Error loading activity")}finally{o(!1)}};return i?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading activity..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg",children:s.jsx(X2,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Member Activity Log"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track member additions and deletions by date"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tn,{className:"h-5 w-5 text-gray-500"}),s.jsx("input",{type:"date",value:f,onChange:g=>h(g.target.value),max:u(),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("button",{onClick:m,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[s.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Members Deleted"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.length}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Wh,{className:"h-8 w-8 text-red-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Members Joined"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.length}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(sd,{className:"h-8 w-8 text-green-600"})})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wh,{className:"h-5 w-5 text-red-600"}),s.jsxs("h2",{className:"text-lg font-semibold text-red-900",children:["Members Deleted (",e.length,")"]})]})}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wh,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No members deleted on this date"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deleted Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Gt,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",g.memberCode||"N/A"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(jl,{className:"h-4 w-4 mr-2 text-gray-400"}),g.phone||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(M0,{className:"h-4 w-4 mr-2 text-gray-400"}),g.branchCode&&g.branch?`${g.branchCode} - ${g.branch}`:g.branch||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.assignedCollector?.name||"Not Assigned"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.updatedAt?new Date(g.updatedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A"})]},g._id))})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"bg-green-50 border-b border-green-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sd,{className:"h-5 w-5 text-green-600"}),s.jsxs("h2",{className:"text-lg font-semibold text-green-900",children:["Members Joined (",n.length,")"]})]})}),n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(sd,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No new members joined on this date"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Gt,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",g.memberCode||"N/A"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(jl,{className:"h-4 w-4 mr-2 text-gray-400"}),g.phone||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(M0,{className:"h-4 w-4 mr-2 text-gray-400"}),g.branchCode&&g.branch?`${g.branchCode} - ${g.branch}`:g.branch||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.assignedCollector?.name||"Not Assigned"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.createdAt?new Date(g.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A"})]},g._id))})]})})]})]})},pY=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,o]=w.useState(null),[u,f]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState(!1),[y,b]=w.useState(!0),[j,N]=w.useState(!1);w.useEffect(()=>{A(),T(),S()},[]);const S=()=>{b(!0)},A=async()=>{try{r(!0);const E=await Uu.checkBalance();E.success?(t(E.data),fe.success("Balance updated")):fe.error("Failed to check balance")}catch(E){console.error("Balance check error:",E),fe.error("Error checking balance")}finally{r(!1)}},T=async()=>{try{const E=await Uu.getSchedulerStatus();E.success&&o(E.data)}catch(E){console.error("Scheduler status error:",E)}},D=async()=>{if(!u||!h){fe.error("Phone and message required");return}try{x(!0),(await Uu.sendTestSMS(u,h)).success?(fe.success("Test SMS sent successfully!"),f(""),m("")):fe.error("Failed to send test SMS")}catch(E){console.error("Test SMS error:",E),fe.error("Error sending test SMS")}finally{x(!1)}},O=async()=>{try{N(!0);const E=!y;(await Uu.updateSettings({enableSMS:E})).success?(b(E),fe.success(`SMS System ${E?"Enabled":"Disabled"}`)):fe.error("Failed to update SMS settings")}catch(E){console.error("Toggle SMS error:",E),fe.error("Error updating SMS settings")}finally{N(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-100 to-blue-100 rounded-lg",children:s.jsx(J2,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SMS Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage SMS balance, settings, and send test messages"})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Balance"})]}),s.jsx("button",{onClick:A,disabled:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Oa,{className:`h-4 w-4 text-gray-600 ${n?"animate-spin":""}`})})]}),e?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",e.balance]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Provider: ",e.provider]})]}):s.jsx("p",{className:"text-gray-500",children:"Loading..."})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Aa,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Auto Scheduler"})]}),i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Schedule: ",i.scheduledTime]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Next: ",i.nextRun?new Date(i.nextRun).toLocaleString("en-US"):"N/A"]})]}):s.jsx("p",{className:"text-gray-500",children:"Loading..."})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Ip,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS System"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Auto SMS Reminders"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Daily at 9:00 PM"})]}),s.jsx("button",{onClick:O,disabled:j,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 ${y?"bg-green-600":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${y?"translate-x-7":"translate-x-1"}`})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3",children:y?" SMS reminders are enabled":" SMS reminders are disabled"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Ow,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Test SMS"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"text",value:u,onChange:E=>f(E.target.value),placeholder:"01XXXXXXXXX",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),s.jsx("input",{type:"text",value:h,onChange:E=>m(E.target.value),placeholder:"Test message",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("button",{onClick:D,disabled:g||!u||!h,className:"mt-4 inline-flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Ow,{className:"h-4 w-4 mr-2"}),g?"Sending...":"Send Test SMS"]})]}),s.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Xn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"SMS System Information"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Automatic due reminders are sent daily at 9:00 PM Bangladesh time"}),s.jsx("li",{children:"Only members with dues today will receive SMS reminders"}),s.jsx("li",{children:"SMS balance is checked from BulkSMSBD API"}),s.jsx("li",{children:"Test SMS feature available to verify system"})]})]})]})})]})};function xY(){const{isAuthenticated:e,loading:t}=sc();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsx(vP,{children:s.jsx(W5,{children:e?s.jsxs(s.Fragment,{children:[s.jsxs(Yt,{path:"/",element:s.jsx(KM,{}),children:[s.jsx(Yt,{index:!0,element:s.jsx(HK,{})}),s.jsx(Yt,{path:"profile",element:s.jsx(ZM,{})}),s.jsx(Yt,{path:"members",element:s.jsx(KK,{})}),s.jsx(Yt,{path:"members/:id",element:s.jsx(mY,{})}),s.jsx(Yt,{path:"activity-log",element:s.jsx(gY,{})}),s.jsx(Yt,{path:"products",element:s.jsx(XK,{})}),s.jsx(Yt,{path:"sales-report",element:s.jsx(VK,{})}),s.jsx(Yt,{path:"installments",element:s.jsx(sY,{})}),s.jsx(Yt,{path:"pending-installments",element:s.jsx(hY,{})}),s.jsx(Yt,{path:"extra-installments",element:s.jsx(iY,{})}),s.jsx(Yt,{path:"savings",element:s.jsx(oY,{})}),s.jsx(Yt,{path:"weekly",element:s.jsx(cY,{})}),s.jsx(Yt,{path:"daily-collection",element:s.jsx(uY,{})}),s.jsx(Yt,{path:"daily-savings",element:s.jsx(dY,{})}),s.jsx(Yt,{path:"total-due",element:s.jsx(fY,{})}),s.jsx(Yt,{path:"sms-management",element:s.jsx(pY,{})})]}),s.jsx(Yt,{path:"*",element:s.jsx(Sw,{to:"/",replace:!0})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Yt,{path:"/login",element:s.jsx(HM,{})}),s.jsx(Yt,{path:"/register",element:s.jsx(FM,{})}),s.jsx(Yt,{path:"*",element:s.jsx(Sw,{to:"/login",replace:!0})})]})})})}function yY(){return s.jsxs(qM,{children:[s.jsx(xY,{}),s.jsx(x4,{position:"top-right",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:4e3,style:{background:"#363636",color:"#fff",padding:"16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},success:{duration:3e3,style:{background:"#10B981",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#10B981"}},error:{duration:4e3,style:{background:"#EF4444",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#EF4444"}},loading:{style:{background:"#3B82F6",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#3B82F6"}}}})]})}n5.createRoot(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(yY,{})}));
