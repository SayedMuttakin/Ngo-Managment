function VO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function La(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hh={exports:{}},To={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function XO(){if(mw)return To;mw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var f in i)f!=="key"&&(o[f]=i[f])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:u,ref:i!==void 0?i:null,props:o}}return To.Fragment=t,To.jsx=n,To.jsxs=n,To}var hw;function WO(){return hw||(hw=1,Hh.exports=XO()),Hh.exports}var l=WO(),Fh={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function ZO(){if(gw)return nt;gw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function S($,le,z){this.props=$,this.context=le,this.refs=j,this.updater=z||w}S.prototype.isReactComponent={},S.prototype.setState=function($,le){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,le,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=S.prototype;function C($,le,z){this.props=$,this.context=le,this.refs=j,this.updater=z||w}var T=C.prototype=new A;T.constructor=C,N(T,S.prototype),T.isPureReactComponent=!0;var k=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function M($,le,z,ue,be,Ce){return z=Ce.ref,{$$typeof:e,type:$,key:le,ref:z!==void 0?z:null,props:Ce}}function I($,le){return M($.type,le,void 0,void 0,void 0,$.props)}function R($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function H($){var le={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(z){return le[z]})}var V=/\/+/g;function F($,le){return typeof $=="object"&&$!==null&&$.key!=null?H(""+$.key):le.toString(36)}function X(){}function G($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(X,X):($.status="pending",$.then(function(le){$.status==="pending"&&($.status="fulfilled",$.value=le)},function(le){$.status==="pending"&&($.status="rejected",$.reason=le)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ge($,le,z,ue,be){var Ce=typeof $;(Ce==="undefined"||Ce==="boolean")&&($=null);var J=!1;if($===null)J=!0;else switch(Ce){case"bigint":case"string":case"number":J=!0;break;case"object":switch($.$$typeof){case e:case t:J=!0;break;case g:return J=$._init,ge(J($._payload),le,z,ue,be)}}if(J)return be=be($),J=ue===""?"."+F($,0):ue,k(be)?(z="",J!=null&&(z=J.replace(V,"$&/")+"/"),ge(be,le,z,"",function(L){return L})):be!=null&&(R(be)&&(be=I(be,z+(be.key==null||$&&$.key===be.key?"":(""+be.key).replace(V,"$&/")+"/")+J)),le.push(be)),1;J=0;var O=ue===""?".":ue+":";if(k($))for(var U=0;U<$.length;U++)ue=$[U],Ce=O+F(ue,U),J+=ge(ue,le,z,Ce,be);else if(U=y($),typeof U=="function")for($=U.call($),U=0;!(ue=$.next()).done;)ue=ue.value,Ce=O+F(ue,U++),J+=ge(ue,le,z,Ce,be);else if(Ce==="object"){if(typeof $.then=="function")return ge(G($),le,z,ue,be);throw le=String($),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return J}function K($,le,z){if($==null)return $;var ue=[],be=0;return ge($,ue,"","",function(Ce){return le.call(z,Ce,be++)}),ue}function re($){if($._status===-1){var le=$._result;le=le(),le.then(function(z){($._status===0||$._status===-1)&&($._status=1,$._result=z)},function(z){($._status===0||$._status===-1)&&($._status=2,$._result=z)}),$._status===-1&&($._status=0,$._result=le)}if($._status===1)return $._result.default;throw $._result}var he=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function De(){}return nt.Children={map:K,forEach:function($,le,z){K($,function(){le.apply(this,arguments)},z)},count:function($){var le=0;return K($,function(){le++}),le},toArray:function($){return K($,function(le){return le})||[]},only:function($){if(!R($))throw Error("React.Children.only expected to receive a single React element child.");return $}},nt.Component=S,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=C,nt.StrictMode=r,nt.Suspense=h,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,nt.__COMPILER_RUNTIME={__proto__:null,c:function($){return D.H.useMemoCache($)}},nt.cache=function($){return function(){return $.apply(null,arguments)}},nt.cloneElement=function($,le,z){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ue=N({},$.props),be=$.key,Ce=void 0;if(le!=null)for(J in le.ref!==void 0&&(Ce=void 0),le.key!==void 0&&(be=""+le.key),le)!P.call(le,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&le.ref===void 0||(ue[J]=le[J]);var J=arguments.length-2;if(J===1)ue.children=z;else if(1<J){for(var O=Array(J),U=0;U<J;U++)O[U]=arguments[U+2];ue.children=O}return M($.type,be,void 0,void 0,Ce,ue)},nt.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},nt.createElement=function($,le,z){var ue,be={},Ce=null;if(le!=null)for(ue in le.key!==void 0&&(Ce=""+le.key),le)P.call(le,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=le[ue]);var J=arguments.length-2;if(J===1)be.children=z;else if(1<J){for(var O=Array(J),U=0;U<J;U++)O[U]=arguments[U+2];be.children=O}if($&&$.defaultProps)for(ue in J=$.defaultProps,J)be[ue]===void 0&&(be[ue]=J[ue]);return M($,Ce,void 0,void 0,null,be)},nt.createRef=function(){return{current:null}},nt.forwardRef=function($){return{$$typeof:f,render:$}},nt.isValidElement=R,nt.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:re}},nt.memo=function($,le){return{$$typeof:m,type:$,compare:le===void 0?null:le}},nt.startTransition=function($){var le=D.T,z={};D.T=z;try{var ue=$(),be=D.S;be!==null&&be(z,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(De,he)}catch(Ce){he(Ce)}finally{D.T=le}},nt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},nt.use=function($){return D.H.use($)},nt.useActionState=function($,le,z){return D.H.useActionState($,le,z)},nt.useCallback=function($,le){return D.H.useCallback($,le)},nt.useContext=function($){return D.H.useContext($)},nt.useDebugValue=function(){},nt.useDeferredValue=function($,le){return D.H.useDeferredValue($,le)},nt.useEffect=function($,le,z){var ue=D.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect($,le)},nt.useId=function(){return D.H.useId()},nt.useImperativeHandle=function($,le,z){return D.H.useImperativeHandle($,le,z)},nt.useInsertionEffect=function($,le){return D.H.useInsertionEffect($,le)},nt.useLayoutEffect=function($,le){return D.H.useLayoutEffect($,le)},nt.useMemo=function($,le){return D.H.useMemo($,le)},nt.useOptimistic=function($,le){return D.H.useOptimistic($,le)},nt.useReducer=function($,le,z){return D.H.useReducer($,le,z)},nt.useRef=function($){return D.H.useRef($)},nt.useState=function($){return D.H.useState($)},nt.useSyncExternalStore=function($,le,z){return D.H.useSyncExternalStore($,le,z)},nt.useTransition=function(){return D.H.useTransition()},nt.version="19.1.1",nt}var pw;function yi(){return pw||(pw=1,Fh.exports=ZO()),Fh.exports}var b=yi();const cd=La(b),QO=VO({__proto__:null,default:cd},[b]);var Yh={exports:{}},Oo={},Kh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function JO(){return xw||(xw=1,(function(e){function t(K,re){var he=K.length;K.push(re);e:for(;0<he;){var De=he-1>>>1,$=K[De];if(0<i($,re))K[De]=re,K[he]=$,he=De;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var re=K[0],he=K.pop();if(he!==re){K[0]=he;e:for(var De=0,$=K.length,le=$>>>1;De<le;){var z=2*(De+1)-1,ue=K[z],be=z+1,Ce=K[be];if(0>i(ue,he))be<$&&0>i(Ce,ue)?(K[De]=Ce,K[be]=he,De=be):(K[De]=ue,K[z]=he,De=z);else if(be<$&&0>i(Ce,he))K[De]=Ce,K[be]=he,De=be;else break e}}return re}function i(K,re){var he=K.sortIndex-re.sortIndex;return he!==0?he:K.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],g=1,x=null,y=3,w=!1,N=!1,j=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var re=n(m);re!==null;){if(re.callback===null)r(m);else if(re.startTime<=K)r(m),re.sortIndex=re.expirationTime,t(h,re);else break;re=n(m)}}function D(K){if(j=!1,k(K),!N)if(n(h)!==null)N=!0,P||(P=!0,F());else{var re=n(m);re!==null&&ge(D,re.startTime-K)}}var P=!1,M=-1,I=5,R=-1;function H(){return S?!0:!(e.unstable_now()-R<I)}function V(){if(S=!1,P){var K=e.unstable_now();R=K;var re=!0;try{e:{N=!1,j&&(j=!1,C(M),M=-1),w=!0;var he=y;try{t:{for(k(K),x=n(h);x!==null&&!(x.expirationTime>K&&H());){var De=x.callback;if(typeof De=="function"){x.callback=null,y=x.priorityLevel;var $=De(x.expirationTime<=K);if(K=e.unstable_now(),typeof $=="function"){x.callback=$,k(K),re=!0;break t}x===n(h)&&r(h),k(K)}else r(h);x=n(h)}if(x!==null)re=!0;else{var le=n(m);le!==null&&ge(D,le.startTime-K),re=!1}}break e}finally{x=null,y=he,w=!1}re=void 0}}finally{re?F():P=!1}}}var F;if(typeof T=="function")F=function(){T(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=V,F=function(){G.postMessage(null)}}else F=function(){A(V,0)};function ge(K,re){M=A(function(){K(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(K){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var he=y;y=re;try{return K()}finally{y=he}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=y;y=K;try{return re()}finally{y=he}},e.unstable_scheduleCallback=function(K,re,he){var De=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?De+he:De):he=De,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=he+$,K={id:g++,callback:re,priorityLevel:K,startTime:he,expirationTime:$,sortIndex:-1},he>De?(K.sortIndex=he,t(m,K),n(h)===null&&K===n(m)&&(j?(C(M),M=-1):j=!0,ge(D,he-De))):(K.sortIndex=$,t(h,K),N||w||(N=!0,P||(P=!0,F()))),K},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(K){var re=y;return function(){var he=y;y=re;try{return K.apply(this,arguments)}finally{y=he}}}})(Gh)),Gh}var yw;function e5(){return yw||(yw=1,Kh.exports=JO()),Kh.exports}var Vh={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function t5(){if(vw)return Pn;vw=1;var e=yi();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pn.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},Pn.flushSync=function(h){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=m,r.p=g,r.d.f()}},Pn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},Pn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Pn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:w}):g==="script"&&r.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},Pn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin);r.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pn.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},Pn.requestFormReset=function(h){r.d.r(h)},Pn.unstable_batchedUpdates=function(h,m){return h(m)},Pn.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.1.1",Pn}var bw;function C2(){if(bw)return Vh.exports;bw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vh.exports=t5(),Vh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function n5(){if(ww)return Oo;ww=1;var e=e5(),t=yi(),n=C2();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,d=s;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return f(p),a;if(v===d)return f(p),s;v=v.sibling}throw Error(r(188))}if(c.return!==d.return)c=p,d=v;else{for(var E=!1,_=p.child;_;){if(_===c){E=!0,c=p,d=v;break}if(_===d){E=!0,d=p,c=v;break}_=_.sibling}if(!E){for(_=v.child;_;){if(_===c){E=!0,c=v,d=p;break}if(_===d){E=!0,d=v,c=p;break}_=_.sibling}if(!E)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function G(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case T:return(a.displayName||"Context")+".Provider";case C:return(a._context.displayName||"Context")+".Consumer";case k:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return s=a.displayName||null,s!==null?s:G(a.type)||"Memo";case I:s=a._payload,a=a._init;try{return G(a(s))}catch{}}return null}var ge=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},De=[],$=-1;function le(a){return{current:a}}function z(a){0>$||(a.current=De[$],De[$]=null,$--)}function ue(a,s){$++,De[$]=a.current,a.current=s}var be=le(null),Ce=le(null),J=le(null),O=le(null);function U(a,s){switch(ue(J,s),ue(Ce,a),ue(be,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?z1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=z1(s),a=q1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(be),ue(be,a)}function L(){z(be),z(Ce),z(J)}function ee(a){a.memoizedState!==null&&ue(O,a);var s=be.current,c=q1(s,a.type);s!==c&&(ue(Ce,a),ue(be,c))}function te(a){Ce.current===a&&(z(be),z(Ce)),O.current===a&&(z(O),So._currentValue=he)}var q=Object.prototype.hasOwnProperty,ie=e.unstable_scheduleCallback,B=e.unstable_cancelCallback,W=e.unstable_shouldYield,xe=e.unstable_requestPaint,Z=e.unstable_now,we=e.unstable_getCurrentPriorityLevel,Ee=e.unstable_ImmediatePriority,Se=e.unstable_UserBlockingPriority,Te=e.unstable_NormalPriority,oe=e.unstable_LowPriority,ke=e.unstable_IdlePriority,et=e.log,Je=e.unstable_setDisableYieldValue,Le=null,Me=null;function Oe(a){if(typeof et=="function"&&Je(a),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Le,a)}catch{}}var Ze=Math.clz32?Math.clz32:wt,zt=Math.log,$t=Math.LN2;function wt(a){return a>>>=0,a===0?32:31-(zt(a)/$t|0)|0}var Be=256,qe=4194304;function jt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ke(a,s,c){var d=a.pendingLanes;if(d===0)return 0;var p=0,v=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var _=d&134217727;return _!==0?(d=_&~v,d!==0?p=jt(d):(E&=_,E!==0?p=jt(E):c||(c=_&~a,c!==0&&(p=jt(c))))):(_=d&~v,_!==0?p=jt(_):E!==0?p=jt(E):c||(c=d&~a,c!==0&&(p=jt(c)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,c=s&-s,v>=c||v===32&&(c&4194048)!==0)?s:p}function He(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Ne(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pe(){var a=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),a}function ye(){var a=qe;return qe<<=1,(qe&62914560)===0&&(qe=4194304),a}function _e(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Ue(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Xe(a,s,c,d,p,v){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var _=a.entanglements,Y=a.expirationTimes,se=a.hiddenUpdates;for(c=E&~c;0<c;){var ve=31-Ze(c),Ae=1<<ve;_[ve]=0,Y[ve]=-1;var ce=se[ve];if(ce!==null)for(se[ve]=null,ve=0;ve<ce.length;ve++){var fe=ce[ve];fe!==null&&(fe.lane&=-536870913)}c&=~Ae}d!==0&&tt(a,d,0),v!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=v&~(E&~s))}function tt(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-Ze(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|c&4194090}function ft(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var d=31-Ze(c),p=1<<d;p&s|a[d]&s&&(a[d]|=s),c&=~p}}function mt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function In(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Rn(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:iw(a.type))}function ra(a,s){var c=re.p;try{return re.p=a,s()}finally{re.p=c}}var dt=Math.random().toString(36).slice(2),rt="__reactFiber$"+dt,Yt="__reactProps$"+dt,ct="__reactContainer$"+dt,lt="__reactEvents$"+dt,Ya="__reactListeners$"+dt,jn="__reactHandles$"+dt,Ka="__reactResources$"+dt,aa="__reactMarker$"+dt;function $i(a){delete a[rt],delete a[Yt],delete a[lt],delete a[Ya],delete a[jn]}function Ga(a){var s=a[rt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[ct]||c[rt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=K1(a);a!==null;){if(c=a[rt])return c;a=K1(a)}return s}a=c,c=a.parentNode}return null}function qn(a){if(a=a[rt]||a[ct]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function Pt(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Ml(a){var s=a[Ka];return s||(s=a[Ka]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(a){a[aa]=!0}var Ac=new Set,Cc={};function kl(a,s){bs(a,s),bs(a+"Capture",s)}function bs(a,s){for(Cc[a]=s,a=0;a<s.length;a++)Ac.add(s[a])}var U3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),My={},ky={};function z3(a){return q.call(ky,a)?!0:q.call(My,a)?!1:U3.test(a)?ky[a]=!0:(My[a]=!0,!1)}function Dc(a,s,c){if(z3(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Ec(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function la(a,s,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+d)}}var Rf,_y;function ws(a){if(Rf===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Rf=s&&s[1]||"",_y=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rf+a+_y}var Lf=!1;function Bf(a,s){if(!a||Lf)return"";Lf=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(fe){var ce=fe}Reflect.construct(a,[],Ae)}else{try{Ae.call()}catch(fe){ce=fe}a.call(Ae.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(Ae=a())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),E=v[0],_=v[1];if(E&&_){var Y=E.split(`
`),se=_.split(`
`);for(p=d=0;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;for(;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;if(d===Y.length||p===se.length)for(d=Y.length-1,p=se.length-1;1<=d&&0<=p&&Y[d]!==se[p];)p--;for(;1<=d&&0<=p;d--,p--)if(Y[d]!==se[p]){if(d!==1||p!==1)do if(d--,p--,0>p||Y[d]!==se[p]){var ve=`
`+Y[d].replace(" at new "," at ");return a.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",a.displayName)),ve}while(1<=d&&0<=p);break}}}finally{Lf=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ws(c):""}function q3(a){switch(a.tag){case 26:case 27:case 5:return ws(a.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return Bf(a.type,!1);case 11:return Bf(a.type.render,!1);case 1:return Bf(a.type,!0);case 31:return ws("Activity");default:return""}}function $y(a){try{var s="";do s+=q3(a),a=a.return;while(a);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function xr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Iy(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function H3(a){var s=Iy(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),d=""+a[s];if(!a.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(a,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Tc(a){a._valueTracker||(a._valueTracker=H3(a))}function Ry(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return a&&(d=Iy(a)?a.checked?"true":"false":a.value),a=d,a!==c?(s.setValue(a),!0):!1}function Oc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var F3=/[\n"\\]/g;function yr(a){return a.replace(F3,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Uf(a,s,c,d,p,v,E,_){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),s!=null?E==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+xr(s)):a.value!==""+xr(s)&&(a.value=""+xr(s)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),s!=null?zf(a,E,xr(s)):c!=null?zf(a,E,xr(c)):d!=null&&a.removeAttribute("value"),p==null&&v!=null&&(a.defaultChecked=!!v),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.name=""+xr(_):a.removeAttribute("name")}function Ly(a,s,c,d,p,v,E,_){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),s!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;c=c!=null?""+xr(c):"",s=s!=null?""+xr(s):c,_||s===a.value||(a.value=s),a.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=_?a.checked:!!d,a.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function zf(a,s,c){s==="number"&&Oc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function js(a,s,c,d){if(a=a.options,s){s={};for(var p=0;p<c.length;p++)s["$"+c[p]]=!0;for(c=0;c<a.length;c++)p=s.hasOwnProperty("$"+a[c].value),a[c].selected!==p&&(a[c].selected=p),p&&d&&(a[c].defaultSelected=!0)}else{for(c=""+xr(c),s=null,p=0;p<a.length;p++){if(a[p].value===c){a[p].selected=!0,d&&(a[p].defaultSelected=!0);return}s!==null||a[p].disabled||(s=a[p])}s!==null&&(s.selected=!0)}}function By(a,s,c){if(s!=null&&(s=""+xr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+xr(c):""}function Uy(a,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(r(92));if(ge(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=xr(s),a.defaultValue=c,d=a.textContent,d===c&&d!==""&&d!==null&&(a.value=d)}function Ns(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var Y3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zy(a,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,c):typeof c!="number"||c===0||Y3.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function qy(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&c[p]!==d&&zy(a,p,d)}else for(var v in s)s.hasOwnProperty(v)&&zy(a,v,s[v])}function qf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pc(a){return G3.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Hf=null;function Ff(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ss=null,As=null;function Hy(a){var s=qn(a);if(s&&(a=s.stateNode)){var c=a[Yt]||null;e:switch(a=s.stateNode,s.type){case"input":if(Uf(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==a&&d.form===a.form){var p=d[Yt]||null;if(!p)throw Error(r(90));Uf(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===a.form&&Ry(d)}break e;case"textarea":By(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&js(a,!!c.multiple,s,!1)}}}var Yf=!1;function Fy(a,s,c){if(Yf)return a(s,c);Yf=!0;try{var d=a(s);return d}finally{if(Yf=!1,(Ss!==null||As!==null)&&(pu(),Ss&&(s=Ss,a=As,As=Ss=null,Hy(s),a)))for(s=0;s<a.length;s++)Hy(a[s])}}function Ii(a,s){var c=a.stateNode;if(c===null)return null;var d=c[Yt]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=!1;if(sa)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Kf=!1}var Va=null,Gf=null,Mc=null;function Yy(){if(Mc)return Mc;var a,s=Gf,c=s.length,d,p="value"in Va?Va.value:Va.textContent,v=p.length;for(a=0;a<c&&s[a]===p[a];a++);var E=c-a;for(d=1;d<=E&&s[c-d]===p[v-d];d++);return Mc=p.slice(a,1<d?1-d:void 0)}function kc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function _c(){return!0}function Ky(){return!1}function Hn(a){function s(c,d,p,v,E){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var _ in a)a.hasOwnProperty(_)&&(c=a[_],this[_]=c?c(v):v[_]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_c:Ky,this.isPropagationStopped=Ky,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),s}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Hn(_l),Li=g({},_l,{view:0,detail:0}),V3=Hn(Li),Vf,Xf,Bi,Ic=g({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bi&&(Bi&&a.type==="mousemove"?(Vf=a.screenX-Bi.screenX,Xf=a.screenY-Bi.screenY):Xf=Vf=0,Bi=a),Vf)},movementY:function(a){return"movementY"in a?a.movementY:Xf}}),Gy=Hn(Ic),X3=g({},Ic,{dataTransfer:0}),W3=Hn(X3),Z3=g({},Li,{relatedTarget:0}),Wf=Hn(Z3),Q3=g({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),J3=Hn(Q3),eT=g({},_l,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tT=Hn(eT),nT=g({},_l,{data:0}),Vy=Hn(nT),rT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sT(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=lT[a])?!!s[a]:!1}function Zf(){return sT}var iT=g({},Li,{key:function(a){if(a.key){var s=rT[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=kc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?aT[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(a){return a.type==="keypress"?kc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?kc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),oT=Hn(iT),cT=g({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=Hn(cT),uT=g({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),dT=Hn(uT),fT=g({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),mT=Hn(fT),hT=g({},Ic,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),gT=Hn(hT),pT=g({},_l,{newState:0,oldState:0}),xT=Hn(pT),yT=[9,13,27,32],Qf=sa&&"CompositionEvent"in window,Ui=null;sa&&"documentMode"in document&&(Ui=document.documentMode);var vT=sa&&"TextEvent"in window&&!Ui,Wy=sa&&(!Qf||Ui&&8<Ui&&11>=Ui),Zy=" ",Qy=!1;function Jy(a,s){switch(a){case"keyup":return yT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ev(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Cs=!1;function bT(a,s){switch(a){case"compositionend":return ev(s);case"keypress":return s.which!==32?null:(Qy=!0,Zy);case"textInput":return a=s.data,a===Zy&&Qy?null:a;default:return null}}function wT(a,s){if(Cs)return a==="compositionend"||!Qf&&Jy(a,s)?(a=Yy(),Mc=Gf=Va=null,Cs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wy&&s.locale!=="ko"?null:s.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!jT[a.type]:s==="textarea"}function nv(a,s,c,d){Ss?As?As.push(d):As=[d]:Ss=d,s=ju(s,"onChange"),0<s.length&&(c=new $c("onChange","change",null,c,d),a.push({event:c,listeners:s}))}var zi=null,qi=null;function NT(a){I1(a,0)}function Rc(a){var s=Pt(a);if(Ry(s))return a}function rv(a,s){if(a==="change")return s}var av=!1;if(sa){var Jf;if(sa){var em="oninput"in document;if(!em){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),em=typeof lv.oninput=="function"}Jf=em}else Jf=!1;av=Jf&&(!document.documentMode||9<document.documentMode)}function sv(){zi&&(zi.detachEvent("onpropertychange",iv),qi=zi=null)}function iv(a){if(a.propertyName==="value"&&Rc(qi)){var s=[];nv(s,qi,a,Ff(a)),Fy(NT,s)}}function ST(a,s,c){a==="focusin"?(sv(),zi=s,qi=c,zi.attachEvent("onpropertychange",iv)):a==="focusout"&&sv()}function AT(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Rc(qi)}function CT(a,s){if(a==="click")return Rc(s)}function DT(a,s){if(a==="input"||a==="change")return Rc(s)}function ET(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var er=typeof Object.is=="function"?Object.is:ET;function Hi(a,s){if(er(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!q.call(s,p)||!er(a[p],s[p]))return!1}return!0}function ov(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cv(a,s){var c=ov(a);a=0;for(var d;c;){if(c.nodeType===3){if(d=a+c.textContent.length,a<=s&&d>=s)return{node:c,offset:s-a};a=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ov(c)}}function uv(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?uv(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function dv(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Oc(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Oc(a.document)}return s}function tm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var TT=sa&&"documentMode"in document&&11>=document.documentMode,Ds=null,nm=null,Fi=null,rm=!1;function fv(a,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;rm||Ds==null||Ds!==Oc(d)||(d=Ds,"selectionStart"in d&&tm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Fi&&Hi(Fi,d)||(Fi=d,d=ju(nm,"onSelect"),0<d.length&&(s=new $c("onSelect","select",null,s,c),a.push({event:s,listeners:d}),s.target=Ds)))}function $l(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Es={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionrun:$l("Transition","TransitionRun"),transitionstart:$l("Transition","TransitionStart"),transitioncancel:$l("Transition","TransitionCancel"),transitionend:$l("Transition","TransitionEnd")},am={},mv={};sa&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Il(a){if(am[a])return am[a];if(!Es[a])return a;var s=Es[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in mv)return am[a]=s[c];return a}var hv=Il("animationend"),gv=Il("animationiteration"),pv=Il("animationstart"),OT=Il("transitionrun"),PT=Il("transitionstart"),MT=Il("transitioncancel"),xv=Il("transitionend"),yv=new Map,lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lm.push("scrollEnd");function Ir(a,s){yv.set(a,s),kl(s,[a])}var vv=new WeakMap;function vr(a,s){if(typeof a=="object"&&a!==null){var c=vv.get(a);return c!==void 0?c:(s={value:a,source:s,stack:$y(s)},vv.set(a,s),s)}return{value:a,source:s,stack:$y(s)}}var br=[],Ts=0,sm=0;function Lc(){for(var a=Ts,s=sm=Ts=0;s<a;){var c=br[s];br[s++]=null;var d=br[s];br[s++]=null;var p=br[s];br[s++]=null;var v=br[s];if(br[s++]=null,d!==null&&p!==null){var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}v!==0&&bv(c,p,v)}}function Bc(a,s,c,d){br[Ts++]=a,br[Ts++]=s,br[Ts++]=c,br[Ts++]=d,sm|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function im(a,s,c,d){return Bc(a,s,c,d),Uc(a)}function Os(a,s){return Bc(a,null,null,s),Uc(a)}function bv(a,s,c){a.lanes|=c;var d=a.alternate;d!==null&&(d.lanes|=c);for(var p=!1,v=a.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(p=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,p&&s!==null&&(p=31-Ze(c),a=v.hiddenUpdates,d=a[p],d===null?a[p]=[s]:d.push(s),s.lane=c|536870912),v):null}function Uc(a){if(50<po)throw po=0,mh=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Ps={};function kT(a,s,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(a,s,c,d){return new kT(a,s,c,d)}function om(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ia(a,s){var c=a.alternate;return c===null?(c=tr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function wv(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function zc(a,s,c,d,p,v){var E=0;if(d=a,typeof a=="function")om(a)&&(E=1);else if(typeof a=="string")E=$O(a,c,be.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=tr(31,c,s,p),a.elementType=R,a.lanes=v,a;case N:return Rl(c.children,p,v,s);case j:E=8,p|=24;break;case S:return a=tr(12,c,s,p|2),a.elementType=S,a.lanes=v,a;case D:return a=tr(13,c,s,p),a.elementType=D,a.lanes=v,a;case P:return a=tr(19,c,s,p),a.elementType=P,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:case T:E=10;break e;case C:E=9;break e;case k:E=11;break e;case M:E=14;break e;case I:E=16,d=null;break e}E=29,c=Error(r(130,a===null?"null":typeof a,"")),d=null}return s=tr(E,c,s,p),s.elementType=a,s.type=d,s.lanes=v,s}function Rl(a,s,c,d){return a=tr(7,a,d,s),a.lanes=c,a}function cm(a,s,c){return a=tr(6,a,null,s),a.lanes=c,a}function um(a,s,c){return s=tr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Ms=[],ks=0,qc=null,Hc=0,wr=[],jr=0,Ll=null,oa=1,ca="";function Bl(a,s){Ms[ks++]=Hc,Ms[ks++]=qc,qc=a,Hc=s}function jv(a,s,c){wr[jr++]=oa,wr[jr++]=ca,wr[jr++]=Ll,Ll=a;var d=oa;a=ca;var p=32-Ze(d)-1;d&=~(1<<p),c+=1;var v=32-Ze(s)+p;if(30<v){var E=p-p%5;v=(d&(1<<E)-1).toString(32),d>>=E,p-=E,oa=1<<32-Ze(s)+p|c<<p|d,ca=v+a}else oa=1<<v|c<<p|d,ca=a}function dm(a){a.return!==null&&(Bl(a,1),jv(a,1,0))}function fm(a){for(;a===qc;)qc=Ms[--ks],Ms[ks]=null,Hc=Ms[--ks],Ms[ks]=null;for(;a===Ll;)Ll=wr[--jr],wr[jr]=null,ca=wr[--jr],wr[jr]=null,oa=wr[--jr],wr[jr]=null}var Ln=null,Kt=null,xt=!1,Ul=null,Yr=!1,mm=Error(r(519));function zl(a){var s=Error(r(418,""));throw Gi(vr(s,a)),mm}function Nv(a){var s=a.stateNode,c=a.type,d=a.memoizedProps;switch(s[rt]=a,s[Yt]=d,c){case"dialog":ot("cancel",s),ot("close",s);break;case"iframe":case"object":case"embed":ot("load",s);break;case"video":case"audio":for(c=0;c<yo.length;c++)ot(yo[c],s);break;case"source":ot("error",s);break;case"img":case"image":case"link":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"input":ot("invalid",s),Ly(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Tc(s);break;case"select":ot("invalid",s);break;case"textarea":ot("invalid",s),Uy(s,d.value,d.defaultValue,d.children),Tc(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||U1(s.textContent,c)?(d.popover!=null&&(ot("beforetoggle",s),ot("toggle",s)),d.onScroll!=null&&ot("scroll",s),d.onScrollEnd!=null&&ot("scrollend",s),d.onClick!=null&&(s.onclick=Nu),s=!0):s=!1,s||zl(a)}function Sv(a){for(Ln=a.return;Ln;)switch(Ln.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Ln=Ln.return}}function Yi(a){if(a!==Ln)return!1;if(!xt)return Sv(a),xt=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Th(a.type,a.memoizedProps)),c=!c),c&&Kt&&zl(a),Sv(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(s===0){Kt=Lr(a.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;a=a.nextSibling}Kt=null}}else s===27?(s=Kt,ul(a.type)?(a=kh,kh=null,Kt=a):Kt=s):Kt=Ln?Lr(a.stateNode.nextSibling):null;return!0}function Ki(){Kt=Ln=null,xt=!1}function Av(){var a=Ul;return a!==null&&(Kn===null?Kn=a:Kn.push.apply(Kn,a),Ul=null),a}function Gi(a){Ul===null?Ul=[a]:Ul.push(a)}var hm=le(null),ql=null,ua=null;function Xa(a,s,c){ue(hm,s._currentValue),s._currentValue=c}function da(a){a._currentValue=hm.current,z(hm)}function gm(a,s,c){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===c)break;a=a.return}}function pm(a,s,c,d){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var v=p.dependencies;if(v!==null){var E=p.child;v=v.firstContext;e:for(;v!==null;){var _=v;v=p;for(var Y=0;Y<s.length;Y++)if(_.context===s[Y]){v.lanes|=c,_=v.alternate,_!==null&&(_.lanes|=c),gm(v.return,c,a),d||(E=null);break e}v=_.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=c,v=E.alternate,v!==null&&(v.lanes|=c),gm(E,c,a),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===a){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Vi(a,s,c,d){a=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var _=p.type;er(p.pendingProps.value,E.value)||(a!==null?a.push(_):a=[_])}}else if(p===O.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(So):a=[So])}p=p.return}a!==null&&pm(s,a,c,d),s.flags|=262144}function Fc(a){for(a=a.firstContext;a!==null;){if(!er(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Hl(a){ql=a,ua=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function On(a){return Cv(ql,a)}function Yc(a,s){return ql===null&&Hl(a),Cv(a,s)}function Cv(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ua===null){if(a===null)throw Error(r(308));ua=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ua=ua.next=s;return c}var _T=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},$T=e.unstable_scheduleCallback,IT=e.unstable_NormalPriority,an={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new _T,data:new Map,refCount:0}}function Xi(a){a.refCount--,a.refCount===0&&$T(IT,function(){a.controller.abort()})}var Wi=null,ym=0,_s=0,$s=null;function RT(a,s){if(Wi===null){var c=Wi=[];ym=0,_s=bh(),$s={status:"pending",value:void 0,then:function(d){c.push(d)}}}return ym++,s.then(Dv,Dv),s}function Dv(){if(--ym===0&&Wi!==null){$s!==null&&($s.status="fulfilled");var a=Wi;Wi=null,_s=0,$s=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function LT(a,s){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<c.length;p++)(0,c[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var Ev=K.S;K.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&RT(a,s),Ev!==null&&Ev(a,s)};var Fl=le(null);function vm(){var a=Fl.current;return a!==null?a:Mt.pooledCache}function Kc(a,s){s===null?ue(Fl,Fl.current):ue(Fl,s.pool)}function Tv(){var a=vm();return a===null?null:{parent:an._currentValue,pool:a}}var Zi=Error(r(460)),Ov=Error(r(474)),Gc=Error(r(542)),bm={then:function(){}};function Pv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Vc(){}function Mv(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Vc,Vc),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,_v(a),a;default:if(typeof s.status=="string")s.then(Vc,Vc);else{if(a=Mt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,_v(a),a}throw Qi=s,Zi}}var Qi=null;function kv(){if(Qi===null)throw Error(r(459));var a=Qi;return Qi=null,a}function _v(a){if(a===Zi||a===Gc)throw Error(r(483))}var Wa=!1;function wm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Qa(a,s,c){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(yt&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=Uc(a),bv(a,null,c),s}return Bc(a,d,s,c),Uc(a)}function Ji(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,c|=d,s.lanes=c,ft(a,c)}}function Nm(a,s){var c=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?p=v=E:v=v.next=E,c=c.next}while(c!==null);v===null?p=v=s:v=v.next=s}else p=v=s;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Sm=!1;function eo(){if(Sm){var a=$s;if(a!==null)throw a}}function to(a,s,c,d){Sm=!1;var p=a.updateQueue;Wa=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var Y=_,se=Y.next;Y.next=null,E===null?v=se:E.next=se,E=Y;var ve=a.alternate;ve!==null&&(ve=ve.updateQueue,_=ve.lastBaseUpdate,_!==E&&(_===null?ve.firstBaseUpdate=se:_.next=se,ve.lastBaseUpdate=Y))}if(v!==null){var Ae=p.baseState;E=0,ve=se=Y=null,_=v;do{var ce=_.lane&-536870913,fe=ce!==_.lane;if(fe?(ut&ce)===ce:(d&ce)===ce){ce!==0&&ce===_s&&(Sm=!0),ve!==null&&(ve=ve.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Qe=a,Ve=_;ce=s;var At=c;switch(Ve.tag){case 1:if(Qe=Ve.payload,typeof Qe=="function"){Ae=Qe.call(At,Ae,ce);break e}Ae=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Ve.payload,ce=typeof Qe=="function"?Qe.call(At,Ae,ce):Qe,ce==null)break e;Ae=g({},Ae,ce);break e;case 2:Wa=!0}}ce=_.callback,ce!==null&&(a.flags|=64,fe&&(a.flags|=8192),fe=p.callbacks,fe===null?p.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ve===null?(se=ve=fe,Y=Ae):ve=ve.next=fe,E|=ce;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;fe=_,_=fe.next,fe.next=null,p.lastBaseUpdate=fe,p.shared.pending=null}}while(!0);ve===null&&(Y=Ae),p.baseState=Y,p.firstBaseUpdate=se,p.lastBaseUpdate=ve,v===null&&(p.shared.lanes=0),sl|=E,a.lanes=E,a.memoizedState=Ae}}function $v(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Iv(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)$v(c[a],s)}var Is=le(null),Xc=le(0);function Rv(a,s){a=ya,ue(Xc,a),ue(Is,s),ya=a|s.baseLanes}function Am(){ue(Xc,ya),ue(Is,Is.current)}function Cm(){ya=Xc.current,z(Is),z(Xc)}var Ja=0,at=null,Nt=null,en=null,Wc=!1,Rs=!1,Yl=!1,Zc=0,no=0,Ls=null,BT=0;function Xt(){throw Error(r(321))}function Dm(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!er(a[c],s[c]))return!1;return!0}function Em(a,s,c,d,p,v){return Ja=v,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=a===null||a.memoizedState===null?bb:wb,Yl=!1,v=c(d,p),Yl=!1,Rs&&(v=Bv(s,c,d,p)),Lv(a),v}function Lv(a){K.H=ru;var s=Nt!==null&&Nt.next!==null;if(Ja=0,en=Nt=at=null,Wc=!1,no=0,Ls=null,s)throw Error(r(300));a===null||fn||(a=a.dependencies,a!==null&&Fc(a)&&(fn=!0))}function Bv(a,s,c,d){at=a;var p=0;do{if(Rs&&(Ls=null),no=0,Rs=!1,25<=p)throw Error(r(301));if(p+=1,en=Nt=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=KT,v=s(c,d)}while(Rs);return v}function UT(){var a=K.H,s=a.useState()[0];return s=typeof s.then=="function"?ro(s):s,a=a.useState()[0],(Nt!==null?Nt.memoizedState:null)!==a&&(at.flags|=1024),s}function Tm(){var a=Zc!==0;return Zc=0,a}function Om(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Pm(a){if(Wc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Wc=!1}Ja=0,en=Nt=at=null,Rs=!1,no=Zc=0,Ls=null}function Fn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?at.memoizedState=en=a:en=en.next=a,en}function tn(){if(Nt===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var s=en===null?at.memoizedState:en.next;if(s!==null)en=s,Nt=a;else{if(a===null)throw at.alternate===null?Error(r(467)):Error(r(310));Nt=a,a={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},en===null?at.memoizedState=en=a:en=en.next=a}return en}function Mm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(a){var s=no;return no+=1,Ls===null&&(Ls=[]),a=Mv(Ls,a,s),s=at,(en===null?s.memoizedState:en.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?bb:wb),a}function Qc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ro(a);if(a.$$typeof===T)return On(a)}throw Error(r(438,String(a)))}function km(a){var s=null,c=at.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=at.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Mm(),at.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),d=0;d<a;d++)c[d]=H;return s.index++,c}function fa(a,s){return typeof s=="function"?s(a):s}function Jc(a){var s=tn();return _m(s,Nt,a)}function _m(a,s,c){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var p=a.baseQueue,v=d.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}s.baseQueue=p=v,d.pending=null}if(v=a.baseState,p===null)a.memoizedState=v;else{s=p.next;var _=E=null,Y=null,se=s,ve=!1;do{var Ae=se.lane&-536870913;if(Ae!==se.lane?(ut&Ae)===Ae:(Ja&Ae)===Ae){var ce=se.revertLane;if(ce===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ae===_s&&(ve=!0);else if((Ja&ce)===ce){se=se.next,ce===_s&&(ve=!0);continue}else Ae={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(_=Y=Ae,E=v):Y=Y.next=Ae,at.lanes|=ce,sl|=ce;Ae=se.action,Yl&&c(v,Ae),v=se.hasEagerState?se.eagerState:c(v,Ae)}else ce={lane:Ae,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(_=Y=ce,E=v):Y=Y.next=ce,at.lanes|=Ae,sl|=Ae;se=se.next}while(se!==null&&se!==s);if(Y===null?E=v:Y.next=_,!er(v,a.memoizedState)&&(fn=!0,ve&&(c=$s,c!==null)))throw c;a.memoizedState=v,a.baseState=E,a.baseQueue=Y,d.lastRenderedState=v}return p===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function $m(a){var s=tn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var d=c.dispatch,p=c.pending,v=s.memoizedState;if(p!==null){c.pending=null;var E=p=p.next;do v=a(v,E.action),E=E.next;while(E!==p);er(v,s.memoizedState)||(fn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),c.lastRenderedState=v}return[v,d]}function Uv(a,s,c){var d=at,p=tn(),v=xt;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=s();var E=!er((Nt||p).memoizedState,c);E&&(p.memoizedState=c,fn=!0),p=p.queue;var _=Hv.bind(null,d,p,a);if(ao(2048,8,_,[a]),p.getSnapshot!==s||E||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,Bs(9,eu(),qv.bind(null,d,p,c,s),null),Mt===null)throw Error(r(349));v||(Ja&124)!==0||zv(d,s,c)}return c}function zv(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=at.updateQueue,s===null?(s=Mm(),at.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function qv(a,s,c,d){s.value=c,s.getSnapshot=d,Fv(s)&&Yv(a)}function Hv(a,s,c){return c(function(){Fv(s)&&Yv(a)})}function Fv(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!er(a,c)}catch{return!0}}function Yv(a){var s=Os(a,2);s!==null&&sr(s,a,2)}function Im(a){var s=Fn();if(typeof a=="function"){var c=a;if(a=c(),Yl){Oe(!0);try{c()}finally{Oe(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},s}function Kv(a,s,c,d){return a.baseState=c,_m(a,Nt,typeof d=="function"?d:fa)}function zT(a,s,c,d,p){if(nu(a))throw Error(r(485));if(a=s.action,a!==null){var v={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};K.T!==null?c(!0):v.isTransition=!1,d(v),c=s.pending,c===null?(v.next=s.pending=v,Gv(s,v)):(v.next=c.next,s.pending=c.next=v)}}function Gv(a,s){var c=s.action,d=s.payload,p=a.state;if(s.isTransition){var v=K.T,E={};K.T=E;try{var _=c(p,d),Y=K.S;Y!==null&&Y(E,_),Vv(a,s,_)}catch(se){Rm(a,s,se)}finally{K.T=v}}else try{v=c(p,d),Vv(a,s,v)}catch(se){Rm(a,s,se)}}function Vv(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Xv(a,s,d)},function(d){return Rm(a,s,d)}):Xv(a,s,c)}function Xv(a,s,c){s.status="fulfilled",s.value=c,Wv(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,Gv(a,c)))}function Rm(a,s,c){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,Wv(s),s=s.next;while(s!==d)}a.action=null}function Wv(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Zv(a,s){return s}function Qv(a,s){if(xt){var c=Mt.formState;if(c!==null){e:{var d=at;if(xt){if(Kt){t:{for(var p=Kt,v=Yr;p.nodeType!==8;){if(!v){p=null;break t}if(p=Lr(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Kt=Lr(p.nextSibling),d=p.data==="F!";break e}}zl(d)}d=!1}d&&(s=c[0])}}return c=Fn(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zv,lastRenderedState:s},c.queue=d,c=xb.bind(null,at,d),d.dispatch=c,d=Im(!1),v=qm.bind(null,at,!1,d.queue),d=Fn(),p={state:s,dispatch:null,action:a,pending:null},d.queue=p,c=zT.bind(null,at,p,v,c),p.dispatch=c,d.memoizedState=a,[s,c,!1]}function Jv(a){var s=tn();return eb(s,Nt,a)}function eb(a,s,c){if(s=_m(a,s,Zv)[0],a=Jc(fa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=ro(s)}catch(E){throw E===Zi?Gc:E}else d=s;s=tn();var p=s.queue,v=p.dispatch;return c!==s.memoizedState&&(at.flags|=2048,Bs(9,eu(),qT.bind(null,p,c),null)),[d,v,a]}function qT(a,s){a.action=s}function tb(a){var s=tn(),c=Nt;if(c!==null)return eb(s,c,a);tn(),s=s.memoizedState,c=tn();var d=c.queue.dispatch;return c.memoizedState=a,[s,d,!1]}function Bs(a,s,c,d){return a={tag:a,create:c,deps:d,inst:s,next:null},s=at.updateQueue,s===null&&(s=Mm(),at.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,s.lastEffect=a),a}function eu(){return{destroy:void 0,resource:void 0}}function nb(){return tn().memoizedState}function tu(a,s,c,d){var p=Fn();d=d===void 0?null:d,at.flags|=a,p.memoizedState=Bs(1|s,eu(),c,d)}function ao(a,s,c,d){var p=tn();d=d===void 0?null:d;var v=p.memoizedState.inst;Nt!==null&&d!==null&&Dm(d,Nt.memoizedState.deps)?p.memoizedState=Bs(s,v,c,d):(at.flags|=a,p.memoizedState=Bs(1|s,v,c,d))}function rb(a,s){tu(8390656,8,a,s)}function ab(a,s){ao(2048,8,a,s)}function lb(a,s){return ao(4,2,a,s)}function sb(a,s){return ao(4,4,a,s)}function ib(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function ob(a,s,c){c=c!=null?c.concat([a]):null,ao(4,4,ib.bind(null,s,a),c)}function Lm(){}function cb(a,s){var c=tn();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Dm(s,d[1])?d[0]:(c.memoizedState=[a,s],a)}function ub(a,s){var c=tn();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Dm(s,d[1]))return d[0];if(d=a(),Yl){Oe(!0);try{a()}finally{Oe(!1)}}return c.memoizedState=[d,s],d}function Bm(a,s,c){return c===void 0||(Ja&1073741824)!==0?a.memoizedState=s:(a.memoizedState=c,a=m1(),at.lanes|=a,sl|=a,c)}function db(a,s,c,d){return er(c,s)?c:Is.current!==null?(a=Bm(a,c,d),er(a,s)||(fn=!0),a):(Ja&42)===0?(fn=!0,a.memoizedState=c):(a=m1(),at.lanes|=a,sl|=a,s)}function fb(a,s,c,d,p){var v=re.p;re.p=v!==0&&8>v?v:8;var E=K.T,_={};K.T=_,qm(a,!1,s,c);try{var Y=p(),se=K.S;if(se!==null&&se(_,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ve=LT(Y,d);lo(a,s,ve,lr(a))}else lo(a,s,d,lr(a))}catch(Ae){lo(a,s,{then:function(){},status:"rejected",reason:Ae},lr())}finally{re.p=v,K.T=E}}function HT(){}function Um(a,s,c,d){if(a.tag!==5)throw Error(r(476));var p=mb(a).queue;fb(a,p,s,he,c===null?HT:function(){return hb(a),c(d)})}function mb(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:he},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function hb(a){var s=mb(a).next.queue;lo(a,s,{},lr())}function zm(){return On(So)}function gb(){return tn().memoizedState}function pb(){return tn().memoizedState}function FT(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=lr();a=Za(c);var d=Qa(s,a,c);d!==null&&(sr(d,s,c),Ji(d,s,c)),s={cache:xm()},a.payload=s;return}s=s.return}}function YT(a,s,c){var d=lr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},nu(a)?yb(s,c):(c=im(a,s,c,d),c!==null&&(sr(c,a,d),vb(c,s,d)))}function xb(a,s,c){var d=lr();lo(a,s,c,d)}function lo(a,s,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(nu(a))yb(s,p);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,_=v(E,c);if(p.hasEagerState=!0,p.eagerState=_,er(_,E))return Bc(a,s,p,0),Mt===null&&Lc(),!1}catch{}finally{}if(c=im(a,s,p,d),c!==null)return sr(c,a,d),vb(c,s,d),!0}return!1}function qm(a,s,c,d){if(d={lane:2,revertLane:bh(),action:d,hasEagerState:!1,eagerState:null,next:null},nu(a)){if(s)throw Error(r(479))}else s=im(a,c,d,2),s!==null&&sr(s,a,2)}function nu(a){var s=a.alternate;return a===at||s!==null&&s===at}function yb(a,s){Rs=Wc=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function vb(a,s,c){if((c&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,c|=d,s.lanes=c,ft(a,c)}}var ru={readContext:On,use:Qc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},bb={readContext:On,use:Qc,useCallback:function(a,s){return Fn().memoizedState=[a,s===void 0?null:s],a},useContext:On,useEffect:rb,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,tu(4194308,4,ib.bind(null,s,a),c)},useLayoutEffect:function(a,s){return tu(4194308,4,a,s)},useInsertionEffect:function(a,s){tu(4,2,a,s)},useMemo:function(a,s){var c=Fn();s=s===void 0?null:s;var d=a();if(Yl){Oe(!0);try{a()}finally{Oe(!1)}}return c.memoizedState=[d,s],d},useReducer:function(a,s,c){var d=Fn();if(c!==void 0){var p=c(s);if(Yl){Oe(!0);try{c(s)}finally{Oe(!1)}}}else p=s;return d.memoizedState=d.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},d.queue=a,a=a.dispatch=YT.bind(null,at,a),[d.memoizedState,a]},useRef:function(a){var s=Fn();return a={current:a},s.memoizedState=a},useState:function(a){a=Im(a);var s=a.queue,c=xb.bind(null,at,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:Lm,useDeferredValue:function(a,s){var c=Fn();return Bm(c,a,s)},useTransition:function(){var a=Im(!1);return a=fb.bind(null,at,a.queue,!0,!1),Fn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var d=at,p=Fn();if(xt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Mt===null)throw Error(r(349));(ut&124)!==0||zv(d,s,c)}p.memoizedState=c;var v={value:c,getSnapshot:s};return p.queue=v,rb(Hv.bind(null,d,v,a),[a]),d.flags|=2048,Bs(9,eu(),qv.bind(null,d,v,c,s),null),c},useId:function(){var a=Fn(),s=Mt.identifierPrefix;if(xt){var c=ca,d=oa;c=(d&~(1<<32-Ze(d)-1)).toString(32)+c,s=""+s+"R"+c,c=Zc++,0<c&&(s+="H"+c.toString(32)),s+=""}else c=BT++,s=""+s+"r"+c.toString(32)+"";return a.memoizedState=s},useHostTransitionStatus:zm,useFormState:Qv,useActionState:Qv,useOptimistic:function(a){var s=Fn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=qm.bind(null,at,!0,c),c.dispatch=s,[a,s]},useMemoCache:km,useCacheRefresh:function(){return Fn().memoizedState=FT.bind(null,at)}},wb={readContext:On,use:Qc,useCallback:cb,useContext:On,useEffect:ab,useImperativeHandle:ob,useInsertionEffect:lb,useLayoutEffect:sb,useMemo:ub,useReducer:Jc,useRef:nb,useState:function(){return Jc(fa)},useDebugValue:Lm,useDeferredValue:function(a,s){var c=tn();return db(c,Nt.memoizedState,a,s)},useTransition:function(){var a=Jc(fa)[0],s=tn().memoizedState;return[typeof a=="boolean"?a:ro(a),s]},useSyncExternalStore:Uv,useId:gb,useHostTransitionStatus:zm,useFormState:Jv,useActionState:Jv,useOptimistic:function(a,s){var c=tn();return Kv(c,Nt,a,s)},useMemoCache:km,useCacheRefresh:pb},KT={readContext:On,use:Qc,useCallback:cb,useContext:On,useEffect:ab,useImperativeHandle:ob,useInsertionEffect:lb,useLayoutEffect:sb,useMemo:ub,useReducer:$m,useRef:nb,useState:function(){return $m(fa)},useDebugValue:Lm,useDeferredValue:function(a,s){var c=tn();return Nt===null?Bm(c,a,s):db(c,Nt.memoizedState,a,s)},useTransition:function(){var a=$m(fa)[0],s=tn().memoizedState;return[typeof a=="boolean"?a:ro(a),s]},useSyncExternalStore:Uv,useId:gb,useHostTransitionStatus:zm,useFormState:tb,useActionState:tb,useOptimistic:function(a,s){var c=tn();return Nt!==null?Kv(c,Nt,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:km,useCacheRefresh:pb},Us=null,so=0;function au(a){var s=so;return so+=1,Us===null&&(Us=[]),Mv(Us,a,s)}function io(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function lu(a,s){throw s.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function jb(a){var s=a._init;return s(a._payload)}function Nb(a){function s(ne,Q){if(a){var ae=ne.deletions;ae===null?(ne.deletions=[Q],ne.flags|=16):ae.push(Q)}}function c(ne,Q){if(!a)return null;for(;Q!==null;)s(ne,Q),Q=Q.sibling;return null}function d(ne){for(var Q=new Map;ne!==null;)ne.key!==null?Q.set(ne.key,ne):Q.set(ne.index,ne),ne=ne.sibling;return Q}function p(ne,Q){return ne=ia(ne,Q),ne.index=0,ne.sibling=null,ne}function v(ne,Q,ae){return ne.index=ae,a?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<Q?(ne.flags|=67108866,Q):ae):(ne.flags|=67108866,Q)):(ne.flags|=1048576,Q)}function E(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function _(ne,Q,ae,je){return Q===null||Q.tag!==6?(Q=cm(ae,ne.mode,je),Q.return=ne,Q):(Q=p(Q,ae),Q.return=ne,Q)}function Y(ne,Q,ae,je){var Re=ae.type;return Re===N?ve(ne,Q,ae.props.children,je,ae.key):Q!==null&&(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&jb(Re)===Q.type)?(Q=p(Q,ae.props),io(Q,ae),Q.return=ne,Q):(Q=zc(ae.type,ae.key,ae.props,null,ne.mode,je),io(Q,ae),Q.return=ne,Q)}function se(ne,Q,ae,je){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=um(ae,ne.mode,je),Q.return=ne,Q):(Q=p(Q,ae.children||[]),Q.return=ne,Q)}function ve(ne,Q,ae,je,Re){return Q===null||Q.tag!==7?(Q=Rl(ae,ne.mode,je,Re),Q.return=ne,Q):(Q=p(Q,ae),Q.return=ne,Q)}function Ae(ne,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=cm(""+Q,ne.mode,ae),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return ae=zc(Q.type,Q.key,Q.props,null,ne.mode,ae),io(ae,Q),ae.return=ne,ae;case w:return Q=um(Q,ne.mode,ae),Q.return=ne,Q;case I:var je=Q._init;return Q=je(Q._payload),Ae(ne,Q,ae)}if(ge(Q)||F(Q))return Q=Rl(Q,ne.mode,ae,null),Q.return=ne,Q;if(typeof Q.then=="function")return Ae(ne,au(Q),ae);if(Q.$$typeof===T)return Ae(ne,Yc(ne,Q),ae);lu(ne,Q)}return null}function ce(ne,Q,ae,je){var Re=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Re!==null?null:_(ne,Q,""+ae,je);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ae.key===Re?Y(ne,Q,ae,je):null;case w:return ae.key===Re?se(ne,Q,ae,je):null;case I:return Re=ae._init,ae=Re(ae._payload),ce(ne,Q,ae,je)}if(ge(ae)||F(ae))return Re!==null?null:ve(ne,Q,ae,je,null);if(typeof ae.then=="function")return ce(ne,Q,au(ae),je);if(ae.$$typeof===T)return ce(ne,Q,Yc(ne,ae),je);lu(ne,ae)}return null}function fe(ne,Q,ae,je,Re){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ne=ne.get(ae)||null,_(Q,ne,""+je,Re);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return ne=ne.get(je.key===null?ae:je.key)||null,Y(Q,ne,je,Re);case w:return ne=ne.get(je.key===null?ae:je.key)||null,se(Q,ne,je,Re);case I:var st=je._init;return je=st(je._payload),fe(ne,Q,ae,je,Re)}if(ge(je)||F(je))return ne=ne.get(ae)||null,ve(Q,ne,je,Re,null);if(typeof je.then=="function")return fe(ne,Q,ae,au(je),Re);if(je.$$typeof===T)return fe(ne,Q,ae,Yc(Q,je),Re);lu(Q,je)}return null}function Qe(ne,Q,ae,je){for(var Re=null,st=null,Fe=Q,We=Q=0,hn=null;Fe!==null&&We<ae.length;We++){Fe.index>We?(hn=Fe,Fe=null):hn=Fe.sibling;var ht=ce(ne,Fe,ae[We],je);if(ht===null){Fe===null&&(Fe=hn);break}a&&Fe&&ht.alternate===null&&s(ne,Fe),Q=v(ht,Q,We),st===null?Re=ht:st.sibling=ht,st=ht,Fe=hn}if(We===ae.length)return c(ne,Fe),xt&&Bl(ne,We),Re;if(Fe===null){for(;We<ae.length;We++)Fe=Ae(ne,ae[We],je),Fe!==null&&(Q=v(Fe,Q,We),st===null?Re=Fe:st.sibling=Fe,st=Fe);return xt&&Bl(ne,We),Re}for(Fe=d(Fe);We<ae.length;We++)hn=fe(Fe,ne,We,ae[We],je),hn!==null&&(a&&hn.alternate!==null&&Fe.delete(hn.key===null?We:hn.key),Q=v(hn,Q,We),st===null?Re=hn:st.sibling=hn,st=hn);return a&&Fe.forEach(function(gl){return s(ne,gl)}),xt&&Bl(ne,We),Re}function Ve(ne,Q,ae,je){if(ae==null)throw Error(r(151));for(var Re=null,st=null,Fe=Q,We=Q=0,hn=null,ht=ae.next();Fe!==null&&!ht.done;We++,ht=ae.next()){Fe.index>We?(hn=Fe,Fe=null):hn=Fe.sibling;var gl=ce(ne,Fe,ht.value,je);if(gl===null){Fe===null&&(Fe=hn);break}a&&Fe&&gl.alternate===null&&s(ne,Fe),Q=v(gl,Q,We),st===null?Re=gl:st.sibling=gl,st=gl,Fe=hn}if(ht.done)return c(ne,Fe),xt&&Bl(ne,We),Re;if(Fe===null){for(;!ht.done;We++,ht=ae.next())ht=Ae(ne,ht.value,je),ht!==null&&(Q=v(ht,Q,We),st===null?Re=ht:st.sibling=ht,st=ht);return xt&&Bl(ne,We),Re}for(Fe=d(Fe);!ht.done;We++,ht=ae.next())ht=fe(Fe,ne,We,ht.value,je),ht!==null&&(a&&ht.alternate!==null&&Fe.delete(ht.key===null?We:ht.key),Q=v(ht,Q,We),st===null?Re=ht:st.sibling=ht,st=ht);return a&&Fe.forEach(function(GO){return s(ne,GO)}),xt&&Bl(ne,We),Re}function At(ne,Q,ae,je){if(typeof ae=="object"&&ae!==null&&ae.type===N&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:e:{for(var Re=ae.key;Q!==null;){if(Q.key===Re){if(Re=ae.type,Re===N){if(Q.tag===7){c(ne,Q.sibling),je=p(Q,ae.props.children),je.return=ne,ne=je;break e}}else if(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&jb(Re)===Q.type){c(ne,Q.sibling),je=p(Q,ae.props),io(je,ae),je.return=ne,ne=je;break e}c(ne,Q);break}else s(ne,Q);Q=Q.sibling}ae.type===N?(je=Rl(ae.props.children,ne.mode,je,ae.key),je.return=ne,ne=je):(je=zc(ae.type,ae.key,ae.props,null,ne.mode,je),io(je,ae),je.return=ne,ne=je)}return E(ne);case w:e:{for(Re=ae.key;Q!==null;){if(Q.key===Re)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){c(ne,Q.sibling),je=p(Q,ae.children||[]),je.return=ne,ne=je;break e}else{c(ne,Q);break}else s(ne,Q);Q=Q.sibling}je=um(ae,ne.mode,je),je.return=ne,ne=je}return E(ne);case I:return Re=ae._init,ae=Re(ae._payload),At(ne,Q,ae,je)}if(ge(ae))return Qe(ne,Q,ae,je);if(F(ae)){if(Re=F(ae),typeof Re!="function")throw Error(r(150));return ae=Re.call(ae),Ve(ne,Q,ae,je)}if(typeof ae.then=="function")return At(ne,Q,au(ae),je);if(ae.$$typeof===T)return At(ne,Q,Yc(ne,ae),je);lu(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Q!==null&&Q.tag===6?(c(ne,Q.sibling),je=p(Q,ae),je.return=ne,ne=je):(c(ne,Q),je=cm(ae,ne.mode,je),je.return=ne,ne=je),E(ne)):c(ne,Q)}return function(ne,Q,ae,je){try{so=0;var Re=At(ne,Q,ae,je);return Us=null,Re}catch(Fe){if(Fe===Zi||Fe===Gc)throw Fe;var st=tr(29,Fe,null,ne.mode);return st.lanes=je,st.return=ne,st}finally{}}}var zs=Nb(!0),Sb=Nb(!1),Nr=le(null),Kr=null;function el(a){var s=a.alternate;ue(ln,ln.current&1),ue(Nr,a),Kr===null&&(s===null||Is.current!==null||s.memoizedState!==null)&&(Kr=a)}function Ab(a){if(a.tag===22){if(ue(ln,ln.current),ue(Nr,a),Kr===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(Kr=a)}}else tl()}function tl(){ue(ln,ln.current),ue(Nr,Nr.current)}function ma(a){z(Nr),Kr===a&&(Kr=null),z(ln)}var ln=le(0);function su(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Mh(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hm(a,s,c,d){s=a.memoizedState,c=c(d,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Fm={enqueueSetState:function(a,s,c){a=a._reactInternals;var d=lr(),p=Za(d);p.payload=s,c!=null&&(p.callback=c),s=Qa(a,p,d),s!==null&&(sr(s,a,d),Ji(s,a,d))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var d=lr(),p=Za(d);p.tag=1,p.payload=s,c!=null&&(p.callback=c),s=Qa(a,p,d),s!==null&&(sr(s,a,d),Ji(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=lr(),d=Za(c);d.tag=2,s!=null&&(d.callback=s),s=Qa(a,d,c),s!==null&&(sr(s,a,c),Ji(s,a,c))}};function Cb(a,s,c,d,p,v,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,v,E):s.prototype&&s.prototype.isPureReactComponent?!Hi(c,d)||!Hi(p,v):!0}function Db(a,s,c,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==a&&Fm.enqueueReplaceState(s,s.state,null)}function Kl(a,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var p in a)c[p]===void 0&&(c[p]=a[p])}return c}var iu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Eb(a){iu(a)}function Tb(a){console.error(a)}function Ob(a){iu(a)}function ou(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function Pb(a,s,c){try{var d=a.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ym(a,s,c){return c=Za(c),c.tag=3,c.payload={element:null},c.callback=function(){ou(a,s)},c}function Mb(a){return a=Za(a),a.tag=3,a}function kb(a,s,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;a.payload=function(){return p(v)},a.callback=function(){Pb(s,c,d)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){Pb(s,c,d),typeof p!="function"&&(il===null?il=new Set([this]):il.add(this));var _=d.stack;this.componentDidCatch(d.value,{componentStack:_!==null?_:""})})}function GT(a,s,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&Vi(s,c,p,!0),c=Nr.current,c!==null){switch(c.tag){case 13:return Kr===null?gh():c.alternate===null&&Gt===0&&(Gt=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===bm?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),xh(a,d,p)),!1;case 22:return c.flags|=65536,d===bm?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),xh(a,d,p)),!1}throw Error(r(435,c.tag))}return xh(a,d,p),gh(),!1}if(xt)return s=Nr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==mm&&(a=Error(r(422),{cause:d}),Gi(vr(a,c)))):(d!==mm&&(s=Error(r(423),{cause:d}),Gi(vr(s,c))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,d=vr(d,c),p=Ym(a.stateNode,d,p),Nm(a,p),Gt!==4&&(Gt=2)),!1;var v=Error(r(520),{cause:d});if(v=vr(v,c),go===null?go=[v]:go.push(v),Gt!==4&&(Gt=2),s===null)return!0;d=vr(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=p&-p,c.lanes|=a,a=Ym(c.stateNode,d,a),Nm(c,a),!1;case 1:if(s=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(il===null||!il.has(v))))return c.flags|=65536,p&=-p,c.lanes|=p,p=Mb(p),kb(p,a,c,d),Nm(c,p),!1}c=c.return}while(c!==null);return!1}var _b=Error(r(461)),fn=!1;function Nn(a,s,c,d){s.child=a===null?Sb(s,null,c,d):zs(s,a.child,c,d)}function $b(a,s,c,d,p){c=c.render;var v=s.ref;if("ref"in d){var E={};for(var _ in d)_!=="ref"&&(E[_]=d[_])}else E=d;return Hl(s),d=Em(a,s,c,E,v,p),_=Tm(),a!==null&&!fn?(Om(a,s,p),ha(a,s,p)):(xt&&_&&dm(s),s.flags|=1,Nn(a,s,d,p),s.child)}function Ib(a,s,c,d,p){if(a===null){var v=c.type;return typeof v=="function"&&!om(v)&&v.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=v,Rb(a,s,v,d,p)):(a=zc(c.type,null,d,s,s.mode,p),a.ref=s.ref,a.return=s,s.child=a)}if(v=a.child,!Jm(a,p)){var E=v.memoizedProps;if(c=c.compare,c=c!==null?c:Hi,c(E,d)&&a.ref===s.ref)return ha(a,s,p)}return s.flags|=1,a=ia(v,d),a.ref=s.ref,a.return=s,s.child=a}function Rb(a,s,c,d,p){if(a!==null){var v=a.memoizedProps;if(Hi(v,d)&&a.ref===s.ref)if(fn=!1,s.pendingProps=d=v,Jm(a,p))(a.flags&131072)!==0&&(fn=!0);else return s.lanes=a.lanes,ha(a,s,p)}return Km(a,s,c,d,p)}function Lb(a,s,c){var d=s.pendingProps,p=d.children,v=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,a!==null){for(p=s.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~d}else s.childLanes=0,s.child=null;return Bb(a,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Kc(s,v!==null?v.cachePool:null),v!==null?Rv(s,v):Am(),Ab(s);else return s.lanes=s.childLanes=536870912,Bb(a,s,v!==null?v.baseLanes|c:c,c)}else v!==null?(Kc(s,v.cachePool),Rv(s,v),tl(),s.memoizedState=null):(a!==null&&Kc(s,null),Am(),tl());return Nn(a,s,p,c),s.child}function Bb(a,s,c,d){var p=vm();return p=p===null?null:{parent:an._currentValue,pool:p},s.memoizedState={baseLanes:c,cachePool:p},a!==null&&Kc(s,null),Am(),Ab(s),a!==null&&Vi(a,s,d,!0),null}function cu(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Km(a,s,c,d,p){return Hl(s),c=Em(a,s,c,d,void 0,p),d=Tm(),a!==null&&!fn?(Om(a,s,p),ha(a,s,p)):(xt&&d&&dm(s),s.flags|=1,Nn(a,s,c,p),s.child)}function Ub(a,s,c,d,p,v){return Hl(s),s.updateQueue=null,c=Bv(s,d,c,p),Lv(a),d=Tm(),a!==null&&!fn?(Om(a,s,v),ha(a,s,v)):(xt&&d&&dm(s),s.flags|=1,Nn(a,s,c,v),s.child)}function zb(a,s,c,d,p){if(Hl(s),s.stateNode===null){var v=Ps,E=c.contextType;typeof E=="object"&&E!==null&&(v=On(E)),v=new c(d,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Fm,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=d,v.state=s.memoizedState,v.refs={},wm(s),E=c.contextType,v.context=typeof E=="object"&&E!==null?On(E):Ps,v.state=s.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Hm(s,c,E,d),v.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Fm.enqueueReplaceState(v,v.state,null),to(s,d,v,p),eo(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){v=s.stateNode;var _=s.memoizedProps,Y=Kl(c,_);v.props=Y;var se=v.context,ve=c.contextType;E=Ps,typeof ve=="object"&&ve!==null&&(E=On(ve));var Ae=c.getDerivedStateFromProps;ve=typeof Ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,ve||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_||se!==E)&&Db(s,v,d,E),Wa=!1;var ce=s.memoizedState;v.state=ce,to(s,d,v,p),eo(),se=s.memoizedState,_||ce!==se||Wa?(typeof Ae=="function"&&(Hm(s,c,Ae,d),se=s.memoizedState),(Y=Wa||Cb(s,c,Y,d,ce,se,E))?(ve||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=se),v.props=d,v.state=se,v.context=E,d=Y):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{v=s.stateNode,jm(a,s),E=s.memoizedProps,ve=Kl(c,E),v.props=ve,Ae=s.pendingProps,ce=v.context,se=c.contextType,Y=Ps,typeof se=="object"&&se!==null&&(Y=On(se)),_=c.getDerivedStateFromProps,(se=typeof _=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==Ae||ce!==Y)&&Db(s,v,d,Y),Wa=!1,ce=s.memoizedState,v.state=ce,to(s,d,v,p),eo();var fe=s.memoizedState;E!==Ae||ce!==fe||Wa||a!==null&&a.dependencies!==null&&Fc(a.dependencies)?(typeof _=="function"&&(Hm(s,c,_,d),fe=s.memoizedState),(ve=Wa||Cb(s,c,ve,d,ce,fe,Y)||a!==null&&a.dependencies!==null&&Fc(a.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,fe,Y),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,fe,Y)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===a.memoizedProps&&ce===a.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&ce===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=fe),v.props=d,v.state=fe,v.context=Y,d=ve):(typeof v.componentDidUpdate!="function"||E===a.memoizedProps&&ce===a.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&ce===a.memoizedState||(s.flags|=1024),d=!1)}return v=d,cu(a,s),d=(s.flags&128)!==0,v||d?(v=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,a!==null&&d?(s.child=zs(s,a.child,null,p),s.child=zs(s,null,c,p)):Nn(a,s,c,p),s.memoizedState=v.state,a=s.child):a=ha(a,s,p),a}function qb(a,s,c,d){return Ki(),s.flags|=256,Nn(a,s,c,d),s.child}var Gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vm(a){return{baseLanes:a,cachePool:Tv()}}function Xm(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Sr),a}function Hb(a,s,c){var d=s.pendingProps,p=!1,v=(s.flags&128)!==0,E;if((E=v)||(E=a!==null&&a.memoizedState===null?!1:(ln.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,a===null){if(xt){if(p?el(s):tl(),xt){var _=Kt,Y;if(Y=_){e:{for(Y=_,_=Yr;Y.nodeType!==8;){if(!_){_=null;break e}if(Y=Lr(Y.nextSibling),Y===null){_=null;break e}}_=Y}_!==null?(s.memoizedState={dehydrated:_,treeContext:Ll!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},Y=tr(18,null,null,0),Y.stateNode=_,Y.return=s,s.child=Y,Ln=s,Kt=null,Y=!0):Y=!1}Y||zl(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Mh(_)?s.lanes=32:s.lanes=536870912,null;ma(s)}return _=d.children,d=d.fallback,p?(tl(),p=s.mode,_=uu({mode:"hidden",children:_},p),d=Rl(d,p,c,null),_.return=s,d.return=s,_.sibling=d,s.child=_,p=s.child,p.memoizedState=Vm(c),p.childLanes=Xm(a,E,c),s.memoizedState=Gm,d):(el(s),Wm(s,_))}if(Y=a.memoizedState,Y!==null&&(_=Y.dehydrated,_!==null)){if(v)s.flags&256?(el(s),s.flags&=-257,s=Zm(a,s,c)):s.memoizedState!==null?(tl(),s.child=a.child,s.flags|=128,s=null):(tl(),p=d.fallback,_=s.mode,d=uu({mode:"visible",children:d.children},_),p=Rl(p,_,c,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,zs(s,a.child,null,c),d=s.child,d.memoizedState=Vm(c),d.childLanes=Xm(a,E,c),s.memoizedState=Gm,s=p);else if(el(s),Mh(_)){if(E=_.nextSibling&&_.nextSibling.dataset,E)var se=E.dgst;E=se,d=Error(r(419)),d.stack="",d.digest=E,Gi({value:d,source:null,stack:null}),s=Zm(a,s,c)}else if(fn||Vi(a,s,c,!1),E=(c&a.childLanes)!==0,fn||E){if(E=Mt,E!==null&&(d=c&-c,d=(d&42)!==0?1:mt(d),d=(d&(E.suspendedLanes|c))!==0?0:d,d!==0&&d!==Y.retryLane))throw Y.retryLane=d,Os(a,d),sr(E,a,d),_b;_.data==="$?"||gh(),s=Zm(a,s,c)}else _.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=Y.treeContext,Kt=Lr(_.nextSibling),Ln=s,xt=!0,Ul=null,Yr=!1,a!==null&&(wr[jr++]=oa,wr[jr++]=ca,wr[jr++]=Ll,oa=a.id,ca=a.overflow,Ll=s),s=Wm(s,d.children),s.flags|=4096);return s}return p?(tl(),p=d.fallback,_=s.mode,Y=a.child,se=Y.sibling,d=ia(Y,{mode:"hidden",children:d.children}),d.subtreeFlags=Y.subtreeFlags&65011712,se!==null?p=ia(se,p):(p=Rl(p,_,c,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,_=a.child.memoizedState,_===null?_=Vm(c):(Y=_.cachePool,Y!==null?(se=an._currentValue,Y=Y.parent!==se?{parent:se,pool:se}:Y):Y=Tv(),_={baseLanes:_.baseLanes|c,cachePool:Y}),p.memoizedState=_,p.childLanes=Xm(a,E,c),s.memoizedState=Gm,d):(el(s),c=a.child,a=c.sibling,c=ia(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,a!==null&&(E=s.deletions,E===null?(s.deletions=[a],s.flags|=16):E.push(a)),s.child=c,s.memoizedState=null,c)}function Wm(a,s){return s=uu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function uu(a,s){return a=tr(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Zm(a,s,c){return zs(s,a.child,null,c),a=Wm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Fb(a,s,c){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),gm(a.return,s,c)}function Qm(a,s,c,d,p){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=p)}function Yb(a,s,c){var d=s.pendingProps,p=d.revealOrder,v=d.tail;if(Nn(a,s,d.children,c),d=ln.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Fb(a,c,s);else if(a.tag===19)Fb(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(ue(ln,d),p){case"forwards":for(c=s.child,p=null;c!==null;)a=c.alternate,a!==null&&su(a)===null&&(p=c),c=c.sibling;c=p,c===null?(p=s.child,s.child=null):(p=c.sibling,c.sibling=null),Qm(s,!1,p,c,v);break;case"backwards":for(c=null,p=s.child,s.child=null;p!==null;){if(a=p.alternate,a!==null&&su(a)===null){s.child=p;break}a=p.sibling,p.sibling=c,c=p,p=a}Qm(s,!0,c,null,v);break;case"together":Qm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ha(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),sl|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Vi(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=ia(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ia(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Jm(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Fc(a)))}function VT(a,s,c){switch(s.tag){case 3:U(s,s.stateNode.containerInfo),Xa(s,an,a.memoizedState.cache),Ki();break;case 27:case 5:ee(s);break;case 4:U(s,s.stateNode.containerInfo);break;case 10:Xa(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(el(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Hb(a,s,c):(el(s),a=ha(a,s,c),a!==null?a.sibling:null);el(s);break;case 19:var p=(a.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(Vi(a,s,c,!1),d=(c&s.childLanes)!==0),p){if(d)return Yb(a,s,c);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(ln,ln.current),d)break;return null;case 22:case 23:return s.lanes=0,Lb(a,s,c);case 24:Xa(s,an,a.memoizedState.cache)}return ha(a,s,c)}function Kb(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)fn=!0;else{if(!Jm(a,c)&&(s.flags&128)===0)return fn=!1,VT(a,s,c);fn=(a.flags&131072)!==0}else fn=!1,xt&&(s.flags&1048576)!==0&&jv(s,Hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")om(d)?(a=Kl(d,a),s.tag=1,s=zb(null,s,d,a,c)):(s.tag=0,s=Km(null,s,d,a,c));else{if(d!=null){if(p=d.$$typeof,p===k){s.tag=11,s=$b(null,s,d,a,c);break e}else if(p===M){s.tag=14,s=Ib(null,s,d,a,c);break e}}throw s=G(d)||d,Error(r(306,s,""))}}return s;case 0:return Km(a,s,s.type,s.pendingProps,c);case 1:return d=s.type,p=Kl(d,s.pendingProps),zb(a,s,d,p,c);case 3:e:{if(U(s,s.stateNode.containerInfo),a===null)throw Error(r(387));d=s.pendingProps;var v=s.memoizedState;p=v.element,jm(a,s),to(s,d,null,c);var E=s.memoizedState;if(d=E.cache,Xa(s,an,d),d!==v.cache&&pm(s,[an],c,!0),eo(),d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=qb(a,s,d,c);break e}else if(d!==p){p=vr(Error(r(424)),s),Gi(p),s=qb(a,s,d,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Kt=Lr(a.firstChild),Ln=s,xt=!0,Ul=null,Yr=!0,c=Sb(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ki(),d===p){s=ha(a,s,c);break e}Nn(a,s,d,c)}s=s.child}return s;case 26:return cu(a,s),a===null?(c=W1(s.type,null,s.pendingProps,null))?s.memoizedState=c:xt||(c=s.type,a=s.pendingProps,d=Su(J.current).createElement(c),d[rt]=s,d[Yt]=a,An(d,c,a),Et(d),s.stateNode=d):s.memoizedState=W1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ee(s),a===null&&xt&&(d=s.stateNode=G1(s.type,s.pendingProps,J.current),Ln=s,Yr=!0,p=Kt,ul(s.type)?(kh=p,Kt=Lr(d.firstChild)):Kt=p),Nn(a,s,s.pendingProps.children,c),cu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&xt&&((p=d=Kt)&&(d=jO(d,s.type,s.pendingProps,Yr),d!==null?(s.stateNode=d,Ln=s,Kt=Lr(d.firstChild),Yr=!1,p=!0):p=!1),p||zl(s)),ee(s),p=s.type,v=s.pendingProps,E=a!==null?a.memoizedProps:null,d=v.children,Th(p,v)?d=null:E!==null&&Th(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=Em(a,s,UT,null,null,c),So._currentValue=p),cu(a,s),Nn(a,s,d,c),s.child;case 6:return a===null&&xt&&((a=c=Kt)&&(c=NO(c,s.pendingProps,Yr),c!==null?(s.stateNode=c,Ln=s,Kt=null,a=!0):a=!1),a||zl(s)),null;case 13:return Hb(a,s,c);case 4:return U(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=zs(s,null,d,c):Nn(a,s,d,c),s.child;case 11:return $b(a,s,s.type,s.pendingProps,c);case 7:return Nn(a,s,s.pendingProps,c),s.child;case 8:return Nn(a,s,s.pendingProps.children,c),s.child;case 12:return Nn(a,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,Xa(s,s.type,d.value),Nn(a,s,d.children,c),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Hl(s),p=On(p),d=d(p),s.flags|=1,Nn(a,s,d,c),s.child;case 14:return Ib(a,s,s.type,s.pendingProps,c);case 15:return Rb(a,s,s.type,s.pendingProps,c);case 19:return Yb(a,s,c);case 31:return d=s.pendingProps,c=s.mode,d={mode:d.mode,children:d.children},a===null?(c=uu(d,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=ia(a.child,d),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return Lb(a,s,c);case 24:return Hl(s),d=On(an),a===null?(p=vm(),p===null&&(p=Mt,v=xm(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=c),p=v),s.memoizedState={parent:d,cache:p},wm(s),Xa(s,an,p)):((a.lanes&c)!==0&&(jm(a,s),to(s,null,null,c),eo()),p=a.memoizedState,v=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Xa(s,an,d)):(d=v.cache,Xa(s,an,d),d!==p.cache&&pm(s,[an],c,!0))),Nn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ga(a){a.flags|=4}function Gb(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!tw(s)){if(s=Nr.current,s!==null&&((ut&4194048)===ut?Kr!==null:(ut&62914560)!==ut&&(ut&536870912)===0||s!==Kr))throw Qi=bm,Ov;a.flags|=8192}}function du(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?ye():536870912,a.lanes|=s,Ys|=s)}function oo(a,s){if(!xt)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function qt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,d=0;if(s)for(var p=a.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=d,a.childLanes=c,s}function XT(a,s,c){var d=s.pendingProps;switch(fm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return qt(s),null;case 3:return c=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),da(an),L(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Yi(s)?ga(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Av())),qt(s),null;case 26:return c=s.memoizedState,a===null?(ga(s),c!==null?(qt(s),Gb(s,c)):(qt(s),s.flags&=-16777217)):c?c!==a.memoizedState?(ga(s),qt(s),Gb(s,c)):(qt(s),s.flags&=-16777217):(a.memoizedProps!==d&&ga(s),qt(s),s.flags&=-16777217),null;case 27:te(s),c=J.current;var p=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==d&&ga(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return qt(s),null}a=be.current,Yi(s)?Nv(s):(a=G1(p,d,c),s.stateNode=a,ga(s))}return qt(s),null;case 5:if(te(s),c=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&ga(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return qt(s),null}if(a=be.current,Yi(s))Nv(s);else{switch(p=Su(J.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}a[rt]=s,a[Yt]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=a;e:switch(An(a,c,d),c){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ga(s)}}return qt(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&ga(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(a=J.current,Yi(s)){if(a=s.stateNode,c=s.memoizedProps,d=null,p=Ln,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}a[rt]=s,a=!!(a.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||U1(a.nodeValue,c)),a||zl(s)}else a=Su(a).createTextNode(d),a[rt]=s,s.stateNode=a}return qt(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Yi(s),d!==null&&d.dehydrated!==null){if(a===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[rt]=s}else Ki(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),p=!1}else p=Av(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ma(s),s):(ma(s),null)}if(ma(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,a=a!==null&&a.memoizedState!==null,c){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)}return c!==a&&c&&(s.child.flags|=8192),du(s,s.updateQueue),qt(s),null;case 4:return L(),a===null&&Sh(s.stateNode.containerInfo),qt(s),null;case 10:return da(s.type),qt(s),null;case 19:if(z(ln),p=s.memoizedState,p===null)return qt(s),null;if(d=(s.flags&128)!==0,v=p.rendering,v===null)if(d)oo(p,!1);else{if(Gt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(v=su(a),v!==null){for(s.flags|=128,oo(p,!1),a=v.updateQueue,s.updateQueue=a,du(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)wv(c,a),c=c.sibling;return ue(ln,ln.current&1|2),s.child}a=a.sibling}p.tail!==null&&Z()>hu&&(s.flags|=128,d=!0,oo(p,!1),s.lanes=4194304)}else{if(!d)if(a=su(v),a!==null){if(s.flags|=128,d=!0,a=a.updateQueue,s.updateQueue=a,du(s,a),oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!xt)return qt(s),null}else 2*Z()-p.renderingStartTime>hu&&c!==536870912&&(s.flags|=128,d=!0,oo(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(a=p.last,a!==null?a.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Z(),s.sibling=null,a=ln.current,ue(ln,d?a&1|2:a&1),s):(qt(s),null);case 22:case 23:return ma(s),Cm(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),c=s.updateQueue,c!==null&&du(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),a!==null&&z(Fl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),da(an),qt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function WT(a,s){switch(fm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return da(an),L(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return te(s),null;case 13:if(ma(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ki()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return z(ln),null;case 4:return L(),null;case 10:return da(s.type),null;case 22:case 23:return ma(s),Cm(),a!==null&&z(Fl),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return da(an),null;case 25:return null;default:return null}}function Vb(a,s){switch(fm(s),s.tag){case 3:da(an),L();break;case 26:case 27:case 5:te(s);break;case 4:L();break;case 13:ma(s);break;case 19:z(ln);break;case 10:da(s.type);break;case 22:case 23:ma(s),Cm(),a!==null&&z(Fl);break;case 24:da(an)}}function co(a,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&a)===a){d=void 0;var v=c.create,E=c.inst;d=v(),E.destroy=d}c=c.next}while(c!==p)}}catch(_){Tt(s,s.return,_)}}function nl(a,s,c){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&a)===a){var E=d.inst,_=E.destroy;if(_!==void 0){E.destroy=void 0,p=s;var Y=c,se=_;try{se()}catch(ve){Tt(p,Y,ve)}}}d=d.next}while(d!==v)}}catch(ve){Tt(s,s.return,ve)}}function Xb(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{Iv(s,c)}catch(d){Tt(a,a.return,d)}}}function Wb(a,s,c){c.props=Kl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(d){Tt(a,s,d)}}function uo(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof c=="function"?a.refCleanup=c(d):c.current=d}}catch(p){Tt(a,s,p)}}function Gr(a,s){var c=a.ref,d=a.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){Tt(a,s,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){Tt(a,s,p)}else c.current=null}function Zb(a){var s=a.type,c=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){Tt(a,a.return,p)}}function eh(a,s,c){try{var d=a.stateNode;xO(d,a.type,c,s),d[Yt]=s}catch(p){Tt(a,a.return,p)}}function Qb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ul(a.type)||a.tag===4}function th(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Qb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ul(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function nh(a,s,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Nu));else if(d!==4&&(d===27&&ul(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(nh(a,s,c),a=a.sibling;a!==null;)nh(a,s,c),a=a.sibling}function fu(a,s,c){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(d!==4&&(d===27&&ul(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(fu(a,s,c),a=a.sibling;a!==null;)fu(a,s,c),a=a.sibling}function Jb(a){var s=a.stateNode,c=a.memoizedProps;try{for(var d=a.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);An(s,d,c),s[rt]=a,s[Yt]=c}catch(v){Tt(a,a.return,v)}}var pa=!1,Wt=!1,rh=!1,e1=typeof WeakSet=="function"?WeakSet:Set,mn=null;function ZT(a,s){if(a=a.containerInfo,Dh=Ou,a=dv(a),tm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var E=0,_=-1,Y=-1,se=0,ve=0,Ae=a,ce=null;t:for(;;){for(var fe;Ae!==c||p!==0&&Ae.nodeType!==3||(_=E+p),Ae!==v||d!==0&&Ae.nodeType!==3||(Y=E+d),Ae.nodeType===3&&(E+=Ae.nodeValue.length),(fe=Ae.firstChild)!==null;)ce=Ae,Ae=fe;for(;;){if(Ae===a)break t;if(ce===c&&++se===p&&(_=E),ce===v&&++ve===d&&(Y=E),(fe=Ae.nextSibling)!==null)break;Ae=ce,ce=Ae.parentNode}Ae=fe}c=_===-1||Y===-1?null:{start:_,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Eh={focusedElem:a,selectionRange:c},Ou=!1,mn=s;mn!==null;)if(s=mn,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,mn=a;else for(;mn!==null;){switch(s=mn,v=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,c=s,p=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var Qe=Kl(c.type,p,c.elementType===c.type);a=d.getSnapshotBeforeUpdate(Qe,v),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ve){Tt(c,c.return,Ve)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Ph(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ph(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,mn=a;break}mn=s.return}}function t1(a,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:rl(a,c),d&4&&co(5,c);break;case 1:if(rl(a,c),d&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(E){Tt(c,c.return,E)}else{var p=Kl(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(p,s,a.__reactInternalSnapshotBeforeUpdate)}catch(E){Tt(c,c.return,E)}}d&64&&Xb(c),d&512&&uo(c,c.return);break;case 3:if(rl(a,c),d&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Iv(a,s)}catch(E){Tt(c,c.return,E)}}break;case 27:s===null&&d&4&&Jb(c);case 26:case 5:rl(a,c),s===null&&d&4&&Zb(c),d&512&&uo(c,c.return);break;case 12:rl(a,c);break;case 13:rl(a,c),d&4&&a1(a,c),d&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=sO.bind(null,c),SO(a,c))));break;case 22:if(d=c.memoizedState!==null||pa,!d){s=s!==null&&s.memoizedState!==null||Wt,p=pa;var v=Wt;pa=d,(Wt=s)&&!v?al(a,c,(c.subtreeFlags&8772)!==0):rl(a,c),pa=p,Wt=v}break;case 30:break;default:rl(a,c)}}function n1(a){var s=a.alternate;s!==null&&(a.alternate=null,n1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&$i(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var It=null,Yn=!1;function xa(a,s,c){for(c=c.child;c!==null;)r1(a,s,c),c=c.sibling}function r1(a,s,c){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Le,c)}catch{}switch(c.tag){case 26:Wt||Gr(c,s),xa(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Wt||Gr(c,s);var d=It,p=Yn;ul(c.type)&&(It=c.stateNode,Yn=!1),xa(a,s,c),bo(c.stateNode),It=d,Yn=p;break;case 5:Wt||Gr(c,s);case 6:if(d=It,p=Yn,It=null,xa(a,s,c),It=d,Yn=p,It!==null)if(Yn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(c.stateNode)}catch(v){Tt(c,s,v)}else try{It.removeChild(c.stateNode)}catch(v){Tt(c,s,v)}break;case 18:It!==null&&(Yn?(a=It,Y1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Eo(a)):Y1(It,c.stateNode));break;case 4:d=It,p=Yn,It=c.stateNode.containerInfo,Yn=!0,xa(a,s,c),It=d,Yn=p;break;case 0:case 11:case 14:case 15:Wt||nl(2,c,s),Wt||nl(4,c,s),xa(a,s,c);break;case 1:Wt||(Gr(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Wb(c,s,d)),xa(a,s,c);break;case 21:xa(a,s,c);break;case 22:Wt=(d=Wt)||c.memoizedState!==null,xa(a,s,c),Wt=d;break;default:xa(a,s,c)}}function a1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Eo(a)}catch(c){Tt(s,s.return,c)}}function QT(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new e1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new e1),s;default:throw Error(r(435,a.tag))}}function ah(a,s){var c=QT(a);s.forEach(function(d){var p=iO.bind(null,a,d);c.has(d)||(c.add(d),d.then(p,p))})}function nr(a,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],v=a,E=s,_=E;e:for(;_!==null;){switch(_.tag){case 27:if(ul(_.type)){It=_.stateNode,Yn=!1;break e}break;case 5:It=_.stateNode,Yn=!1;break e;case 3:case 4:It=_.stateNode.containerInfo,Yn=!0;break e}_=_.return}if(It===null)throw Error(r(160));r1(v,E,p),It=null,Yn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)l1(s,a),s=s.sibling}var Rr=null;function l1(a,s){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:nr(s,a),rr(a),d&4&&(nl(3,a,a.return),co(3,a),nl(5,a,a.return));break;case 1:nr(s,a),rr(a),d&512&&(Wt||c===null||Gr(c,c.return)),d&64&&pa&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=Rr;if(nr(s,a),rr(a),d&512&&(Wt||c===null||Gr(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=a.memoizedState,c===null)if(d===null)if(a.stateNode===null){e:{d=a.type,c=a.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[aa]||v[rt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),An(v,d,c),v[rt]=a,Et(v),d=v;break e;case"link":var E=J1("link","href",p).get(d+(c.href||""));if(E){for(var _=0;_<E.length;_++)if(v=E[_],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(_,1);break t}}v=p.createElement(d),An(v,d,c),p.head.appendChild(v);break;case"meta":if(E=J1("meta","content",p).get(d+(c.content||""))){for(_=0;_<E.length;_++)if(v=E[_],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(_,1);break t}}v=p.createElement(d),An(v,d,c),p.head.appendChild(v);break;default:throw Error(r(468,d))}v[rt]=a,Et(v),d=v}a.stateNode=d}else ew(p,a.type,a.stateNode);else a.stateNode=Q1(p,d,a.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?ew(p,a.type,a.stateNode):Q1(p,d,a.memoizedProps)):d===null&&a.stateNode!==null&&eh(a,a.memoizedProps,c.memoizedProps)}break;case 27:nr(s,a),rr(a),d&512&&(Wt||c===null||Gr(c,c.return)),c!==null&&d&4&&eh(a,a.memoizedProps,c.memoizedProps);break;case 5:if(nr(s,a),rr(a),d&512&&(Wt||c===null||Gr(c,c.return)),a.flags&32){p=a.stateNode;try{Ns(p,"")}catch(fe){Tt(a,a.return,fe)}}d&4&&a.stateNode!=null&&(p=a.memoizedProps,eh(a,p,c!==null?c.memoizedProps:p)),d&1024&&(rh=!0);break;case 6:if(nr(s,a),rr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,c=a.stateNode;try{c.nodeValue=d}catch(fe){Tt(a,a.return,fe)}}break;case 3:if(Du=null,p=Rr,Rr=Au(s.containerInfo),nr(s,a),Rr=p,rr(a),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Eo(s.containerInfo)}catch(fe){Tt(a,a.return,fe)}rh&&(rh=!1,s1(a));break;case 4:d=Rr,Rr=Au(a.stateNode.containerInfo),nr(s,a),rr(a),Rr=d;break;case 12:nr(s,a),rr(a);break;case 13:nr(s,a),rr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(uh=Z()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,ah(a,d)));break;case 22:p=a.memoizedState!==null;var Y=c!==null&&c.memoizedState!==null,se=pa,ve=Wt;if(pa=se||p,Wt=ve||Y,nr(s,a),Wt=ve,pa=se,rr(a),d&8192)e:for(s=a.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(c===null||Y||pa||Wt||Gl(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){Y=c=s;try{if(v=Y.stateNode,p)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{_=Y.stateNode;var Ae=Y.memoizedProps.style,ce=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;_.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(fe){Tt(Y,Y.return,fe)}}}else if(s.tag===6){if(c===null){Y=s;try{Y.stateNode.nodeValue=p?"":Y.memoizedProps}catch(fe){Tt(Y,Y.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,ah(a,c))));break;case 19:nr(s,a),rr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,ah(a,d)));break;case 30:break;case 21:break;default:nr(s,a),rr(a)}}function rr(a){var s=a.flags;if(s&2){try{for(var c,d=a.return;d!==null;){if(Qb(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var p=c.stateNode,v=th(a);fu(a,v,p);break;case 5:var E=c.stateNode;c.flags&32&&(Ns(E,""),c.flags&=-33);var _=th(a);fu(a,_,E);break;case 3:case 4:var Y=c.stateNode.containerInfo,se=th(a);nh(a,se,Y);break;default:throw Error(r(161))}}catch(ve){Tt(a,a.return,ve)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function s1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;s1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function rl(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t1(a,s.alternate,s),s=s.sibling}function Gl(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:nl(4,s,s.return),Gl(s);break;case 1:Gr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Wb(s,s.return,c),Gl(s);break;case 27:bo(s.stateNode);case 26:case 5:Gr(s,s.return),Gl(s);break;case 22:s.memoizedState===null&&Gl(s);break;case 30:Gl(s);break;default:Gl(s)}a=a.sibling}}function al(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=a,v=s,E=v.flags;switch(v.tag){case 0:case 11:case 15:al(p,v,c),co(4,v);break;case 1:if(al(p,v,c),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(se){Tt(d,d.return,se)}if(d=v,p=d.updateQueue,p!==null){var _=d.stateNode;try{var Y=p.shared.hiddenCallbacks;if(Y!==null)for(p.shared.hiddenCallbacks=null,p=0;p<Y.length;p++)$v(Y[p],_)}catch(se){Tt(d,d.return,se)}}c&&E&64&&Xb(v),uo(v,v.return);break;case 27:Jb(v);case 26:case 5:al(p,v,c),c&&d===null&&E&4&&Zb(v),uo(v,v.return);break;case 12:al(p,v,c);break;case 13:al(p,v,c),c&&E&4&&a1(p,v);break;case 22:v.memoizedState===null&&al(p,v,c),uo(v,v.return);break;case 30:break;default:al(p,v,c)}s=s.sibling}}function lh(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Xi(c))}function sh(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Xi(a))}function Vr(a,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)i1(a,s,c,d),s=s.sibling}function i1(a,s,c,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(a,s,c,d),p&2048&&co(9,s);break;case 1:Vr(a,s,c,d);break;case 3:Vr(a,s,c,d),p&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Xi(a)));break;case 12:if(p&2048){Vr(a,s,c,d),a=s.stateNode;try{var v=s.memoizedProps,E=v.id,_=v.onPostCommit;typeof _=="function"&&_(E,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Y){Tt(s,s.return,Y)}}else Vr(a,s,c,d);break;case 13:Vr(a,s,c,d);break;case 23:break;case 22:v=s.stateNode,E=s.alternate,s.memoizedState!==null?v._visibility&2?Vr(a,s,c,d):fo(a,s):v._visibility&2?Vr(a,s,c,d):(v._visibility|=2,qs(a,s,c,d,(s.subtreeFlags&10256)!==0)),p&2048&&lh(E,s);break;case 24:Vr(a,s,c,d),p&2048&&sh(s.alternate,s);break;default:Vr(a,s,c,d)}}function qs(a,s,c,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=a,E=s,_=c,Y=d,se=E.flags;switch(E.tag){case 0:case 11:case 15:qs(v,E,_,Y,p),co(8,E);break;case 23:break;case 22:var ve=E.stateNode;E.memoizedState!==null?ve._visibility&2?qs(v,E,_,Y,p):fo(v,E):(ve._visibility|=2,qs(v,E,_,Y,p)),p&&se&2048&&lh(E.alternate,E);break;case 24:qs(v,E,_,Y,p),p&&se&2048&&sh(E.alternate,E);break;default:qs(v,E,_,Y,p)}s=s.sibling}}function fo(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,d=s,p=d.flags;switch(d.tag){case 22:fo(c,d),p&2048&&lh(d.alternate,d);break;case 24:fo(c,d),p&2048&&sh(d.alternate,d);break;default:fo(c,d)}s=s.sibling}}var mo=8192;function Hs(a){if(a.subtreeFlags&mo)for(a=a.child;a!==null;)o1(a),a=a.sibling}function o1(a){switch(a.tag){case 26:Hs(a),a.flags&mo&&a.memoizedState!==null&&RO(Rr,a.memoizedState,a.memoizedProps);break;case 5:Hs(a);break;case 3:case 4:var s=Rr;Rr=Au(a.stateNode.containerInfo),Hs(a),Rr=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=mo,mo=16777216,Hs(a),mo=s):Hs(a));break;default:Hs(a)}}function c1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function ho(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];mn=d,d1(d,a)}c1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)u1(a),a=a.sibling}function u1(a){switch(a.tag){case 0:case 11:case 15:ho(a),a.flags&2048&&nl(9,a,a.return);break;case 3:ho(a);break;case 12:ho(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,mu(a)):ho(a);break;default:ho(a)}}function mu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];mn=d,d1(d,a)}c1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:nl(8,s,s.return),mu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,mu(s));break;default:mu(s)}a=a.sibling}}function d1(a,s){for(;mn!==null;){var c=mn;switch(c.tag){case 0:case 11:case 15:nl(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Xi(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,mn=d;else e:for(c=a;mn!==null;){d=mn;var p=d.sibling,v=d.return;if(n1(d),d===c){mn=null;break e}if(p!==null){p.return=v,mn=p;break e}mn=v}}}var JT={getCacheForType:function(a){var s=On(an),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c}},eO=typeof WeakMap=="function"?WeakMap:Map,yt=0,Mt=null,it=null,ut=0,vt=0,ar=null,ll=!1,Fs=!1,ih=!1,ya=0,Gt=0,sl=0,Vl=0,oh=0,Sr=0,Ys=0,go=null,Kn=null,ch=!1,uh=0,hu=1/0,gu=null,il=null,Sn=0,ol=null,Ks=null,Gs=0,dh=0,fh=null,f1=null,po=0,mh=null;function lr(){if((yt&2)!==0&&ut!==0)return ut&-ut;if(K.T!==null){var a=_s;return a!==0?a:bh()}return Rn()}function m1(){Sr===0&&(Sr=(ut&536870912)===0||xt?pe():536870912);var a=Nr.current;return a!==null&&(a.flags|=32),Sr}function sr(a,s,c){(a===Mt&&(vt===2||vt===9)||a.cancelPendingCommit!==null)&&(Vs(a,0),cl(a,ut,Sr,!1)),Ue(a,c),((yt&2)===0||a!==Mt)&&(a===Mt&&((yt&2)===0&&(Vl|=c),Gt===4&&cl(a,ut,Sr,!1)),Xr(a))}function h1(a,s,c){if((yt&6)!==0)throw Error(r(327));var d=!c&&(s&124)===0&&(s&a.expiredLanes)===0||He(a,s),p=d?rO(a,s):ph(a,s,!0),v=d;do{if(p===0){Fs&&!d&&cl(a,s,0,!1);break}else{if(c=a.current.alternate,v&&!tO(c)){p=ph(a,s,!1),v=!1;continue}if(p===2){if(v=s,a.errorRecoveryDisabledLanes&v)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var _=a;p=go;var Y=_.current.memoizedState.isDehydrated;if(Y&&(Vs(_,E).flags|=256),E=ph(_,E,!1),E!==2){if(ih&&!Y){_.errorRecoveryDisabledLanes|=v,Vl|=v,p=4;break e}v=Kn,Kn=p,v!==null&&(Kn===null?Kn=v:Kn.push.apply(Kn,v))}p=E}if(v=!1,p!==2)continue}}if(p===1){Vs(a,0),cl(a,s,0,!0);break}e:{switch(d=a,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:cl(d,s,Sr,!ll);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=uh+300-Z(),10<p)){if(cl(d,s,Sr,!ll),Ke(d,0,!0)!==0)break e;d.timeoutHandle=H1(g1.bind(null,d,c,Kn,gu,ch,s,Sr,Vl,Ys,ll,v,2,-0,0),p);break e}g1(d,c,Kn,gu,ch,s,Sr,Vl,Ys,ll,v,0,-0,0)}}break}while(!0);Xr(a)}function g1(a,s,c,d,p,v,E,_,Y,se,ve,Ae,ce,fe){if(a.timeoutHandle=-1,Ae=s.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(No={stylesheets:null,count:0,unsuspend:IO},o1(s),Ae=LO(),Ae!==null)){a.cancelPendingCommit=Ae(j1.bind(null,a,s,v,c,d,p,E,_,Y,ve,1,ce,fe)),cl(a,v,E,!se);return}j1(a,s,v,c,d,p,E,_,Y)}function tO(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],v=p.getSnapshot;p=p.value;try{if(!er(v(),p))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cl(a,s,c,d){s&=~oh,s&=~Vl,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var p=s;0<p;){var v=31-Ze(p),E=1<<v;d[v]=-1,p&=~E}c!==0&&tt(a,c,s)}function pu(){return(yt&6)===0?(xo(0),!1):!0}function hh(){if(it!==null){if(vt===0)var a=it.return;else a=it,ua=ql=null,Pm(a),Us=null,so=0,a=it;for(;a!==null;)Vb(a.alternate,a),a=a.return;it=null}}function Vs(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,vO(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),hh(),Mt=a,it=c=ia(a.current,null),ut=s,vt=0,ar=null,ll=!1,Fs=He(a,s),ih=!1,Ys=Sr=oh=Vl=sl=Gt=0,Kn=go=null,ch=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var p=31-Ze(d),v=1<<p;s|=a[p],d&=~v}return ya=s,Lc(),c}function p1(a,s){at=null,K.H=ru,s===Zi||s===Gc?(s=kv(),vt=3):s===Ov?(s=kv(),vt=4):vt=s===_b?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ar=s,it===null&&(Gt=1,ou(a,vr(s,a.current)))}function x1(){var a=K.H;return K.H=ru,a===null?ru:a}function y1(){var a=K.A;return K.A=JT,a}function gh(){Gt=4,ll||(ut&4194048)!==ut&&Nr.current!==null||(Fs=!0),(sl&134217727)===0&&(Vl&134217727)===0||Mt===null||cl(Mt,ut,Sr,!1)}function ph(a,s,c){var d=yt;yt|=2;var p=x1(),v=y1();(Mt!==a||ut!==s)&&(gu=null,Vs(a,s)),s=!1;var E=Gt;e:do try{if(vt!==0&&it!==null){var _=it,Y=ar;switch(vt){case 8:hh(),E=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(s=!0);var se=vt;if(vt=0,ar=null,Xs(a,_,Y,se),c&&Fs){E=0;break e}break;default:se=vt,vt=0,ar=null,Xs(a,_,Y,se)}}nO(),E=Gt;break}catch(ve){p1(a,ve)}while(!0);return s&&a.shellSuspendCounter++,ua=ql=null,yt=d,K.H=p,K.A=v,it===null&&(Mt=null,ut=0,Lc()),E}function nO(){for(;it!==null;)v1(it)}function rO(a,s){var c=yt;yt|=2;var d=x1(),p=y1();Mt!==a||ut!==s?(gu=null,hu=Z()+500,Vs(a,s)):Fs=He(a,s);e:do try{if(vt!==0&&it!==null){s=it;var v=ar;t:switch(vt){case 1:vt=0,ar=null,Xs(a,s,v,1);break;case 2:case 9:if(Pv(v)){vt=0,ar=null,b1(s);break}s=function(){vt!==2&&vt!==9||Mt!==a||(vt=7),Xr(a)},v.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Pv(v)?(vt=0,ar=null,b1(s)):(vt=0,ar=null,Xs(a,s,v,7));break;case 5:var E=null;switch(it.tag){case 26:E=it.memoizedState;case 5:case 27:var _=it;if(!E||tw(E)){vt=0,ar=null;var Y=_.sibling;if(Y!==null)it=Y;else{var se=_.return;se!==null?(it=se,xu(se)):it=null}break t}}vt=0,ar=null,Xs(a,s,v,5);break;case 6:vt=0,ar=null,Xs(a,s,v,6);break;case 8:hh(),Gt=6;break e;default:throw Error(r(462))}}aO();break}catch(ve){p1(a,ve)}while(!0);return ua=ql=null,K.H=d,K.A=p,yt=c,it!==null?0:(Mt=null,ut=0,Lc(),Gt)}function aO(){for(;it!==null&&!W();)v1(it)}function v1(a){var s=Kb(a.alternate,a,ya);a.memoizedProps=a.pendingProps,s===null?xu(a):it=s}function b1(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=Ub(c,s,s.pendingProps,s.type,void 0,ut);break;case 11:s=Ub(c,s,s.pendingProps,s.type.render,s.ref,ut);break;case 5:Pm(s);default:Vb(c,s),s=it=wv(s,ya),s=Kb(c,s,ya)}a.memoizedProps=a.pendingProps,s===null?xu(a):it=s}function Xs(a,s,c,d){ua=ql=null,Pm(s),Us=null,so=0;var p=s.return;try{if(GT(a,p,s,c,ut)){Gt=1,ou(a,vr(c,a.current)),it=null;return}}catch(v){if(p!==null)throw it=p,v;Gt=1,ou(a,vr(c,a.current)),it=null;return}s.flags&32768?(xt||d===1?a=!0:Fs||(ut&536870912)!==0?a=!1:(ll=a=!0,(d===2||d===9||d===3||d===6)&&(d=Nr.current,d!==null&&d.tag===13&&(d.flags|=16384))),w1(s,a)):xu(s)}function xu(a){var s=a;do{if((s.flags&32768)!==0){w1(s,ll);return}a=s.return;var c=XT(s.alternate,s,ya);if(c!==null){it=c;return}if(s=s.sibling,s!==null){it=s;return}it=s=a}while(s!==null);Gt===0&&(Gt=5)}function w1(a,s){do{var c=WT(a.alternate,a);if(c!==null){c.flags&=32767,it=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){it=a;return}it=a=c}while(a!==null);Gt=6,it=null}function j1(a,s,c,d,p,v,E,_,Y){a.cancelPendingCommit=null;do yu();while(Sn!==0);if((yt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=sm,Xe(a,c,v,E,_,Y),a===Mt&&(it=Mt=null,ut=0),Ks=s,ol=a,Gs=c,dh=v,fh=p,f1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oO(Te,function(){return D1(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,p=re.p,re.p=2,E=yt,yt|=4;try{ZT(a,s,c)}finally{yt=E,re.p=p,K.T=d}}Sn=1,N1(),S1(),A1()}}function N1(){if(Sn===1){Sn=0;var a=ol,s=Ks,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var d=re.p;re.p=2;var p=yt;yt|=4;try{l1(s,a);var v=Eh,E=dv(a.containerInfo),_=v.focusedElem,Y=v.selectionRange;if(E!==_&&_&&_.ownerDocument&&uv(_.ownerDocument.documentElement,_)){if(Y!==null&&tm(_)){var se=Y.start,ve=Y.end;if(ve===void 0&&(ve=se),"selectionStart"in _)_.selectionStart=se,_.selectionEnd=Math.min(ve,_.value.length);else{var Ae=_.ownerDocument||document,ce=Ae&&Ae.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),Qe=_.textContent.length,Ve=Math.min(Y.start,Qe),At=Y.end===void 0?Ve:Math.min(Y.end,Qe);!fe.extend&&Ve>At&&(E=At,At=Ve,Ve=E);var ne=cv(_,Ve),Q=cv(_,At);if(ne&&Q&&(fe.rangeCount!==1||fe.anchorNode!==ne.node||fe.anchorOffset!==ne.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ae=Ae.createRange();ae.setStart(ne.node,ne.offset),fe.removeAllRanges(),Ve>At?(fe.addRange(ae),fe.extend(Q.node,Q.offset)):(ae.setEnd(Q.node,Q.offset),fe.addRange(ae))}}}}for(Ae=[],fe=_;fe=fe.parentNode;)fe.nodeType===1&&Ae.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Ae.length;_++){var je=Ae[_];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Ou=!!Dh,Eh=Dh=null}finally{yt=p,re.p=d,K.T=c}}a.current=s,Sn=2}}function S1(){if(Sn===2){Sn=0;var a=ol,s=Ks,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var d=re.p;re.p=2;var p=yt;yt|=4;try{t1(a,s.alternate,s)}finally{yt=p,re.p=d,K.T=c}}Sn=3}}function A1(){if(Sn===4||Sn===3){Sn=0,xe();var a=ol,s=Ks,c=Gs,d=f1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Sn=5:(Sn=0,Ks=ol=null,C1(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(il=null),In(c),s=s.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Le,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=K.T,p=re.p,re.p=2,K.T=null;try{for(var v=a.onRecoverableError,E=0;E<d.length;E++){var _=d[E];v(_.value,{componentStack:_.stack})}}finally{K.T=s,re.p=p}}(Gs&3)!==0&&yu(),Xr(a),p=a.pendingLanes,(c&4194090)!==0&&(p&42)!==0?a===mh?po++:(po=0,mh=a):po=0,xo(0)}}function C1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Xi(s)))}function yu(a){return N1(),S1(),A1(),D1()}function D1(){if(Sn!==5)return!1;var a=ol,s=dh;dh=0;var c=In(Gs),d=K.T,p=re.p;try{re.p=32>c?32:c,K.T=null,c=fh,fh=null;var v=ol,E=Gs;if(Sn=0,Ks=ol=null,Gs=0,(yt&6)!==0)throw Error(r(331));var _=yt;if(yt|=4,u1(v.current),i1(v,v.current,E,c),yt=_,xo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Le,v)}catch{}return!0}finally{re.p=p,K.T=d,C1(a,s)}}function E1(a,s,c){s=vr(c,s),s=Ym(a.stateNode,s,2),a=Qa(a,s,2),a!==null&&(Ue(a,2),Xr(a))}function Tt(a,s,c){if(a.tag===3)E1(a,a,c);else for(;s!==null;){if(s.tag===3){E1(s,a,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(il===null||!il.has(d))){a=vr(c,a),c=Mb(2),d=Qa(s,c,2),d!==null&&(kb(c,d,s,a),Ue(d,2),Xr(d));break}}s=s.return}}function xh(a,s,c){var d=a.pingCache;if(d===null){d=a.pingCache=new eO;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(c)||(ih=!0,p.add(c),a=lO.bind(null,a,s,c),s.then(a,a))}function lO(a,s,c){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Mt===a&&(ut&c)===c&&(Gt===4||Gt===3&&(ut&62914560)===ut&&300>Z()-uh?(yt&2)===0&&Vs(a,0):oh|=c,Ys===ut&&(Ys=0)),Xr(a)}function T1(a,s){s===0&&(s=ye()),a=Os(a,s),a!==null&&(Ue(a,s),Xr(a))}function sO(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),T1(a,c)}function iO(a,s){var c=0;switch(a.tag){case 13:var d=a.stateNode,p=a.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),T1(a,c)}function oO(a,s){return ie(a,s)}var vu=null,Ws=null,yh=!1,bu=!1,vh=!1,Xl=0;function Xr(a){a!==Ws&&a.next===null&&(Ws===null?vu=Ws=a:Ws=Ws.next=a),bu=!0,yh||(yh=!0,uO())}function xo(a,s){if(!vh&&bu){vh=!0;do for(var c=!1,d=vu;d!==null;){if(a!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var E=d.suspendedLanes,_=d.pingedLanes;v=(1<<31-Ze(42|a)+1)-1,v&=p&~(E&~_),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,k1(d,v))}else v=ut,v=Ke(d,d===Mt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||He(d,v)||(c=!0,k1(d,v));d=d.next}while(c);vh=!1}}function cO(){O1()}function O1(){bu=yh=!1;var a=0;Xl!==0&&(yO()&&(a=Xl),Xl=0);for(var s=Z(),c=null,d=vu;d!==null;){var p=d.next,v=P1(d,s);v===0?(d.next=null,c===null?vu=p:c.next=p,p===null&&(Ws=c)):(c=d,(a!==0||(v&3)!==0)&&(bu=!0)),d=p}xo(a)}function P1(a,s){for(var c=a.suspendedLanes,d=a.pingedLanes,p=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var E=31-Ze(v),_=1<<E,Y=p[E];Y===-1?((_&c)===0||(_&d)!==0)&&(p[E]=Ne(_,s)):Y<=s&&(a.expiredLanes|=_),v&=~_}if(s=Mt,c=ut,c=Ke(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,c===0||a===s&&(vt===2||vt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&B(d),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||He(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(d!==null&&B(d),In(c)){case 2:case 8:c=Se;break;case 32:c=Te;break;case 268435456:c=ke;break;default:c=Te}return d=M1.bind(null,a),c=ie(c,d),a.callbackPriority=s,a.callbackNode=c,s}return d!==null&&d!==null&&B(d),a.callbackPriority=2,a.callbackNode=null,2}function M1(a,s){if(Sn!==0&&Sn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(yu()&&a.callbackNode!==c)return null;var d=ut;return d=Ke(a,a===Mt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(h1(a,d,s),P1(a,Z()),a.callbackNode!=null&&a.callbackNode===c?M1.bind(null,a):null)}function k1(a,s){if(yu())return null;h1(a,s,!0)}function uO(){bO(function(){(yt&6)!==0?ie(Ee,cO):O1()})}function bh(){return Xl===0&&(Xl=pe()),Xl}function _1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Pc(""+a)}function $1(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function dO(a,s,c,d,p){if(s==="submit"&&c&&c.stateNode===p){var v=_1((p[Yt]||null).action),E=d.submitter;E&&(s=(s=E[Yt]||null)?_1(s.formAction):E.getAttribute("formAction"),s!==null&&(v=s,E=null));var _=new $c("action","action",null,d,p);a.push({event:_,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Xl!==0){var Y=E?$1(p,E):new FormData(p);Um(c,{pending:!0,data:Y,method:p.method,action:v},null,Y)}}else typeof v=="function"&&(_.preventDefault(),Y=E?$1(p,E):new FormData(p),Um(c,{pending:!0,data:Y,method:p.method,action:v},v,Y))},currentTarget:p}]})}}for(var wh=0;wh<lm.length;wh++){var jh=lm[wh],fO=jh.toLowerCase(),mO=jh[0].toUpperCase()+jh.slice(1);Ir(fO,"on"+mO)}Ir(hv,"onAnimationEnd"),Ir(gv,"onAnimationIteration"),Ir(pv,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(OT,"onTransitionRun"),Ir(PT,"onTransitionStart"),Ir(MT,"onTransitionCancel"),Ir(xv,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kl("onBeforeInput",["compositionend","keypress","textInput","paste"]),kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function I1(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var d=a[c],p=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var E=d.length-1;0<=E;E--){var _=d[E],Y=_.instance,se=_.currentTarget;if(_=_.listener,Y!==v&&p.isPropagationStopped())break e;v=_,p.currentTarget=se;try{v(p)}catch(ve){iu(ve)}p.currentTarget=null,v=Y}else for(E=0;E<d.length;E++){if(_=d[E],Y=_.instance,se=_.currentTarget,_=_.listener,Y!==v&&p.isPropagationStopped())break e;v=_,p.currentTarget=se;try{v(p)}catch(ve){iu(ve)}p.currentTarget=null,v=Y}}}}function ot(a,s){var c=s[lt];c===void 0&&(c=s[lt]=new Set);var d=a+"__bubble";c.has(d)||(R1(s,a,2,!1),c.add(d))}function Nh(a,s,c){var d=0;s&&(d|=4),R1(c,a,d,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Sh(a){if(!a[wu]){a[wu]=!0,Ac.forEach(function(c){c!=="selectionchange"&&(hO.has(c)||Nh(c,!1,a),Nh(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[wu]||(s[wu]=!0,Nh("selectionchange",!1,s))}}function R1(a,s,c,d){switch(iw(s)){case 2:var p=zO;break;case 8:p=qO;break;default:p=Lh}c=p.bind(null,s,c,a),p=void 0,!Kf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?a.addEventListener(s,c,{capture:!0,passive:p}):a.addEventListener(s,c,!0):p!==void 0?a.addEventListener(s,c,{passive:p}):a.addEventListener(s,c,!1)}function Ah(a,s,c,d,p){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var _=d.stateNode.containerInfo;if(_===p)break;if(E===4)for(E=d.return;E!==null;){var Y=E.tag;if((Y===3||Y===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;_!==null;){if(E=Ga(_),E===null)return;if(Y=E.tag,Y===5||Y===6||Y===26||Y===27){d=v=E;continue e}_=_.parentNode}}d=d.return}Fy(function(){var se=v,ve=Ff(c),Ae=[];e:{var ce=yv.get(a);if(ce!==void 0){var fe=$c,Qe=a;switch(a){case"keypress":if(kc(c)===0)break e;case"keydown":case"keyup":fe=oT;break;case"focusin":Qe="focus",fe=Wf;break;case"focusout":Qe="blur",fe=Wf;break;case"beforeblur":case"afterblur":fe=Wf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=W3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=dT;break;case hv:case gv:case pv:fe=J3;break;case xv:fe=mT;break;case"scroll":case"scrollend":fe=V3;break;case"wheel":fe=gT;break;case"copy":case"cut":case"paste":fe=tT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Xy;break;case"toggle":case"beforetoggle":fe=xT}var Ve=(s&4)!==0,At=!Ve&&(a==="scroll"||a==="scrollend"),ne=Ve?ce!==null?ce+"Capture":null:ce;Ve=[];for(var Q=se,ae;Q!==null;){var je=Q;if(ae=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ae===null||ne===null||(je=Ii(Q,ne),je!=null&&Ve.push(vo(Q,je,ae))),At)break;Q=Q.return}0<Ve.length&&(ce=new fe(ce,Qe,null,c,ve),Ae.push({event:ce,listeners:Ve}))}}if((s&7)===0){e:{if(ce=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",ce&&c!==Hf&&(Qe=c.relatedTarget||c.fromElement)&&(Ga(Qe)||Qe[ct]))break e;if((fe||ce)&&(ce=ve.window===ve?ve:(ce=ve.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(Qe=c.relatedTarget||c.toElement,fe=se,Qe=Qe?Ga(Qe):null,Qe!==null&&(At=o(Qe),Ve=Qe.tag,Qe!==At||Ve!==5&&Ve!==27&&Ve!==6)&&(Qe=null)):(fe=null,Qe=se),fe!==Qe)){if(Ve=Gy,je="onMouseLeave",ne="onMouseEnter",Q="mouse",(a==="pointerout"||a==="pointerover")&&(Ve=Xy,je="onPointerLeave",ne="onPointerEnter",Q="pointer"),At=fe==null?ce:Pt(fe),ae=Qe==null?ce:Pt(Qe),ce=new Ve(je,Q+"leave",fe,c,ve),ce.target=At,ce.relatedTarget=ae,je=null,Ga(ve)===se&&(Ve=new Ve(ne,Q+"enter",Qe,c,ve),Ve.target=ae,Ve.relatedTarget=At,je=Ve),At=je,fe&&Qe)t:{for(Ve=fe,ne=Qe,Q=0,ae=Ve;ae;ae=Zs(ae))Q++;for(ae=0,je=ne;je;je=Zs(je))ae++;for(;0<Q-ae;)Ve=Zs(Ve),Q--;for(;0<ae-Q;)ne=Zs(ne),ae--;for(;Q--;){if(Ve===ne||ne!==null&&Ve===ne.alternate)break t;Ve=Zs(Ve),ne=Zs(ne)}Ve=null}else Ve=null;fe!==null&&L1(Ae,ce,fe,Ve,!1),Qe!==null&&At!==null&&L1(Ae,At,Qe,Ve,!0)}}e:{if(ce=se?Pt(se):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var Re=rv;else if(tv(ce))if(av)Re=DT;else{Re=AT;var st=ST}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&qf(se.elementType)&&(Re=rv):Re=CT;if(Re&&(Re=Re(a,se))){nv(Ae,Re,c,ve);break e}st&&st(a,ce,se),a==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&zf(ce,"number",ce.value)}switch(st=se?Pt(se):window,a){case"focusin":(tv(st)||st.contentEditable==="true")&&(Ds=st,nm=se,Fi=null);break;case"focusout":Fi=nm=Ds=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,fv(Ae,c,ve);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":fv(Ae,c,ve)}var Fe;if(Qf)e:{switch(a){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Cs?Jy(a,c)&&(We="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(We="onCompositionStart");We&&(Wy&&c.locale!=="ko"&&(Cs||We!=="onCompositionStart"?We==="onCompositionEnd"&&Cs&&(Fe=Yy()):(Va=ve,Gf="value"in Va?Va.value:Va.textContent,Cs=!0)),st=ju(se,We),0<st.length&&(We=new Vy(We,a,null,c,ve),Ae.push({event:We,listeners:st}),Fe?We.data=Fe:(Fe=ev(c),Fe!==null&&(We.data=Fe)))),(Fe=vT?bT(a,c):wT(a,c))&&(We=ju(se,"onBeforeInput"),0<We.length&&(st=new Vy("onBeforeInput","beforeinput",null,c,ve),Ae.push({event:st,listeners:We}),st.data=Fe)),dO(Ae,a,se,c,ve)}I1(Ae,s)})}function vo(a,s,c){return{instance:a,listener:s,currentTarget:c}}function ju(a,s){for(var c=s+"Capture",d=[];a!==null;){var p=a,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ii(a,c),p!=null&&d.unshift(vo(a,p,v)),p=Ii(a,s),p!=null&&d.push(vo(a,p,v))),a.tag===3)return d;a=a.return}return[]}function Zs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function L1(a,s,c,d,p){for(var v=s._reactName,E=[];c!==null&&c!==d;){var _=c,Y=_.alternate,se=_.stateNode;if(_=_.tag,Y!==null&&Y===d)break;_!==5&&_!==26&&_!==27||se===null||(Y=se,p?(se=Ii(c,v),se!=null&&E.unshift(vo(c,se,Y))):p||(se=Ii(c,v),se!=null&&E.push(vo(c,se,Y)))),c=c.return}E.length!==0&&a.push({event:s,listeners:E})}var gO=/\r\n?/g,pO=/\u0000|\uFFFD/g;function B1(a){return(typeof a=="string"?a:""+a).replace(gO,`
`).replace(pO,"")}function U1(a,s){return s=B1(s),B1(a)===s}function Nu(){}function St(a,s,c,d,p,v){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Ns(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Ns(a,""+d);break;case"className":Ec(a,"class",d);break;case"tabIndex":Ec(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ec(a,c,d);break;case"style":qy(a,d,v);break;case"data":if(s!=="object"){Ec(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Pc(""+d),a.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(s!=="input"&&St(a,s,"name",p.name,p,null),St(a,s,"formEncType",p.formEncType,p,null),St(a,s,"formMethod",p.formMethod,p,null),St(a,s,"formTarget",p.formTarget,p,null)):(St(a,s,"encType",p.encType,p,null),St(a,s,"method",p.method,p,null),St(a,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(c);break}d=Pc(""+d),a.setAttribute(c,d);break;case"onClick":d!=null&&(a.onclick=Nu);break;case"onScroll":d!=null&&ot("scroll",a);break;case"onScrollEnd":d!=null&&ot("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}c=Pc(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""+d):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":d===!0?a.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(c,d):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(c,d):a.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(c):a.setAttribute(c,d);break;case"popover":ot("beforetoggle",a),ot("toggle",a),Dc(a,"popover",d);break;case"xlinkActuate":la(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":la(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":la(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":la(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":la(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":la(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":la(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":la(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":la(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Dc(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=K3.get(c)||c,Dc(a,c,d))}}function Ch(a,s,c,d,p,v){switch(c){case"style":qy(a,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof d=="string"?Ns(a,d):(typeof d=="number"||typeof d=="bigint")&&Ns(a,""+d);break;case"onScroll":d!=null&&ot("scroll",a);break;case"onScrollEnd":d!=null&&ot("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),s=c.slice(2,p?c.length-7:void 0),v=a[Yt]||null,v=v!=null?v[c]:null,typeof v=="function"&&a.removeEventListener(s,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,d,p);break e}c in a?a[c]=d:d===!0?a.setAttribute(c,""):Dc(a,c,d)}}}function An(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",a),ot("load",a);var d=!1,p=!1,v;for(v in c)if(c.hasOwnProperty(v)){var E=c[v];if(E!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(a,s,v,E,c,null)}}p&&St(a,s,"srcSet",c.srcSet,c,null),d&&St(a,s,"src",c.src,c,null);return;case"input":ot("invalid",a);var _=v=E=p=null,Y=null,se=null;for(d in c)if(c.hasOwnProperty(d)){var ve=c[d];if(ve!=null)switch(d){case"name":p=ve;break;case"type":E=ve;break;case"checked":Y=ve;break;case"defaultChecked":se=ve;break;case"value":v=ve;break;case"defaultValue":_=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,s));break;default:St(a,s,d,ve,c,null)}}Ly(a,v,_,Y,se,E,p,!1),Tc(a);return;case"select":ot("invalid",a),d=E=v=null;for(p in c)if(c.hasOwnProperty(p)&&(_=c[p],_!=null))switch(p){case"value":v=_;break;case"defaultValue":E=_;break;case"multiple":d=_;default:St(a,s,p,_,c,null)}s=v,c=E,a.multiple=!!d,s!=null?js(a,!!d,s,!1):c!=null&&js(a,!!d,c,!0);return;case"textarea":ot("invalid",a),v=p=d=null;for(E in c)if(c.hasOwnProperty(E)&&(_=c[E],_!=null))switch(E){case"value":d=_;break;case"defaultValue":p=_;break;case"children":v=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:St(a,s,E,_,c,null)}Uy(a,d,p,v),Tc(a);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(d=c[Y],d!=null))switch(Y){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:St(a,s,Y,d,c,null)}return;case"dialog":ot("beforetoggle",a),ot("toggle",a),ot("cancel",a),ot("close",a);break;case"iframe":case"object":ot("load",a);break;case"video":case"audio":for(d=0;d<yo.length;d++)ot(yo[d],a);break;case"image":ot("error",a),ot("load",a);break;case"details":ot("toggle",a);break;case"embed":case"source":case"link":ot("error",a),ot("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(d=c[se],d!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(a,s,se,d,c,null)}return;default:if(qf(s)){for(ve in c)c.hasOwnProperty(ve)&&(d=c[ve],d!==void 0&&Ch(a,s,ve,d,c,void 0));return}}for(_ in c)c.hasOwnProperty(_)&&(d=c[_],d!=null&&St(a,s,_,d,c,null))}function xO(a,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,E=null,_=null,Y=null,se=null,ve=null;for(fe in c){var Ae=c[fe];if(c.hasOwnProperty(fe)&&Ae!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Y=Ae;default:d.hasOwnProperty(fe)||St(a,s,fe,null,d,Ae)}}for(var ce in d){var fe=d[ce];if(Ae=c[ce],d.hasOwnProperty(ce)&&(fe!=null||Ae!=null))switch(ce){case"type":v=fe;break;case"name":p=fe;break;case"checked":se=fe;break;case"defaultChecked":ve=fe;break;case"value":E=fe;break;case"defaultValue":_=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:fe!==Ae&&St(a,s,ce,fe,d,Ae)}}Uf(a,E,_,Y,se,ve,v,p);return;case"select":fe=E=_=ce=null;for(v in c)if(Y=c[v],c.hasOwnProperty(v)&&Y!=null)switch(v){case"value":break;case"multiple":fe=Y;default:d.hasOwnProperty(v)||St(a,s,v,null,d,Y)}for(p in d)if(v=d[p],Y=c[p],d.hasOwnProperty(p)&&(v!=null||Y!=null))switch(p){case"value":ce=v;break;case"defaultValue":_=v;break;case"multiple":E=v;default:v!==Y&&St(a,s,p,v,d,Y)}s=_,c=E,d=fe,ce!=null?js(a,!!c,ce,!1):!!d!=!!c&&(s!=null?js(a,!!c,s,!0):js(a,!!c,c?[]:"",!1));return;case"textarea":fe=ce=null;for(_ in c)if(p=c[_],c.hasOwnProperty(_)&&p!=null&&!d.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:St(a,s,_,null,d,p)}for(E in d)if(p=d[E],v=c[E],d.hasOwnProperty(E)&&(p!=null||v!=null))switch(E){case"value":ce=p;break;case"defaultValue":fe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&St(a,s,E,p,d,v)}By(a,ce,fe);return;case"option":for(var Qe in c)if(ce=c[Qe],c.hasOwnProperty(Qe)&&ce!=null&&!d.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:St(a,s,Qe,null,d,ce)}for(Y in d)if(ce=d[Y],fe=c[Y],d.hasOwnProperty(Y)&&ce!==fe&&(ce!=null||fe!=null))switch(Y){case"selected":a.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:St(a,s,Y,ce,d,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in c)ce=c[Ve],c.hasOwnProperty(Ve)&&ce!=null&&!d.hasOwnProperty(Ve)&&St(a,s,Ve,null,d,ce);for(se in d)if(ce=d[se],fe=c[se],d.hasOwnProperty(se)&&ce!==fe&&(ce!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:St(a,s,se,ce,d,fe)}return;default:if(qf(s)){for(var At in c)ce=c[At],c.hasOwnProperty(At)&&ce!==void 0&&!d.hasOwnProperty(At)&&Ch(a,s,At,void 0,d,ce);for(ve in d)ce=d[ve],fe=c[ve],!d.hasOwnProperty(ve)||ce===fe||ce===void 0&&fe===void 0||Ch(a,s,ve,ce,d,fe);return}}for(var ne in c)ce=c[ne],c.hasOwnProperty(ne)&&ce!=null&&!d.hasOwnProperty(ne)&&St(a,s,ne,null,d,ce);for(Ae in d)ce=d[Ae],fe=c[Ae],!d.hasOwnProperty(Ae)||ce===fe||ce==null&&fe==null||St(a,s,Ae,ce,d,fe)}var Dh=null,Eh=null;function Su(a){return a.nodeType===9?a:a.ownerDocument}function z1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Th(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Oh=null;function yO(){var a=window.event;return a&&a.type==="popstate"?a===Oh?!1:(Oh=a,!0):(Oh=null,!1)}var H1=typeof setTimeout=="function"?setTimeout:void 0,vO=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,bO=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(a){return F1.resolve(null).then(a).catch(wO)}:H1;function wO(a){setTimeout(function(){throw a})}function ul(a){return a==="head"}function Y1(a,s){var c=s,d=0,p=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var E=a.ownerDocument;if(c&1&&bo(E.documentElement),c&2&&bo(E.body),c&4)for(c=E.head,bo(c),E=c.firstChild;E;){var _=E.nextSibling,Y=E.nodeName;E[aa]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&E.rel.toLowerCase()==="stylesheet"||c.removeChild(E),E=_}}if(p===0){a.removeChild(v),Eo(s);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);Eo(s)}function Ph(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ph(c),$i(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function jO(a,s,c,d){for(;a.nodeType===1;){var p=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[aa])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Lr(a.nextSibling),a===null)break}return null}function NO(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Lr(a.nextSibling),a===null))return null;return a}function Mh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function SO(a,s){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Lr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var kh=null;function K1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return a;s--}else c==="/$"&&s++}a=a.previousSibling}return null}function G1(a,s,c){switch(s=Su(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function bo(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);$i(a)}var Ar=new Map,V1=new Set;function Au(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var va=re.d;re.d={f:AO,r:CO,D:DO,C:EO,L:TO,m:OO,X:MO,S:PO,M:kO};function AO(){var a=va.f(),s=pu();return a||s}function CO(a){var s=qn(a);s!==null&&s.tag===5&&s.type==="form"?hb(s):va.r(a)}var Qs=typeof document>"u"?null:document;function X1(a,s,c){var d=Qs;if(d&&typeof s=="string"&&s){var p=yr(s);p='link[rel="'+a+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),V1.has(p)||(V1.add(p),a={rel:a,crossOrigin:c,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),An(s,"link",a),Et(s),d.head.appendChild(s)))}}function DO(a){va.D(a),X1("dns-prefetch",a,null)}function EO(a,s){va.C(a,s),X1("preconnect",a,s)}function TO(a,s,c){va.L(a,s,c);var d=Qs;if(d&&a&&s){var p='link[rel="preload"][as="'+yr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+yr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+yr(c.imageSizes)+'"]')):p+='[href="'+yr(a)+'"]';var v=p;switch(s){case"style":v=Js(a);break;case"script":v=ei(a)}Ar.has(v)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Ar.set(v,a),d.querySelector(p)!==null||s==="style"&&d.querySelector(wo(v))||s==="script"&&d.querySelector(jo(v))||(s=d.createElement("link"),An(s,"link",a),Et(s),d.head.appendChild(s)))}}function OO(a,s){va.m(a,s);var c=Qs;if(c&&a){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+yr(d)+'"][href="'+yr(a)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ei(a)}if(!Ar.has(v)&&(a=g({rel:"modulepreload",href:a},s),Ar.set(v,a),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(jo(v)))return}d=c.createElement("link"),An(d,"link",a),Et(d),c.head.appendChild(d)}}}function PO(a,s,c){va.S(a,s,c);var d=Qs;if(d&&a){var p=Ml(d).hoistableStyles,v=Js(a);s=s||"default";var E=p.get(v);if(!E){var _={loading:0,preload:null};if(E=d.querySelector(wo(v)))_.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Ar.get(v))&&_h(a,c);var Y=E=d.createElement("link");Et(Y),An(Y,"link",a),Y._p=new Promise(function(se,ve){Y.onload=se,Y.onerror=ve}),Y.addEventListener("load",function(){_.loading|=1}),Y.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Cu(E,s,d)}E={type:"stylesheet",instance:E,count:1,state:_},p.set(v,E)}}}function MO(a,s){va.X(a,s);var c=Qs;if(c&&a){var d=Ml(c).hoistableScripts,p=ei(a),v=d.get(p);v||(v=c.querySelector(jo(p)),v||(a=g({src:a,async:!0},s),(s=Ar.get(p))&&$h(a,s),v=c.createElement("script"),Et(v),An(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function kO(a,s){va.M(a,s);var c=Qs;if(c&&a){var d=Ml(c).hoistableScripts,p=ei(a),v=d.get(p);v||(v=c.querySelector(jo(p)),v||(a=g({src:a,async:!0,type:"module"},s),(s=Ar.get(p))&&$h(a,s),v=c.createElement("script"),Et(v),An(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function W1(a,s,c,d){var p=(p=J.current)?Au(p):null;if(!p)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Js(c.href),c=Ml(p).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Js(c.href);var v=Ml(p).hoistableStyles,E=v.get(a);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,E),(v=p.querySelector(wo(a)))&&!v._p&&(E.instance=v,E.state.loading=5),Ar.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ar.set(a,c),v||_O(p,a,c,E.state))),s&&d===null)throw Error(r(528,""));return E}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ei(c),c=Ml(p).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Js(a){return'href="'+yr(a)+'"'}function wo(a){return'link[rel="stylesheet"]['+a+"]"}function Z1(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function _O(a,s,c,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),An(s,"link",c),Et(s),a.head.appendChild(s))}function ei(a){return'[src="'+yr(a)+'"]'}function jo(a){return"script[async]"+a}function Q1(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+yr(c.href)+'"]');if(d)return s.instance=d,Et(d),d;var p=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Et(d),An(d,"style",p),Cu(d,c.precedence,a),s.instance=d;case"stylesheet":p=Js(c.href);var v=a.querySelector(wo(p));if(v)return s.state.loading|=4,s.instance=v,Et(v),v;d=Z1(c),(p=Ar.get(p))&&_h(d,p),v=(a.ownerDocument||a).createElement("link"),Et(v);var E=v;return E._p=new Promise(function(_,Y){E.onload=_,E.onerror=Y}),An(v,"link",d),s.state.loading|=4,Cu(v,c.precedence,a),s.instance=v;case"script":return v=ei(c.src),(p=a.querySelector(jo(v)))?(s.instance=p,Et(p),p):(d=c,(p=Ar.get(v))&&(d=g({},c),$h(d,p)),a=a.ownerDocument||a,p=a.createElement("script"),Et(p),An(p,"link",d),a.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Cu(d,c.precedence,a));return s.instance}function Cu(a,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,E=0;E<d.length;E++){var _=d[E];if(_.dataset.precedence===s)v=_;else if(v!==p)break}v?v.parentNode.insertBefore(a,v.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function _h(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function $h(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Du=null;function J1(a,s,c){if(Du===null){var d=new Map,p=Du=new Map;p.set(c,d)}else p=Du,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(a))return d;for(d.set(a,null),c=c.getElementsByTagName(a),p=0;p<c.length;p++){var v=c[p];if(!(v[aa]||v[rt]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(s)||"";E=a+E;var _=d.get(E);_?_.push(v):d.set(E,[v])}}return d}function ew(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function $O(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function tw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var No=null;function IO(){}function RO(a,s,c){if(No===null)throw Error(r(475));var d=No;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Js(c.href),v=a.querySelector(wo(p));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Eu.bind(d),a.then(d,d)),s.state.loading|=4,s.instance=v,Et(v);return}v=a.ownerDocument||a,c=Z1(c),(p=Ar.get(p))&&_h(c,p),v=v.createElement("link"),Et(v);var E=v;E._p=new Promise(function(_,Y){E.onload=_,E.onerror=Y}),An(v,"link",c),s.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=Eu.bind(d),a.addEventListener("load",s),a.addEventListener("error",s))}}function LO(){if(No===null)throw Error(r(475));var a=No;return a.stylesheets&&a.count===0&&Ih(a,a.stylesheets),0<a.count?function(s){var c=setTimeout(function(){if(a.stylesheets&&Ih(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)Ih(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Tu=null;function Ih(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Tu=new Map,s.forEach(BO,a),Tu=null,Eu.call(a))}function BO(a,s){if(!(s.state.loading&4)){var c=Tu.get(a);if(c)var d=c.get(null);else{c=new Map,Tu.set(a,c);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var E=p[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),d=E)}d&&c.set(null,d)}p=s.instance,E=p.getAttribute("data-precedence"),v=c.get(E)||d,v===d&&c.set(null,p),c.set(E,p),this.count++,d=Eu.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),s.state.loading|=4}}var So={$$typeof:T,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function UO(a,s,c,d,p,v,E,_){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function nw(a,s,c,d,p,v,E,_,Y,se,ve,Ae){return a=new UO(a,s,c,E,_,Y,se,Ae),s=1,v===!0&&(s|=24),v=tr(3,null,null,s),a.current=v,v.stateNode=a,s=xm(),s.refCount++,a.pooledCache=s,s.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:s},wm(v),a}function rw(a){return a?(a=Ps,a):Ps}function aw(a,s,c,d,p,v){p=rw(p),d.context===null?d.context=p:d.pendingContext=p,d=Za(s),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=Qa(a,d,s),c!==null&&(sr(c,a,s),Ji(c,a,s))}function lw(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Rh(a,s){lw(a,s),(a=a.alternate)&&lw(a,s)}function sw(a){if(a.tag===13){var s=Os(a,67108864);s!==null&&sr(s,a,67108864),Rh(a,67108864)}}var Ou=!0;function zO(a,s,c,d){var p=K.T;K.T=null;var v=re.p;try{re.p=2,Lh(a,s,c,d)}finally{re.p=v,K.T=p}}function qO(a,s,c,d){var p=K.T;K.T=null;var v=re.p;try{re.p=8,Lh(a,s,c,d)}finally{re.p=v,K.T=p}}function Lh(a,s,c,d){if(Ou){var p=Bh(d);if(p===null)Ah(a,s,d,Pu,c),ow(a,d);else if(FO(p,a,s,c,d))d.stopPropagation();else if(ow(a,d),s&4&&-1<HO.indexOf(a)){for(;p!==null;){var v=qn(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=jt(v.pendingLanes);if(E!==0){var _=v;for(_.pendingLanes|=2,_.entangledLanes|=2;E;){var Y=1<<31-Ze(E);_.entanglements[1]|=Y,E&=~Y}Xr(v),(yt&6)===0&&(hu=Z()+500,xo(0))}}break;case 13:_=Os(v,2),_!==null&&sr(_,v,2),pu(),Rh(v,2)}if(v=Bh(d),v===null&&Ah(a,s,d,Pu,c),v===p)break;p=v}p!==null&&d.stopPropagation()}else Ah(a,s,d,null,c)}}function Bh(a){return a=Ff(a),Uh(a)}var Pu=null;function Uh(a){if(Pu=null,a=Ga(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Pu=a,null}function iw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Ee:return 2;case Se:return 8;case Te:case oe:return 32;case ke:return 268435456;default:return 32}default:return 32}}var zh=!1,dl=null,fl=null,ml=null,Ao=new Map,Co=new Map,hl=[],HO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ow(a,s){switch(a){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Ao.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(s.pointerId)}}function Do(a,s,c,d,p,v){return a===null||a.nativeEvent!==v?(a={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},s!==null&&(s=qn(s),s!==null&&sw(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),a)}function FO(a,s,c,d,p){switch(s){case"focusin":return dl=Do(dl,a,s,c,d,p),!0;case"dragenter":return fl=Do(fl,a,s,c,d,p),!0;case"mouseover":return ml=Do(ml,a,s,c,d,p),!0;case"pointerover":var v=p.pointerId;return Ao.set(v,Do(Ao.get(v)||null,a,s,c,d,p)),!0;case"gotpointercapture":return v=p.pointerId,Co.set(v,Do(Co.get(v)||null,a,s,c,d,p)),!0}return!1}function cw(a){var s=Ga(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){a.blockedOn=s,ra(a.priority,function(){if(c.tag===13){var d=lr();d=mt(d);var p=Os(c,d);p!==null&&sr(p,c,d),Rh(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Mu(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Bh(a.nativeEvent);if(c===null){c=a.nativeEvent;var d=new c.constructor(c.type,c);Hf=d,c.target.dispatchEvent(d),Hf=null}else return s=qn(c),s!==null&&sw(s),a.blockedOn=c,!1;s.shift()}return!0}function uw(a,s,c){Mu(a)&&c.delete(s)}function YO(){zh=!1,dl!==null&&Mu(dl)&&(dl=null),fl!==null&&Mu(fl)&&(fl=null),ml!==null&&Mu(ml)&&(ml=null),Ao.forEach(uw),Co.forEach(uw)}function ku(a,s){a.blockedOn===s&&(a.blockedOn=null,zh||(zh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YO)))}var _u=null;function dw(a){_u!==a&&(_u=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_u===a&&(_u=null);for(var s=0;s<a.length;s+=3){var c=a[s],d=a[s+1],p=a[s+2];if(typeof d!="function"){if(Uh(d||c)===null)continue;break}var v=qn(c);v!==null&&(a.splice(s,3),s-=3,Um(v,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function Eo(a){function s(Y){return ku(Y,a)}dl!==null&&ku(dl,a),fl!==null&&ku(fl,a),ml!==null&&ku(ml,a),Ao.forEach(s),Co.forEach(s);for(var c=0;c<hl.length;c++){var d=hl[c];d.blockedOn===a&&(d.blockedOn=null)}for(;0<hl.length&&(c=hl[0],c.blockedOn===null);)cw(c),c.blockedOn===null&&hl.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],v=c[d+1],E=p[Yt]||null;if(typeof v=="function")E||dw(c);else if(E){var _=null;if(v&&v.hasAttribute("formAction")){if(p=v,E=v[Yt]||null)_=E.formAction;else if(Uh(p)!==null)continue}else _=E.action;typeof _=="function"?c[d+1]=_:(c.splice(d,3),d-=3),dw(c)}}}function qh(a){this._internalRoot=a}$u.prototype.render=qh.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,d=lr();aw(c,d,a,s,null,null)},$u.prototype.unmount=qh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;aw(a.current,2,null,a,null,null),pu(),s[ct]=null}};function $u(a){this._internalRoot=a}$u.prototype.unstable_scheduleHydration=function(a){if(a){var s=Rn();a={blockedOn:null,target:a,priority:s};for(var c=0;c<hl.length&&s!==0&&s<hl[c].priority;c++);hl.splice(c,0,a),c===0&&cw(a)}};var fw=t.version;if(fw!=="19.1.1")throw Error(r(527,fw,"19.1.1"));re.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var KO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Le=Iu.inject(KO),Me=Iu}catch{}}return Oo.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,d="",p=Eb,v=Tb,E=Ob,_=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=nw(a,1,!1,null,null,c,d,p,v,E,_,null),a[ct]=s.current,Sh(a),new qh(s)},Oo.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var d=!1,p="",v=Eb,E=Tb,_=Ob,Y=null,se=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(_=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Y=c.unstable_transitionCallbacks),c.formState!==void 0&&(se=c.formState)),s=nw(a,1,!0,s,c??null,d,p,v,E,_,Y,se),s.context=rw(null),c=s.current,d=lr(),d=mt(d),p=Za(d),p.callback=null,Qa(c,p,d),c=d,s.current.lanes=c,Ue(s,c),Xr(s),a[ct]=s.current,Sh(a),new $u(s)},Oo.version="19.1.1",Oo}var jw;function r5(){if(jw)return Yh.exports;jw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yh.exports=n5(),Yh.exports}var a5=r5();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nw="popstate";function l5(e={}){function t(r,i){let{pathname:o,search:u,hash:f}=r.location;return T0("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yo(i)}return i5(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function s5(){return Math.random().toString(36).substring(2,10)}function Sw(e,t){return{usr:e.state,key:e.key,idx:t}}function T0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vi(t):t,state:n,key:t&&t.key||r||s5()}}function Yo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function i5(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,f="POP",h=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){f="POP";let S=g(),A=S==null?null:S-m;m=S,h&&h({action:f,location:j.location,delta:A})}function y(S,A){f="PUSH";let C=T0(j.location,S,A);m=g()+1;let T=Sw(C,m),k=j.createHref(C);try{u.pushState(T,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}o&&h&&h({action:f,location:j.location,delta:1})}function w(S,A){f="REPLACE";let C=T0(j.location,S,A);m=g();let T=Sw(C,m),k=j.createHref(C);u.replaceState(T,"",k),o&&h&&h({action:f,location:j.location,delta:0})}function N(S){return o5(S)}let j={get action(){return f},get location(){return e(i,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Nw,x),h=S,()=>{i.removeEventListener(Nw,x),h=null}},createHref(S){return t(i,S)},createURL:N,encodeLocation(S){let A=N(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:w,go(S){return u.go(S)}};return j}function o5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Yo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function D2(e,t,n="/"){return c5(e,t,n,!1)}function c5(e,t,n,r){let i=typeof t=="string"?vi(t):t,o=Oa(i.pathname||"/",n);if(o==null)return null;let u=E2(e);u5(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=w5(o);f=v5(u[h],m,r)}return f}function E2(e,t=[],n=[],r="",i=!1){let o=(u,f,h=i,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Bt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let x=Ca([r,g.relativePath]),y=n.concat(g);u.children&&u.children.length>0&&(Bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),E2(u.children,t,y,x,h)),!(u.path==null&&!u.index)&&t.push({path:x,score:x5(x,u.index),routesMeta:y})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let h of T2(u.path))o(u,f,!0,h)}),t}function T2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=T2(r.join("/")),f=[];return f.push(...u.map(h=>h===""?o:[o,h].join("/"))),i&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function u5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:y5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var d5=/^:[\w-]+$/,f5=3,m5=2,h5=1,g5=10,p5=-2,Aw=e=>e==="*";function x5(e,t){let n=e.split("/"),r=n.length;return n.some(Aw)&&(r+=p5),t&&(r+=m5),n.filter(i=>!Aw(i)).reduce((i,o)=>i+(d5.test(o)?f5:o===""?h5:g5),r)}function y5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function v5(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",x=ud({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),y=h.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=ud({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:Ca([o,x.pathname]),pathnameBase:A5(Ca([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=Ca([o,x.pathnameBase]))}return u}function ud(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=b5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:x},y)=>{if(g==="*"){let N=f[y]||"";u=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const w=f[y];return x&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function b5(e,t=!1,n=!0){qr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function w5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Oa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function j5(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vi(e):e;return{pathname:n?n.startsWith("/")?n:N5(n,t):t,search:C5(r),hash:D5(i)}}function N5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pp(e){let t=S5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Mp(e,t,n,r=!1){let i;typeof e=="string"?i=vi(e):(i={...e},Bt(!i.pathname||!i.pathname.includes("?"),Xh("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),Xh("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),Xh("#","search","hash",i)));let o=e===""||i.pathname==="",u=o?"/":i.pathname,f;if(u==null)f=n;else{let x=t.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),x-=1;i.pathname=y.join("/")}f=x>=0?t[x]:"/"}let h=j5(i,f),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var Ca=e=>e.join("/").replace(/\/\/+/g,"/"),A5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var O2=["POST","PUT","PATCH","DELETE"];new Set(O2);var T5=["GET",...O2];new Set(T5);var bi=b.createContext(null);bi.displayName="DataRouter";var Zd=b.createContext(null);Zd.displayName="DataRouterState";b.createContext(!1);var P2=b.createContext({isTransitioning:!1});P2.displayName="ViewTransition";var O5=b.createContext(new Map);O5.displayName="Fetchers";var P5=b.createContext(null);P5.displayName="Await";var Hr=b.createContext(null);Hr.displayName="Navigation";var nc=b.createContext(null);nc.displayName="Location";var kr=b.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var kp=b.createContext(null);kp.displayName="RouteError";function M5(e,{relative:t}={}){Bt(wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Hr),{hash:i,pathname:o,search:u}=rc(e,{relative:t}),f=o;return n!=="/"&&(f=o==="/"?n:Ca([n,o])),r.createHref({pathname:f,search:u,hash:i})}function wi(){return b.useContext(nc)!=null}function na(){return Bt(wi(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(nc).location}var M2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k2(e){b.useContext(Hr).static||b.useLayoutEffect(e)}function ji(){let{isDataRoute:e}=b.useContext(kr);return e?V5():k5()}function k5(){Bt(wi(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(bi),{basename:t,navigator:n}=b.useContext(Hr),{matches:r}=b.useContext(kr),{pathname:i}=na(),o=JSON.stringify(Pp(r)),u=b.useRef(!1);return k2(()=>{u.current=!0}),b.useCallback((h,m={})=>{if(qr(u.current,M2),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=Mp(h,JSON.parse(o),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ca([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,o,i,e])}var _5=b.createContext(null);function $5(e){let t=b.useContext(kr).outlet;return t&&b.createElement(_5.Provider,{value:e},t)}function I5(){let{matches:e}=b.useContext(kr),t=e[e.length-1];return t?t.params:{}}function rc(e,{relative:t}={}){let{matches:n}=b.useContext(kr),{pathname:r}=na(),i=JSON.stringify(Pp(n));return b.useMemo(()=>Mp(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function R5(e,t){return _2(e,t)}function _2(e,t,n,r,i){Bt(wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(Hr),{matches:u}=b.useContext(kr),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",x=f&&f.route;{let C=x&&x.path||"";$2(m,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=na(),w;if(t){let C=typeof t=="string"?vi(t):t;Bt(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=y;let N=w.pathname||"/",j=N;if(g!=="/"){let C=g.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=D2(e,{pathname:j});qr(x||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=q5(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Ca([g,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:Ca([g,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),u,n,r,i);return t&&A?b.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function L5(){let e=G5(),t=E5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,u)}var B5=b.createElement(L5,null),U5=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(kr.Provider,{value:this.props.routeContext},b.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z5({routeContext:e,match:t,children:n}){let r=b.useContext(bi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(kr.Provider,{value:e},n)}function q5(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:x,errors:y}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||w){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let y,w=!1,N=null,j=null;n&&(y=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||B5,f&&(h<0&&x===0?($2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):h===x&&(w=!0,j=g.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,x+1)),A=()=>{let C;return y?C=N:w?C=j:g.route.Component?C=b.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,b.createElement(z5,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?b.createElement(U5,{location:n.location,revalidation:n.revalidation,component:N,error:y,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):A()},null)}function _p(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H5(e){let t=b.useContext(bi);return Bt(t,_p(e)),t}function F5(e){let t=b.useContext(Zd);return Bt(t,_p(e)),t}function Y5(e){let t=b.useContext(kr);return Bt(t,_p(e)),t}function $p(e){let t=Y5(e),n=t.matches[t.matches.length-1];return Bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function K5(){return $p("useRouteId")}function G5(){let e=b.useContext(kp),t=F5("useRouteError"),n=$p("useRouteError");return e!==void 0?e:t.errors?.[n]}function V5(){let{router:e}=H5("useNavigate"),t=$p("useNavigate"),n=b.useRef(!1);return k2(()=>{n.current=!0}),b.useCallback(async(i,o={})=>{qr(n.current,M2),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Cw={};function $2(e,t,n){!t&&!Cw[e]&&(Cw[e]=!0,qr(!1,n))}b.memo(X5);function X5({routes:e,future:t,state:n,unstable_onError:r}){return _2(e,void 0,n,r,t)}function Dw({to:e,replace:t,state:n,relative:r}){Bt(wi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Hr);qr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(kr),{pathname:u}=na(),f=ji(),h=Mp(e,Pp(o),u,r==="path"),m=JSON.stringify(h);return b.useEffect(()=>{f(JSON.parse(m),{replace:t,state:n,relative:r})},[f,m,r,t,n]),null}function W5(e){return $5(e.context)}function Ht(e){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z5({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Bt(!wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof n=="string"&&(n=vi(n));let{pathname:h="/",search:m="",hash:g="",state:x=null,key:y="default"}=n,w=b.useMemo(()=>{let N=Oa(h,u);return N==null?null:{location:{pathname:N,search:m,hash:g,state:x,key:y},navigationType:r}},[u,h,m,g,x,y,r]);return qr(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:b.createElement(Hr.Provider,{value:f},b.createElement(nc.Provider,{children:t,value:w}))}function Q5({children:e,location:t}){return R5(O0(e),t)}function O0(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let o=[...t,i];if(r.type===b.Fragment){n.push.apply(n,O0(r.props.children,o));return}Bt(r.type===Ht,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=O0(r.props.children,o)),n.push(u)}),n}var rd="get",ad="application/x-www-form-urlencoded";function Qd(e){return e!=null&&typeof e.tagName=="string"}function J5(e){return Qd(e)&&e.tagName.toLowerCase()==="button"}function e4(e){return Qd(e)&&e.tagName.toLowerCase()==="form"}function t4(e){return Qd(e)&&e.tagName.toLowerCase()==="input"}function n4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r4(e,t){return e.button===0&&(!t||t==="_self")&&!n4(e)}var Ru=null;function a4(){if(Ru===null)try{new FormData(document.createElement("form"),0),Ru=!1}catch{Ru=!0}return Ru}var l4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wh(e){return e!=null&&!l4.has(e)?(qr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ad}"`),null):e}function s4(e,t){let n,r,i,o,u;if(e4(e)){let f=e.getAttribute("action");r=f?Oa(f,t):null,n=e.getAttribute("method")||rd,i=Wh(e.getAttribute("enctype"))||ad,o=new FormData(e)}else if(J5(e)||t4(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(r=h?Oa(h,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||rd,i=Wh(e.getAttribute("formenctype"))||Wh(f.getAttribute("enctype"))||ad,o=new FormData(f,e),!a4()){let{name:m,type:g,value:x}=e;if(g==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,x)}}else{if(Qd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rd,r=null,i=ad,u=e}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function i4(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Oa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function o4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function u4(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let u=await o4(o,n);return u.links?u.links():[]}return[]}));return h4(r.flat(1).filter(c4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ew(e,t,n,r,i,o){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,m)=>u(h,m)||f(h,m)):o==="data"?t.filter((h,m)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function d4(e,t,{includeHydrateFallback:n}={}){return f4(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function f4(e){return[...new Set(e)]}function m4(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function h4(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(m4(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function I2(){let e=b.useContext(bi);return Ip(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function g4(){let e=b.useContext(Zd);return Ip(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rp=b.createContext(void 0);Rp.displayName="FrameworkContext";function R2(){let e=b.useContext(Rp);return Ip(e,"You must render this element inside a <HydratedRouter> element"),e}function p4(e,t){let n=b.useContext(Rp),[r,i]=b.useState(!1),[o,u]=b.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,y=b.useRef(null);b.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let j=A=>{A.forEach(C=>{u(C.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),b.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let w=()=>{i(!0)},N=()=>{i(!1),u(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:Po(f,w),onBlur:Po(h,N),onMouseEnter:Po(m,w),onMouseLeave:Po(g,N),onTouchStart:Po(x,w)}]:[!1,y,{}]}function Po(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function x4({page:e,...t}){let{router:n}=I2(),r=b.useMemo(()=>D2(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(v4,{page:e,matches:r,...t}):null}function y4(e){let{manifest:t,routeModules:n}=R2(),[r,i]=b.useState([]);return b.useEffect(()=>{let o=!1;return u4(e,t,n).then(u=>{o||i(u)}),()=>{o=!0}},[e,t,n]),r}function v4({page:e,matches:t,...n}){let r=na(),{manifest:i,routeModules:o}=R2(),{basename:u}=I2(),{loaderData:f,matches:h}=g4(),m=b.useMemo(()=>Ew(e,t,h,i,r,"data"),[e,t,h,i,r]),g=b.useMemo(()=>Ew(e,t,h,i,r,"assets"),[e,t,h,i,r]),x=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,j=!1;if(t.forEach(A=>{let C=i.routes[A.route.id];!C||!C.hasLoader||(!m.some(T=>T.route.id===A.route.id)&&A.route.id in f&&o[A.route.id]?.shouldRevalidate||C.hasClientLoader?j=!0:N.add(A.route.id))}),N.size===0)return[];let S=i4(e,u,"data");return j&&N.size>0&&S.searchParams.set("_routes",t.filter(A=>N.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[u,f,r,i,m,t,e,o]),y=b.useMemo(()=>d4(g,i),[g,i]),w=y4(g);return b.createElement(b.Fragment,null,x.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),y.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),w.map(({key:N,link:j})=>b.createElement("link",{key:N,nonce:n.nonce,...j})))}function b4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var L2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L2&&(window.__reactRouterVersion="7.9.1")}catch{}function w4({basename:e,children:t,window:n}){let r=b.useRef();r.current==null&&(r.current=l5({window:n,v5Compat:!0}));let i=r.current,[o,u]=b.useState({action:i.action,location:i.location}),f=b.useCallback(h=>{b.startTransition(()=>u(h))},[u]);return b.useLayoutEffect(()=>i.listen(f),[i,f]),b.createElement(Z5,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var B2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jd=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:f,target:h,to:m,preventScrollReset:g,viewTransition:x,...y},w){let{basename:N}=b.useContext(Hr),j=typeof m=="string"&&B2.test(m),S,A=!1;if(typeof m=="string"&&j&&(S=m,L2))try{let R=new URL(window.location.href),H=m.startsWith("//")?new URL(R.protocol+m):new URL(m),V=Oa(H.pathname,N);H.origin===R.origin&&V!=null?m=V+H.search+H.hash:A=!0}catch{qr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=M5(m,{relative:i}),[T,k,D]=p4(r,y),P=A4(m,{replace:u,state:f,target:h,preventScrollReset:g,relative:i,viewTransition:x});function M(R){t&&t(R),R.defaultPrevented||P(R)}let I=b.createElement("a",{...y,...D,href:S||C,onClick:A||o?t:M,ref:b4(w,k),target:h,"data-discover":!j&&n==="render"?"true":void 0});return T&&!j?b.createElement(b.Fragment,null,I,b.createElement(x4,{page:C})):I});Jd.displayName="Link";var j4=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:f,children:h,...m},g){let x=rc(u,{relative:m.relative}),y=na(),w=b.useContext(Zd),{navigator:N,basename:j}=b.useContext(Hr),S=w!=null&&O4(x)&&f===!0,A=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,C=y.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(C=C.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&j&&(T=Oa(T,j)||T);const k=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=C===A||!i&&C.startsWith(A)&&C.charAt(k)==="/",P=T!=null&&(T===A||!i&&T.startsWith(A)&&T.charAt(A.length)==="/"),M={isActive:D,isPending:P,isTransitioning:S},I=D?t:void 0,R;typeof r=="function"?R=r(M):R=[r,D?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(M):o;return b.createElement(Jd,{...m,"aria-current":I,className:R,ref:g,style:H,to:u,viewTransition:f},typeof h=="function"?h(M):h)});j4.displayName="NavLink";var N4=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:u=rd,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...y},w)=>{let N=E4(),j=T4(f,{relative:m}),S=u.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&B2.test(f),C=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let k=T.nativeEvent.submitter,D=k?.getAttribute("formmethod")||u;N(k||T.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:o,relative:m,preventScrollReset:g,viewTransition:x})};return b.createElement("form",{ref:w,method:S,action:j,onSubmit:r?h:C,...y,"data-discover":!A&&e==="render"?"true":void 0})});N4.displayName="Form";function S4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U2(e){let t=b.useContext(bi);return Bt(t,S4(e)),t}function A4(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let f=ji(),h=na(),m=rc(e,{relative:o});return b.useCallback(g=>{if(r4(g,t)){g.preventDefault();let x=n!==void 0?n:Yo(h)===Yo(m);f(e,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[h,f,m,n,r,t,e,i,o,u])}var C4=0,D4=()=>`__${String(++C4)}__`;function E4(){let{router:e}=U2("useSubmit"),{basename:t}=b.useContext(Hr),n=K5();return b.useCallback(async(r,i={})=>{let{action:o,method:u,encType:f,formData:h,body:m}=s4(r,t);if(i.navigate===!1){let g=i.fetcherKey||D4();await e.fetch(g,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function T4(e,{relative:t}={}){let{basename:n}=b.useContext(Hr),r=b.useContext(kr);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...rc(e||".",{relative:t})},u=na();if(e==null){o.search=u.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(x=>x).forEach(x=>f.append("index",x));let g=f.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ca([n,o.pathname])),Yo(o)}function O4(e,{relative:t}={}){let n=b.useContext(P2);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U2("useViewTransitionState"),i=rc(e,{relative:t});if(!n.isTransitioning)return!1;let o=Oa(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Oa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ud(i.pathname,u)!=null||ud(i.pathname,o)!=null}var P4=C2();let M4={data:""},k4=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||M4,_4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$4=/\/\*[^]*?\*\/|  +/g,Tw=/\n+/g,yl=(e,t)=>{let n="",r="",i="";for(let o in e){let u=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+u+";":r+=o[1]=="f"?yl(u,o):o+"{"+yl(u,o[1]=="k"?"":t)+"}":typeof u=="object"?r+=yl(u,t?t.replace(/([^,])+/g,f=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,f):f?f+" "+h:h)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=yl.p?yl.p(o,u):o+":"+u+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ba={},z2=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+z2(e[n]);return t}return e},I4=(e,t,n,r,i)=>{let o=z2(e),u=ba[o]||(ba[o]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(o));if(!ba[u]){let h=o!==e?e:(m=>{let g,x,y=[{}];for(;g=_4.exec(m.replace($4,""));)g[4]?y.shift():g[3]?(x=g[3].replace(Tw," ").trim(),y.unshift(y[0][x]=y[0][x]||{})):y[0][g[1]]=g[2].replace(Tw," ").trim();return y[0]})(e);ba[u]=yl(i?{["@keyframes "+u]:h}:h,n?"":"."+u)}let f=n&&ba.g?ba.g:null;return n&&(ba.g=ba[u]),((h,m,g,x)=>{x?m.data=m.data.replace(x,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(ba[u],t,r,f),u},R4=(e,t,n)=>e.reduce((r,i,o)=>{let u=t[o];if(u&&u.call){let f=u(n),h=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=h?"."+h:f&&typeof f=="object"?f.props?"":yl(f,""):f===!1?"":f}return r+i+(u??"")},"");function ef(e){let t=this||{},n=e.call?e(t.p):e;return I4(n.unshift?n.raw?R4(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,k4(t.target),t.g,t.o,t.k)}let q2,P0,M0;ef.bind({g:1});let Pa=ef.bind({k:1});function L4(e,t,n,r){yl.p=t,q2=e,P0=n,M0=r}function Dl(e,t){let n=this||{};return function(){let r=arguments;function i(o,u){let f=Object.assign({},o),h=f.className||i.className;n.p=Object.assign({theme:P0&&P0()},f),n.o=/ *go\d+/.test(h),f.className=ef.apply(n,r)+(h?" "+h:"");let m=e;return e[0]&&(m=f.as||e,delete f.as),M0&&m[0]&&M0(f),q2(m,f)}return i}}var B4=e=>typeof e=="function",dd=(e,t)=>B4(e)?e(t):e,U4=(()=>{let e=0;return()=>(++e).toString()})(),H2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),z4=20,Lp="default",F2=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:r}=t;return F2(e,{type:e.toasts.find(u=>u.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(u=>u.id===i||i===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},ld=[],Y2={toasts:[],pausedAt:void 0,settings:{toastLimit:z4}},Zr={},K2=(e,t=Lp)=>{Zr[t]=F2(Zr[t]||Y2,e),ld.forEach(([n,r])=>{n===t&&r(Zr[t])})},G2=e=>Object.keys(Zr).forEach(t=>K2(e,t)),q4=e=>Object.keys(Zr).find(t=>Zr[t].toasts.some(n=>n.id===e)),tf=(e=Lp)=>t=>{K2(t,e)},H4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},F4=(e={},t=Lp)=>{let[n,r]=b.useState(Zr[t]||Y2),i=b.useRef(Zr[t]);b.useEffect(()=>(i.current!==Zr[t]&&r(Zr[t]),ld.push([t,r]),()=>{let u=ld.findIndex(([f])=>f===t);u>-1&&ld.splice(u,1)}),[t]);let o=n.toasts.map(u=>{var f,h,m;return{...e,...e[u.type],...u,removeDelay:u.removeDelay||((f=e[u.type])==null?void 0:f.removeDelay)||e?.removeDelay,duration:u.duration||((h=e[u.type])==null?void 0:h.duration)||e?.duration||H4[u.type],style:{...e.style,...(m=e[u.type])==null?void 0:m.style,...u.style}}});return{...n,toasts:o}},Y4=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||U4()}),ac=e=>(t,n)=>{let r=Y4(t,e,n);return tf(r.toasterId||q4(r.id))({type:2,toast:r}),r.id},$e=(e,t)=>ac("blank")(e,t);$e.error=ac("error");$e.success=ac("success");$e.loading=ac("loading");$e.custom=ac("custom");$e.dismiss=(e,t)=>{let n={type:3,toastId:e};t?tf(t)(n):G2(n)};$e.dismissAll=e=>$e.dismiss(void 0,e);$e.remove=(e,t)=>{let n={type:4,toastId:e};t?tf(t)(n):G2(n)};$e.removeAll=e=>$e.remove(void 0,e);$e.promise=(e,t,n)=>{let r=$e.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?dd(t.success,i):void 0;return o?$e.success(o,{id:r,...n,...n?.success}):$e.dismiss(r),i}).catch(i=>{let o=t.error?dd(t.error,i):void 0;o?$e.error(o,{id:r,...n,...n?.error}):$e.dismiss(r)}),e};var K4=1e3,G4=(e,t="default")=>{let{toasts:n,pausedAt:r}=F4(e,t),i=b.useRef(new Map).current,o=b.useCallback((x,y=K4)=>{if(i.has(x))return;let w=setTimeout(()=>{i.delete(x),u({type:4,toastId:x})},y);i.set(x,w)},[]);b.useEffect(()=>{if(r)return;let x=Date.now(),y=n.map(w=>{if(w.duration===1/0)return;let N=(w.duration||0)+w.pauseDuration-(x-w.createdAt);if(N<0){w.visible&&$e.dismiss(w.id);return}return setTimeout(()=>$e.dismiss(w.id,t),N)});return()=>{y.forEach(w=>w&&clearTimeout(w))}},[n,r,t]);let u=b.useCallback(tf(t),[t]),f=b.useCallback(()=>{u({type:5,time:Date.now()})},[u]),h=b.useCallback((x,y)=>{u({type:1,toast:{id:x,height:y}})},[u]),m=b.useCallback(()=>{r&&u({type:6,time:Date.now()})},[r,u]),g=b.useCallback((x,y)=>{let{reverseOrder:w=!1,gutter:N=8,defaultPosition:j}=y||{},S=n.filter(T=>(T.position||j)===(x.position||j)&&T.height),A=S.findIndex(T=>T.id===x.id),C=S.filter((T,k)=>k<A&&T.visible).length;return S.filter(T=>T.visible).slice(...w?[C+1]:[0,C]).reduce((T,k)=>T+(k.height||0)+N,0)},[n]);return b.useEffect(()=>{n.forEach(x=>{if(x.dismissed)o(x.id,x.removeDelay);else{let y=i.get(x.id);y&&(clearTimeout(y),i.delete(x.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:h,startPause:f,endPause:m,calculateOffset:g}}},V4=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,X4=Pa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W4=Pa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Z4=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${X4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${W4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Q4=Pa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,J4=Dl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Q4} 1s linear infinite;
`,eP=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,tP=Pa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,nP=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${tP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rP=Dl("div")`
  position: absolute;
`,aP=Dl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lP=Pa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sP=Dl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iP=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?b.createElement(sP,null,t):t:n==="blank"?null:b.createElement(aP,null,b.createElement(J4,{...r}),n!=="loading"&&b.createElement(rP,null,n==="error"?b.createElement(Z4,{...r}):b.createElement(nP,{...r})))},oP=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,cP=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,uP="0%{opacity:0;} 100%{opacity:1;}",dP="0%{opacity:1;} 100%{opacity:0;}",fP=Dl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mP=Dl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hP=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=H2()?[uP,dP]:[oP(n),cP(n)];return{animation:t?`${Pa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gP=b.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?hP(e.position||t||"top-center",e.visible):{opacity:0},o=b.createElement(iP,{toast:e}),u=b.createElement(mP,{...e.ariaProps},dd(e.message,e));return b.createElement(fP,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:u}):b.createElement(b.Fragment,null,o,u))});L4(b.createElement);var pP=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=b.useCallback(u=>{if(u){let f=()=>{let h=u.getBoundingClientRect().height;r(e,h)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return b.createElement("div",{ref:o,className:t,style:n},i)},xP=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:H2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},yP=ef`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lu=16,vP=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:u,containerClassName:f})=>{let{toasts:h,handlers:m}=G4(n,o);return b.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Lu,left:Lu,right:Lu,bottom:Lu,pointerEvents:"none",...u},className:f,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(g=>{let x=g.position||t,y=m.calculateOffset(g,{reverseOrder:e,gutter:r,defaultPosition:t}),w=xP(x,y);return b.createElement(pP,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?yP:"",style:w},g.type==="custom"?dd(g.message,g):i?i(g):b.createElement(gP,{toast:g,position:x}))}))},de=$e;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ow=e=>{const t=wP(e);return t.charAt(0).toUpperCase()+t.slice(1)},V2=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),jP=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:u,...f},h)=>b.createElement("svg",{ref:h,...NP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:V2("lucide",i),...!o&&!jP(f)&&{"aria-hidden":"true"},...f},[...u.map(([m,g])=>b.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(SP,{ref:o,iconNode:t,className:V2(`lucide-${bP(Ow(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Ow(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],X2=ze("activity",AP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ni=ze("arrow-left",CP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],k0=ze("bell",DP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],W2=ze("building-2",EP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],_0=ze("building",TP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tn=ze("calendar",OP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Z2=ze("camera",PP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$0=ze("chart-column",MP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_P=ze("chevron-down",kP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Q2=ze("chevron-left",$P);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J2=ze("chevron-right",IP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],LP=ze("chevron-up",RP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zn=ze("circle-alert",BP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zP=ze("circle-check-big",UP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],HP=ze("circle-user",qP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Da=ze("clock",FP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],I0=ze("credit-card",YP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vn=ze("dollar-sign",KP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lc=ze("download",GP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ai=ze("eye-off",VP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wl=ze("eye",XP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ZP=ze("file-text",WP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eA=ze("funnel",QP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Pw=ze("hash",JP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],t6=ze("history",e6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],r6=ze("house",n6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],l6=ze("key-round",a6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],i6=ze("landmark",s6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],fd=ze("loader",o6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wa=ze("lock",c6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],d6=ze("log-out",u6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bp=ze("mail",f6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],os=ze("map-pin",m6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],g6=ze("menu",h6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tA=ze("message-square",p6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M5 12h14",key:"1ays0h"}]],y6=ze("minus",x6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xn=ze("package",v6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zh=ze("pen",b6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nl=ze("phone",w6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Sl=ze("piggy-bank",j6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qn=ze("plus",N6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],nA=ze("printer",S6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ma=ze("refresh-cw",A6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],R0=ze("save",C6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Si=ze("search",D6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mw=ze("send",E6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Up=ze("settings",T6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rA=ze("shield",O6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],M6=ze("square-pen",P6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_6=ze("target",k6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],L0=ze("trash-2",$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],R6=ze("trending-down",I6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sc=ze("trending-up",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],U6=ze("user-check",B6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q6=ze("user-cog",z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sd=ze("user-plus",H6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Qh=ze("user-x",F6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vt=ze("user",Y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xn=ze("users",K6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],V6=ze("wallet",G6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nf=ze("x",X6),aA=b.createContext(),Bu="/api",Ai=()=>{const e=b.useContext(aA);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},W6=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(!1),[o,u]=b.useState(!0);b.useEffect(()=>{const N=localStorage.getItem("ngo_token"),j=localStorage.getItem("ngo_user");if(console.log(" Checking saved session...",{token:!!N,savedUser:!!j}),N&&j)try{const S=JSON.parse(j);if(console.log(" Saved user data:",S),S.role==="member"){console.log(" MEMBER DETECTED - Force logout:",S.name),f(),window.location.reload();return}if(!["admin","manager","collector","supervisor"].includes(S.role)){console.log(" NON-ADMIN ROLE DETECTED - Force logout:",S.role),f(),window.location.reload();return}console.log(" Valid admin session found:",S.name,S.role),n(S),i(!0),h(N)}catch(S){console.error("Error parsing saved user data:",S),f()}else console.log(" No saved session found");u(!1)},[]);const f=()=>{localStorage.removeItem("ngo_token"),localStorage.removeItem("ngo_user"),n(null),i(!1)},h=async N=>{try{const j=await fetch(`${Bu}/auth/check`,{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}}),S=await j.json();j.ok&&S.success&&S.user?(console.log(" Token verified, syncing user data"),y(S.user)):f()}catch(j){console.error("Token verification failed:",j),f()}},m=async N=>{try{const j=await fetch(`${Bu}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:N.email,password:N.password})}),S=await j.json();if(j.ok&&S.success){const{token:A,user:C}=S;return C.role==="member"?{success:!1,error:"Members cannot login to the admin panel. Only administrators and managers are allowed."}:["admin","manager","collector","supervisor"].includes(C.role)?(n(C),i(!0),localStorage.setItem("ngo_token",A),localStorage.setItem("ngo_user",JSON.stringify(C)),console.log(` Admin login successful: ${C.name} (${C.role})`),{success:!0,user:C}):{success:!1,error:"Access denied. Only administrative staff can login to this system."}}else return S.requiresApproval?{success:!1,error:S.message||"Your account is waiting for approval",requiresApproval:!0}:{success:!1,error:S.message||"Login failed"}}catch(j){return console.error("Login error:",j),{success:!1,error:"Network error. Please check your connection."}}},g=async N=>{try{const j=await fetch(`${Bu}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:N.name,email:N.email,password:N.password,role:"admin"})}),S=await j.json();if(j.ok&&S.success){if(S.requiresApproval)return{success:!0,message:S.message,requiresApproval:!0};const{token:A,user:C}=S;return n(C),i(!0),localStorage.setItem("ngo_token",A),localStorage.setItem("ngo_user",JSON.stringify(C)),{success:!0,user:C}}else return{success:!1,error:S.message||"Registration failed"}}catch(j){return console.error("Registration error:",j),{success:!1,error:"Network error. Please check your connection."}}},x=async()=>{try{const N=localStorage.getItem("ngo_token");N&&await fetch(`${Bu}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}})}catch(N){console.error("Logout error:",N)}finally{f()}},y=N=>{n(N),localStorage.setItem("ngo_user",JSON.stringify(N))},w={user:t,isAuthenticated:r,loading:o,login:m,register:g,logout:x,updateUser:y};return l.jsx(aA.Provider,{value:w,children:e})},zp="/assets/logo-DPpyS1Vd.png",Z6=()=>{const{login:e}=Ai(),[t,n]=b.useState({email:"",password:""}),[r,i]=b.useState(!1),[o,u]=b.useState(!1),[f,h]=b.useState(""),[m,g]=b.useState(null),[x,y]=b.useState(!1);b.useEffect(()=>{const S=A=>{A.preventDefault(),g(A),y(!0)};return window.addEventListener("beforeinstallprompt",S),()=>window.removeEventListener("beforeinstallprompt",S)},[]);const w=S=>{n({...t,[S.target.name]:S.target.value}),f&&h("")},N=async()=>{if(!m){de.error("App is already installed or installation is not available.");return}m.prompt();const{outcome:S}=await m.userChoice;S==="accepted"?(de.success("App installed successfully! You can now launch it from your home screen."),y(!1)):de.error("App installation cancelled."),g(null)},j=async S=>{S.preventDefault(),u(!0),h("");const A=de.loading("Logging in..."),C=await e(t);de.dismiss(A),C.success?de.success("Login successful! Welcome back."):(h(C.error),C.requiresApproval?de.error(C.error,{duration:6e3}):de.error(C.error||"Login failed. Please try again.")),u(!1)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8 animate-gradient",children:l.jsx("div",{className:"max-w-md w-full space-y-8 animate-fadeIn",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-bounceIn",children:l.jsx("img",{src:zp,alt:"Satrong Sajghor Traders",className:"mx-auto h-20 w-20 object-contain drop-shadow-lg"})}),l.jsx("h2",{className:"mt-6 text-3xl font-extrabold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent animate-slideDown",children:"Satrong Sajghor Traders"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 animate-slideDown",style:{animationDelay:"0.1s"},children:"Admin Panel - Sign in to your account"}),l.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 border-2 border-transparent bg-clip-padding rounded-lg animate-slideUp shadow-md",style:{animationDelay:"0.2s",borderImage:"linear-gradient(90deg, rgb(59 130 246), rgb(147 51 234), rgb(236 72 153)) 1"},children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{className:"bg-gradient-to-r from-blue-700 via-purple-700 to-pink-700 bg-clip-text text-transparent",children:" Admin Access Only:"})," ",l.jsx("span",{className:"text-gray-700",children:"This system is for administrators, managers, and collectors only. Members do not have login access."})]})})]}),l.jsxs("form",{className:"mt-8 space-y-6 animate-slideUp",onSubmit:j,style:{animationDelay:"0.3s"},children:[f&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Bp,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm transition-all duration-300",placeholder:"Enter your email",value:t.email,onChange:w})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(wa,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm transition-all duration-300",placeholder:"Enter your password",value:t.password,onChange:w}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!r),children:r?l.jsx(ai,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(wl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("a",{href:"#",className:"font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent hover:from-purple-700 hover:to-pink-700 transition-all",children:"Forgot your password?"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 active:scale-95 bg-size-200 animate-gradient-x",children:o?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Logging in..."]}):"Sign In"})}),l.jsx("div",{children:l.jsxs("button",{type:"button",onClick:N,className:"group relative w-full flex justify-center py-3 px-4 border-2 border-purple-600 text-sm font-medium rounded-lg text-purple-600 bg-white hover:bg-purple-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-300 transform hover:scale-105 active:scale-95",children:[l.jsx(lc,{className:"h-5 w-5 mr-2"}),"Download App"]})}),l.jsx("div",{className:"text-center",children:l.jsxs("span",{className:"text-sm text-gray-600",children:["Need a new account?"," ",l.jsx(Jd,{to:"/register",className:"font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:from-blue-700 hover:to-purple-700 transition-all",children:"Sign up"})]})})]})]})})})},Q6=()=>{const{register:e}=Ai(),[t,n]=b.useState({name:"",email:"",password:"",confirmPassword:""}),[r,i]=b.useState(!1),[o,u]=b.useState(!1),[f,h]=b.useState(!1),[m,g]=b.useState({}),[x,y]=b.useState(null),[w,N]=b.useState(!1);b.useEffect(()=>{const T=k=>{k.preventDefault(),y(k),N(!0)};return window.addEventListener("beforeinstallprompt",T),()=>window.removeEventListener("beforeinstallprompt",T)},[]);const j=T=>{n({...t,[T.target.name]:T.target.value}),m[T.target.name]&&g({...m,[T.target.name]:""})},S=async()=>{if(!x){de.error("App is already installed or installation is not available.");return}x.prompt();const{outcome:T}=await x.userChoice;T==="accepted"?(de.success("App installed successfully! You can now launch it from your home screen."),N(!1)):de.error("App installation cancelled."),y(null)},A=()=>{const T={};return t.name.trim()||(T.name="Name is required"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(T.email="Please enter a valid email address"):T.email="Email is required",t.password.trim()?t.password.length<6&&(T.password="Password must be at least 6 characters long"):T.password="Password is required",t.confirmPassword.trim()?t.password!==t.confirmPassword&&(T.confirmPassword="Passwords do not match"):T.confirmPassword="Please confirm your password",g(T),Object.keys(T).length===0},C=async T=>{if(T.preventDefault(),!A()){de.error("Please fill all required fields correctly.");return}h(!0);const k=de.loading("Creating your account..."),D=await e(t);de.dismiss(k),D.success?D.requiresApproval?(de.success(D.message||"Registration successful! Waiting for admin approval.",{duration:6e3}),setTimeout(()=>{window.location.href="/login"},3e3)):de.success("Account created successfully! Welcome to Satrong Sajghor Traders."):(g({general:D.error}),de.error(D.error||"Registration failed. Please try again.")),h(!1)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 animate-gradient",children:l.jsx("div",{className:"max-w-md w-full space-y-8 animate-fadeIn",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-bounceIn",children:l.jsx("img",{src:zp,alt:"Satrong Sajghor Traders",className:"mx-auto h-20 w-20 object-contain drop-shadow-lg"})}),l.jsx("h2",{className:"mt-6 text-3xl font-extrabold bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 bg-clip-text text-transparent animate-slideDown",children:"Satrong Sajghor Traders Registration"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 animate-slideDown",style:{animationDelay:"0.1s"},children:"Create Admin Account"}),l.jsx("div",{className:"mt-3 p-3 bg-gradient-to-r from-green-50 via-emerald-50 to-teal-50 border-2 border-transparent bg-clip-padding rounded-lg animate-slideUp shadow-md",style:{animationDelay:"0.2s",borderImage:"linear-gradient(90deg, rgb(34 197 94), rgb(16 185 129), rgb(20 184 166)) 1"},children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{className:"bg-gradient-to-r from-green-700 via-emerald-700 to-teal-700 bg-clip-text text-transparent",children:" Admin Registration:"})," ",l.jsx("span",{className:"text-gray-700",children:"This creates an Admin account. Your account will be pending approval until the Super Admin approves it."})]})})]}),l.jsxs("form",{className:"mt-8 space-y-6 animate-slideUp",onSubmit:C,style:{animationDelay:"0.3s"},children:[m.general&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m.general}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Vt,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:`appearance-none relative block w-full pl-10 pr-3 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter your full name",value:t.name,onChange:j})]}),m.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Bp,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:`appearance-none relative block w-full pl-10 pr-3 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.email?"border-red-300":"border-gray-300"}`,placeholder:"example@email.com",value:t.email,onChange:j})]}),m.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(wa,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,className:`appearance-none relative block w-full pl-10 pr-10 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password (min 6 characters)",value:t.password,onChange:j}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!r),children:r?l.jsx(ai,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(wl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),m.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(wa,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,className:`appearance-none relative block w-full pl-10 pr-10 py-3 border placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm transition-all duration-300 ${m.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password",value:t.confirmPassword,onChange:j}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!o),children:o?l.jsx(ai,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(wl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),m.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 hover:shadow-2xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 active:scale-95 bg-size-200 animate-gradient-x",children:f?"Creating Account...":"Sign Up"})}),l.jsx("div",{children:l.jsxs("button",{type:"button",onClick:S,className:"group relative w-full flex justify-center py-3 px-4 border-2 border-emerald-600 text-sm font-medium rounded-lg text-emerald-600 bg-white hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-300 transform hover:scale-105 active:scale-95",children:[l.jsx(lc,{className:"h-5 w-5 mr-2"}),"Download App"]})}),l.jsx("div",{className:"text-center",children:l.jsxs("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(Jd,{to:"/login",className:"font-medium bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent hover:from-green-700 hover:to-emerald-700 transition-all",children:"Sign In"})]})})]})]})})})},lA=e=>{if(!e)return null;try{const n=new Date(e).toLocaleString("en-CA",{timeZone:"Asia/Dhaka",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return new Date(n)}catch(t){return console.error("Error converting to BD time:",t),new Date(e)}},kn=()=>new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Dhaka",year:"numeric",month:"2-digit",day:"2-digit"}),sA=()=>{const t=new Date().toLocaleString("en-CA",{timeZone:"Asia/Dhaka",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return new Date(t)},ii=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-GB",{timeZone:"Asia/Dhaka",day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return console.error("Error formatting BD date short:",t),"Invalid Date"}},ti=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-GB",{timeZone:"Asia/Dhaka",day:"numeric",month:"long",year:"numeric"})}catch(t){return console.error("Error formatting BD date long:",t),"Invalid Date"}},J6=()=>{const{user:e,logout:t}=Ai(),n=ji(),r=na(),[i,o]=b.useState(!1),u=[{id:"dashboard",name:"Dashboard",icon:r6,path:"/"},{id:"members",name:"Member Management",icon:Xn,path:"/members"},{id:"activity-log",name:"Activity Log",icon:X2,path:"/activity-log"},{id:"products",name:"Product Management",icon:xn,path:"/products"},{id:"sales-report",name:"Sales Report",icon:$0,path:"/sales-report"},{id:"installments",name:"Installment Collection",icon:Vn,path:"/installments?fresh=true"},{id:"pending-installments",name:"Pending Installments",icon:k0,path:"/pending-installments"},{id:"daily-collection",name:"Daily Total Collection",icon:sc,path:"/daily-collection"},{id:"daily-savings",name:"Daily Total Savings",icon:Sl,path:"/daily-savings"},{id:"total-due",name:"Total Due Amount",icon:Zn,path:"/total-due"},{id:"sms-management",name:"SMS Management",icon:tA,path:"/sms-management"},{id:"admin-control-panel",name:"Admin Control Panel",icon:rA,path:"/admin-control-panel"},{id:"profile",name:"Profile",icon:HP,path:"/profile"}],f=()=>{t(),de.success("Logged out successfully. See you again!"),n("/login")},h=({mobile:m=!1})=>l.jsxs("div",{className:`no-print ${m?"fixed inset-0 z-[60] lg:hidden":"hidden lg:flex lg:w-64 lg:flex-col"}`,children:[m&&l.jsx("div",{className:"fixed inset-0 bg-transparent",onClick:()=>o(!1)}),l.jsxs("div",{className:`${m?"relative flex w-full max-w-xs flex-1 flex-col shadow-2xl":"flex flex-1 flex-col min-h-0"} bg-gradient-to-br from-indigo-950 via-purple-900 to-indigo-950 backdrop-blur-xl`,children:[m&&l.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:l.jsx("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-indigo-900/80 backdrop-blur-sm hover:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500 transition-all duration-200",onClick:()=>o(!1),children:l.jsx(nf,{className:"h-6 w-6 text-white"})})}),l.jsxs("div",{className:"flex flex-1 flex-col pt-5 pb-4 overflow-y-auto scrollbar-hide",children:[l.jsx("div",{className:"flex items-center flex-shrink-0 px-4 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-3 w-full bg-indigo-900/40 rounded-xl p-3 border border-purple-700/50",children:[l.jsx("img",{src:zp,alt:"Satrong Sajghor Traders",className:"h-12 w-12 rounded-lg border-2 border-purple-500 bg-white object-contain p-1 shadow-lg shadow-purple-500/30"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-base font-bold text-white tracking-tight",children:"Satrong Sajghor Traders"}),l.jsx("p",{className:"text-xs text-purple-300 font-medium",children:"Business Management System"})]})]})}),l.jsx("nav",{className:"mt-6 flex-1 px-3 space-y-1.5",children:u.map(g=>{const x=g.icon,y=r.pathname===g.path;return l.jsxs("button",{onClick:()=>{n(g.path),m&&o(!1)},className:`w-full group flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-300 ease-out ${y?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-500/30 scale-[1.02] border border-purple-400/50":"text-purple-200 hover:bg-indigo-900/60 hover:text-white hover:scale-[1.02] hover:shadow-md hover:border hover:border-purple-700/50 border border-transparent"}`,children:[l.jsx(x,{className:`mr-3 flex-shrink-0 h-5 w-5 transition-all duration-300 ${y?"text-white scale-110":"text-purple-400 group-hover:text-purple-300 group-hover:scale-110"}`}),l.jsx("span",{className:"transition-all duration-300 font-medium",children:g.name})]},g.id)})})]}),l.jsxs("div",{className:"flex-shrink-0 flex border-t border-purple-700/50 p-4 bg-indigo-900/30",children:[l.jsxs("button",{onClick:()=>{n("/profile"),m&&o(!1)},className:"flex items-center w-full hover:bg-indigo-800/40 rounded-xl p-2.5 transition-all duration-300 group hover:scale-[1.02]",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-600 to-indigo-600 border-2 border-purple-400 flex items-center justify-center group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-purple-500/40 transition-all duration-300 overflow-hidden",children:e?.profileImage?l.jsx("img",{src:`${"/api".replace("/api","")}${e.profileImage}`,alt:e.name,className:"h-full w-full object-cover",onError:g=>{g.target.style.display="none",g.target.parentElement.classList.remove("overflow-hidden")}}):l.jsx("span",{className:"text-sm font-bold text-white",children:e?.name?.charAt(0)||"A"})})}),l.jsxs("div",{className:"ml-3 flex-1 text-left",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:e?.name||"User"}),l.jsx("p",{className:"text-xs text-purple-300 font-medium",children:e?.role==="admin"?"Admin":e?.role==="manager"?"Manager":e?.role==="collector"?"Collector":e?.role==="supervisor"?"Supervisor":"Staff"})]})]}),l.jsx("button",{onClick:f,className:"ml-2 flex-shrink-0 p-2.5 text-purple-400 hover:text-white hover:bg-red-500/20 hover:border-red-500/50 rounded-xl transition-all duration-300 border border-transparent hover:scale-110",title:"Logout",children:l.jsx(d6,{className:"h-5 w-5"})})]})]})]});return l.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[i&&l.jsx(h,{mobile:!0}),l.jsx(h,{}),l.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden print:w-full",children:[l.jsxs("div",{className:"no-print relative z-10 flex-shrink-0 flex h-16 bg-white shadow",children:[l.jsx("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>o(!0),children:l.jsx(g6,{className:"h-6 w-6"})}),l.jsxs("div",{className:"flex-1 px-2 sm:px-4 flex justify-between items-center",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-gray-900 truncate",children:eM(r.pathname)})}),l.jsxs("div",{className:"ml-2 sm:ml-4 flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[l.jsxs("div",{className:"hidden sm:block text-xs sm:text-sm text-gray-500",children:["Today's Date: ",ii(new Date)]}),l.jsx("button",{className:"bg-white p-1 sm:p-2 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:l.jsx(k0,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6"})}),l.jsx("button",{className:"bg-white p-1 sm:p-2 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:l.jsx(Up,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6"})}),l.jsx("div",{className:"bg-green-100 text-green-800 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium",children:"Online"})]})]})]}),l.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none print:overflow-visible",children:l.jsx("div",{className:"py-6 print:py-0",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 print:max-w-none print:px-0",children:l.jsx(W5,{})})})})]})]})},eM=e=>{const t={"/":"Dashboard","/profile":"My Profile","/members":"Member Management","/activity-log":"Activity Log","/products":"Product Management","/sales-report":"Sales Report","/installments":"Installment Collection","/pending-installments":"Pending Installments","/daily-collection":"Daily Total Collection","/daily-savings":"Daily Total Savings","/total-due":"Total Due Amount","/sms-management":"SMS Management","/admin-control-panel":"Admin Control Panel"};return e.startsWith("/members/")?"Member Profile":t[e]||"Dashboard"},tM="/api",nM=()=>localStorage.getItem("ngo_token"),rM=(e=!1)=>{const t=nM(),n={...t&&{Authorization:`Bearer ${t}`}};return e||(n["Content-Type"]="application/json"),n},Pe=async(e,t={})=>{try{const n=`${tM}${e}`,r=t.body instanceof FormData,i={headers:{...rM(r),"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},...t,...t.body&&typeof t.body=="object"&&!r&&{body:JSON.stringify(t.body)},...r&&{body:t.body}},o=await fetch(n,i),u=await o.json();if(!o.ok)throw o.status===401?(localStorage.removeItem("ngo_token"),localStorage.removeItem("ngo_user"),window.location.href="/login",new Error("Authentication failed. Please login again.")):new Error(u.message||`HTTP error! status: ${o.status}`);return u}catch(n){throw console.error("API Request Error:",n),n}},pn={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/members${t?`?${t}`:""}`)},getById:e=>Pe(`/members/${e}`),create:e=>Pe("/members",{method:"POST",body:e}),update:(e,t)=>Pe(`/members/${e}`,{method:"PUT",body:t}),delete:e=>Pe(`/members/${e}`,{method:"DELETE"}),getStats:()=>Pe("/members/stats/overview"),getByBranch:e=>Pe(`/members/branch/${e}`),checkCode:(e,t=null)=>{const n=new URLSearchParams;t&&n.append("excludeMemberId",t);const r=n.toString()?`?${n.toString()}`:"";return Pe(`/members/check-code/${e}${r}`)},createWithImage:e=>Pe("/members",{method:"POST",body:e}),updateWithImage:(e,t)=>Pe(`/members/${e}`,{method:"PUT",body:t})},Br={login:e=>Pe("/auth/login",{method:"POST",body:e}),register:e=>Pe("/auth/register",{method:"POST",body:e}),getCurrentUser:()=>Pe("/auth/me"),updateProfile:e=>Pe("/auth/profile",{method:"PUT",body:e}),changePassword:e=>Pe("/auth/change-password",{method:"PUT",body:e}),logout:()=>Pe("/auth/logout",{method:"POST"}),checkAuth:()=>Pe("/auth/check"),getPendingUsers:()=>Pe("/auth/pending-users"),getAllUsers:()=>Pe("/auth/all-users"),approveUser:e=>Pe(`/auth/approve-user/${e}`,{method:"PUT"}),rejectUser:e=>Pe(`/auth/reject-user/${e}`,{method:"DELETE"}),activateUser:e=>Pe(`/auth/activate-user/${e}`,{method:"PUT"}),deactivateUser:e=>Pe(`/auth/deactivate-user/${e}`,{method:"PUT"}),deleteUser:e=>Pe(`/auth/delete-user/${e}`,{method:"DELETE"}),getSystemSettings:()=>Pe("/auth/system-settings"),updateSystemSettings:e=>Pe("/auth/system-settings",{method:"POST",body:e})},ic={getStats:()=>Pe("/dashboard/stats"),getTrends:(e=7)=>Pe(`/dashboard/trends?days=${e}`),getDailyCollection:(e=null)=>{const t=e?`?date=${e}`:"";return Pe(`/dashboard/daily-collection${t}`)},getDailySavings:(e=null)=>{const t=e?`?date=${e}`:"";return Pe(`/dashboard/daily-savings${t}`)},getCollectorDashboard:(e,t=null,n=null)=>{const r=new URLSearchParams;t&&r.append("date",t),n&&r.append("day",n);const i=r.toString()?`?${r.toString()}`:"";return Pe(`/collector-dashboard/${e}${i}`)},getCollectorsPerformance:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/dashboard/collectors-performance${t?`?${t}`:""}`)},getOverview:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/dashboard/overview${t?`?${t}`:""}`)}},fr={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/installments${t?`?${t}`:""}`)},getById:e=>Pe(`/installments/${e}`),collect:e=>Pe("/installments/collect",{method:"POST",body:e}),getScheduleByDay:e=>Pe(`/installments/schedule/${e}`),getCollectorSchedule:(e,t)=>Pe(`/installments/collector/${e}/day/${t}`),getPotentialDeductions:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/installments/potential-deductions${t?`?${t}`:""}`)},getActiveSales:e=>Pe(`/installments/active-sales/${e}`),getDailySummary:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/installments/daily-summary${t?`?${t}`:""}`)},getMemberHistory:(e,t=10)=>{const n=new Date().getTime();return Pe(`/installments/member/${e}/history?limit=${t}&_t=${n}`)},getByMember:e=>{const t=new Date().getTime();return Pe(`/installments/member/${e}?_t=${t}`)},getCollectionHistory:e=>{const t=new Date().getTime();return Pe(`/installments/member/${e}/collection-history?_t=${t}`)},update:(e,t)=>Pe(`/installments/${e}`,{method:"PUT",body:t}),cancel:e=>Pe(`/installments/${e}`,{method:"DELETE"}),createProductSale:e=>Pe("/installments/product-sale",{method:"POST",body:e}),createProductLoan:e=>Pe("/installments/create-product-loan",{method:"POST",body:e}),recalculateDueDates:(e,t)=>Pe(`/installments/recalculate-due-dates/${e}`,{method:"POST",body:{collectorId:t}})},aM={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/schedules${t?`?${t}`:""}`)},getById:e=>Pe(`/schedules/${e}`),create:e=>Pe("/schedules",{method:"POST",body:e}),update:(e,t)=>Pe(`/schedules/${e}`,{method:"PUT",body:t}),delete:e=>Pe(`/schedules/${e}`,{method:"DELETE"}),addBranchToSchedule:(e,t)=>Pe(`/schedules/${e}/branches`,{method:"POST",body:t}),addMembersToBranch:(e,t,n)=>Pe(`/schedules/${e}/branches/${t}/members`,{method:"POST",body:{memberIds:n}}),removeMemberFromBranch:(e,t,n)=>Pe(`/schedules/${e}/branches/${t}/members/${n}`,{method:"DELETE"}),getWeeklyOverview:(e=null)=>{const t=e?`?collectorId=${e}`:"";return Pe(`/schedules/weekly-overview${t}`)}},vl={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/products${t?`?${t}`:""}`)},getById:e=>Pe(`/products/${e}`),create:e=>Pe("/products",{method:"POST",body:e}),update:(e,t)=>Pe(`/products/${e}`,{method:"PUT",body:t}),delete:e=>Pe(`/products/${e}`,{method:"DELETE"}),updateStock:(e,t)=>Pe(`/products/${e}/stock`,{method:"PATCH",body:t}),getStats:()=>Pe("/products/stats/overview"),getSalesReport:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/products/sales/report${t?`?${t}`:""}`)}},ka={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/branches${t?`?${t}`:""}`)},getById:e=>Pe(`/branches/${e}`),create:e=>Pe("/branches",{method:"POST",body:e}),update:(e,t)=>Pe(`/branches/${e}`,{method:"PUT",body:t}),delete:e=>Pe(`/branches/${e}`,{method:"DELETE"}),getByCollector:e=>Pe(`/branches/collector/${e}`),assignCollector:(e,t)=>Pe(`/branches/${e}/assign-collector`,{method:"PATCH",body:{collectorId:t}})},qo={getAll:(e={})=>{const t=new URLSearchParams(e).toString();return Pe(`/collectors${t?`?${t}`:""}`)},getById:e=>Pe(`/collectors/${e}`),create:e=>Pe("/collectors",{method:"POST",body:e}),update:(e,t)=>Pe(`/collectors/${e}`,{method:"PUT",body:t}),getByDay:e=>Pe(`/collectors/day/${e}`),assignMembers:(e,t)=>Pe(`/collectors/${e}/assign-members`,{method:"POST",body:{memberIds:t}}),removeMembers:(e,t)=>Pe(`/collectors/${e}/remove-members`,{method:"POST",body:{memberIds:t}}),deactivate:e=>Pe(`/collectors/${e}`,{method:"DELETE"}),getDueAmounts:()=>Pe("/collectors/due-amounts")},Uu={checkBalance:()=>Pe("/sms/balance"),getSchedulerStatus:()=>Pe("/sms/scheduler/status"),sendTestSMS:(e,t)=>Pe("/sms/test",{method:"POST",body:{phone:e,message:t}}),sendDueReminders:()=>Pe("/sms/send-reminders",{method:"POST"}),sendPaymentConfirmation:e=>Pe("/sms/payment-confirmation",{method:"POST",body:e}),getStats:()=>Pe("/sms/stats"),updateSettings:e=>Pe("/sms/settings",{method:"PUT",body:e})},lM=()=>{const{user:e,updateUser:t}=Ai(),[n,r]=b.useState("info"),[i,o]=b.useState(!1),[u,f]=b.useState([]),[h,m]=b.useState([]),[g,x]=b.useState(!1),[y,w]=b.useState({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",branch:e?.branch||"",branchCode:e?.branchCode||"",role:e?.role||"",profileImage:e?.profileImage||null}),[N,j]=b.useState(null),[S,A]=b.useState(null),[C,T]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,D]=b.useState({current:!1,new:!1,confirm:!1}),[P,M]=b.useState({loginTimeRestriction:{enabled:!1,startTime:"00:00",endTime:"23:59"}}),[I,R]=b.useState(!1),H=e?.email==="anarul258011@gmail.com",V=O=>{w({...y,[O.target.name]:O.target.value})},F=O=>{const U=O.target.files[0];if(U){j(U);const L=new FileReader;L.onloadend=()=>{A(L.result)},L.readAsDataURL(U)}},X=O=>{T({...C,[O.target.name]:O.target.value})},G=async O=>{O.preventDefault(),o(!0);try{const U=new FormData;U.append("name",y.name),U.append("phone",y.phone),N&&U.append("profileImage",N);const L=await Br.updateProfile(U);L.success&&(t(L.user),de.success("Profile updated successfully!"))}catch(U){console.error("Profile update error:",U),de.error(U.message||"Failed to update profile")}finally{o(!1)}},ge=async O=>{if(O.preventDefault(),!C.currentPassword){de.error("Please enter your current password");return}if(C.newPassword.length<6){de.error("New password must be at least 6 characters");return}if(C.newPassword!==C.confirmPassword){de.error("New passwords do not match");return}o(!0);try{(await Br.changePassword({currentPassword:C.currentPassword,newPassword:C.newPassword,confirmPassword:C.confirmPassword})).success&&(de.success("Password changed successfully!"),T({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(U){console.error("Password change error:",U),de.error(U.message||"Failed to change password")}finally{o(!1)}},K=O=>{D({...k,[O]:!k[O]})},re=async()=>{if(e?.role==="admin"){x(!0);try{const O=await Br.getPendingUsers();O.success&&f(O.users)}catch(O){console.error("Error fetching pending users:",O),de.error("Failed to load pending users")}finally{x(!1)}}},he=async()=>{if(e?.role==="admin"){x(!0);try{const O=await Br.getAllUsers();O.success&&m(O.users)}catch(O){console.error("Error fetching all users:",O),de.error("Failed to load users")}finally{x(!1)}}},De=async(O,U)=>{if(window.confirm(`Are you sure you want to approve ${U}?`))try{const L=await Br.approveUser(O);L.success&&(de.success(L.message),await re(),await he())}catch(L){console.error("Error approving user:",L),de.error(L.message||"Failed to approve user")}},$=async(O,U)=>{if(window.confirm(`Are you sure you want to reject and delete ${U}'s account? This action cannot be undone.`))try{const L=await Br.rejectUser(O);L.success&&(de.success(L.message),re(),he())}catch(L){console.error("Error rejecting user:",L),de.error(L.message||"Failed to reject user")}},le=async(O,U)=>{if(window.confirm(`Are you sure you want to activate ${U}?`))try{const L=await Br.activateUser(O);L.success&&(de.success(L.message),he())}catch(L){console.error("Error activating user:",L),de.error(L.message||"Failed to activate user")}},z=async(O,U)=>{if(window.confirm(`Are you sure you want to deactivate ${U}? They will not be able to login.`))try{const L=await Br.deactivateUser(O);L.success&&(de.success(L.message),he())}catch(L){console.error("Error deactivating user:",L),de.error(L.message||"Failed to deactivate user")}},ue=async(O,U)=>{if(window.confirm(` WARNING: Are you sure you want to PERMANENTLY DELETE ${U}'s account? This action CANNOT be undone!`))try{const L=await Br.deleteUser(O);L.success&&(de.success(L.message),he())}catch(L){console.error("Error deleting user:",L),de.error(L.message||"Failed to delete user")}},be=async()=>{if(H){R(!0);try{const O=await Br.getSystemSettings();O.success&&M(O.settings)}catch(O){console.error("Error fetching system settings:",O),de.error("Failed to load system settings")}finally{R(!1)}}},Ce=async O=>{O.preventDefault(),R(!0);try{const U=await Br.updateSystemSettings(P);U.success&&(de.success("System settings updated successfully!"),M(U.settings))}catch(U){console.error("Error updating system settings:",U),de.error(U.message||"Failed to update system settings")}finally{R(!1)}},J=(O,U)=>{M(L=>({...L,loginTimeRestriction:{...L.loginTimeRestriction,[O]:U}}))};return cd.useEffect(()=>{n==="admin"&&e?.role==="admin"&&(re(),he())},[n]),cd.useEffect(()=>{n==="system"&&H&&be()},[n]),l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-indigo-900 via-purple-800 to-indigo-900 px-6 py-8",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-600 p-1 rounded-full border-4 border-purple-500 shadow-lg shadow-purple-500/30 w-24 h-24 flex items-center justify-center overflow-hidden",children:[S||y.profileImage?l.jsx("img",{src:S||`${"/api".replace("/api","")}${y.profileImage}`,alt:"Profile",className:"w-full h-full object-cover rounded-full",onError:O=>{O.target.onerror=null,O.target.style.display="none",O.target.parentElement.classList.add("flex","items-center","justify-center")}}):l.jsx(Vt,{className:"h-12 w-12 text-white"}),!S&&!y.profileImage&&l.jsx(Vt,{className:"h-12 w-12 text-white absolute"})]}),l.jsxs("label",{htmlFor:"profile-upload",className:"absolute bottom-0 right-0 bg-white text-purple-600 p-2 rounded-full shadow-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[l.jsx(Z2,{className:"w-4 h-4"}),l.jsx("input",{type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:F})]})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:e?.name}),l.jsx("p",{className:"text-purple-200",children:e?.email}),l.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-sm font-medium rounded-full shadow-md",children:e?.role==="admin"?"Admin":e?.role==="manager"?"Manager":e?.role==="collector"?"Collector":"Staff"})]})]})}),l.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:l.jsxs("nav",{className:"flex -mb-px whitespace-nowrap",children:[l.jsxs("button",{onClick:()=>r("info"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="info"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Vt,{className:"inline-block w-5 h-5 mr-2"}),"Profile Information"]}),l.jsxs("button",{onClick:()=>r("password"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="password"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(wa,{className:"inline-block w-5 h-5 mr-2"}),"Change Password"]}),e?.role==="admin"&&l.jsxs("button",{onClick:()=>r("admin"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="admin"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Vt,{className:"inline-block w-5 h-5 mr-2"}),"Admin Management"]}),H&&l.jsxs("button",{onClick:()=>r("system"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${n==="system"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Up,{className:"inline-block w-5 h-5 mr-2"}),"System Management"]})]})}),l.jsxs("div",{className:"p-6",children:[n==="info"&&l.jsxs("form",{onSubmit:G,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vt,{className:"inline-block w-4 h-4 mr-1"}),"Full Name"]}),l.jsx("input",{type:"text",name:"name",value:y.name,onChange:V,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Bp,{className:"inline-block w-4 h-4 mr-1"}),"Email",e?.role!=="admin"&&l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Read-only)"})]}),l.jsx("input",{type:"email",name:"email",value:y.email,onChange:V,className:`w-full px-4 py-2 border border-gray-300 rounded-lg ${e?.role==="admin"?"focus:ring-2 focus:ring-purple-500 focus:border-transparent":"bg-gray-100 cursor-not-allowed"}`,disabled:e?.role!=="admin"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Nl,{className:"inline-block w-4 h-4 mr-1"}),"Phone Number"]}),l.jsx("input",{type:"text",name:"phone",value:y.phone,onChange:V,placeholder:"01XXXXXXXXX",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vt,{className:"inline-block w-4 h-4 mr-1"}),"Role"]}),l.jsx("input",{type:"text",value:y.role.charAt(0).toUpperCase()+y.role.slice(1),className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed",disabled:!0})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(R0,{className:"w-5 h-5 mr-2"}),i?"Saving...":"Save Changes"]})})]}),n==="password"&&l.jsxs("form",{onSubmit:ge,className:"space-y-6 max-w-md",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(wa,{className:"inline-block w-4 h-4 mr-1"}),"Current Password"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:k.current?"text":"password",name:"currentPassword",value:C.currentPassword,onChange:X,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>K("current"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k.current?l.jsx(ai,{className:"w-5 h-5"}):l.jsx(wl,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(wa,{className:"inline-block w-4 h-4 mr-1"}),"New Password"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:k.new?"text":"password",name:"newPassword",value:C.newPassword,onChange:X,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent pr-10",required:!0,minLength:"6"}),l.jsx("button",{type:"button",onClick:()=>K("new"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k.new?l.jsx(ai,{className:"w-5 h-5"}):l.jsx(wl,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password must be at least 6 characters"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(wa,{className:"inline-block w-4 h-4 mr-1"}),"Confirm New Password"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:k.confirm?"text":"password",name:"confirmPassword",value:C.confirmPassword,onChange:X,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>K("confirm"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k.confirm?l.jsx(ai,{className:"w-5 h-5"}):l.jsx(wl,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:l.jsxs("div",{className:"text-sm text-purple-900",children:[l.jsx("strong",{children:"Security Tips:"}),l.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[l.jsx("li",{children:"Use a strong password with letters, numbers, and symbols"}),l.jsx("li",{children:"Don't share your password with anyone"}),l.jsx("li",{children:"Change your password regularly"})]})]})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(wa,{className:"w-5 h-5 mr-2"}),i?"Changing...":"Change Password"]})})]}),n==="admin"&&e?.role==="admin"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Pending Approvals (",u.length,")"]}),g?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):u.length===0?l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:l.jsx("p",{className:"text-gray-600",children:"No pending user approvals"})}):l.jsx("div",{className:"space-y-3",children:u.map(O=>l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:O.name}),l.jsx("p",{className:"text-sm text-gray-600",children:O.email}),l.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[l.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:O.role}),O.phone&&l.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[l.jsx(Nl,{className:"w-3 h-3 mr-1"}),O.phone]}),l.jsx("span",{className:"text-xs text-gray-500",children:new Date(O.createdAt).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>De(O._id,O.name),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Approve"}),l.jsx("button",{onClick:()=>$(O._id,O.name),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Reject"})]})]},O._id))})]}),l.jsxs("div",{className:"mt-8",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(Vt,{className:"w-5 h-5 mr-2"}),"All Users (",h.length,")"]}),g?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Joined"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(O=>{const U=O._id===e._id,L=O.role==="admin",ee=!U&&!L;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),O.role==="admin"&&l.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Super Admin"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:O.email}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:O.role})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[O.isApproved?l.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Approved"}):l.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Pending"}),O.isActive?l.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Active"}):l.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Inactive"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(O.createdAt).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:ee?l.jsxs("div",{className:"flex gap-1 items-center",children:[!O.isApproved&&l.jsx("button",{onClick:()=>De(O._id,O.name),className:"px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs font-medium",title:"Approve user",children:""}),O.isActive?l.jsx("button",{onClick:()=>z(O._id,O.name),className:"px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors text-xs font-medium",title:"Deactivate user",children:""}):l.jsx("button",{onClick:()=>le(O._id,O.name),className:"px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-xs font-medium",title:"Activate user",children:""}),l.jsx("button",{onClick:()=>ue(O._id,O.name),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",title:"Delete user permanently",children:""})]}):l.jsx("span",{className:"text-xs text-gray-400",children:U?"(You)":"(Protected)"})})]},O._id)})})]})})]})]}),n==="system"&&H&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Da,{className:"w-6 h-6 text-purple-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Login Time Restriction"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"   users login   Enable      admins login   "}),l.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-purple-200",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Enable Time Restriction"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  / "})]}),l.jsx("button",{type:"button",onClick:()=>J("enabled",!P.loginTimeRestriction.enabled),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${P.loginTimeRestriction.enabled?"bg-purple-600":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${P.loginTimeRestriction.enabled?"translate-x-7":"translate-x-1"}`})})]}),P.loginTimeRestriction.enabled&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Da,{className:"inline-block w-4 h-4 mr-1"}),"Login Start Time ( )"]}),l.jsx("input",{type:"time",value:P.loginTimeRestriction.startTime,onChange:O=>J("startTime",O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Login      "})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Da,{className:"inline-block w-4 h-4 mr-1"}),"Login End Time ( )"]}),l.jsx("input",{type:"time",value:P.loginTimeRestriction.endTime,onChange:O=>J("endTime",O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Login     "})]})]}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:l.jsxs("div",{className:"text-sm text-purple-900",children:[l.jsx("strong",{children:" Important:"}),l.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[l.jsx("li",{children:"  account (anarul258011@gmail.com)  login  "}),l.jsx("li",{children:"  admins    login  "}),l.jsx("li",{children:"Login page   message   login  "})]})]})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:I,className:"flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(R0,{className:"w-5 h-5 mr-2"}),I?"Saving...":"Save Settings"]})})]})]})})]})]})})},sM=({onComplete:e})=>{const[t,n]=b.useState(!0);return b.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(()=>{e()},500)},2500);return()=>clearTimeout(r)},[e]),l.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-teal-600 transition-opacity duration-500 ${t?"opacity-100":"opacity-0"}`,children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative animate-splash-zoom",children:[l.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-3xl blur-3xl animate-pulse-slow"}),l.jsx("img",{src:"/pwa-icon.png",alt:"Satrong Sajghor",className:"relative w-40 h-40 mx-auto drop-shadow-2xl animate-splash-rotate"})]}),l.jsx("h1",{className:"mt-8 text-4xl font-extrabold text-white animate-slide-up-fade",children:"Satrong Sajghor"}),l.jsx("p",{className:"mt-2 text-lg text-white/90 animate-slide-up-fade-delay",children:"Savings & Business Management"}),l.jsxs("div",{className:"flex justify-center mt-8 space-x-2 animate-slide-up-fade-delay2",children:[l.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce-dot",style:{animationDelay:"0s"}}),l.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce-dot",style:{animationDelay:"0.2s"}}),l.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce-dot",style:{animationDelay:"0.4s"}})]})]}),l.jsx("style",{jsx:!0,children:`
        @keyframes splash-zoom {
          0% {
            transform: scale(0.5);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        @keyframes splash-rotate {
          0% {
            transform: rotate(0deg) scale(0.5);
            opacity: 0;
          }
          50% {
            opacity: 1;
          }
          100% {
            transform: rotate(360deg) scale(1);
          }
        }

        @keyframes slide-up-fade {
          0% {
            transform: translateY(30px);
            opacity: 0;
          }
          100% {
            transform: translateY(0);
            opacity: 1;
          }
        }

        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.3;
          }
          50% {
            opacity: 0.6;
          }
        }

        @keyframes bounce-dot {
          0%, 80%, 100% {
            transform: scale(0);
            opacity: 0.5;
          }
          40% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .animate-splash-zoom {
          animation: splash-zoom 1s ease-out forwards;
        }

        .animate-splash-rotate {
          animation: splash-rotate 1.5s ease-out forwards;
        }

        .animate-slide-up-fade {
          animation: slide-up-fade 0.8s ease-out 0.5s forwards;
          opacity: 0;
        }

        .animate-slide-up-fade-delay {
          animation: slide-up-fade 0.8s ease-out 0.8s forwards;
          opacity: 0;
        }

        .animate-slide-up-fade-delay2 {
          animation: slide-up-fade 0.8s ease-out 1.1s forwards;
          opacity: 0;
        }

        .animate-pulse-slow {
          animation: pulse-slow 2s ease-in-out infinite;
        }

        .animate-bounce-dot {
          animation: bounce-dot 1.4s ease-in-out infinite;
        }
      `})]})};function iA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Dt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iA(e))&&(r&&(r+=" "),r+=t);return r}var Jh={},eg={},kw;function iM(){return kw||(kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(eg)),eg}var tg={},_w;function oA(){return _w||(_w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(tg)),tg}var ng={},$w;function cA(){return $w||($w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(ng)),ng}var rg={},Iw;function qp(){return Iw||(Iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,u="",f="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const m=n[o];f?m==="\\"&&o+1<i?(o++,u+=n[o]):m===f?f="":u+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,r.push(u),u=""):u+=m:m==="["?(h=!0,u&&(r.push(u),u="")):m==="."?u&&(r.push(u),u=""):u+=m,o++}return u&&r.push(u),r}e.toPath=t})(rg)),rg}var Rw;function Hp(){return Rw||(Rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM(),n=oA(),r=cA(),i=qp();function o(f,h,m){if(f==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const g=f[h];return g===void 0?n.isDeepKey(h)?o(f,i.toPath(h),m):m:g}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const g=f[h];return g===void 0?m:g}default:{if(Array.isArray(h))return u(f,h,m);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const g=f[h];return g===void 0?m:g}}}function u(f,h,m){if(h.length===0)return m;let g=f;for(let x=0;x<h.length;x++){if(g==null||t.isUnsafeProperty(h[x]))return m;g=g[h[x]]}return g===void 0?m:g}e.get=o})(Jh)),Jh}var ag,Lw;function oM(){return Lw||(Lw=1,ag=Hp().get),ag}var cM=oM();const cs=La(cM);var lg={exports:{}},Ct={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function uM(){if(Bw)return Ct;Bw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function N(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case i:case r:case h:case m:case y:return j;default:switch(j=j&&j.$$typeof,j){case u:case f:case x:case g:return j;case o:return j;default:return S}}case t:return S}}}return Ct.ContextConsumer=o,Ct.ContextProvider=u,Ct.Element=e,Ct.ForwardRef=f,Ct.Fragment=n,Ct.Lazy=x,Ct.Memo=g,Ct.Portal=t,Ct.Profiler=i,Ct.StrictMode=r,Ct.Suspense=h,Ct.SuspenseList=m,Ct.isContextConsumer=function(j){return N(j)===o},Ct.isContextProvider=function(j){return N(j)===u},Ct.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Ct.isForwardRef=function(j){return N(j)===f},Ct.isFragment=function(j){return N(j)===n},Ct.isLazy=function(j){return N(j)===x},Ct.isMemo=function(j){return N(j)===g},Ct.isPortal=function(j){return N(j)===t},Ct.isProfiler=function(j){return N(j)===i},Ct.isStrictMode=function(j){return N(j)===r},Ct.isSuspense=function(j){return N(j)===h},Ct.isSuspenseList=function(j){return N(j)===m},Ct.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===i||j===r||j===h||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===g||j.$$typeof===u||j.$$typeof===o||j.$$typeof===f||j.$$typeof===w||j.getModuleId!==void 0)},Ct.typeOf=N,Ct}var Uw;function dM(){return Uw||(Uw=1,lg.exports=uM()),lg.exports}var fM=dM(),yn=e=>e===0?0:e>0?1:-1,mr=e=>typeof e=="number"&&e!=+e,es=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ge=e=>(typeof e=="number"||e instanceof Number)&&!mr(e),ea=e=>Ge(e)||typeof e=="string",mM=0,Ko=e=>{var t=++mM;return"".concat(e||"").concat(t)},$n=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&typeof t!="string")return r;var o;if(es(t)){if(n==null)return r;var u=t.indexOf("%");o=n*parseFloat(t.slice(0,u))/100}else o=+t;return mr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},uA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function En(e,t,n){return Ge(e)&&Ge(t)?e+n*(t-e):t}function hM(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):cs(r,t))===n)}var vn=e=>e===null||typeof e>"u",oc=e=>vn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),gM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Fp(e){if(typeof e!="string")return!1;var t=gM;return t.includes(e)}var pM=["viewBox","children"],zw=["points","pathLength"],sg={svg:pM,polygon:zw,polyline:zw},xM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Fp(i)&&(r[i]=(o=>n[i](n,o)))}),r},yM=(e,t,n)=>r=>(e(t,n,r),null),rf=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Fp(i)&&typeof o=="function"&&(r||(r={}),r[i]=yM(o,t,n))}),r},vM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dA(e){if(typeof e!="string")return!1;var t=vM;return t.includes(e)}function El(e){var t=Object.entries(e).filter(n=>{var[r]=n;return dA(r)});return Object.fromEntries(t)}var qw=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Hw=null,ig=null,fA=e=>{if(e===Hw&&Array.isArray(ig))return ig;var t=[];return b.Children.forEach(e,n=>{vn(n)||(fM.isFragment(n)?t=t.concat(fA(n.props.children)):t.push(n))}),ig=t,Hw=e,t};function Yp(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>qw(i)):r=[qw(t)],fA(e).forEach(i=>{var o=cs(i,"type.displayName")||cs(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var bM=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&sg?.[r])!==null&&i!==void 0?i:[],u=t.startsWith("data-"),f=typeof e!="function"&&(!!r&&o.includes(t)||dA(t)),h=!!n&&Fp(t);return u||f||h},on=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var u;bM((u=r)===null||u===void 0?void 0:u[o],o,t,n)&&(i[o]=r[o])}),i},wM=["children","width","height","viewBox","className","style","title","desc"];function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function jM(e,t){if(e==null)return{};var n,r,i=NM(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NM(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mA=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:u,style:f,title:h,desc:m}=e,g=jM(e,wM),x=o||{width:r,height:i,x:0,y:0},y=Dt("recharts-surface",u);return b.createElement("svg",B0({},on(g,!0,"svg"),{className:y,width:r,height:i,style:f,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),b.createElement("title",null,h),b.createElement("desc",null,m),n)}),SM=["children","className"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function AM(e,t){if(e==null)return{};var n,r,i=CM(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CM(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=AM(e,SM),o=Dt("recharts-layer",r);return b.createElement("g",U0({className:o},on(i,!0),{ref:t}),n)}),DM=b.createContext(null);function kt(e){return function(){return e}}const hA=Math.cos,md=Math.sin,Fr=Math.sqrt,hd=Math.PI,af=2*hd,z0=Math.PI,q0=2*z0,Zl=1e-6,EM=q0-Zl;function gA(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function TM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gA;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class OM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gA:TM(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,u){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,f=this._y1,h=r-t,m=i-n,g=u-t,x=f-n,y=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Zl)if(!(Math.abs(x*h-m*g)>Zl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-u,N=i-f,j=h*h+m*m,S=w*w+N*N,A=Math.sqrt(j),C=Math.sqrt(y),T=o*Math.tan((z0-Math.acos((j+y-S)/(2*A*C)))/2),k=T/C,D=T/A;Math.abs(k-1)>Zl&&this._append`L${t+k*g},${n+k*x}`,this._append`A${o},${o},0,0,${+(x*w>g*N)},${this._x1=t+D*h},${this._y1=n+D*m}`}}arc(t,n,r,i,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),h=r*Math.sin(i),m=t+f,g=n+h,x=1^u,y=u?i-o:o-i;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>Zl||Math.abs(this._y1-g)>Zl)&&this._append`L${m},${g}`,r&&(y<0&&(y=y%q0+q0),y>EM?this._append`A${r},${r},0,1,${x},${t-f},${n-h}A${r},${r},0,1,${x},${this._x1=m},${this._y1=g}`:y>Zl&&this._append`A${r},${r},0,${+(y>=z0)},${x},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Kp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new OM(t)}function Gp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pA(e){this._context=e}pA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lf(e){return new pA(e)}function xA(e){return e[0]}function yA(e){return e[1]}function vA(e,t){var n=kt(!0),r=null,i=lf,o=null,u=Kp(f);e=typeof e=="function"?e:e===void 0?xA:kt(e),t=typeof t=="function"?t:t===void 0?yA:kt(t);function f(h){var m,g=(h=Gp(h)).length,x,y=!1,w;for(r==null&&(o=i(w=u())),m=0;m<=g;++m)!(m<g&&n(x=h[m],m,h))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(x,m,h),+t(x,m,h));if(w)return o=null,w+""||null}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:kt(+h),f):e},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:kt(+h),f):t},f.defined=function(h){return arguments.length?(n=typeof h=="function"?h:kt(!!h),f):n},f.curve=function(h){return arguments.length?(i=h,r!=null&&(o=i(r)),f):i},f.context=function(h){return arguments.length?(h==null?r=o=null:o=i(r=h),f):r},f}function zu(e,t,n){var r=null,i=kt(!0),o=null,u=lf,f=null,h=Kp(m);e=typeof e=="function"?e:e===void 0?xA:kt(+e),t=typeof t=="function"?t:kt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?yA:kt(+n);function m(x){var y,w,N,j=(x=Gp(x)).length,S,A=!1,C,T=new Array(j),k=new Array(j);for(o==null&&(f=u(C=h())),y=0;y<=j;++y){if(!(y<j&&i(S=x[y],y,x))===A)if(A=!A)w=y,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),N=y-1;N>=w;--N)f.point(T[N],k[N]);f.lineEnd(),f.areaEnd()}A&&(T[y]=+e(S,y,x),k[y]=+t(S,y,x),f.point(r?+r(S,y,x):T[y],n?+n(S,y,x):k[y]))}if(C)return f=null,C+""||null}function g(){return vA().defined(i).curve(u).context(o)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:kt(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:kt(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:kt(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:kt(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:kt(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:kt(+x),m):n},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(n)},m.lineX1=function(){return g().x(r).y(t)},m.defined=function(x){return arguments.length?(i=typeof x=="function"?x:kt(!!x),m):i},m.curve=function(x){return arguments.length?(u=x,o!=null&&(f=u(o)),m):u},m.context=function(x){return arguments.length?(x==null?o=f=null:f=u(o=x),m):o},m}class bA{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function PM(e){return new bA(e,!0)}function MM(e){return new bA(e,!1)}const Vp={draw(e,t){const n=Fr(t/hd);e.moveTo(n,0),e.arc(0,0,n,0,af)}},kM={draw(e,t){const n=Fr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wA=Fr(1/3),_M=wA*2,$M={draw(e,t){const n=Fr(t/_M),r=n*wA;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},IM={draw(e,t){const n=Fr(t),r=-n/2;e.rect(r,r,n,n)}},RM=.8908130915292852,jA=md(hd/10)/md(7*hd/10),LM=md(af/10)*jA,BM=-hA(af/10)*jA,UM={draw(e,t){const n=Fr(t*RM),r=LM*n,i=BM*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const u=af*o/5,f=hA(u),h=md(u);e.lineTo(h*n,-f*n),e.lineTo(f*r-h*i,h*r+f*i)}e.closePath()}},og=Fr(3),zM={draw(e,t){const n=-Fr(t/(og*3));e.moveTo(0,n*2),e.lineTo(-og*n,-n),e.lineTo(og*n,-n),e.closePath()}},Cr=-.5,Dr=Fr(3)/2,H0=1/Fr(12),qM=(H0/2+1)*3,HM={draw(e,t){const n=Fr(t/qM),r=n/2,i=n*H0,o=r,u=n*H0+n,f=-o,h=u;e.moveTo(r,i),e.lineTo(o,u),e.lineTo(f,h),e.lineTo(Cr*r-Dr*i,Dr*r+Cr*i),e.lineTo(Cr*o-Dr*u,Dr*o+Cr*u),e.lineTo(Cr*f-Dr*h,Dr*f+Cr*h),e.lineTo(Cr*r+Dr*i,Cr*i-Dr*r),e.lineTo(Cr*o+Dr*u,Cr*u-Dr*o),e.lineTo(Cr*f+Dr*h,Cr*h-Dr*f),e.closePath()}};function FM(e,t){let n=null,r=Kp(i);e=typeof e=="function"?e:kt(e||Vp),t=typeof t=="function"?t:kt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:kt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:kt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function gd(){}function pd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function NA(e){this._context=e}NA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YM(e){return new NA(e)}function SA(e){this._context=e}SA.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KM(e){return new SA(e)}function AA(e){this._context=e}AA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GM(e){return new AA(e)}function CA(e){this._context=e}CA.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function VM(e){return new CA(e)}function Fw(e){return e<0?-1:1}function Yw(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),u=(n-e._y1)/(i||r<0&&-0),f=(o*i+u*r)/(r+i);return(Fw(o)+Fw(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(f))||0}function Kw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,u=e._y1,f=(o-r)/3;e._context.bezierCurveTo(r+f,i+f*t,o-f,u-f*n,o,u)}function xd(e){this._context=e}xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cg(this,this._t0,Kw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cg(this,Kw(this,n=Yw(this,e,t)),n);break;default:cg(this,this._t0,n=Yw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function DA(e){this._context=new EA(e)}(DA.prototype=Object.create(xd.prototype)).point=function(e,t){xd.prototype.point.call(this,t,e)};function EA(e){this._context=e}EA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function XM(e){return new xd(e)}function WM(e){return new DA(e)}function TA(e){this._context=e}TA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Gw(e),i=Gw(t),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Gw(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),u=new Array(n);for(i[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(i[n-1]=u[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(u[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ZM(e){return new TA(e)}function sf(e,t){this._context=e,this._t=t}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function QM(e){return new sf(e,.5)}function JM(e){return new sf(e,0)}function ek(e){return new sf(e,1)}function oi(e,t){if((u=e.length)>1)for(var n=1,r,i,o=e[t[0]],u,f=o.length;n<u;++n)for(i=o,o=e[t[n]],r=0;r<f;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function F0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function tk(e,t){return e[t]}function nk(e){const t=[];return t.key=e,t}function rk(){var e=kt([]),t=F0,n=oi,r=tk;function i(o){var u=Array.from(e.apply(this,arguments),nk),f,h=u.length,m=-1,g;for(const x of o)for(f=0,++m;f<h;++f)(u[f][m]=[0,+r(x,u[f].key,m,o)]).data=x;for(f=0,g=Gp(t(u));f<h;++f)u[g[f]].index=f;return n(u,g),u}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:kt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:kt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?F0:typeof o=="function"?o:kt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??oi,i):n},i}function ak(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,u;i<o;++i){for(u=n=0;n<r;++n)u+=e[n][i][1]||0;if(u)for(n=0;n<r;++n)e[n][i][1]/=u}oi(e,t)}}function lk(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var u=0,f=0;u<i;++u)f+=e[u][n][1]||0;r[n][1]+=r[n][0]=-f/2}oi(e,t)}}function sk(e,t){if(!(!((u=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,u;r<o;++r){for(var f=0,h=0,m=0;f<u;++f){for(var g=e[t[f]],x=g[r][1]||0,y=g[r-1][1]||0,w=(x-y)/2,N=0;N<f;++N){var j=e[t[N]],S=j[r][1]||0,A=j[r-1][1]||0;w+=S-A}h+=x,m+=w*x}i[r-1][1]+=i[r-1][0]=n,h&&(n-=m/h)}i[r-1][1]+=i[r-1][0]=n,oi(e,t)}}var ik=["type","size","sizeType"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(null,arguments)}function Vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(n),!0).forEach(function(r){ok(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ok(e,t,n){return(t=ck(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ck(e){var t=uk(e,"string");return typeof t=="symbol"?t:t+""}function uk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dk(e,t){if(e==null)return{};var n,r,i=fk(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fk(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OA={symbolCircle:Vp,symbolCross:kM,symbolDiamond:$M,symbolSquare:IM,symbolStar:UM,symbolTriangle:zM,symbolWye:HM},mk=Math.PI/180,hk=e=>{var t="symbol".concat(oc(e));return OA[t]||Vp},gk=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*mk;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pk=(e,t)=>{OA["symbol".concat(oc(e))]=t},PA=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=dk(e,ik),o=Xw(Xw({},i),{},{type:t,size:n,sizeType:r}),u="circle";typeof t=="string"&&(u=t);var f=()=>{var y=hk(u),w=FM().type(y).size(gk(n,r,u));return w()},{className:h,cx:m,cy:g}=o,x=on(o,!0);return m===+m&&g===+g&&n===+n?b.createElement("path",Y0({},x,{className:Dt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:f()})):null};PA.registerSymbol=pk;var ug={},dg={},Ww;function xk(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const u=n[o],f=r(u);i.has(f)||i.set(f,u)}return Array.from(i.values())}e.uniqBy=t})(dg)),dg}var fg={},Zw;function MA(){return Zw||(Zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(fg)),fg}var mg={},hg={},gg={},Qw;function yk(){return Qw||(Qw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(gg)),gg}var Jw;function Xp(){return Jw||(Jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(hg)),hg}var pg={},ej;function vk(){return ej||(ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(pg)),pg}var tj;function bk(){return tj||(tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xp(),n=vk();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(mg)),mg}var xg={},yg={},nj;function wk(){return nj||(nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hp();function n(r){return function(i){return t.get(i,r)}}e.property=n})(yg)),yg}var vg={},bg={},wg={},jg={},rj;function kA(){return rj||(rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(jg)),jg}var Ng={},aj;function _A(){return aj||(aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ng)),Ng}var Sg={},lj;function $A(){return lj||(lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Sg)),Sg}var sj;function jk(){return sj||(sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wp(),n=kA(),r=_A(),i=$A();function o(x,y,w){return typeof w!="function"?t.isMatch(x,y):u(x,y,function N(j,S,A,C,T,k){const D=w(j,S,A,C,T,k);return D!==void 0?!!D:u(j,S,N,k)},new Map)}function u(x,y,w,N){if(y===x)return!0;switch(typeof y){case"object":return f(x,y,w,N);case"function":return Object.keys(y).length>0?u(x,{...y},w,N):i.eq(x,y);default:return n.isObject(x)?typeof y=="string"?y==="":!0:i.eq(x,y)}}function f(x,y,w,N){if(y==null)return!0;if(Array.isArray(y))return m(x,y,w,N);if(y instanceof Map)return h(x,y,w,N);if(y instanceof Set)return g(x,y,w,N);const j=Object.keys(y);if(x==null)return j.length===0;if(j.length===0)return!0;if(N&&N.has(y))return N.get(y)===x;N&&N.set(y,x);try{for(let S=0;S<j.length;S++){const A=j[S];if(!r.isPrimitive(x)&&!(A in x)||y[A]===void 0&&x[A]!==void 0||y[A]===null&&x[A]!==null||!w(x[A],y[A],A,x,y,N))return!1}return!0}finally{N&&N.delete(y)}}function h(x,y,w,N){if(y.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,S]of y.entries()){const A=x.get(j);if(w(A,S,j,x,y,N)===!1)return!1}return!0}function m(x,y,w,N){if(y.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let S=0;S<y.length;S++){const A=y[S];let C=!1;for(let T=0;T<x.length;T++){if(j.has(T))continue;const k=x[T];let D=!1;if(w(k,A,S,x,y,N)&&(D=!0),D){j.add(T),C=!0;break}}if(!C)return!1}return!0}function g(x,y,w,N){return y.size===0?!0:x instanceof Set?m([...x],[...y],w,N):!1}e.isMatchWith=o,e.isSetMatch=g})(wg)),wg}var ij;function Wp(){return ij||(ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(bg)),bg}var Ag={},Cg={},Dg={},oj;function Nk(){return oj||(oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Dg)),Dg}var Eg={},cj;function IA(){return cj||(cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Eg)),Eg}var Tg={},uj;function RA(){return uj||(uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",u="[object Symbol]",f="[object Date]",h="[object Map]",m="[object Set]",g="[object Array]",x="[object Function]",y="[object ArrayBuffer]",w="[object Object]",N="[object Error]",j="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]",k="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",I="[object BigInt64Array]",R="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=g,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=j,e.dateTag=f,e.errorTag=N,e.float32ArrayTag=R,e.float64ArrayTag=H,e.functionTag=x,e.int16ArrayTag=P,e.int32ArrayTag=M,e.int8ArrayTag=D,e.mapTag=h,e.numberTag=r,e.objectTag=w,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=C,e.uint32ArrayTag=T,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=A})(Tg)),Tg}var Og={},dj;function Sk(){return dj||(dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Og)),Og}var fj;function LA(){return fj||(fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk(),n=IA(),r=RA(),i=_A(),o=Sk();function u(g,x){return f(g,void 0,g,new Map,x)}function f(g,x,y,w=new Map,N=void 0){const j=N?.(g,x,y,w);if(j!==void 0)return j;if(i.isPrimitive(g))return g;if(w.has(g))return w.get(g);if(Array.isArray(g)){const S=new Array(g.length);w.set(g,S);for(let A=0;A<g.length;A++)S[A]=f(g[A],A,y,w,N);return Object.hasOwn(g,"index")&&(S.index=g.index),Object.hasOwn(g,"input")&&(S.input=g.input),S}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const S=new RegExp(g.source,g.flags);return S.lastIndex=g.lastIndex,S}if(g instanceof Map){const S=new Map;w.set(g,S);for(const[A,C]of g)S.set(A,f(C,A,y,w,N));return S}if(g instanceof Set){const S=new Set;w.set(g,S);for(const A of g)S.add(f(A,void 0,y,w,N));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const S=new(Object.getPrototypeOf(g)).constructor(g.length);w.set(g,S);for(let A=0;A<g.length;A++)S[A]=f(g[A],A,y,w,N);return S}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const S=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return w.set(g,S),h(S,g,y,w,N),S}if(typeof File<"u"&&g instanceof File){const S=new File([g],g.name,{type:g.type});return w.set(g,S),h(S,g,y,w,N),S}if(g instanceof Blob){const S=new Blob([g],{type:g.type});return w.set(g,S),h(S,g,y,w,N),S}if(g instanceof Error){const S=new g.constructor;return w.set(g,S),S.message=g.message,S.name=g.name,S.stack=g.stack,S.cause=g.cause,h(S,g,y,w,N),S}if(typeof g=="object"&&m(g)){const S=Object.create(Object.getPrototypeOf(g));return w.set(g,S),h(S,g,y,w,N),S}return g}function h(g,x,y=g,w,N){const j=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<j.length;S++){const A=j[S],C=Object.getOwnPropertyDescriptor(g,A);(C==null||C.writable)&&(g[A]=f(x[A],A,y,w,N))}}function m(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=f,e.copyProperties=h})(Cg)),Cg}var mj;function Ak(){return mj||(mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LA();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Ag)),Ag}var hj;function Ck(){return hj||(hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wp(),n=Ak();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(vg)),vg}var Pg={},Mg={},kg={},gj;function Dk(){return gj||(gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LA(),n=RA();function r(i,o){return t.cloneDeepWith(i,(u,f,h,m)=>{const g=o?.(u,f,h,m);if(g!==void 0)return g;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new i.constructor(i?.valueOf());return t.copyProperties(x,i),x}case n.argumentsTag:{const x={};return t.copyProperties(x,i),x.length=i.length,x[Symbol.iterator]=i[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r})(kg)),kg}var pj;function Ek(){return pj||(pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Mg)),Mg}var _g={},$g={},xj;function BA(){return xj||(xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})($g)),$g}var Ig={},yj;function Tk(){return yj||(yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ig)),Ig}var vj;function Ok(){return vj||(vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oA(),n=BA(),r=Tk(),i=qp();function o(u,f){let h;if(Array.isArray(f)?h=f:typeof f=="string"&&t.isDeepKey(f)&&u?.[f]==null?h=i.toPath(f):h=[f],h.length===0)return!1;let m=u;for(let g=0;g<h.length;g++){const x=h[g];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=o})(_g)),_g}var bj;function Pk(){return bj||(bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wp(),n=cA(),r=Ek(),i=Hp(),o=Ok();function u(f,h){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=n.toKey(f);break}}return h=r.cloneDeep(h),function(m){const g=i.get(m,f);return g===void 0?o.has(m,f):h===void 0?g===void 0:t.isMatch(g,h)}}e.matchesProperty=u})(Pg)),Pg}var wj;function Mk(){return wj||(wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA(),n=wk(),r=Ck(),i=Pk();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?i.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=o})(xg)),xg}var jj;function kk(){return jj||(jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk(),n=MA(),r=bk(),i=Mk();function o(u,f=n.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),i.iteratee(f)):[]}e.uniqBy=o})(ug)),ug}var Rg,Nj;function _k(){return Nj||(Nj=1,Rg=kk().uniqBy),Rg}var $k=_k();const Sj=La($k);function Ik(e,t,n){return t===!0?Sj(e,n):typeof t=="function"?Sj(e,t):e}var Lg={exports:{}},Bg={},Ug={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function Rk(){if(Aj)return zg;Aj=1;var e=yi();function t(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function f(x,y){var w=y(),N=r({inst:{value:w,getSnapshot:y}}),j=N[0].inst,S=N[1];return o(function(){j.value=w,j.getSnapshot=y,h(j)&&S({inst:j})},[x,w,y]),i(function(){return h(j)&&S({inst:j}),x(function(){h(j)&&S({inst:j})})},[x]),u(w),w}function h(x){var y=x.getSnapshot;x=x.value;try{var w=y();return!n(x,w)}catch{return!0}}function m(x,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return zg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,zg}var Cj;function Lk(){return Cj||(Cj=1,Ug.exports=Rk()),Ug.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj;function Bk(){if(Dj)return Bg;Dj=1;var e=yi(),t=Lk();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,f=e.useMemo,h=e.useDebugValue;return Bg.useSyncExternalStoreWithSelector=function(m,g,x,y,w){var N=o(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=f(function(){function A(P){if(!C){if(C=!0,T=P,P=y(P),w!==void 0&&j.hasValue){var M=j.value;if(w(M,P))return k=M}return k=P}if(M=k,r(T,P))return M;var I=y(P);return w!==void 0&&w(M,I)?(T=P,M):(T=P,k=I)}var C=!1,T,k,D=x===void 0?null:x;return[function(){return A(g())},D===null?void 0:function(){return A(D())}]},[g,x,y,w]);var S=i(m,N[0],N[1]);return u(function(){j.hasValue=!0,j.value=S},[S]),h(S),S},Bg}var Ej;function Uk(){return Ej||(Ej=1,Lg.exports=Bk()),Lg.exports}var zk=Uk(),Zp=b.createContext(null),qk=e=>e,Qt=()=>{var e=b.useContext(Zp);return e?e.store.dispatch:qk},id=()=>{},Hk=()=>id,Fk=(e,t)=>e===t;function Ye(e){var t=b.useContext(Zp);return zk.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Hk,t?t.store.getState:id,t?t.store.getState:id,t?e:id,Fk)}function Yk(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Kk(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Gk(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Tj=e=>Array.isArray(e)?e:[e];function Vk(e){const t=Array.isArray(e[0])?e[0]:e;return Gk(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Xk(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Wk=class{constructor(e){this.value=e}deref(){return this.value}},Zk=typeof WeakRef<"u"?WeakRef:Wk,Qk=0,Oj=1;function qu(){return{s:Qk,v:void 0,o:null,p:null}}function UA(e,t={}){let n=qu();const{resultEqualityCheck:r}=t;let i,o=0;function u(){let f=n;const{length:h}=arguments;for(let x=0,y=h;x<y;x++){const w=arguments[x];if(typeof w=="function"||typeof w=="object"&&w!==null){let N=f.o;N===null&&(f.o=N=new WeakMap);const j=N.get(w);j===void 0?(f=qu(),N.set(w,f)):f=j}else{let N=f.p;N===null&&(f.p=N=new Map);const j=N.get(w);j===void 0?(f=qu(),N.set(w,f)):f=j}}const m=f;let g;if(f.s===Oj)g=f.v;else if(g=e.apply(null,arguments),o++,r){const x=i?.deref?.()??i;x!=null&&r(x,g)&&(g=x,o!==0&&o--),i=typeof g=="object"&&g!==null||typeof g=="function"?new Zk(g):g}return m.s=Oj,m.v=g,g}return u.clearCache=()=>{n=qu(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function Jk(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,u=0,f,h={},m=i.pop();typeof m=="object"&&(h=m,m=i.pop()),Yk(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...n,...h},{memoize:x,memoizeOptions:y=[],argsMemoize:w=UA,argsMemoizeOptions:N=[]}=g,j=Tj(y),S=Tj(N),A=Vk(i),C=x(function(){return o++,m.apply(null,arguments)},...j),T=w(function(){u++;const D=Xk(A,arguments);return f=C.apply(null,D),f},...S);return Object.assign(T,{resultFunc:m,memoizedResultFunc:C,dependencies:A,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>f,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var me=Jk(UA),e_=Object.assign((e,t=me)=>{Kk(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((u,f,h)=>(u[n[h]]=f,u),{}))},{withTypes:()=>e_}),qg={},Hg={},Fg={},Pj;function t_(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const u=t(r),f=t(i);if(u===f&&u===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?f-u:u-f}return 0};e.compareValues=n})(Fg)),Fg}var Yg={},Kg={},Mj;function zA(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Kg)),Kg}var kj;function n_(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=i})(Yg)),Yg}var _j;function r_(){return _j||(_j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t_(),n=n_(),r=qp();function i(o,u,f,h){if(o==null)return[];f=h?void 0:f,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(w=>String(w));const m=(w,N)=>{let j=w;for(let S=0;S<N.length&&j!=null;++S)j=j[N[S]];return j},g=(w,N)=>N==null||w==null?N:typeof w=="object"&&"key"in w?Object.hasOwn(N,w.key)?N[w.key]:m(N,w.path):typeof w=="function"?w(N):Array.isArray(w)?m(N,w):typeof N=="object"?N[w]:N,x=u.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:x.map(N=>g(N,w))})).slice().sort((w,N)=>{for(let j=0;j<x.length;j++){const S=t.compareValues(w.criteria[j],N.criteria[j],f[j]);if(S!==0)return S}return 0}).map(w=>w.original)}e.orderBy=i})(Hg)),Hg}var Gg={},$j;function a_(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),u=(f,h)=>{for(let m=0;m<f.length;m++){const g=f[m];Array.isArray(g)&&h<o?u(g,h+1):i.push(g)}};return u(n,0),i}e.flatten=t})(Gg)),Gg}var Vg={},Ij;function qA(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA(),n=Xp(),r=kA(),i=$A();function o(u,f,h){return r.isObject(h)&&(typeof f=="number"&&n.isArrayLike(h)&&t.isIndex(f)&&f<h.length||typeof f=="string"&&f in h)?i.eq(h[f],u):!1}e.isIterateeCall=o})(Vg)),Vg}var Rj;function l_(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r_(),n=a_(),r=qA();function i(o,...u){const f=u.length;return f>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:f>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,n.flatten(u),["asc"])}e.sortBy=i})(qg)),qg}var Xg,Lj;function s_(){return Lj||(Lj=1,Xg=l_().sortBy),Xg}var i_=s_();const of=La(i_);var HA=e=>e.legend.settings,o_=e=>e.legend.size,c_=e=>e.legend.payload;me([c_,HA],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?of(r,n):r});var Hu=1;function u_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>Hu||Math.abs(u.left-t.left)>Hu||Math.abs(u.top-t.top)>Hu||Math.abs(u.width-t.width)>Hu)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Cn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var d_=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bj=d_,Wg=()=>Math.random().toString(36).substring(7).split("").join("."),f_={INIT:`@@redux/INIT${Wg()}`,REPLACE:`@@redux/REPLACE${Wg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wg()}`},yd=f_;function Qp(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function FA(e,t,n){if(typeof e!="function")throw new Error(Cn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Cn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Cn(1));return n(FA)(e,t)}let r=e,i=t,o=new Map,u=o,f=0,h=!1;function m(){u===o&&(u=new Map,o.forEach((S,A)=>{u.set(A,S)}))}function g(){if(h)throw new Error(Cn(3));return i}function x(S){if(typeof S!="function")throw new Error(Cn(4));if(h)throw new Error(Cn(5));let A=!0;m();const C=f++;return u.set(C,S),function(){if(A){if(h)throw new Error(Cn(6));A=!1,m(),u.delete(C),o=null}}}function y(S){if(!Qp(S))throw new Error(Cn(7));if(typeof S.type>"u")throw new Error(Cn(8));if(typeof S.type!="string")throw new Error(Cn(17));if(h)throw new Error(Cn(9));try{h=!0,i=r(i,S)}finally{h=!1}return(o=u).forEach(C=>{C()}),S}function w(S){if(typeof S!="function")throw new Error(Cn(10));r=S,y({type:yd.REPLACE})}function N(){const S=x;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Cn(11));function C(){const k=A;k.next&&k.next(g())}return C(),{unsubscribe:S(C)}},[Bj](){return this}}}return y({type:yd.INIT}),{dispatch:y,subscribe:x,getState:g,replaceReducer:w,[Bj]:N}}function m_(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:yd.INIT})>"u")throw new Error(Cn(12));if(typeof n(void 0,{type:yd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cn(13))})}function YA(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(n[u]=e[u])}const r=Object.keys(n);let i;try{m_(n)}catch(o){i=o}return function(u={},f){if(i)throw i;let h=!1;const m={};for(let g=0;g<r.length;g++){const x=r[g],y=n[x],w=u[x],N=y(w,f);if(typeof N>"u")throw f&&f.type,new Error(Cn(14));m[x]=N,h=h||N!==w}return h=h||r.length!==Object.keys(u).length,h?m:u}}function vd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function h_(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Cn(15))};const u={getState:i.getState,dispatch:(h,...m)=>o(h,...m)},f=e.map(h=>h(u));return o=vd(...f)(i.dispatch),{...i,dispatch:o}}}function KA(e){return Qp(e)&&"type"in e&&typeof e.type=="string"}var GA=Symbol.for("immer-nothing"),Uj=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ci=Object.getPrototypeOf;function us(e){return!!e&&!!e[hr]}function _a(e){return e?VA(e)||Array.isArray(e)||!!e[Uj]||!!e.constructor?.[Uj]||cc(e)||uf(e):!1}var g_=Object.prototype.constructor.toString();function VA(e){if(!e||typeof e!="object")return!1;const t=ci(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===g_}function bd(e,t){cf(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function cf(e){const t=e[hr];return t?t.type_:Array.isArray(e)?1:cc(e)?2:uf(e)?3:0}function K0(e,t){return cf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XA(e,t,n){const r=cf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function p_(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cc(e){return e instanceof Map}function uf(e){return e instanceof Set}function Ql(e){return e.copy_||e.base_}function G0(e,t){if(cc(e))return new Map(e);if(uf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=VA(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[hr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const u=i[o],f=r[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[u]})}return Object.create(ci(e),r)}else{const r=ci(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Jp(e,t=!1){return df(e)||us(e)||!_a(e)||(cf(e)>1&&Object.defineProperties(e,{set:{value:Fu},add:{value:Fu},clear:{value:Fu},delete:{value:Fu}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Jp(n,!0))),e}function Fu(){Ur(2)}function df(e){return Object.isFrozen(e)}var x_={};function ds(e){const t=x_[e];return t||Ur(0,e),t}var Go;function WA(){return Go}function y_(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zj(e,t){t&&(ds("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function V0(e){X0(e),e.drafts_.forEach(v_),e.drafts_=null}function X0(e){e===Go&&(Go=e.parent_)}function qj(e){return Go=y_(Go,e)}function v_(e){const t=e[hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[hr].modified_&&(V0(t),Ur(4)),_a(e)&&(e=wd(t,e),t.parent_||jd(t,e)),t.patches_&&ds("Patches").generateReplacementPatches_(n[hr].base_,e,t.patches_,t.inversePatches_)):e=wd(t,n,[]),V0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==GA?e:void 0}function wd(e,t,n){if(df(t))return t;const r=t[hr];if(!r)return bd(t,(i,o)=>Fj(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return jd(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,u=!1;r.type_===3&&(o=new Set(i),i.clear(),u=!0),bd(o,(f,h)=>Fj(e,r,i,f,h,n,u)),jd(e,i,!1),n&&e.patches_&&ds("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Fj(e,t,n,r,i,o,u){if(us(i)){const f=o&&t&&t.type_!==3&&!K0(t.assigned_,r)?o.concat(r):void 0,h=wd(e,i,f);if(XA(n,r,h),us(h))e.canAutoFreeze_=!1;else return}else u&&n.add(i);if(_a(i)&&!df(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(cc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&jd(e,i)}}function jd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jp(t,n)}function b_(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:WA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=ex;n&&(i=[r],o=Vo);const{revoke:u,proxy:f}=Proxy.revocable(i,o);return r.draft_=f,r.revoke_=u,f}var ex={get(e,t){if(t===hr)return e;const n=Ql(e);if(!K0(n,t))return w_(e,n,t);const r=n[t];return e.finalized_||!_a(r)?r:r===Zg(e.base_,t)?(Qg(e),e.copy_[t]=Z0(r,e)):r},has(e,t){return t in Ql(e)},ownKeys(e){return Reflect.ownKeys(Ql(e))},set(e,t,n){const r=ZA(Ql(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Zg(Ql(e),t),o=i?.[hr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(p_(n,i)&&(n!==void 0||K0(e.base_,t)))return!0;Qg(e),W0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Zg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qg(e),W0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ql(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ur(11)},getPrototypeOf(e){return ci(e.base_)},setPrototypeOf(){Ur(12)}},Vo={};bd(ex,(e,t)=>{Vo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vo.deleteProperty=function(e,t){return Vo.set.call(this,e,t,void 0)};Vo.set=function(e,t,n){return ex.set.call(this,e[0],t,n,e[0])};function Zg(e,t){const n=e[hr];return(n?Ql(n):e)[t]}function w_(e,t,n){const r=ZA(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function ZA(e,t){if(!(t in e))return;let n=ci(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ci(n)}}function W0(e){e.modified_||(e.modified_=!0,e.parent_&&W0(e.parent_))}function Qg(e){e.copy_||(e.copy_=G0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var j_=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const u=this;return function(h=o,...m){return u.produce(h,g=>n.call(this,g,...m))}}typeof n!="function"&&Ur(6),r!==void 0&&typeof r!="function"&&Ur(7);let i;if(_a(t)){const o=qj(this),u=Z0(t,void 0);let f=!0;try{i=n(u),f=!1}finally{f?V0(o):X0(o)}return zj(o,r),Hj(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===GA&&(i=void 0),this.autoFreeze_&&Jp(i,!0),r){const o=[],u=[];ds("Patches").generateReplacementPatches_(t,i,o,u),r(o,u)}return i}else Ur(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...f)=>this.produceWithPatches(u,h=>t(h,...f));let r,i;return[this.produce(t,n,(u,f)=>{r=u,i=f}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){_a(e)||Ur(8),us(e)&&(e=Ea(e));const t=qj(this),n=Z0(e,void 0);return n[hr].isManual_=!0,X0(t),n}finishDraft(e,t){const n=e&&e[hr];(!n||!n.isManual_)&&Ur(9);const{scope_:r}=n;return zj(r,t),Hj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ds("Patches").applyPatches_;return us(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Z0(e,t){const n=cc(e)?ds("MapSet").proxyMap_(e,t):uf(e)?ds("MapSet").proxySet_(e,t):b_(e,t);return(t?t.scope_:WA()).drafts_.push(n),n}function Ea(e){return us(e)||Ur(10,e),QA(e)}function QA(e){if(!_a(e)||df(e))return e;const t=e[hr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=G0(e,t.scope_.immer_.useStrictShallowCopy_)}else n=G0(e,!0);return bd(n,(r,i)=>{XA(n,r,QA(i))}),t&&(t.finalized_=!1),n}var N_=new j_,JA=N_.produce;function eC(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var S_=eC(),A_=eC,C_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vd:vd.apply(null,arguments)};function Pr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(dr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>KA(r)&&r.type===e,n}var tC=class Uo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Uo.prototype)}static get[Symbol.species](){return Uo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Uo(...t[0].concat(this)):new Uo(...t.concat(this))}};function Yj(e){return _a(e)?JA(e,()=>{}):e}function Yu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function D_(e){return typeof e=="boolean"}var E_=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let u=new tC;return n&&(D_(n)?u.push(S_):u.push(A_(n.extraArgument))),u},T_="RTK_autoBatch",Kj=e=>t=>{setTimeout(t,e)},O_=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,u=!1;const f=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Kj(10):e.type==="callback"?e.queueNotification:Kj(e.timeout),m=()=>{u=!1,o&&(o=!1,f.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>i&&g(),y=r.subscribe(x);return f.add(g),()=>{y(),f.delete(g)}},dispatch(g){try{return i=!g?.meta?.[T_],o=!i,o&&(u||(u=!0,h(m))),r.dispatch(g)}finally{i=!0}}})},P_=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new tC(e);return r&&i.push(O_(typeof r=="object"?r:void 0)),i};function M_(e){const t=E_(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let f;if(typeof n=="function")f=n;else if(Qp(n))f=YA(n);else throw new Error(dr(1));let h;typeof r=="function"?h=r(t):h=t();let m=vd;i&&(m=C_({trace:!1,...typeof i=="object"&&i}));const g=h_(...h),x=P_(g);let y=typeof u=="function"?u(x):x();const w=m(...y);return FA(f,o,w)}function nC(e){const t={},n=[];let r;const i={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(dr(28));if(f in t)throw new Error(dr(29));return t[f]=u,i},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),i},addMatcher(o,u){return n.push({matcher:o,reducer:u}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function k_(e){return typeof e=="function"}function __(e,t){let[n,r,i]=nC(t),o;if(k_(e))o=()=>Yj(e());else{const f=Yj(e);o=()=>f}function u(f=o(),h){let m=[n[h.type],...r.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[i]),m.reduce((g,x)=>{if(x)if(us(g)){const w=x(g,h);return w===void 0?g:w}else{if(_a(g))return JA(g,y=>x(y,h));{const y=x(g,h);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},f)}return u.getInitialState=o,u}var $_="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I_=(e=21)=>{let t="",n=e;for(;n--;)t+=$_[Math.random()*64|0];return t},R_=Symbol.for("rtk-slice-createasyncthunk");function L_(e,t){return`${e}/${t}`}function B_({creators:e}={}){const t=e?.asyncThunk?.[R_];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(dr(11));const u=(typeof r.reducers=="function"?r.reducers(z_()):r.reducers)||{},f=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,k){const D=typeof T=="string"?T:T.type;if(!D)throw new Error(dr(12));if(D in h.sliceCaseReducersByType)throw new Error(dr(13));return h.sliceCaseReducersByType[D]=k,m},addMatcher(T,k){return h.sliceMatchers.push({matcher:T,reducer:k}),m},exposeAction(T,k){return h.actionCreators[T]=k,m},exposeCaseReducer(T,k){return h.sliceCaseReducersByName[T]=k,m}};f.forEach(T=>{const k=u[T],D={reducerName:T,type:L_(i,T),createNotation:typeof r.reducers=="function"};H_(k)?Y_(D,k,m,t):q_(D,k,m)});function g(){const[T={},k=[],D=void 0]=typeof r.extraReducers=="function"?nC(r.extraReducers):[r.extraReducers],P={...T,...h.sliceCaseReducersByType};return __(r.initialState,M=>{for(let I in P)M.addCase(I,P[I]);for(let I of h.sliceMatchers)M.addMatcher(I.matcher,I.reducer);for(let I of k)M.addMatcher(I.matcher,I.reducer);D&&M.addDefaultCase(D)})}const x=T=>T,y=new Map,w=new WeakMap;let N;function j(T,k){return N||(N=g()),N(T,k)}function S(){return N||(N=g()),N.getInitialState()}function A(T,k=!1){function D(M){let I=M[T];return typeof I>"u"&&k&&(I=Yu(w,D,S)),I}function P(M=x){const I=Yu(y,k,()=>new WeakMap);return Yu(I,M,()=>{const R={};for(const[H,V]of Object.entries(r.selectors??{}))R[H]=U_(V,M,()=>Yu(w,M,S),k);return R})}return{reducerPath:T,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const C={name:i,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,...A(o),injectInto(T,{reducerPath:k,...D}={}){const P=k??o;return T.inject({reducerPath:P,reducer:j},D),{...C,...A(P,!0)}}};return C}}function U_(e,t,n,r){function i(o,...u){let f=t(o);return typeof f>"u"&&r&&(f=n()),e(f,...u)}return i.unwrapped=e,i}var pr=B_();function z_(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function q_({type:e,reducerName:t,createNotation:n},r,i){let o,u;if("reducer"in r){if(n&&!F_(r))throw new Error(dr(17));o=r.reducer,u=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?Pr(e,u):Pr(e))}function H_(e){return e._reducerDefinitionType==="asyncThunk"}function F_(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Y_({type:e,reducerName:t},n,r,i){if(!i)throw new Error(dr(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:h,settled:m,options:g}=n,x=i(e,o,g);r.exposeAction(t,x),u&&r.addCase(x.fulfilled,u),f&&r.addCase(x.pending,f),h&&r.addCase(x.rejected,h),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:u||Ku,pending:f||Ku,rejected:h||Ku,settled:m||Ku})}function Ku(){}var K_="task",rC="listener",aC="completed",tx="cancelled",G_=`task-${tx}`,V_=`task-${aC}`,Q0=`${rC}-${tx}`,X_=`${rC}-${aC}`,ff=class{constructor(e){this.code=e,this.message=`${K_} ${tx} (reason: ${e})`}name="TaskAbortError";message},nx=(e,t)=>{if(typeof e!="function")throw new TypeError(dr(32))},Nd=()=>{},lC=(e,t=Nd)=>(e.catch(t),e),sC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),as=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ls=e=>{if(e.aborted){const{reason:t}=e;throw new ff(t)}};function iC(e,t){let n=Nd;return new Promise((r,i)=>{const o=()=>i(new ff(e.reason));if(e.aborted){o();return}n=sC(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Nd})}var W_=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof ff?"cancelled":"rejected",error:n}}finally{t?.()}},Sd=e=>t=>lC(iC(e,t).then(n=>(ls(e),n))),oC=e=>{const t=Sd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:li}=Object,Gj={},mf="listenerMiddleware",Z_=(e,t)=>{const n=r=>sC(e,()=>as(r,e.reason));return(r,i)=>{nx(r);const o=new AbortController;n(o);const u=W_(async()=>{ls(e),ls(o.signal);const f=await r({pause:Sd(o.signal),delay:oC(o.signal),signal:o.signal});return ls(o.signal),f},()=>as(o,V_));return i?.autoJoin&&t.push(u.catch(Nd)),{result:Sd(e)(u),cancel(){as(o,G_)}}}},Q_=(e,t)=>{const n=async(r,i)=>{ls(t);let o=()=>{};const f=[new Promise((h,m)=>{let g=e({predicate:r,effect:(x,y)=>{y.unsubscribe(),h([x,y.getState(),y.getOriginalState()])}});o=()=>{g(),m()}})];i!=null&&f.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await iC(t,Promise.race(f));return ls(t),h}finally{o()}};return(r,i)=>lC(n(r,i))},cC=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Pr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(dr(21));return nx(o),{predicate:i,type:t,effect:o}},uC=li(e=>{const{type:t,predicate:n,effect:r}=cC(e);return{id:I_(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(dr(22))}}},{withTypes:()=>uC}),Vj=(e,t)=>{const{type:n,effect:r,predicate:i}=cC(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},J0=e=>{e.pending.forEach(t=>{as(t,Q0)})},J_=e=>()=>{e.forEach(J0),e.clear()},Xj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},dC=li(Pr(`${mf}/add`),{withTypes:()=>dC}),e$=Pr(`${mf}/removeAll`),fC=li(Pr(`${mf}/remove`),{withTypes:()=>fC}),t$=(...e)=>{console.error(`${mf}/error`,...e)},uc=(e={})=>{const t=new Map,{extra:n,onError:r=t$}=e;nx(r);const i=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x?.cancelActive&&J0(g)}),o=g=>{const x=Vj(t,g)??uC(g);return i(x)};li(o,{withTypes:()=>o});const u=g=>{const x=Vj(t,g);return x&&(x.unsubscribe(),g.cancelActive&&J0(x)),!!x};li(u,{withTypes:()=>u});const f=async(g,x,y,w)=>{const N=new AbortController,j=Q_(o,N.signal),S=[];try{g.pending.add(N),await Promise.resolve(g.effect(x,li({},y,{getOriginalState:w,condition:(A,C)=>j(A,C).then(Boolean),take:j,delay:oC(N.signal),pause:Sd(N.signal),extra:n,signal:N.signal,fork:Z_(N.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((A,C,T)=>{A!==N&&(as(A,Q0),T.delete(A))})},cancel:()=>{as(N,Q0),g.pending.delete(N)},throwIfCancelled:()=>{ls(N.signal)}})))}catch(A){A instanceof ff||Xj(r,A,{raisedBy:"effect"})}finally{await Promise.all(S),as(N,X_),g.pending.delete(N)}},h=J_(t);return{middleware:g=>x=>y=>{if(!KA(y))return x(y);if(dC.match(y))return o(y.payload);if(e$.match(y)){h();return}if(fC.match(y))return u(y.payload);let w=g.getState();const N=()=>{if(w===Gj)throw new Error(dr(23));return w};let j;try{if(j=x(y),t.size>0){const S=g.getState(),A=Array.from(t.values());for(const C of A){let T=!1;try{T=C.predicate(y,S,w)}catch(k){T=!1,Xj(r,k,{raisedBy:"predicate"})}T&&f(C,y,g,N)}}}finally{w=Gj}return j},startListening:o,stopListening:u,clearListeners:h}};function dr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var n$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},mC=pr({name:"chartLayout",initialState:n$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:r$,setLayout:a$,setChartSize:l$,setScale:s$}=mC.actions,i$=mC.reducer;function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){o$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o$(e,t,n){return(t=c$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c$(e){var t=u$(e,"string");return typeof t=="symbol"?t:t+""}function u$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ad=Math.PI/180,d$=e=>e*180/Math.PI,nn=(e,t,n,r)=>({x:e+Math.cos(-Ad*r)*n,y:t+Math.sin(-Ad*r)*n}),hC=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},f$=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},m$=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,u=f$({x:n,y:r},{x:i,y:o});if(u<=0)return{radius:u,angle:0};var f=(n-i)/u,h=Math.acos(f);return r>o&&(h=2*Math.PI-h),{radius:u,angle:d$(h),angleInRadian:h}},h$=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},g$=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),u=Math.min(i,o);return e+u*360},p$=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=m$({x:n,y:r},t),{innerRadius:u,outerRadius:f}=t;if(i<u||i>f||i===0)return null;var{startAngle:h,endAngle:m}=h$(t),g=o,x;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=h}return x?Zj(Zj({},t),{},{radius:i,angle:g$(g,t)}):null};function gC(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){x$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x$(e,t,n){return(t=y$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y$(e){var t=v$(e,"string");return typeof t=="symbol"?t:t+""}function v$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ft(e,t,n){return vn(e)||vn(t)?n:ea(t)?cs(e,t,n):typeof t=="function"?t(e):n}var b$=(e,t,n,r,i)=>{var o,u=-1,f=(o=t?.length)!==null&&o!==void 0?o:0;if(f<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var h=0;h<f;h++){var m=h>0?n[h-1].coordinate:n[f-1].coordinate,g=n[h].coordinate,x=h>=f-1?n[0].coordinate:n[h+1].coordinate,y=void 0;if(yn(g-m)!==yn(x-g)){var w=[];if(yn(x-g)===yn(i[1]-i[0])){y=x;var N=g+i[1]-i[0];w[0]=Math.min(N,(N+m)/2),w[1]=Math.max(N,(N+m)/2)}else{y=m;var j=x+i[1]-i[0];w[0]=Math.min(g,(j+g)/2),w[1]=Math.max(g,(j+g)/2)}var S=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>S[0]&&e<=S[1]||e>=w[0]&&e<=w[1]){({index:u}=n[h]);break}}else{var A=Math.min(m,x),C=Math.max(m,x);if(e>(A+g)/2&&e<=(C+g)/2){({index:u}=n[h]);break}}}else if(t){for(var T=0;T<f;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<f-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===f-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:u}=t[T]);break}}return u},w$=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:u,layout:f}=t;if((f==="vertical"||f==="horizontal"&&u==="middle")&&o!=="center"&&Ge(e[o]))return Tr(Tr({},e),{},{[o]:e[o]+(r||0)});if((f==="horizontal"||f==="vertical"&&o==="center")&&u!=="middle"&&Ge(e[u]))return Tr(Tr({},e),{},{[u]:e[u]+(i||0)})}return e},gs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",pC=(e,t,n,r)=>{if(r)return e.map(f=>f.coordinate);var i,o,u=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===n&&(o=!0),f.coordinate));return i||u.push(t),o||u.push(n),u},xC=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:u,realScaleType:f,isCategorical:h,categoricalDomain:m,tickCount:g,ticks:x,niceTicks:y,axisType:w}=e;if(!u)return null;var N=f==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,j=i==="category"&&u.bandwidth?u.bandwidth()/N:0;if(j=w==="angleAxis"&&o&&o.length>=2?yn(o[0]-o[1])*2*j:j,x||y){var S=(x||y||[]).map((A,C)=>{var T=r?r.indexOf(A):A;return{coordinate:u(T)+j,value:A,offset:j,index:C}});return S.filter(A=>!mr(A.coordinate))}return h&&m?m.map((A,C)=>({coordinate:u(A)+j,value:A,index:C,offset:j})):u.ticks&&g!=null?u.ticks(g).map((A,C)=>({coordinate:u(A)+j,value:A,offset:j,index:C})):u.domain().map((A,C)=>({coordinate:u(A)+j,value:r?r[A]:A,index:C,offset:j}))},Jj=1e-4,j$=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Jj,o=Math.max(r[0],r[1])+Jj,u=e(t[0]),f=e(t[n-1]);(u<i||u>o||f<i||f>o)&&e.domain([t[0],t[n-1]])}},N$=(e,t)=>{if(!t||t.length!==2||!Ge(t[0])||!Ge(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ge(e[0])||e[0]<n)&&(i[0]=n),(!Ge(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},S$=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,u=0;u<t;++u){var f=mr(e[u][n][1])?e[u][n][0]:e[u][n][1];f>=0?(e[u][n][0]=i,e[u][n][1]=i+f,i=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+f,o=e[u][n][1])}},A$=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var u=mr(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},C$={sign:S$,expand:ak,none:oi,silhouette:lk,wiggle:sk,positive:A$},D$=(e,t,n)=>{var r=C$[n],i=rk().keys(t).value((o,u)=>+Ft(o,u,0)).order(F0).offset(r);return i(e)};function E$(e){return e==null?void 0:String(e)}var eN=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+r:null;var f=Ft(o,t.dataKey,t.scale.domain()[u]);return vn(f)?null:t.scale(f)-i/2+r},T$=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},O$=e=>{var t=e.flat(2).filter(Ge);return[Math.min(...t),Math.max(...t)]},P$=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],M$=(e,t,n)=>{if(e!=null)return P$(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:u}=o,f=u.reduce((h,m)=>{var g=gC(m,t,n),x=O$(g);return[Math.min(h[0],x[0]),Math.max(h[1],x[1])]},[1/0,-1/0]);return[Math.min(f[0],r[0]),Math.max(f[1],r[1])]},[1/0,-1/0]))},tN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rx=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=of(t,g=>g.coordinate),o=1/0,u=1,f=i.length;u<f;u++){var h=i[u],m=i[u-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function rN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Tr(Tr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function hf(e,t){if(e)return String(e);if(typeof t=="string")return t}function k$(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?p$({x:e,y:t},r):null}var _$=(e,t,n,r)=>{var i=t.find(m=>m&&m.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:u}=r;return Tr(Tr(Tr({},r),nn(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var f=i.coordinate,{angle:h}=r;return Tr(Tr(Tr({},r),nn(r.cx,r.cy,f,h)),{},{angle:h,radius:f})}return{x:0,y:0}},$$=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ba=e=>e.layout.width,Ua=e=>e.layout.height,I$=e=>e.layout.scale,yC=e=>e.layout.margin,gf=me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pf=me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vC="data-recharts-item-index",bC="data-recharts-item-data-key",dc=60;function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){R$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R$(e,t,n){return(t=L$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L$(e){var t=B$(e,"string");return typeof t=="symbol"?t:t+""}function B$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U$=e=>e.brush.height;function z$(e){var t=pf(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dc;return n+i}return n},0)}function q$(e){var t=pf(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dc;return n+i}return n},0)}function H$(e){var t=gf(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function F$(e){var t=gf(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var cn=me([Ba,Ua,yC,U$,z$,q$,H$,F$,HA,o_],(e,t,n,r,i,o,u,f,h,m)=>{var g={left:(n.left||0)+i,right:(n.right||0)+o},x={top:(n.top||0)+u,bottom:(n.bottom||0)+f},y=Gu(Gu({},x),g),w=y.bottom;y.bottom+=r,y=w$(y,h,m);var N=e-y.left-y.right,j=t-y.top-y.bottom;return Gu(Gu({brushBottom:w},y),{},{width:Math.max(N,0),height:Math.max(j,0)})}),Y$=me(cn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ax=me(Ba,Ua,(e,t)=>({x:0,y:0,width:e,height:t})),K$=b.createContext(null),_r=()=>b.useContext(K$)!=null,xf=e=>e.brush,yf=me([xf,cn,yC],(e,t,n)=>({height:e.height,x:Ge(e.x)?e.x:t.left,y:Ge(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ge(e.width)?e.width:t.width})),lx=()=>{var e,t=_r(),n=Ye(Y$),r=Ye(yf),i=(e=Ye(xf))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},G$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wC=()=>{var e;return(e=Ye(cn))!==null&&e!==void 0?e:G$},jC=()=>Ye(Ba),NC=()=>Ye(Ua),pt=e=>e.layout.layoutType,sx=()=>Ye(pt),V$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},SC=pr({name:"legend",initialState:V$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ea(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:TK,setLegendSettings:OK,addLegendPayload:AC,removeLegendPayload:CC}=SC.actions,X$=SC.reducer;function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ep.apply(null,arguments)}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){W$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W$(e,t,n){return(t=Z$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J$(e){return Array.isArray(e)&&ea(e[0])&&ea(e[1])?e.join(" ~ "):e}var eI=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:u,itemSorter:f,wrapperClassName:h,labelClassName:m,label:g,labelFormatter:x,accessibilityLayer:y=!1}=e,w=()=>{if(o&&o.length){var D={padding:0,margin:0},P=(f?of(o,f):o).map((M,I)=>{if(M.type==="none")return null;var R=M.formatter||u||J$,{value:H,name:V}=M,F=H,X=V;if(R){var G=R(H,V,M,I,o);if(Array.isArray(G))[F,X]=G;else if(G!=null)F=G;else return null}var ge=Jg({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ge},ea(X)?b.createElement("span",{className:"recharts-tooltip-item-name"},X):null,ea(X)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},F),b.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},N=Jg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=Jg({margin:0},i),S=!vn(g),A=S?g:"",C=Dt("recharts-default-tooltip",h),T=Dt("recharts-tooltip-label",m);S&&x&&o!==void 0&&o!==null&&(A=x(g,o));var k=y?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",ep({className:C,style:N},k),b.createElement("p",{className:T,style:j},b.isValidElement(A)?A:"".concat(A)),w())},Mo="recharts-tooltip-wrapper",tI={visibility:"hidden"};function nI(e){var{coordinate:t,translateX:n,translateY:r}=e;return Dt(Mo,{["".concat(Mo,"-right")]:Ge(n)&&t&&Ge(t.x)&&n>=t.x,["".concat(Mo,"-left")]:Ge(n)&&t&&Ge(t.x)&&n<t.x,["".concat(Mo,"-bottom")]:Ge(r)&&t&&Ge(t.y)&&r>=t.y,["".concat(Mo,"-top")]:Ge(r)&&t&&Ge(t.y)&&r<t.y})}function sN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:u,tooltipDimension:f,viewBox:h,viewBoxDimension:m}=e;if(o&&Ge(o[r]))return o[r];var g=n[r]-f-(i>0?i:0),x=n[r]+i;if(t[r])return u[r]?g:x;var y=h[r];if(y==null)return 0;if(u[r]){var w=g,N=y;return w<N?Math.max(x,y):Math.max(g,y)}if(m==null)return 0;var j=x+f,S=y+m;return j>S?Math.max(g,y):Math.max(x,y)}function rI(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function aI(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:u,useTranslate3d:f,viewBox:h}=e,m,g,x;return u.height>0&&u.width>0&&n?(g=sN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),x=sN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),m=rI({translateX:g,translateY:x,useTranslate3d:f})):m=tI,{cssProperties:m,cssClasses:nI({translateX:g,translateY:x,coordinate:n})}}function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){tp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tp(e,t,n){return(t=lI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lI(e){var t=sI(e,"string");return typeof t=="symbol"?t:t+""}function sI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iI extends b.PureComponent{constructor(){super(...arguments),tp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:u,hasPayload:f,isAnimationActive:h,offset:m,position:g,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:N,lastBoundingBox:j,innerRef:S,hasPortalFromProps:A}=this.props,{cssClasses:C,cssProperties:T}=aI({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:y,viewBox:w}),k=A?{}:Vu(Vu({transition:h&&t?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),D=Vu(Vu({},k),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},N);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:S},o)}}var oI=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ps={devToolsEnabled:!1,isSsr:oI()},DC=()=>Ye(e=>e.rootProps.accessibilityLayer);function gr(e){return Number.isFinite(e)}function ui(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},np.apply(null,arguments)}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){cI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cI(e,t,n){return(t=uI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uI(e){var t=dI(e,"string");return typeof t=="symbol"?t:t+""}function dI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uN={curveBasisClosed:KM,curveBasisOpen:GM,curveBasis:YM,curveBumpX:PM,curveBumpY:MM,curveLinearClosed:VM,curveLinear:lf,curveMonotoneX:XM,curveMonotoneY:WM,curveNatural:ZM,curveStep:QM,curveStepAfter:ek,curveStepBefore:JM},Xu=e=>gr(e.x)&&gr(e.y),ko=e=>e.x,_o=e=>e.y,fI=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(oc(e));return(n==="curveMonotone"||n==="curveBump")&&t?uN["".concat(n).concat(t==="vertical"?"Y":"X")]:uN[n]||lf},mI=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,u=fI(t,i),f=o?n.filter(Xu):n,h;if(Array.isArray(r)){var m=o?r.filter(x=>Xu(x)):r,g=f.map((x,y)=>cN(cN({},x),{},{base:m[y]}));return i==="vertical"?h=zu().y(_o).x1(ko).x0(x=>x.base.x):h=zu().x(ko).y1(_o).y0(x=>x.base.y),h.defined(Xu).curve(u),h(g)}return i==="vertical"&&Ge(r)?h=zu().y(_o).x1(ko).x0(r):Ge(r)?h=zu().x(ko).y1(_o).y0(r):h=vA().x(ko).y(_o),h.defined(Xu).curve(u),h(f)},EC=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?mI(e):r;return b.createElement("path",np({},El(e),xM(e),{className:Dt("recharts-curve",t),d:o===null?void 0:o,ref:i}))},hI=["x","y","top","left","width","height","className"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(null,arguments)}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){pI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pI(e,t,n){return(t=xI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xI(e){var t=yI(e,"string");return typeof t=="symbol"?t:t+""}function yI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vI(e,t){if(e==null)return{};var n,r,i=bI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wI=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),jI=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:u=0,className:f}=e,h=vI(e,hI),m=gI({x:t,y:n,top:r,left:i,width:o,height:u},h);return!Ge(t)||!Ge(n)||!Ge(o)||!Ge(u)||!Ge(r)||!Ge(i)?null:b.createElement("path",rp({},on(m,!0),{className:Dt("recharts-cross",f),d:wI(t,n,o,u,r,i)}))};function NI(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function fN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(n),!0).forEach(function(r){AI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AI(e,t,n){return(t=CI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CI(e){var t=DI(e,"string");return typeof t=="symbol"?t:t+""}function DI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zn(e,t){var n=SI({},e),r=t,i=Object.keys(t),o=i.reduce((u,f)=>(u[f]===void 0&&r[f]!==void 0&&(u[f]=r[f]),u),n);return o}function EI(){}function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){TI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TI(e,t,n){return(t=OI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OI(e){var t=PI(e,"string");return typeof t=="symbol"?t:t+""}function PI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TC=(e,t,n)=>e.map(r=>"".concat(MI(r)," ").concat(t,"ms ").concat(n)).join(","),kI=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Xo=(e,t)=>Object.keys(t).reduce((n,r)=>hN(hN({},n),{},{[r]:e(r,t[r])}),{});function gN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(n),!0).forEach(function(r){_I(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _I(e,t,n){return(t=$I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $I(e){var t=II(e,"string");return typeof t=="symbol"?t:t+""}function II(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cd=(e,t,n)=>e+(t-e)*n,ap=e=>{var{from:t,to:n}=e;return t!==n},OC=(e,t,n)=>{var r=Xo((i,o)=>{if(ap(o)){var[u,f]=e(o.from,o.to,o.velocity);return Dn(Dn({},o),{},{from:u,velocity:f})}return o},t);return n<1?Xo((i,o)=>ap(o)?Dn(Dn({},o),{},{velocity:Cd(o.velocity,r[i].velocity,n),from:Cd(o.from,r[i].from,n)}):o,t):OC(e,r,n-1)};function RI(e,t,n,r,i,o){var u,f=r.reduce((y,w)=>Dn(Dn({},y),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),h=()=>Xo((y,w)=>w.from,f),m=()=>!Object.values(f).filter(ap).length,g=null,x=y=>{u||(u=y);var w=y-u,N=w/n.dt;f=OC(n,f,N),i(Dn(Dn(Dn({},e),t),h())),u=y,m()||(g=o.setTimeout(x))};return()=>(g=o.setTimeout(x),()=>{g()})}function LI(e,t,n,r,i,o,u){var f=null,h=i.reduce((x,y)=>Dn(Dn({},x),{},{[y]:[e[y],t[y]]}),{}),m,g=x=>{m||(m=x);var y=(x-m)/r,w=Xo((j,S)=>Cd(...S,n(y)),h);if(o(Dn(Dn(Dn({},e),t),w)),y<1)f=u.setTimeout(g);else{var N=Xo((j,S)=>Cd(...S,n(1)),h);o(Dn(Dn(Dn({},e),t),N))}};return()=>(f=u.setTimeout(g),()=>{f()})}const BI=(e,t,n,r,i,o)=>{var u=kI(e,t);return n.isStepper===!0?RI(e,t,n,u,i,o):LI(e,t,n,r,u,i,o)};var Dd=1e-4,PC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],MC=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),pN=(e,t)=>n=>{var r=PC(e,t);return MC(r,n)},UI=(e,t)=>n=>{var r=PC(e,t),i=[...r.map((o,u)=>o*u).slice(1),0];return MC(i,n)},xN=function(){for(var t,n,r,i,o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];if(u.length===1)switch(u[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var h=u[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([t,r,n,i]=h[1].split(")")[0].split(",").map(N=>parseFloat(N)))}}else u.length===4&&([t,r,n,i]=u);var m=pN(t,n),g=pN(r,i),x=UI(t,n),y=N=>N>1?1:N<0?0:N,w=N=>{for(var j=N>1?1:N,S=j,A=0;A<8;++A){var C=m(S)-j,T=x(S);if(Math.abs(C-j)<Dd||T<Dd)return g(S);S=y(S-C/T)}return g(S)};return w.isStepper=!1,w},zI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(u,f,h)=>{var m=-(u-f)*n,g=h*r,x=h+(m-g)*i/1e3,y=h*i/1e3+u;return Math.abs(y-f)<Dd&&Math.abs(x)<Dd?[f,0]:[y,x]};return o.isStepper=!0,o.dt=i,o},qI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xN(e);case"spring":return zI();default:if(e.split("(")[0]==="cubic-bezier")return xN(e)}return typeof e=="function"?e:null};function HI(e){var t,n=()=>null,r=!1,i=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var f=u,[h,...m]=f;if(typeof h=="number"){i=e.setTimeout(o.bind(null,m),h);return}o(h),i=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,i&&(i(),i=null),o(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class FI{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=u=>{u-r>=n?t(u):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function YI(){return HI(new FI)}var KI=b.createContext(YI);function GI(e,t){var n=b.useContext(KI);return b.useMemo(()=>t??n(e),[e,t,n])}var VI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yN={t:0},e0={t:1};function vf(e){var t=zn(e,VI),{isActive:n,canBegin:r,duration:i,easing:o,begin:u,onAnimationEnd:f,onAnimationStart:h,children:m}=t,g=GI(t.animationId,t.animationManager),[x,y]=b.useState(n?yN:e0),w=b.useRef(null);return b.useEffect(()=>{n||y(e0)},[n]),b.useEffect(()=>{if(!n||!r)return EI;var N=BI(yN,e0,qI(o),i,y,g.getTimeoutController()),j=()=>{w.current=N()};return g.start([h,u,j,i,f]),()=>{g.stop(),w.current&&w.current(),f()}},[n,r,i,o,u,h,f,g]),m(x.t)}function bf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Ko(t)),r=b.useRef(e);return r.current!==e&&(n.current=Ko(t),r.current=e),n.current}function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(r){XI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XI(e,t,n){return(t=WI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WI(e){var t=ZI(e,"string");return typeof t=="symbol"?t:t+""}function ZI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(null,arguments)}var wN=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,f=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,m;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],x=0,y=4;x<y;x++)g[x]=i[x]>o?o:i[x];m="M".concat(e,",").concat(t+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(e+f*g[0],",").concat(t)),m+="L ".concat(e+n-f*g[1],",").concat(t),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(t+u*g[1])),m+="L ".concat(e+n,",").concat(t+r-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(e+n-f*g[2],",").concat(t+r)),m+="L ".concat(e+f*g[3],",").concat(t+r),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+r-u*g[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);m="M ".concat(e,",").concat(t+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e+f*w,",").concat(t,`
            L `).concat(e+n-f*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e+n,",").concat(t+u*w,`
            L `).concat(e+n,",").concat(t+r-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e+n-f*w,",").concat(t+r,`
            L `).concat(e+f*w,",").concat(t+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(e,",").concat(t+r-u*w," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},QI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kC=e=>{var t=zn(e,QI),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&i(G)}catch{}},[]);var{x:o,y:u,width:f,height:h,radius:m,className:g}=t,{animationEasing:x,animationDuration:y,animationBegin:w,isAnimationActive:N,isUpdateAnimationActive:j}=t,S=b.useRef(f),A=b.useRef(h),C=b.useRef(o),T=b.useRef(u),k=b.useMemo(()=>({x:o,y:u,width:f,height:h,radius:m}),[o,u,f,h,m]),D=bf(k,"rectangle-");if(o!==+o||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var P=Dt("recharts-rectangle",g);if(!j)return b.createElement("path",Ed({},on(t,!0),{className:P,d:wN(o,u,f,h,m)}));var M=S.current,I=A.current,R=C.current,H=T.current,V="0px ".concat(r===-1?1:r,"px"),F="".concat(r,"px 0px"),X=TC(["strokeDasharray"],y,typeof x=="string"?x:void 0);return b.createElement(vf,{animationId:D,key:D,canBegin:r>0,duration:y,easing:x,isActive:j,begin:w},G=>{var ge=En(M,f,G),K=En(I,h,G),re=En(R,o,G),he=En(H,u,G);n.current&&(S.current=ge,A.current=K,C.current=re,T.current=he);var De;return N?G>0?De={transition:X,strokeDasharray:F}:De={strokeDasharray:V}:De={strokeDasharray:F},b.createElement("path",Ed({},on(t,!0),{className:P,d:wN(re,he,ge,K,m),ref:n,style:bN(bN({},De),t.style)}))})};function _C(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,u=nn(t,n,r,i),f=nn(t,n,r,o);return{points:[u,f],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lp.apply(null,arguments)}var JI=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Wu=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:u,cornerRadius:f,cornerIsExternal:h}=e,m=f*(u?1:-1)+r,g=Math.asin(f/m)/Ad,x=h?i:i+o*g,y=nn(t,n,m,x),w=nn(t,n,r,x),N=h?i-o*g:i,j=nn(t,n,m*Math.cos(g*Ad),N);return{center:y,circleTangency:w,lineTangency:j,theta:g}},$C=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:u}=e,f=JI(o,u),h=o+f,m=nn(t,n,i,o),g=nn(t,n,i,h),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var y=nn(t,n,r,o),w=nn(t,n,r,h);x+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=h),`,
            `).concat(y.x,",").concat(y.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},eR=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}=e,g=yn(m-h),{circleTangency:x,lineTangency:y,theta:w}=Wu({cx:t,cy:n,radius:i,angle:h,sign:g,cornerRadius:o,cornerIsExternal:f}),{circleTangency:N,lineTangency:j,theta:S}=Wu({cx:t,cy:n,radius:i,angle:m,sign:-g,cornerRadius:o,cornerIsExternal:f}),A=f?Math.abs(h-m):Math.abs(h-m)-w-S;if(A<0)return u?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$C({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:m});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(g<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:k,theta:D}=Wu({cx:t,cy:n,radius:r,angle:h,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),{circleTangency:P,lineTangency:M,theta:I}=Wu({cx:t,cy:n,radius:r,angle:m,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),R=f?Math.abs(h-m):Math.abs(h-m)-D-I;if(R<0&&o===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(k.x,",").concat(k.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},tR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IC=e=>{var t=zn(e,tR),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:u,forceCornerRadius:f,cornerIsExternal:h,startAngle:m,endAngle:g,className:x}=t;if(o<i||m===g)return null;var y=Dt("recharts-sector",x),w=o-i,N=$n(u,w,0,!0),j;return N>0&&Math.abs(m-g)<360?j=eR({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,w/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:m,endAngle:g}):j=$C({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:m,endAngle:g}),b.createElement("path",lp({},on(t,!0),{className:y,d:j}))};function nR(e,t,n){var r,i,o,u;if(e==="horizontal")r=t.x,o=r,i=n.top,u=n.top+n.height;else if(e==="vertical")i=t.y,u=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:f,cy:h,innerRadius:m,outerRadius:g,angle:x}=t,y=nn(f,h,m,x),w=nn(f,h,g,x);r=y.x,i=y.y,o=w.x,u=w.y}else return _C(t);return[{x:r,y:i},{x:o,y:u}]}var t0={},n0={},r0={},jN;function rR(){return jN||(jN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(r0)),r0}var NN;function aR(){return NN||(NN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(n0)),n0}var SN;function lR(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA(),n=aR();function r(i,o,u){u&&typeof u!="number"&&t.isIterateeCall(i,o,u)&&(o=u=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),u=u===void 0?i<o?1:-1:n.toFinite(u);const f=Math.max(Math.ceil((o-i)/(u||1)),0),h=new Array(f);for(let m=0;m<f;m++)h[m]=i,i+=u;return h}e.range=r})(t0)),t0}var a0,AN;function sR(){return AN||(AN=1,a0=lR().range),a0}var iR=sR();const RC=La(iR);function jl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oR(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ix(e){let t,n,r;e.length!==2?(t=jl,n=(f,h)=>jl(e(f),h),r=(f,h)=>e(f)-h):(t=e===jl||e===oR?e:cR,n=e,r=e);function i(f,h,m=0,g=f.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;n(f[x],h)<0?m=x+1:g=x}while(m<g)}return m}function o(f,h,m=0,g=f.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;n(f[x],h)<=0?m=x+1:g=x}while(m<g)}return m}function u(f,h,m=0,g=f.length){const x=i(f,h,m,g-1);return x>m&&r(f[x-1],h)>-r(f[x],h)?x-1:x}return{left:i,center:u,right:o}}function cR(){return 0}function LC(e){return e===null?NaN:+e}function*uR(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const dR=ix(jl),fc=dR.right;ix(LC).center;class CN extends Map{constructor(t,n=hR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(DN(this,t))}has(t){return super.has(DN(this,t))}set(t,n){return super.set(fR(this,t),n)}delete(t){return super.delete(mR(this,t))}}function DN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mR({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gR(e=jl){if(e===jl)return BC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function BC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pR=Math.sqrt(50),xR=Math.sqrt(10),yR=Math.sqrt(2);function Td(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=pR?10:o>=xR?5:o>=yR?2:1;let f,h,m;return i<0?(m=Math.pow(10,-i)/u,f=Math.round(e*m),h=Math.round(t*m),f/m<e&&++f,h/m>t&&--h,m=-m):(m=Math.pow(10,i)*u,f=Math.round(e/m),h=Math.round(t/m),f*m<e&&++f,h*m>t&&--h),h<f&&.5<=n&&n<2?Td(e,t,n*2):[f,h,m]}function sp(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,u]=r?Td(t,e,n):Td(e,t,n);if(!(o>=i))return[];const f=o-i+1,h=new Array(f);if(r)if(u<0)for(let m=0;m<f;++m)h[m]=(o-m)/-u;else for(let m=0;m<f;++m)h[m]=(o-m)*u;else if(u<0)for(let m=0;m<f;++m)h[m]=(i+m)/-u;else for(let m=0;m<f;++m)h[m]=(i+m)*u;return h}function ip(e,t,n){return t=+t,e=+e,n=+n,Td(e,t,n)[2]}function op(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ip(t,e,n):ip(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function EN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function UC(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?BC:gR(i);r>n;){if(r-n>600){const h=r-n+1,m=t-n+1,g=Math.log(h),x=.5*Math.exp(2*g/3),y=.5*Math.sqrt(g*x*(h-x)/h)*(m-h/2<0?-1:1),w=Math.max(n,Math.floor(t-m*x/h+y)),N=Math.min(r,Math.floor(t+(h-m)*x/h+y));UC(e,t,w,N,i)}const o=e[t];let u=n,f=r;for($o(e,n,t),i(e[r],o)>0&&$o(e,n,r);u<f;){for($o(e,u,f),++u,--f;i(e[u],o)<0;)++u;for(;i(e[f],o)>0;)--f}i(e[n],o)===0?$o(e,n,f):(++f,$o(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function $o(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vR(e,t,n){if(e=Float64Array.from(uR(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return TN(e);if(t>=1)return EN(e);var r,i=(r-1)*t,o=Math.floor(i),u=EN(UC(e,o).subarray(0,o+1)),f=TN(e.subarray(o+1));return u+(f-u)*(i-o)}}function bR(e,t,n=LC){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),u=+n(e[o],o,e),f=+n(e[o+1],o+1,e);return u+(f-u)*(i-o)}}function wR(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cp=Symbol("implicit");function ox(){var e=new CN,t=[],n=[],r=cp;function i(o){let u=e.get(o);if(u===void 0){if(r!==cp)return r;e.set(o,u=t.push(o)-1)}return n[u%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new CN;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ox(t,n).unknown(r)},$r.apply(i,arguments),i}function cx(){var e=ox().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,u,f=!1,h=0,m=0,g=.5;delete e.unknown;function x(){var y=t().length,w=i<r,N=w?i:r,j=w?r:i;o=(j-N)/Math.max(1,y-h+m*2),f&&(o=Math.floor(o)),N+=(j-N-o*(y-h))*g,u=o*(1-h),f&&(N=Math.round(N),u=Math.round(u));var S=wR(y).map(function(A){return N+o*A});return n(w?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),x()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,x()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,f=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(y){return arguments.length?(f=!!y,x()):f},e.padding=function(y){return arguments.length?(h=Math.min(1,m=+y),x()):h},e.paddingInner=function(y){return arguments.length?(h=Math.min(1,y),x()):h},e.paddingOuter=function(y){return arguments.length?(m=+y,x()):m},e.align=function(y){return arguments.length?(g=Math.max(0,Math.min(1,y)),x()):g},e.copy=function(){return cx(t(),[r,i]).round(f).paddingInner(h).paddingOuter(m).align(g)},$r.apply(x(),arguments)}function zC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zC(t())},e}function jR(){return zC(cx.apply(null,arguments).paddingInner(1))}function ux(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mc(){}var Wo=.7,Od=1/Wo,si="\\s*([+-]?\\d+)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NR=/^#([0-9a-f]{3,8})$/,SR=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),AR=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),CR=new RegExp(`^rgba\\(${si},${si},${si},${Zo}\\)$`),DR=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${Zo}\\)$`),ER=new RegExp(`^hsl\\(${Zo},${Jr},${Jr}\\)$`),TR=new RegExp(`^hsla\\(${Zo},${Jr},${Jr},${Zo}\\)$`),ON={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ux(mc,Qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PN,formatHex:PN,formatHex8:OR,formatHsl:PR,formatRgb:MN,toString:MN});function PN(){return this.rgb().formatHex()}function OR(){return this.rgb().formatHex8()}function PR(){return HC(this).formatHsl()}function MN(){return this.rgb().formatRgb()}function Qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=NR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kN(t):n===3?new Wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SR.exec(e))?new Wn(t[1],t[2],t[3],1):(t=AR.exec(e))?new Wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CR.exec(e))?Zu(t[1],t[2],t[3],t[4]):(t=DR.exec(e))?Zu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ER.exec(e))?IN(t[1],t[2]/100,t[3]/100,1):(t=TR.exec(e))?IN(t[1],t[2]/100,t[3]/100,t[4]):ON.hasOwnProperty(e)?kN(ON[e]):e==="transparent"?new Wn(NaN,NaN,NaN,0):null}function kN(e){return new Wn(e>>16&255,e>>8&255,e&255,1)}function Zu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wn(e,t,n,r)}function MR(e){return e instanceof mc||(e=Qo(e)),e?(e=e.rgb(),new Wn(e.r,e.g,e.b,e.opacity)):new Wn}function up(e,t,n,r){return arguments.length===1?MR(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ux(Wn,up,qC(mc,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wo:Math.pow(Wo,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wn(ss(this.r),ss(this.g),ss(this.b),Pd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_N,formatHex:_N,formatHex8:kR,formatRgb:$N,toString:$N}));function _N(){return`#${ts(this.r)}${ts(this.g)}${ts(this.b)}`}function kR(){return`#${ts(this.r)}${ts(this.g)}${ts(this.b)}${ts((isNaN(this.opacity)?1:this.opacity)*255)}`}function $N(){const e=Pd(this.opacity);return`${e===1?"rgb(":"rgba("}${ss(this.r)}, ${ss(this.g)}, ${ss(this.b)}${e===1?")":`, ${e})`}`}function Pd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ss(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ts(e){return e=ss(e),(e<16?"0":"")+e.toString(16)}function IN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zr(e,t,n,r)}function HC(e){if(e instanceof zr)return new zr(e.h,e.s,e.l,e.opacity);if(e instanceof mc||(e=Qo(e)),!e)return new zr;if(e instanceof zr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,f=o-i,h=(o+i)/2;return f?(t===o?u=(n-r)/f+(n<r)*6:n===o?u=(r-t)/f+2:u=(t-n)/f+4,f/=h<.5?o+i:2-o-i,u*=60):f=h>0&&h<1?0:u,new zr(u,f,h,e.opacity)}function _R(e,t,n,r){return arguments.length===1?HC(e):new zr(e,t,n,r??1)}function zr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ux(zr,_R,qC(mc,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wo:Math.pow(Wo,e),new zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Wn(l0(e>=240?e-240:e+120,i,r),l0(e,i,r),l0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zr(RN(this.h),Qu(this.s),Qu(this.l),Pd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pd(this.opacity);return`${e===1?"hsl(":"hsla("}${RN(this.h)}, ${Qu(this.s)*100}%, ${Qu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RN(e){return e=(e||0)%360,e<0?e+360:e}function Qu(e){return Math.max(0,Math.min(1,e||0))}function l0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dx=e=>()=>e;function $R(e,t){return function(n){return e+n*t}}function IR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function RR(e){return(e=+e)==1?FC:function(t,n){return n-t?IR(t,n,e):dx(isNaN(t)?n:t)}}function FC(e,t){var n=t-e;return n?$R(e,n):dx(isNaN(e)?t:e)}const LN=(function e(t){var n=RR(t);function r(i,o){var u=n((i=up(i)).r,(o=up(o)).r),f=n(i.g,o.g),h=n(i.b,o.b),m=FC(i.opacity,o.opacity);return function(g){return i.r=u(g),i.g=f(g),i.b=h(g),i.opacity=m(g),i+""}}return r.gamma=e,r})(1);function LR(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function BR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UR(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)i[u]=Ci(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(f){for(u=0;u<r;++u)o[u]=i[u](f);return o}}function zR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Md(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qR(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ci(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s0=new RegExp(dp.source,"g");function HR(e){return function(){return e}}function FR(e){return function(t){return e(t)+""}}function YR(e,t){var n=dp.lastIndex=s0.lastIndex=0,r,i,o,u=-1,f=[],h=[];for(e=e+"",t=t+"";(r=dp.exec(e))&&(i=s0.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),f[u]?f[u]+=o:f[++u]=o),(r=r[0])===(i=i[0])?f[u]?f[u]+=i:f[++u]=i:(f[++u]=null,h.push({i:u,x:Md(r,i)})),n=s0.lastIndex;return n<t.length&&(o=t.slice(n),f[u]?f[u]+=o:f[++u]=o),f.length<2?h[0]?FR(h[0].x):HR(t):(t=h.length,function(m){for(var g=0,x;g<t;++g)f[(x=h[g]).i]=x.x(m);return f.join("")})}function Ci(e,t){var n=typeof t,r;return t==null||n==="boolean"?dx(t):(n==="number"?Md:n==="string"?(r=Qo(t))?(t=r,LN):YR:t instanceof Qo?LN:t instanceof Date?zR:BR(t)?LR:Array.isArray(t)?UR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qR:Md)(e,t)}function fx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function KR(e,t){t===void 0&&(t=e,e=Ci);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(u){var f=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[f](u-f)}}function GR(e){return function(){return e}}function kd(e){return+e}var BN=[0,1];function Un(e){return e}function fp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:GR(isNaN(t)?NaN:.5)}function VR(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function XR(e,t,n){var r=e[0],i=e[1],o=t[0],u=t[1];return i<r?(r=fp(i,r),o=n(u,o)):(r=fp(r,i),o=n(o,u)),function(f){return o(r(f))}}function WR(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=fp(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(f){var h=fc(e,f,1,r)-1;return o[h](i[h](f))}}function hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wf(){var e=BN,t=BN,n=Ci,r,i,o,u=Un,f,h,m;function g(){var y=Math.min(e.length,t.length);return u!==Un&&(u=VR(e[0],e[y-1])),f=y>2?WR:XR,h=m=null,x}function x(y){return y==null||isNaN(y=+y)?o:(h||(h=f(e.map(r),t,n)))(r(u(y)))}return x.invert=function(y){return u(i((m||(m=f(t,e.map(r),Md)))(y)))},x.domain=function(y){return arguments.length?(e=Array.from(y,kd),g()):e.slice()},x.range=function(y){return arguments.length?(t=Array.from(y),g()):t.slice()},x.rangeRound=function(y){return t=Array.from(y),n=fx,g()},x.clamp=function(y){return arguments.length?(u=y?!0:Un,g()):u!==Un},x.interpolate=function(y){return arguments.length?(n=y,g()):n},x.unknown=function(y){return arguments.length?(o=y,x):o},function(y,w){return r=y,i=w,g()}}function mx(){return wf()(Un,Un)}function ZR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _d(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function di(e){return e=_d(Math.abs(e)),e?e[1]:NaN}function QR(e,t){return function(n,r){for(var i=n.length,o=[],u=0,f=e[0],h=0;i>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),o.push(n.substring(i-=f,i+f)),!((h+=f+1)>r));)f=e[u=(u+1)%e.length];return o.reverse().join(t)}}function JR(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var eL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jo(e){if(!(t=eL.exec(e)))throw new Error("invalid format: "+e);var t;return new hx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jo.prototype=hx.prototype;function hx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tL(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var YC;function nL(e,t){var n=_d(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(YC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_d(e,Math.max(0,t+o-1))[0]}function UN(e,t){var n=_d(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UN(e*100,t),r:UN,s:nL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qN(e){return e}var HN=Array.prototype.map,FN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rL(e){var t=e.grouping===void 0||e.thousands===void 0?qN:QR(HN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?qN:JR(HN.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(x){x=Jo(x);var y=x.fill,w=x.align,N=x.sign,j=x.symbol,S=x.zero,A=x.width,C=x.comma,T=x.precision,k=x.trim,D=x.type;D==="n"?(C=!0,D="g"):zN[D]||(T===void 0&&(T=12),k=!0,D="g"),(S||y==="0"&&w==="=")&&(S=!0,y="0",w="=");var P=j==="$"?n:j==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",M=j==="$"?r:/[%p]/.test(D)?u:"",I=zN[D],R=/[defgprs%]/.test(D);T=T===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function H(V){var F=P,X=M,G,ge,K;if(D==="c")X=I(V)+X,V="";else{V=+V;var re=V<0||1/V<0;if(V=isNaN(V)?h:I(Math.abs(V),T),k&&(V=tL(V)),re&&+V==0&&N!=="+"&&(re=!1),F=(re?N==="("?N:f:N==="-"||N==="("?"":N)+F,X=(D==="s"?FN[8+YC/3]:"")+X+(re&&N==="("?")":""),R){for(G=-1,ge=V.length;++G<ge;)if(K=V.charCodeAt(G),48>K||K>57){X=(K===46?i+V.slice(G+1):V.slice(G))+X,V=V.slice(0,G);break}}}C&&!S&&(V=t(V,1/0));var he=F.length+V.length+X.length,De=he<A?new Array(A-he+1).join(y):"";switch(C&&S&&(V=t(De+V,De.length?A-X.length:1/0),De=""),w){case"<":V=F+V+X+De;break;case"=":V=F+De+V+X;break;case"^":V=De.slice(0,he=De.length>>1)+F+V+X+De.slice(he);break;default:V=De+F+V+X;break}return o(V)}return H.toString=function(){return x+""},H}function g(x,y){var w=m((x=Jo(x),x.type="f",x)),N=Math.max(-8,Math.min(8,Math.floor(di(y)/3)))*3,j=Math.pow(10,-N),S=FN[8+N/3];return function(A){return w(j*A)+S}}return{format:m,formatPrefix:g}}var Ju,gx,KC;aL({thousands:",",grouping:[3],currency:["$",""]});function aL(e){return Ju=rL(e),gx=Ju.format,KC=Ju.formatPrefix,Ju}function lL(e){return Math.max(0,-di(Math.abs(e)))}function sL(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(di(t)/3)))*3-di(Math.abs(e)))}function iL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,di(t)-di(e))+1}function GC(e,t,n,r){var i=op(e,t,n),o;switch(r=Jo(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=sL(i,u))&&(r.precision=o),KC(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=iL(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lL(i))&&(r.precision=o-(r.type==="%")*2);break}}return gx(r)}function Tl(e){var t=e.domain;return e.ticks=function(n){var r=t();return sp(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return GC(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,u=r[i],f=r[o],h,m,g=10;for(f<u&&(m=u,u=f,f=m,m=i,i=o,o=m);g-- >0;){if(m=ip(u,f,n),m===h)return r[i]=u,r[o]=f,t(r);if(m>0)u=Math.floor(u/m)*m,f=Math.ceil(f/m)*m;else if(m<0)u=Math.ceil(u*m)/m,f=Math.floor(f*m)/m;else break;h=m}return e},e}function VC(){var e=mx();return e.copy=function(){return hc(e,VC())},$r.apply(e,arguments),Tl(e)}function XC(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,kd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return XC(e).unknown(t)},e=arguments.length?Array.from(e,kd):[0,1],Tl(n)}function WC(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],u;return o<i&&(u=n,n=r,r=u,u=i,i=o,o=u),e[n]=t.floor(i),e[r]=t.ceil(o),e}function YN(e){return Math.log(e)}function KN(e){return Math.exp(e)}function oL(e){return-Math.log(-e)}function cL(e){return-Math.exp(-e)}function uL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dL(e){return e===10?uL:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fL(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GN(e){return(t,n)=>-e(-t,n)}function px(e){const t=e(YN,KN),n=t.domain;let r=10,i,o;function u(){return i=fL(r),o=dL(r),n()[0]<0?(i=GN(i),o=GN(o),e(oL,cL)):e(YN,KN),t}return t.base=function(f){return arguments.length?(r=+f,u()):r},t.domain=function(f){return arguments.length?(n(f),u()):n()},t.ticks=f=>{const h=n();let m=h[0],g=h[h.length-1];const x=g<m;x&&([m,g]=[g,m]);let y=i(m),w=i(g),N,j;const S=f==null?10:+f;let A=[];if(!(r%1)&&w-y<S){if(y=Math.floor(y),w=Math.ceil(w),m>0){for(;y<=w;++y)for(N=1;N<r;++N)if(j=y<0?N/o(-y):N*o(y),!(j<m)){if(j>g)break;A.push(j)}}else for(;y<=w;++y)for(N=r-1;N>=1;--N)if(j=y>0?N/o(-y):N*o(y),!(j<m)){if(j>g)break;A.push(j)}A.length*2<S&&(A=sp(m,g,S))}else A=sp(y,w,Math.min(w-y,S)).map(o);return x?A.reverse():A},t.tickFormat=(f,h)=>{if(f==null&&(f=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Jo(h)).precision==null&&(h.trim=!0),h=gx(h)),f===1/0)return h;const m=Math.max(1,r*f/t.ticks().length);return g=>{let x=g/o(Math.round(i(g)));return x*r<r-.5&&(x*=r),x<=m?h(g):""}},t.nice=()=>n(WC(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),t}function ZC(){const e=px(wf()).domain([1,10]);return e.copy=()=>hc(e,ZC()).base(e.base()),$r.apply(e,arguments),e}function VN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xx(e){var t=1,n=e(VN(t),XN(t));return n.constant=function(r){return arguments.length?e(VN(t=+r),XN(t)):t},Tl(n)}function QC(){var e=xx(wf());return e.copy=function(){return hc(e,QC()).constant(e.constant())},$r.apply(e,arguments)}function WN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mL(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hL(e){return e<0?-e*e:e*e}function yx(e){var t=e(Un,Un),n=1;function r(){return n===1?e(Un,Un):n===.5?e(mL,hL):e(WN(n),WN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Tl(t)}function vx(){var e=yx(wf());return e.copy=function(){return hc(e,vx()).exponent(e.exponent())},$r.apply(e,arguments),e}function gL(){return vx.apply(null,arguments).exponent(.5)}function ZN(e){return Math.sign(e)*e*e}function pL(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JC(){var e=mx(),t=[0,1],n=!1,r;function i(o){var u=pL(e(o));return isNaN(u)?r:n?Math.round(u):u}return i.invert=function(o){return e.invert(ZN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,kd)).map(ZN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return JC(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},$r.apply(i,arguments),Tl(i)}function eD(){var e=[],t=[],n=[],r;function i(){var u=0,f=Math.max(1,t.length);for(n=new Array(f-1);++u<f;)n[u-1]=bR(e,u/f);return o}function o(u){return u==null||isNaN(u=+u)?r:t[fc(n,u)]}return o.invertExtent=function(u){var f=t.indexOf(u);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let f of u)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(jl),i()},o.range=function(u){return arguments.length?(t=Array.from(u),i()):t.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return eD().domain(e).range(t).unknown(r)},$r.apply(o,arguments)}function tD(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function u(h){return h!=null&&h<=h?i[fc(r,h,0,n)]:o}function f(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return u}return u.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,f()):[e,t]},u.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,f()):i.slice()},u.invertExtent=function(h){var m=i.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},u.unknown=function(h){return arguments.length&&(o=h),u},u.thresholds=function(){return r.slice()},u.copy=function(){return tD().domain([e,t]).range(i).unknown(o)},$r.apply(Tl(u),arguments)}function nD(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[fc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return nD().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}const i0=new Date,o0=new Date;function un(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const u=i(o),f=i.ceil(o);return o-u<f-o?u:f},i.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,f)=>{const h=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<u)||!(f>0))return h;let m;do h.push(m=new Date(+o)),t(o,f),e(o);while(m<o&&o<u);return h},i.filter=o=>un(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!o(u););else for(;--f>=0;)for(;t(u,1),!o(u););}),n&&(i.count=(o,u)=>(i0.setTime(+o),o0.setTime(+u),e(i0),e(o0),Math.floor(n(i0,o0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const $d=un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$d.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?un(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$d);$d.range;const Sa=1e3,Or=Sa*60,Aa=Or*60,$a=Aa*24,bx=$a*7,QN=$a*30,c0=$a*365,ns=un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getUTCSeconds());ns.range;const wx=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sa)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getMinutes());wx.range;const jx=un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCMinutes());jx.range;const Nx=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sa-e.getMinutes()*Or)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getHours());Nx.range;const Sx=un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getUTCHours());Sx.range;const gc=un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Or)/$a,e=>e.getDate()-1);gc.range;const jf=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>e.getUTCDate()-1);jf.range;const rD=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>Math.floor(e/$a));rD.range;function xs(e){return un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Or)/bx)}const Nf=xs(0),Id=xs(1),xL=xs(2),yL=xs(3),fi=xs(4),vL=xs(5),bL=xs(6);Nf.range;Id.range;xL.range;yL.range;fi.range;vL.range;bL.range;function ys(e){return un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bx)}const Sf=ys(0),Rd=ys(1),wL=ys(2),jL=ys(3),mi=ys(4),NL=ys(5),SL=ys(6);Sf.range;Rd.range;wL.range;jL.range;mi.range;NL.range;SL.range;const Ax=un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ax.range;const Cx=un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Cx.range;const Ia=un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ia.range;const Ra=un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ra.range;function aD(e,t,n,r,i,o){const u=[[ns,1,Sa],[ns,5,5*Sa],[ns,15,15*Sa],[ns,30,30*Sa],[o,1,Or],[o,5,5*Or],[o,15,15*Or],[o,30,30*Or],[i,1,Aa],[i,3,3*Aa],[i,6,6*Aa],[i,12,12*Aa],[r,1,$a],[r,2,2*$a],[n,1,bx],[t,1,QN],[t,3,3*QN],[e,1,c0]];function f(m,g,x){const y=g<m;y&&([m,g]=[g,m]);const w=x&&typeof x.range=="function"?x:h(m,g,x),N=w?w.range(m,+g+1):[];return y?N.reverse():N}function h(m,g,x){const y=Math.abs(g-m)/x,w=ix(([,,S])=>S).right(u,y);if(w===u.length)return e.every(op(m/c0,g/c0,x));if(w===0)return $d.every(Math.max(op(m,g,x),1));const[N,j]=u[y/u[w-1][2]<u[w][2]/y?w-1:w];return N.every(j)}return[f,h]}const[AL,CL]=aD(Ra,Cx,Sf,rD,Sx,jx),[DL,EL]=aD(Ia,Ax,Nf,gc,Nx,wx);function u0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function d0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Io(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function TL(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,u=e.shortDays,f=e.months,h=e.shortMonths,m=Ro(i),g=Lo(i),x=Ro(o),y=Lo(o),w=Ro(u),N=Lo(u),j=Ro(f),S=Lo(f),A=Ro(h),C=Lo(h),T={a:re,A:he,b:De,B:$,c:null,d:aS,e:aS,f:QL,g:o8,G:u8,H:XL,I:WL,j:ZL,L:lD,m:JL,M:e8,p:le,q:z,Q:iS,s:oS,S:t8,u:n8,U:r8,V:a8,w:l8,W:s8,x:null,X:null,y:i8,Y:c8,Z:d8,"%":sS},k={a:ue,A:be,b:Ce,B:J,c:null,d:lS,e:lS,f:g8,g:A8,G:D8,H:f8,I:m8,j:h8,L:iD,m:p8,M:x8,p:O,q:U,Q:iS,s:oS,S:y8,u:v8,U:b8,V:w8,w:j8,W:N8,x:null,X:null,y:S8,Y:C8,Z:E8,"%":sS},D={a:H,A:V,b:F,B:X,c:G,d:nS,e:nS,f:YL,g:tS,G:eS,H:rS,I:rS,j:zL,L:FL,m:UL,M:qL,p:R,q:BL,Q:GL,s:VL,S:HL,u:_L,U:$L,V:IL,w:kL,W:RL,x:ge,X:K,y:tS,Y:eS,Z:LL,"%":KL};T.x=P(n,T),T.X=P(r,T),T.c=P(t,T),k.x=P(n,k),k.X=P(r,k),k.c=P(t,k);function P(L,ee){return function(te){var q=[],ie=-1,B=0,W=L.length,xe,Z,we;for(te instanceof Date||(te=new Date(+te));++ie<W;)L.charCodeAt(ie)===37&&(q.push(L.slice(B,ie)),(Z=JN[xe=L.charAt(++ie)])!=null?xe=L.charAt(++ie):Z=xe==="e"?" ":"0",(we=ee[xe])&&(xe=we(te,Z)),q.push(xe),B=ie+1);return q.push(L.slice(B,ie)),q.join("")}}function M(L,ee){return function(te){var q=Io(1900,void 0,1),ie=I(q,L,te+="",0),B,W;if(ie!=te.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ee&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(B=d0(Io(q.y,0,1)),W=B.getUTCDay(),B=W>4||W===0?Rd.ceil(B):Rd(B),B=jf.offset(B,(q.V-1)*7),q.y=B.getUTCFullYear(),q.m=B.getUTCMonth(),q.d=B.getUTCDate()+(q.w+6)%7):(B=u0(Io(q.y,0,1)),W=B.getDay(),B=W>4||W===0?Id.ceil(B):Id(B),B=gc.offset(B,(q.V-1)*7),q.y=B.getFullYear(),q.m=B.getMonth(),q.d=B.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),W="Z"in q?d0(Io(q.y,0,1)).getUTCDay():u0(Io(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(W+5)%7:q.w+q.U*7-(W+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,d0(q)):u0(q)}}function I(L,ee,te,q){for(var ie=0,B=ee.length,W=te.length,xe,Z;ie<B;){if(q>=W)return-1;if(xe=ee.charCodeAt(ie++),xe===37){if(xe=ee.charAt(ie++),Z=D[xe in JN?ee.charAt(ie++):xe],!Z||(q=Z(L,te,q))<0)return-1}else if(xe!=te.charCodeAt(q++))return-1}return q}function R(L,ee,te){var q=m.exec(ee.slice(te));return q?(L.p=g.get(q[0].toLowerCase()),te+q[0].length):-1}function H(L,ee,te){var q=w.exec(ee.slice(te));return q?(L.w=N.get(q[0].toLowerCase()),te+q[0].length):-1}function V(L,ee,te){var q=x.exec(ee.slice(te));return q?(L.w=y.get(q[0].toLowerCase()),te+q[0].length):-1}function F(L,ee,te){var q=A.exec(ee.slice(te));return q?(L.m=C.get(q[0].toLowerCase()),te+q[0].length):-1}function X(L,ee,te){var q=j.exec(ee.slice(te));return q?(L.m=S.get(q[0].toLowerCase()),te+q[0].length):-1}function G(L,ee,te){return I(L,t,ee,te)}function ge(L,ee,te){return I(L,n,ee,te)}function K(L,ee,te){return I(L,r,ee,te)}function re(L){return u[L.getDay()]}function he(L){return o[L.getDay()]}function De(L){return h[L.getMonth()]}function $(L){return f[L.getMonth()]}function le(L){return i[+(L.getHours()>=12)]}function z(L){return 1+~~(L.getMonth()/3)}function ue(L){return u[L.getUTCDay()]}function be(L){return o[L.getUTCDay()]}function Ce(L){return h[L.getUTCMonth()]}function J(L){return f[L.getUTCMonth()]}function O(L){return i[+(L.getUTCHours()>=12)]}function U(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var ee=P(L+="",T);return ee.toString=function(){return L},ee},parse:function(L){var ee=M(L+="",!1);return ee.toString=function(){return L},ee},utcFormat:function(L){var ee=P(L+="",k);return ee.toString=function(){return L},ee},utcParse:function(L){var ee=M(L+="",!0);return ee.toString=function(){return L},ee}}}var JN={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,OL=/^%/,PL=/[\\^$*+?|[\]().{}]/g;function gt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ML(e){return e.replace(PL,"\\$&")}function Ro(e){return new RegExp("^(?:"+e.map(ML).join("|")+")","i")}function Lo(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kL(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _L(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $L(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function IL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function RL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function eS(e,t,n){var r=bn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tS(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function BL(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function UL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nS(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function zL(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function rS(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function qL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function HL(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function FL(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function YL(e,t,n){var r=bn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function KL(e,t,n){var r=OL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function GL(e,t,n){var r=bn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VL(e,t,n){var r=bn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function aS(e,t){return gt(e.getDate(),t,2)}function XL(e,t){return gt(e.getHours(),t,2)}function WL(e,t){return gt(e.getHours()%12||12,t,2)}function ZL(e,t){return gt(1+gc.count(Ia(e),e),t,3)}function lD(e,t){return gt(e.getMilliseconds(),t,3)}function QL(e,t){return lD(e,t)+"000"}function JL(e,t){return gt(e.getMonth()+1,t,2)}function e8(e,t){return gt(e.getMinutes(),t,2)}function t8(e,t){return gt(e.getSeconds(),t,2)}function n8(e){var t=e.getDay();return t===0?7:t}function r8(e,t){return gt(Nf.count(Ia(e)-1,e),t,2)}function sD(e){var t=e.getDay();return t>=4||t===0?fi(e):fi.ceil(e)}function a8(e,t){return e=sD(e),gt(fi.count(Ia(e),e)+(Ia(e).getDay()===4),t,2)}function l8(e){return e.getDay()}function s8(e,t){return gt(Id.count(Ia(e)-1,e),t,2)}function i8(e,t){return gt(e.getFullYear()%100,t,2)}function o8(e,t){return e=sD(e),gt(e.getFullYear()%100,t,2)}function c8(e,t){return gt(e.getFullYear()%1e4,t,4)}function u8(e,t){var n=e.getDay();return e=n>=4||n===0?fi(e):fi.ceil(e),gt(e.getFullYear()%1e4,t,4)}function d8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function lS(e,t){return gt(e.getUTCDate(),t,2)}function f8(e,t){return gt(e.getUTCHours(),t,2)}function m8(e,t){return gt(e.getUTCHours()%12||12,t,2)}function h8(e,t){return gt(1+jf.count(Ra(e),e),t,3)}function iD(e,t){return gt(e.getUTCMilliseconds(),t,3)}function g8(e,t){return iD(e,t)+"000"}function p8(e,t){return gt(e.getUTCMonth()+1,t,2)}function x8(e,t){return gt(e.getUTCMinutes(),t,2)}function y8(e,t){return gt(e.getUTCSeconds(),t,2)}function v8(e){var t=e.getUTCDay();return t===0?7:t}function b8(e,t){return gt(Sf.count(Ra(e)-1,e),t,2)}function oD(e){var t=e.getUTCDay();return t>=4||t===0?mi(e):mi.ceil(e)}function w8(e,t){return e=oD(e),gt(mi.count(Ra(e),e)+(Ra(e).getUTCDay()===4),t,2)}function j8(e){return e.getUTCDay()}function N8(e,t){return gt(Rd.count(Ra(e)-1,e),t,2)}function S8(e,t){return gt(e.getUTCFullYear()%100,t,2)}function A8(e,t){return e=oD(e),gt(e.getUTCFullYear()%100,t,2)}function C8(e,t){return gt(e.getUTCFullYear()%1e4,t,4)}function D8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mi(e):mi.ceil(e),gt(e.getUTCFullYear()%1e4,t,4)}function E8(){return"+0000"}function sS(){return"%"}function iS(e){return+e}function oS(e){return Math.floor(+e/1e3)}var ni,cD,uD;T8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T8(e){return ni=TL(e),cD=ni.format,ni.parse,uD=ni.utcFormat,ni.utcParse,ni}function O8(e){return new Date(e)}function P8(e){return e instanceof Date?+e:+new Date(+e)}function Dx(e,t,n,r,i,o,u,f,h,m){var g=mx(),x=g.invert,y=g.domain,w=m(".%L"),N=m(":%S"),j=m("%I:%M"),S=m("%I %p"),A=m("%a %d"),C=m("%b %d"),T=m("%B"),k=m("%Y");function D(P){return(h(P)<P?w:f(P)<P?N:u(P)<P?j:o(P)<P?S:r(P)<P?i(P)<P?A:C:n(P)<P?T:k)(P)}return g.invert=function(P){return new Date(x(P))},g.domain=function(P){return arguments.length?y(Array.from(P,P8)):y().map(O8)},g.ticks=function(P){var M=y();return e(M[0],M[M.length-1],P??10)},g.tickFormat=function(P,M){return M==null?D:m(M)},g.nice=function(P){var M=y();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?y(WC(M,P)):g},g.copy=function(){return hc(g,Dx(e,t,n,r,i,o,u,f,h,m))},g}function M8(){return $r.apply(Dx(DL,EL,Ia,Ax,Nf,gc,Nx,wx,ns,cD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k8(){return $r.apply(Dx(AL,CL,Ra,Cx,Sf,jf,Sx,jx,ns,uD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Af(){var e=0,t=1,n,r,i,o,u=Un,f=!1,h;function m(x){return x==null||isNaN(x=+x)?h:u(i===0?.5:(x=(o(x)-n)*i,f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(y){var w,N;return arguments.length?([w,N]=y,u=x(w,N),m):[u(0),u(1)]}}return m.range=g(Ci),m.rangeRound=g(fx),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return o=x,n=x(e),r=x(t),i=n===r?0:1/(r-n),m}}function Ol(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dD(){var e=Tl(Af()(Un));return e.copy=function(){return Ol(e,dD())},za.apply(e,arguments)}function fD(){var e=px(Af()).domain([1,10]);return e.copy=function(){return Ol(e,fD()).base(e.base())},za.apply(e,arguments)}function mD(){var e=xx(Af());return e.copy=function(){return Ol(e,mD()).constant(e.constant())},za.apply(e,arguments)}function Ex(){var e=yx(Af());return e.copy=function(){return Ol(e,Ex()).exponent(e.exponent())},za.apply(e,arguments)}function _8(){return Ex.apply(null,arguments).exponent(.5)}function hD(){var e=[],t=Un;function n(r){if(r!=null&&!isNaN(r=+r))return t((fc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(jl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>vR(e,o/r))},n.copy=function(){return hD(t).domain(e)},za.apply(n,arguments)}function Cf(){var e=0,t=.5,n=1,r=1,i,o,u,f,h,m=Un,g,x=!1,y;function w(j){return isNaN(j=+j)?y:(j=.5+((j=+g(j))-o)*(r*j<r*o?f:h),m(x?Math.max(0,Math.min(1,j)):j))}w.domain=function(j){return arguments.length?([e,t,n]=j,i=g(e=+e),o=g(t=+t),u=g(n=+n),f=i===o?0:.5/(o-i),h=o===u?0:.5/(u-o),r=o<i?-1:1,w):[e,t,n]},w.clamp=function(j){return arguments.length?(x=!!j,w):x},w.interpolator=function(j){return arguments.length?(m=j,w):m};function N(j){return function(S){var A,C,T;return arguments.length?([A,C,T]=S,m=KR(j,[A,C,T]),w):[m(0),m(.5),m(1)]}}return w.range=N(Ci),w.rangeRound=N(fx),w.unknown=function(j){return arguments.length?(y=j,w):y},function(j){return g=j,i=j(e),o=j(t),u=j(n),f=i===o?0:.5/(o-i),h=o===u?0:.5/(u-o),r=o<i?-1:1,w}}function gD(){var e=Tl(Cf()(Un));return e.copy=function(){return Ol(e,gD())},za.apply(e,arguments)}function pD(){var e=px(Cf()).domain([.1,1,10]);return e.copy=function(){return Ol(e,pD()).base(e.base())},za.apply(e,arguments)}function xD(){var e=xx(Cf());return e.copy=function(){return Ol(e,xD()).constant(e.constant())},za.apply(e,arguments)}function Tx(){var e=yx(Cf());return e.copy=function(){return Ol(e,Tx()).exponent(e.exponent())},za.apply(e,arguments)}function $8(){return Tx.apply(null,arguments).exponent(.5)}const zo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cx,scaleDiverging:gD,scaleDivergingLog:pD,scaleDivergingPow:Tx,scaleDivergingSqrt:$8,scaleDivergingSymlog:xD,scaleIdentity:XC,scaleImplicit:cp,scaleLinear:VC,scaleLog:ZC,scaleOrdinal:ox,scalePoint:jR,scalePow:vx,scaleQuantile:eD,scaleQuantize:tD,scaleRadial:JC,scaleSequential:dD,scaleSequentialLog:fD,scaleSequentialPow:Ex,scaleSequentialQuantile:hD,scaleSequentialSqrt:_8,scaleSequentialSymlog:mD,scaleSqrt:gL,scaleSymlog:QC,scaleThreshold:nD,scaleTime:M8,scaleUtc:k8,tickFormat:GC},Symbol.toStringTag,{value:"Module"}));var Pl=e=>e.chartData,Ox=me([Pl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Px=(e,t,n,r)=>r?Ox(e):Pl(e);function hi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(gr(t)&&gr(n))return!0}return!1}function cS(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function I8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(gr(n))i=n;else if(typeof n=="function")return;if(gr(r))o=r;else if(typeof r=="function")return;var u=[i,o];if(hi(u))return u}}function R8(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(hi(r))return cS(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,u,f;if(i==="auto")t!=null&&(u=Math.min(...t));else if(Ge(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t?.[0]))}catch{}else if(typeof i=="string"&&tN.test(i)){var h=tN.exec(i);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(f=Math.max(...t));else if(Ge(o))f=o;else if(typeof o=="function")try{t!=null&&(f=o(t?.[1]))}catch{}else if(typeof o=="string"&&nN.test(o)){var g=nN.exec(o);if(g==null||t==null)f=void 0;else{var x=+g[1];f=t[1]+x}}else f=t?.[1];var y=[u,f];if(hi(y))return t==null?y:cS(y,t,n)}}}var Di=1e9,L8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kx,Lt=!0,Mr="[DecimalError] ",is=Mr+"Invalid argument: ",Mx=Mr+"Exponent out of range: ",Ei=Math.floor,Jl=Math.pow,B8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ur,gn=1e7,_t=7,yD=9007199254740991,Ld=Ei(yD/_t),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(e){return Ta(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,n=t.constructor;return Ot(Ta(t,new n(e),0,1),n.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return rn(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ur))throw Error(Mr+"NaN");if(n.s<1)throw Error(Mr+(n.s?"NaN":"-Infinity"));return n.eq(ur)?new r(0):(Lt=!1,t=Ta(ec(n,o),ec(e,o),o),Lt=!0,Ot(t,i))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wD(t,e):vD(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Mr+"NaN");return n.s?(Lt=!1,t=Ta(n,e,0,1).times(e),Lt=!0,n.minus(t)):Ot(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return bD(this)};Ie.naturalLogarithm=Ie.ln=function(){return ec(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vD(t,e):wD(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(is+e);if(t=rn(i)+1,r=i.d.length-1,n=r*_t+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ie.squareRoot=Ie.sqrt=function(){var e,t,n,r,i,o,u,f=this,h=f.constructor;if(f.s<1){if(!f.s)return new h(0);throw Error(Mr+"NaN")}for(e=rn(f),Lt=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Qr(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ei((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=u=n+3;;)if(o=r,r=o.plus(Ta(f,o,u+2)).times(.5),Qr(o.d).slice(0,u)===(t=Qr(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),i==u&&t=="4999"){if(Ot(o,n+1,0),o.times(o).eq(f)){r=o;break}}else if(t!="9999")break;u+=4}return Lt=!0,Ot(r,n)};Ie.times=Ie.mul=function(e){var t,n,r,i,o,u,f,h,m,g=this,x=g.constructor,y=g.d,w=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,h=y.length,m=w.length,h<m&&(o=y,y=w,w=o,u=h,h=m,m=u),o=[],u=h+m,r=u;r--;)o.push(0);for(r=m;--r>=0;){for(t=0,i=h+r;i>r;)f=o[i]+w[r]*y[i-r-1]+t,o[i--]=f%gn|0,t=f/gn|0;o[i]=(o[i]+t)%gn|0}for(;!o[--u];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Lt?Ot(e,x.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ta(e,0,Di),t===void 0?t=r.rounding:ta(t,0,8),Ot(n,e+rn(n)+1,t))};Ie.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=fs(r,!0):(ta(e,0,Di),t===void 0?t=i.rounding:ta(t,0,8),r=Ot(new i(r),e+1,t),n=fs(r,!0,e+1)),n};Ie.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?fs(i):(ta(e,0,Di),t===void 0?t=o.rounding:ta(t,0,8),r=Ot(new o(i),e+rn(i)+1,t),n=fs(r.abs(),!1,e+rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return Ot(new t(e),rn(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,n,r,i,o,u,f=this,h=f.constructor,m=12,g=+(e=new h(e));if(!e.s)return new h(ur);if(f=new h(f),!f.s){if(e.s<1)throw Error(Mr+"Infinity");return f}if(f.eq(ur))return f;if(r=h.precision,e.eq(ur))return Ot(f,r);if(t=e.e,n=e.d.length-1,u=t>=n,o=f.s,u){if((n=g<0?-g:g)<=yD){for(i=new h(ur),t=Math.ceil(r/_t+4),Lt=!1;n%2&&(i=i.times(f),dS(i.d,t)),n=Ei(n/2),n!==0;)f=f.times(f),dS(f.d,t);return Lt=!0,e.s<0?new h(ur).div(i):Ot(i,r)}}else if(o<0)throw Error(Mr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,f.s=1,Lt=!1,i=e.times(ec(f,r+m)),Lt=!0,i=bD(i),i.s=o,i};Ie.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=rn(i),r=fs(i,n<=o.toExpNeg||n>=o.toExpPos)):(ta(e,1,Di),t===void 0?t=o.rounding:ta(t,0,8),i=Ot(new o(i),e,t),n=rn(i),r=fs(i,e<=n||n<=o.toExpNeg,e)),r};Ie.toSignificantDigits=Ie.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ta(e,1,Di),t===void 0?t=r.rounding:ta(t,0,8)),Ot(new r(n),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rn(e),n=e.constructor;return fs(e,t<=n.toExpNeg||t>=n.toExpPos)};function vD(e,t){var n,r,i,o,u,f,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Lt?Ot(t,x):t;if(h=e.d,m=t.d,u=e.e,i=t.e,h=h.slice(),o=u-i,o){for(o<0?(r=h,o=-o,f=m.length):(r=m,i=u,f=h.length),u=Math.ceil(x/_t),f=u>f?u+1:f+1,o>f&&(o=f,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(f=h.length,o=m.length,f-o<0&&(o=f,r=m,m=h,h=r),n=0;o;)n=(h[--o]=h[o]+m[o]+n)/gn|0,h[o]%=gn;for(n&&(h.unshift(n),++i),f=h.length;h[--f]==0;)h.pop();return t.d=h,t.e=i,Lt?Ot(t,x):t}function ta(e,t,n){if(e!==~~e||e<t||e>n)throw Error(is+e)}function Qr(e){var t,n,r,i=e.length-1,o="",u=e[0];if(i>0){for(o+=u,t=1;t<i;t++)r=e[t]+"",n=_t-r.length,n&&(o+=pl(n)),o+=r;u=e[t],r=u+"",n=_t-r.length,n&&(o+=pl(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Ta=(function(){function e(r,i){var o,u=0,f=r.length;for(r=r.slice();f--;)o=r[f]*i+u,r[f]=o%gn|0,u=o/gn|0;return u&&r.unshift(u),r}function t(r,i,o,u){var f,h;if(o!=u)h=o>u?1:-1;else for(f=h=0;f<o;f++)if(r[f]!=i[f]){h=r[f]>i[f]?1:-1;break}return h}function n(r,i,o){for(var u=0;o--;)r[o]-=u,u=r[o]<i[o]?1:0,r[o]=u*gn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,u){var f,h,m,g,x,y,w,N,j,S,A,C,T,k,D,P,M,I,R=r.constructor,H=r.s==i.s?1:-1,V=r.d,F=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Mr+"Division by zero");for(h=r.e-i.e,M=F.length,D=V.length,w=new R(H),N=w.d=[],m=0;F[m]==(V[m]||0);)++m;if(F[m]>(V[m]||0)&&--h,o==null?C=o=R.precision:u?C=o+(rn(r)-rn(i))+1:C=o,C<0)return new R(0);if(C=C/_t+2|0,m=0,M==1)for(g=0,F=F[0],C++;(m<D||g)&&C--;m++)T=g*gn+(V[m]||0),N[m]=T/F|0,g=T%F|0;else{for(g=gn/(F[0]+1)|0,g>1&&(F=e(F,g),V=e(V,g),M=F.length,D=V.length),k=M,j=V.slice(0,M),S=j.length;S<M;)j[S++]=0;I=F.slice(),I.unshift(0),P=F[0],F[1]>=gn/2&&++P;do g=0,f=t(F,j,M,S),f<0?(A=j[0],M!=S&&(A=A*gn+(j[1]||0)),g=A/P|0,g>1?(g>=gn&&(g=gn-1),x=e(F,g),y=x.length,S=j.length,f=t(x,j,y,S),f==1&&(g--,n(x,M<y?I:F,y))):(g==0&&(f=g=1),x=F.slice()),y=x.length,y<S&&x.unshift(0),n(j,x,S),f==-1&&(S=j.length,f=t(F,j,M,S),f<1&&(g++,n(j,M<S?I:F,S))),S=j.length):f===0&&(g++,j=[0]),N[m++]=g,f&&j[0]?j[S++]=V[k]||0:(j=[V[k]],S=1);while((k++<D||j[0]!==void 0)&&C--)}return N[0]||N.shift(),w.e=h,Ot(w,u?o+rn(w)+1:o)}})();function bD(e,t){var n,r,i,o,u,f,h=0,m=0,g=e.constructor,x=g.precision;if(rn(e)>16)throw Error(Mx+rn(e));if(!e.s)return new g(ur);for(Lt=!1,f=x,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(r=Math.log(Jl(2,m))/Math.LN10*2+5|0,f+=r,n=i=o=new g(ur),g.precision=f;;){if(i=Ot(i.times(e),f),n=n.times(++h),u=o.plus(Ta(i,n,f)),Qr(u.d).slice(0,f)===Qr(o.d).slice(0,f)){for(;m--;)o=Ot(o.times(o),f);return g.precision=x,t==null?(Lt=!0,Ot(o,x)):o}o=u}}function rn(e){for(var t=e.e*_t,n=e.d[0];n>=10;n/=10)t++;return t}function f0(e,t,n){if(t>e.LN10.sd())throw Lt=!0,n&&(e.precision=n),Error(Mr+"LN10 precision limit exceeded");return Ot(new e(e.LN10),t)}function pl(e){for(var t="";e--;)t+="0";return t}function ec(e,t){var n,r,i,o,u,f,h,m,g,x=1,y=10,w=e,N=w.d,j=w.constructor,S=j.precision;if(w.s<1)throw Error(Mr+(w.s?"NaN":"-Infinity"));if(w.eq(ur))return new j(0);if(t==null?(Lt=!1,m=S):m=t,w.eq(10))return t==null&&(Lt=!0),f0(j,m);if(m+=y,j.precision=m,n=Qr(N),r=n.charAt(0),o=rn(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=Qr(w.d),r=n.charAt(0),x++;o=rn(w),r>1?(w=new j("0."+n),o++):w=new j(r+"."+n.slice(1))}else return h=f0(j,m+2,S).times(o+""),w=ec(new j(r+"."+n.slice(1)),m-y).plus(h),j.precision=S,t==null?(Lt=!0,Ot(w,S)):w;for(f=u=w=Ta(w.minus(ur),w.plus(ur),m),g=Ot(w.times(w),m),i=3;;){if(u=Ot(u.times(g),m),h=f.plus(Ta(u,new j(i),m)),Qr(h.d).slice(0,m)===Qr(f.d).slice(0,m))return f=f.times(2),o!==0&&(f=f.plus(f0(j,m+2,S).times(o+""))),f=Ta(f,new j(x),m),j.precision=S,t==null?(Lt=!0,Ot(f,S)):f;f=h,i+=2}}function uS(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ei(n/_t),e.d=[],r=(n+1)%_t,n<0&&(r+=_t),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=_t;r<i;)e.d.push(+t.slice(r,r+=_t));t=t.slice(r),r=_t-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Lt&&(e.e>Ld||e.e<-Ld))throw Error(Mx+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ot(e,t,n){var r,i,o,u,f,h,m,g,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(r=t-u,r<0)r+=_t,i=t,m=x[g=0];else{if(g=Math.ceil((r+1)/_t),o=x.length,g>=o)return e;for(m=o=x[g],u=1;o>=10;o/=10)u++;r%=_t,i=r-_t+u}if(n!==void 0&&(o=Jl(10,u-i-1),f=m/o%10|0,h=t<0||x[g+1]!==void 0||m%o,h=n<4?(f||h)&&(n==0||n==(e.s<0?3:2)):f>5||f==5&&(n==4||h||n==6&&(r>0?i>0?m/Jl(10,u-i):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return h?(o=rn(e),x.length=1,t=t-o-1,x[0]=Jl(10,(_t-t%_t)%_t),e.e=Ei(-t/_t)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,o=1,g--):(x.length=g+1,o=Jl(10,_t-r),x[g]=i>0?(m/Jl(10,u-i)%Jl(10,i)|0)*o:0),h)for(;;)if(g==0){(x[0]+=o)==gn&&(x[0]=1,++e.e);break}else{if(x[g]+=o,x[g]!=gn)break;x[g--]=0,o=1}for(r=x.length;x[--r]===0;)x.pop();if(Lt&&(e.e>Ld||e.e<-Ld))throw Error(Mx+rn(e));return e}function wD(e,t){var n,r,i,o,u,f,h,m,g,x,y=e.constructor,w=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Lt?Ot(t,w):t;if(h=e.d,x=t.d,r=t.e,m=e.e,h=h.slice(),u=m-r,u){for(g=u<0,g?(n=h,u=-u,f=x.length):(n=x,r=m,f=h.length),i=Math.max(Math.ceil(w/_t),f)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=h.length,f=x.length,g=i<f,g&&(f=i),i=0;i<f;i++)if(h[i]!=x[i]){g=h[i]<x[i];break}u=0}for(g&&(n=h,h=x,x=n,t.s=-t.s),f=h.length,i=x.length-f;i>0;--i)h[f++]=0;for(i=x.length;i>u;){if(h[--i]<x[i]){for(o=i;o&&h[--o]===0;)h[o]=gn-1;--h[o],h[i]+=gn}h[i]-=x[i]}for(;h[--f]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,Lt?Ot(t,w):t):new y(0)}function fs(e,t,n){var r,i=rn(e),o=Qr(e.d),u=o.length;return t?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+pl(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+pl(-i-1)+o,n&&(r=n-u)>0&&(o+=pl(r))):i>=u?(o+=pl(i+1-u),n&&(r=n-i-1)>0&&(o=o+"."+pl(r))):((r=i+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(o+="."),o+=pl(r))),e.s<0?"-"+o:o}function dS(e,t){if(e.length>t)return e.length=t,!0}function jD(e){var t,n,r;function i(o){var u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,o instanceof i){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(is+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return uS(u,o.toString())}else if(typeof o!="string")throw Error(is+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,B8.test(o))uS(u,o);else throw Error(is+o)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jD,i.config=i.set=U8,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function U8(e){if(!e||typeof e!="object")throw Error(Mr+"Object expected");var t,n,r,i=["precision",1,Di,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ei(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(is+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(is+n+": "+r);return this}var kx=jD(L8);ur=new kx(1);const bt=kx;var z8=e=>e,ND={},SD=e=>e===ND,fS=e=>function t(){return arguments.length===0||arguments.length===1&&SD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},AD=(e,t)=>e===1?t:fS(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(u=>u!==ND).length;return o>=e?t(...r):AD(e-o,fS(function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];var m=r.map(g=>SD(g)?f.shift():g);return t(...m,...f)}))}),Df=e=>AD(e.length,e),mp=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},q8=Df((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),H8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return z8;var i=n.reverse(),o=i[0],u=i.slice(1);return function(){return u.reduce((f,h)=>h(f),o(...arguments))}},hp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),CD=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((u,f)=>{var h;return u===((h=t)===null||h===void 0?void 0:h[f])})||(t=i,n=e(...i)),n}};function DD(e){var t;return e===0?t=1:t=Math.floor(new bt(e).abs().log(10).toNumber())+1,t}function ED(e,t,n){for(var r=new bt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Df((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Df((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Df((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var TD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},OD=(e,t,n)=>{if(e.lte(0))return new bt(0);var r=DD(e.toNumber()),i=new bt(10).pow(r),o=e.div(i),u=r!==1?.05:.1,f=new bt(Math.ceil(o.div(u).toNumber())).add(n).mul(u),h=f.mul(i);return t?new bt(h.toNumber()):new bt(Math.ceil(h.toNumber()))},F8=(e,t,n)=>{var r=new bt(1),i=new bt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new bt(10).pow(DD(e)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new bt(Math.floor(e)))}else e===0?i=new bt(Math.floor((t-1)/2)):n||(i=new bt(Math.floor(e)));var u=Math.floor((t-1)/2),f=H8(q8(h=>i.add(new bt(h-u).mul(r)).toNumber()),mp);return f(0,t)},PD=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var u=OD(new bt(n).sub(t).div(r-1),i,o),f;t<=0&&n>=0?f=new bt(0):(f=new bt(t).add(n).div(2),f=f.sub(new bt(f).mod(u)));var h=Math.ceil(f.sub(t).div(u).toNumber()),m=Math.ceil(new bt(n).sub(f).div(u).toNumber()),g=h+m+1;return g>r?PD(t,n,r,i,o+1):(g<r&&(m=n>0?m+(r-g):m,h=n>0?h:h+(r-g)),{step:u,tickMin:f.sub(new bt(h).mul(u)),tickMax:f.add(new bt(m).mul(u))})};function Y8(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[u,f]=TD([t,n]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...mp(0,r-1).map(()=>1/0)]:[...mp(0,r-1).map(()=>-1/0),f];return t>n?hp(h):h}if(u===f)return F8(u,r,i);var{step:m,tickMin:g,tickMax:x}=PD(u,f,o,i,0),y=ED(g,x.add(new bt(.1).mul(m)),m);return t>n?hp(y):y}function K8(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=TD([n,r]);if(o===-1/0||u===1/0)return[n,r];if(o===u)return[o];var f=Math.max(t,2),h=OD(new bt(u).sub(o).div(f-1),i,0),m=[...ED(new bt(o),new bt(u),h),u];return i===!1&&(m=m.map(g=>Math.round(g))),n>r?hp(m):m}var G8=CD(Y8),V8=CD(K8),MD=e=>e.rootProps.maxBarSize,X8=e=>e.rootProps.barGap,kD=e=>e.rootProps.barCategoryGap,W8=e=>e.rootProps.barSize,pc=e=>e.rootProps.stackOffset,_x=e=>e.options.chartName,$x=e=>e.rootProps.syncId,_D=e=>e.rootProps.syncMethod,Ix=e=>e.options.eventEmitter,ja={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ef=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Z8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ja.angleAxisId,includeHidden:!1,name:void 0,reversed:ja.reversed,scale:ja.scale,tick:ja.tick,tickCount:void 0,ticks:void 0,type:ja.type,unit:void 0},Q8={allowDataOverflow:cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:cr.type,unit:void 0},J8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ja.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ja.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ja.scale,tick:ja.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},e7={allowDataOverflow:cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:"category",unit:void 0},Rx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?J8:Z8,Lx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?e7:Q8,Tf=e=>e.polarOptions,Bx=me([Ba,Ua,cn],hC),$D=me([Tf,Bx],(e,t)=>{if(e!=null)return $n(e.innerRadius,t,0)}),ID=me([Tf,Bx],(e,t)=>{if(e!=null)return $n(e.outerRadius,t,t*.8)}),t7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},RD=me([Tf],t7);me([Rx,RD],Ef);var LD=me([Bx,$D,ID],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});me([Lx,LD],Ef);var BD=me([pt,Tf,$D,ID,Ba,Ua],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:u,cy:f,startAngle:h,endAngle:m}=t;return{cx:$n(u,i,i/2),cy:$n(f,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:m,clockWise:!1}}}),Ut=(e,t)=>t,xc=(e,t,n)=>n;function Ux(e){return e?.id}var dn=e=>{var t=pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ti=e=>e.tooltip.settings.axisId,wn=e=>{var t=dn(e),n=Ti(e);return yc(e,t,n)},UD=me([wn],e=>e?.dataKey);function zD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,u=new Map;return e.forEach(f=>{var h,m=(h=f.data)!==null&&h!==void 0?h:r;if(!(m==null||m.length===0)){var g=Ux(f);m.forEach((x,y)=>{var w=o==null||i?y:String(Ft(x,o,null)),N=Ft(x,f.dataKey,0),j;u.has(w)?j=u.get(w):j={},Object.assign(j,{[g]:N}),u.set(w,j)})}}),Array.from(u.values())}function Of(e){return e.stackId!=null&&e.dataKey!=null}function mS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(n),!0).forEach(function(r){n7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n7(e,t,n){return(t=r7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gp=[0,"auto"],ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qD=(e,t)=>e.cartesianAxis.xAxis[t],qa=(e,t)=>{var n=qD(e,t);return n??ir},or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dc},HD=(e,t)=>e.cartesianAxis.yAxis[t],Ha=(e,t)=>{var n=HD(e,t);return n??or},l7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??l7},Jt=(e,t,n)=>{switch(t){case"xAxis":return qa(e,n);case"yAxis":return Ha(e,n);case"zAxis":return zx(e,n);case"angleAxis":return Rx(e,n);case"radiusAxis":return Lx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},s7=(e,t,n)=>{switch(t){case"xAxis":return qa(e,n);case"yAxis":return Ha(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yc=(e,t,n)=>{switch(t){case"xAxis":return qa(e,n);case"yAxis":return Ha(e,n);case"angleAxis":return Rx(e,n);case"radiusAxis":return Lx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},FD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Hx=e=>e.graphicalItems.cartesianItems,i7=me([Ut,xc],qx),Fx=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),vc=me([Hx,Jt,i7],Fx),YD=me([vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Of)),KD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),GD=me([vc],KD),Yx=e=>e.map(t=>t.data).filter(Boolean).flat(1),o7=me([vc],Yx),Kx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Gx=me([o7,Px],Kx),Vx=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Ft(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ft(i,r)}))):e.map(r=>({value:r})),Pf=me([Gx,Jt,vc],Vx);function VD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vs(e){return e.filter(t=>ea(t)||t instanceof Date).map(Number).filter(t=>mr(t)===!1)}function c7(e,t,n){return!n||typeof t!="number"||mr(t)?[]:n.length?vs(n.flatMap(r=>{var i=Ft(e,r.dataKey),o,u;if(Array.isArray(i)?[o,u]=i:o=u=i,!(!gr(o)||!gr(u)))return[t-o,t+u]})):[]}var u7=me([YD,Px,wn],zD),XD=(e,t,n)=>{var r={},i=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[u,f]=o,h=f.map(Ux);return[u,{stackedData:D$(e,h,n),graphicalItems:f}]}))},pp=me([u7,YD,pc],XD),WD=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=M$(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},d7=me([pp,Pl,Ut],WD),ZD=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(u=>{var f,h,m=(f=r[u.id])===null||f===void 0?void 0:f.filter(x=>VD(i,x)),g=Ft(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey);return{value:g,errorDomain:c7(o,g,m)}})).filter(Boolean):t?.dataKey!=null?e.map(o=>({value:Ft(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),Mf=e=>e.errorBars,QD=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>VD(n,r));me([GD,Mf,Ut],QD);var f7=me([Gx,Jt,GD,Mf,Ut],ZD);function m7(e){var{value:t}=e;if(ea(t)||t instanceof Date)return t}var hS=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=vs(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},h7=(e,t,n)=>{var r=e.map(m7).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&uA(r))?RC(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Xx=e=>{var t;if(e==null||!("domain"in e))return gp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=vs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:gp},Ud=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),u=Math.min(...o),f=Math.max(...o);return[u,f]}},JD=e=>e.referenceElements.dots,Oi=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),g7=me([JD,Ut,xc],Oi),eE=e=>e.referenceElements.areas,p7=me([eE,Ut,xc],Oi),tE=e=>e.referenceElements.lines,x7=me([tE,Ut,xc],Oi),nE=(e,t)=>{var n=vs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},y7=me(g7,Ut,nE),rE=(e,t)=>{var n=vs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},v7=me([p7,Ut],rE),aE=(e,t)=>{var n=vs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},b7=me(x7,Ut,aE),w7=me(y7,b7,v7,(e,t,n)=>Ud(e,n,t)),lE=me([Jt],Xx),Wx=(e,t,n,r,i,o,u)=>{var f=I8(t,e.allowDataOverflow);if(f!=null)return f;var h=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",m=h?Ud(n,i,hS(r)):Ud(i,hS(r));return R8(t,m,e.allowDataOverflow)},j7=me([Jt,lE,d7,f7,w7,pt,Ut],Wx),N7=[0,1],Zx=(e,t,n,r,i,o,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:f,type:h}=e,m=gs(t,o);return m&&f==null?RC(0,n.length):h==="category"?h7(r,e,m):i==="expand"?N7:u}},Qx=me([Jt,pt,Gx,Pf,pc,Ut,j7],Zx),sE=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var f="scale".concat(oc(o));return f in zo?f:"point"}}},Pi=me([Jt,pt,FD,_x,Ut],sE);function S7(e){if(e!=null){if(e in zo)return zo[e]();var t="scale".concat(oc(e));if(t in zo)return zo[t]()}}function Jx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=S7(t);if(i!=null){var o=i.domain(n).range(r);return j$(o),o}}}var ey=(e,t,n)=>{var r=Xx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hi(e))return G8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&hi(e))return V8(e,t.tickCount,t.allowDecimals)}},ty=me([Qx,yc,Pi],ey),ny=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&hi(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],u=t[1],f=n[n.length-1];return[Math.min(i,o),Math.max(u,f)]}return t},A7=me([Jt,Qx,ty,Ut],ny),C7=me(Pf,Jt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(vs(e.map(f=>f.value))).sort((f,h)=>f-h);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];n=Math.min(n,u)}return n/i}}),iE=me(C7,pt,kD,cn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!gr(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var u=$n(n,e*o),f=e*o/2;return f-u-(f-u)/o*u}return 0}),D7=(e,t)=>{var n=qa(e,t);return n==null||typeof n.padding!="string"?0:iE(e,"xAxis",t,n.padding)},E7=(e,t)=>{var n=Ha(e,t);return n==null||typeof n.padding!="string"?0:iE(e,"yAxis",t,n.padding)},T7=me(qa,D7,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),O7=me(Ha,E7,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),P7=me([cn,T7,yf,xf,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),M7=me([cn,pt,O7,yf,xf,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:u}=i;return o?[r.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return P7(e,n,r);case"yAxis":return M7(e,n,r);case"zAxis":return(i=zx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return RD(e);case"radiusAxis":return LD(e,n);default:return}},oE=me([Jt,bc],Ef),Mi=me([Jt,Pi,A7,oE],Jx);me([vc,Mf,Ut],QD);function cE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kf=(e,t)=>t,_f=(e,t,n)=>n,k7=me(gf,kf,_f,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(cE)),_7=me(pf,kf,_f,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(cE)),uE=(e,t)=>({width:e.width,height:t.height}),$7=(e,t)=>{var n=typeof t.width=="number"?t.width:dc;return{width:n,height:e.height}},dE=me(cn,qa,uE),I7=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},R7=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},L7=me(Ua,cn,k7,kf,_f,(e,t,n,r,i)=>{var o={},u;return n.forEach(f=>{var h=uE(t,f);u==null&&(u=I7(t,r,e));var m=r==="top"&&!i||r==="bottom"&&i;o[f.id]=u-Number(m)*h.height,u+=(m?-1:1)*h.height}),o}),B7=me(Ba,cn,_7,kf,_f,(e,t,n,r,i)=>{var o={},u;return n.forEach(f=>{var h=$7(t,f);u==null&&(u=R7(t,r,e));var m=r==="left"&&!i||r==="right"&&i;o[f.id]=u-Number(m)*h.width,u+=(m?-1:1)*h.width}),o}),U7=(e,t)=>{var n=qa(e,t);if(n!=null)return L7(e,n.orientation,n.mirror)},z7=me([cn,qa,U7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),q7=(e,t)=>{var n=Ha(e,t);if(n!=null)return B7(e,n.orientation,n.mirror)},H7=me([cn,Ha,q7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),fE=me(cn,Ha,(e,t)=>{var n=typeof t.width=="number"?t.width:dc;return{width:n,height:e.height}}),gS=(e,t,n)=>{switch(t){case"xAxis":return dE(e,n).width;case"yAxis":return fE(e,n).height;default:return}},mE=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:u}=n,f=gs(e,r),h=t.map(m=>m.value);if(u&&f&&o==="category"&&i&&uA(h))return h}},ry=me([pt,Pf,Jt,Ut],mE),hE=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,u=gs(e,r);if(u&&(i==="number"||o!=="auto"))return t.map(f=>f.value)}},ay=me([pt,Pf,yc,Ut],hE),pS=me([pt,s7,Pi,Mi,ry,ay,bc,ty,Ut],(e,t,n,r,i,o,u,f,h)=>{if(t==null)return null;var m=gs(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:i,isCategorical:m,niceTicks:f,range:u,realScaleType:n,scale:r}}),F7=(e,t,n,r,i,o,u,f,h)=>{if(!(t==null||r==null)){var m=gs(e,h),{type:g,ticks:x,tickCount:y}=t,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=g==="category"&&r.bandwidth?r.bandwidth()/w:0;N=h==="angleAxis"&&o!=null&&o.length>=2?yn(o[0]-o[1])*2*N:N;var j=x||i;if(j){var S=j.map((A,C)=>{var T=u?u.indexOf(A):A;return{index:C,coordinate:r(T)+N,value:A,offset:N}});return S.filter(A=>!mr(A.coordinate))}return m&&f?f.map((A,C)=>({coordinate:r(A)+N,value:A,index:C,offset:N})):r.ticks?r.ticks(y).map(A=>({coordinate:r(A)+N,value:A,offset:N})):r.domain().map((A,C)=>({coordinate:r(A)+N,value:u?u[A]:A,index:C,offset:N}))}},gE=me([pt,yc,Pi,Mi,ty,bc,ry,ay,Ut],F7),Y7=(e,t,n,r,i,o,u)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var f=gs(e,u),{tickCount:h}=t,m=0;return m=u==="angleAxis"&&r?.length>=2?yn(r[0]-r[1])*2*m:m,f&&o?o.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+m,value:g,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}},gi=me([pt,yc,Mi,bc,ry,ay,Ut],Y7),pi=me(Jt,Mi,(e,t)=>{if(!(e==null||t==null))return Bd(Bd({},e),{},{scale:t})}),K7=me([Jt,Pi,Qx,oE],Jx);me((e,t,n)=>zx(e,n),K7,(e,t)=>{if(!(e==null||t==null))return Bd(Bd({},e),{},{scale:t})});var G7=me([pt,gf,pf],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pE=e=>e.options.defaultTooltipEventType,xE=e=>e.options.validateTooltipEventTypes;function yE(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function ly(e,t){var n=pE(e),r=xE(e);return yE(t,n,r)}function V7(e){return Ye(t=>ly(t,e))}var vE=(e,t)=>{var n,r=Number(t);if(!(mr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},X7=e=>e.tooltip.settings,bl={active:!1,index:null,dataKey:void 0,coordinate:void 0},W7={itemInteraction:{click:bl,hover:bl},axisInteraction:{click:bl,hover:bl},keyboardInteraction:bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bE=pr({name:"tooltip",initialState:W7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ea(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Z7,removeTooltipEntrySettings:Q7,setTooltipSettingsState:J7,setActiveMouseOverItemIndex:wE,mouseLeaveItem:eB,mouseLeaveChart:jE,setActiveClickItemIndex:tB,setMouseOverAxisIndex:NE,setMouseClickAxisIndex:nB,setSyncInteraction:xp,setKeyboardInteraction:yp}=bE.actions,rB=bE.reducer;function xS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(n),!0).forEach(function(r){aB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aB(e,t,n){return(t=lB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lB(e){var t=sB(e,"string");return typeof t=="symbol"?t:t+""}function sB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iB(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function oB(e){return e.index!=null}var SE=(e,t,n,r)=>{if(t==null)return bl;var i=iB(e,t,n);if(i==null)return bl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(oB(i)){if(o)return ed(ed({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ed(ed({},bl),{},{coordinate:i.coordinate})},sy=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!gr(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},AE=(e,t,n,r,i,o,u,f)=>{if(!(o==null||f==null)){var h=u[0],m=h==null?void 0:f(h.positions,o);if(m!=null)return m;var g=i?.[Number(o)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},CE=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===i})},wc=e=>e.options.tooltipPayloadSearcher,ki=e=>e.tooltip;function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(n),!0).forEach(function(r){cB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cB(e,t,n){return(t=uB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uB(e){var t=dB(e,"string");return typeof t=="symbol"?t:t+""}function dB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fB(e,t){return e??t}var DE=(e,t,n,r,i,o,u)=>{if(!(t==null||o==null)){var{chartData:f,computedData:h,dataStartIndex:m,dataEndIndex:g}=n,x=[];return e.reduce((y,w)=>{var N,{dataDefinedOnItem:j,settings:S}=w,A=fB(j,f),C=Array.isArray(A)?gC(A,m,g):A,T=(N=S?.dataKey)!==null&&N!==void 0?N:r,k=S?.nameKey,D;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&u==="axis"?D=hM(C,r,i):D=o(C,t,h,k),Array.isArray(D))D.forEach(M=>{var I=vS(vS({},S),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});y.push(rN({tooltipEntrySettings:I,dataKey:M.dataKey,payload:M.payload,value:Ft(M.payload,M.dataKey),name:M.name}))});else{var P;y.push(rN({tooltipEntrySettings:S,dataKey:T,payload:D,value:Ft(D,T),name:(P=Ft(D,k))!==null&&P!==void 0?P:S?.name}))}return y},x)}},iy=me([wn,pt,FD,_x,dn],sE),mB=me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hB=me([dn,Ti],qx),jc=me([mB,wn,hB],Fx),gB=me([jc],e=>e.filter(Of)),pB=me([jc],Yx),_i=me([pB,Pl],Kx),xB=me([gB,Pl,wn],zD),oy=me([_i,wn,jc],Vx),yB=me([wn],Xx),vB=me([jc],e=>e.filter(Of)),bB=me([xB,vB,pc],XD),wB=me([bB,Pl,dn],WD),jB=me([jc],KD),NB=me([_i,wn,jB,Mf,dn],ZD),SB=me([JD,dn,Ti],Oi),AB=me([SB,dn],nE),CB=me([eE,dn,Ti],Oi),DB=me([CB,dn],rE),EB=me([tE,dn,Ti],Oi),TB=me([EB,dn],aE),OB=me([AB,TB,DB],Ud),PB=me([wn,yB,wB,NB,OB,pt,dn],Wx),EE=me([wn,pt,_i,oy,pc,dn,PB],Zx),MB=me([EE,wn,iy],ey),kB=me([wn,EE,MB,dn],ny),TE=e=>{var t=dn(e),n=Ti(e),r=!1;return bc(e,t,n,r)},OE=me([wn,TE],Ef),PE=me([wn,iy,kB,OE],Jx),_B=me([pt,oy,wn,dn],mE),$B=me([pt,oy,wn,dn],hE),IB=(e,t,n,r,i,o,u,f)=>{if(t){var{type:h}=t,m=gs(e,f);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=h==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=f==="angleAxis"&&i!=null&&i?.length>=2?yn(i[0]-i[1])*2*x:x,m&&u?u.map((y,w)=>({coordinate:r(y)+x,value:y,index:w,offset:x})):r.domain().map((y,w)=>({coordinate:r(y)+x,value:o?o[y]:y,index:w,offset:x}))}}},Fa=me([pt,wn,iy,PE,TE,_B,$B,dn],IB),cy=me([pE,xE,X7],(e,t,n)=>yE(n.shared,e,t)),ME=e=>e.tooltip.settings.trigger,uy=e=>e.tooltip.settings.defaultIndex,$f=me([ki,cy,ME,uy],SE),ms=me([$f,_i],sy),kE=me([Fa,ms],vE),_E=me([$f],e=>{if(e)return e.dataKey}),$E=me([ki,cy,ME,uy],CE),RB=me([Ba,Ua,pt,cn,Fa,uy,$E,wc],AE),LB=me([$f,RB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),BB=me([$f],e=>e.active),UB=me([$E,ms,Pl,UD,kE,wc,cy],DE);me([UB],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function bS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(n),!0).forEach(function(r){zB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zB(e,t,n){return(t=qB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qB(e){var t=HB(e,"string");return typeof t=="symbol"?t:t+""}function HB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=()=>Ye(wn),YB=()=>{var e=FB(),t=Ye(Fa),n=Ye(PE);return rx(wS(wS({},e),{},{scale:n}),t)},KB=()=>Ye(_x),dy=(e,t)=>t,IE=(e,t,n)=>n,fy=(e,t,n,r)=>r,GB=me(Fa,e=>of(e,t=>t.coordinate)),my=me([ki,dy,IE,fy],SE),RE=me([my,_i],sy),VB=(e,t,n)=>{if(t!=null){var r=ki(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},LE=me([ki,dy,IE,fy],CE),zd=me([Ba,Ua,pt,cn,Fa,fy,LE,wc],AE),XB=me([my,zd],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),BE=me(Fa,RE,vE),WB=me([LE,RE,Pl,UD,BE,wc,dy],DE),ZB=me([my],e=>({isActive:e.active,activeIndex:e.index})),QB=(e,t,n,r,i,o,u,f)=>{if(!(!e||!t||!r||!i||!o)){var h=k$(e.chartX,e.chartY,t,n,f);if(h){var m=$$(h,t),g=b$(m,u,o,r,i),x=_$(t,o,g,h);return{activeIndex:String(g),activeCoordinate:x}}}};function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(null,arguments)}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(n),!0).forEach(function(r){JB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JB(e,t,n){return(t=e9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n9(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:u,cursor:f,tooltipEventType:h,chartName:m}=e,g=t,x=n,y=r;if(!f||!g||m!=="ScatterChart"&&h!=="axis")return null;var w,N;if(m==="ScatterChart")w=g,N=jI;else if(m==="BarChart")w=NI(u,g,i,o),N=kC;else if(u==="radial"){var{cx:j,cy:S,radius:A,startAngle:C,endAngle:T}=_C(g);w={cx:j,cy:S,startAngle:C,endAngle:T,innerRadius:A,outerRadius:A},N=IC}else w={points:nR(u,g,i)},N=EC;var k=typeof f=="object"&&"className"in f?f.className:void 0,D=td(td(td(td({stroke:"#ccc",pointerEvents:"none"},i),w),on(f,!1)),{},{payload:x,payloadIndex:y,className:Dt("recharts-tooltip-cursor",k)});return b.isValidElement(f)?b.cloneElement(f,D):b.createElement(N,D)}function r9(e){var t=YB(),n=wC(),r=sx(),i=KB();return b.createElement(n9,vp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var UE=b.createContext(null),a9=()=>b.useContext(UE),m0={exports:{}},NS;function l9(){return NS||(NS=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function o(h,m,g,x,y){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new i(g,x||h,y),N=n?n+m:m;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],w]:h._events[N].push(w):(h._events[N]=w,h._eventsCount++),h}function u(h,m){--h._eventsCount===0?h._events=new r:delete h._events[m]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)t.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var y=0,w=x.length,N=new Array(w);y<w;y++)N[y]=x[y].fn;return N},f.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},f.prototype.emit=function(m,g,x,y,w,N){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],A=arguments.length,C,T;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,x),!0;case 4:return S.fn.call(S.context,g,x,y),!0;case 5:return S.fn.call(S.context,g,x,y,w),!0;case 6:return S.fn.call(S.context,g,x,y,w,N),!0}for(T=1,C=new Array(A-1);T<A;T++)C[T-1]=arguments[T];S.fn.apply(S.context,C)}else{var k=S.length,D;for(T=0;T<k;T++)switch(S[T].once&&this.removeListener(m,S[T].fn,void 0,!0),A){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,g);break;case 3:S[T].fn.call(S[T].context,g,x);break;case 4:S[T].fn.call(S[T].context,g,x,y);break;default:if(!C)for(D=1,C=new Array(A-1);D<A;D++)C[D-1]=arguments[D];S[T].fn.apply(S[T].context,C)}}return!0},f.prototype.on=function(m,g,x){return o(this,m,g,x,!1)},f.prototype.once=function(m,g,x){return o(this,m,g,x,!0)},f.prototype.removeListener=function(m,g,x,y){var w=n?n+m:m;if(!this._events[w])return this;if(!g)return u(this,w),this;var N=this._events[w];if(N.fn)N.fn===g&&(!y||N.once)&&(!x||N.context===x)&&u(this,w);else{for(var j=0,S=[],A=N.length;j<A;j++)(N[j].fn!==g||y&&!N[j].once||x&&N[j].context!==x)&&S.push(N[j]);S.length?this._events[w]=S.length===1?S[0]:S:u(this,w)}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&u(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,e.exports=f})(m0)),m0.exports}var s9=l9();const i9=La(s9);var tc=new i9,bp="recharts.syncEvent.tooltip",SS="recharts.syncEvent.brush";function zE(e,t){if(t){var n=Number.parseInt(t,10);if(!mr(n))return e?.[n]}}var o9={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},qE=pr({name:"options",initialState:o9,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),c9=qE.reducer,{createEventEmitter:u9}=qE.actions;function d9(e){return e.tooltip.syncInteraction}var f9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HE=pr({name:"chartData",initialState:f9,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:AS,setDataStartEndIndexes:m9,setComputedData:PK}=HE.actions,h9=HE.reducer,g9=["x","y"];function CS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(n),!0).forEach(function(r){p9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p9(e,t,n){return(t=x9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v9(e,t){if(e==null)return{};var n,r,i=b9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FE=()=>{};function w9(){var e=Ye($x),t=Ye(Ix),n=Qt(),r=Ye(_D),i=Ye(Fa),o=sx(),u=lx(),f=Ye(h=>h.rootProps.className);b.useEffect(()=>{if(e==null)return FE;var h=(m,g,x)=>{if(t!==x&&e===m){if(r==="index"){var y;if(u&&g!==null&&g!==void 0&&(y=g.payload)!==null&&y!==void 0&&y.coordinate){var w=g.payload.coordinate,{x:N,y:j}=w,S=v9(w,g9),A=Wl(Wl(Wl({},S),typeof N=="number"&&{x:Math.max(u.x,Math.min(N,u.x+u.width))}),typeof j=="number"&&{y:Math.max(u.y,Math.min(j,u.y+u.height))}),C=Wl(Wl({},g),{},{payload:Wl(Wl({},g.payload),{},{coordinate:A})});n(C)}else n(g);return}if(i!=null){var T;if(typeof r=="function"){var k={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},D=r(i,k);T=i[D]}else r==="value"&&(T=i.find(X=>String(X.value)===g.payload.label));var{coordinate:P}=g.payload;if(T==null||g.payload.active===!1||P==null||u==null){n(xp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:I}=P,R=Math.min(M,u.x+u.width),H=Math.min(I,u.y+u.height),V={x:o==="horizontal"?T.coordinate:R,y:o==="horizontal"?H:T.coordinate},F=xp({active:g.payload.active,coordinate:V,dataKey:g.payload.dataKey,index:String(T.index),label:g.payload.label});n(F)}}};return tc.on(bp,h),()=>{tc.off(bp,h)}},[f,n,t,e,r,i,o,u])}function j9(){var e=Ye($x),t=Ye(Ix),n=Qt();b.useEffect(()=>{if(e==null)return FE;var r=(i,o,u)=>{t!==u&&e===i&&n(m9(o))};return tc.on(SS,r),()=>{tc.off(SS,r)}},[n,t,e])}function N9(){var e=Qt();b.useEffect(()=>{e(u9())},[e]),w9(),j9()}function S9(e,t,n,r,i,o){var u=Ye(y=>VB(y,e,t)),f=Ye(Ix),h=Ye($x),m=Ye(_D),g=Ye(d9),x=g?.active;b.useEffect(()=>{if(!x&&h!=null&&f!=null){var y=xp({active:o,coordinate:n,dataKey:u,index:i,label:typeof r=="number"?String(r):r});tc.emit(bp,h,y,f)}},[x,n,u,i,r,f,h,m,o])}function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ES(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(n),!0).forEach(function(r){A9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A9(e,t,n){return(t=C9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e){return e.dataKey}function T9(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(eI,t)}var TS=[],O9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ps.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function OS(e){var t=zn(e,O9),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:u,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:g,position:x,reverseDirection:y,useTranslate3d:w,wrapperStyle:N,cursor:j,shared:S,trigger:A,defaultIndex:C,portal:T,axisId:k}=t,D=Qt(),P=typeof C=="number"?String(C):C;b.useEffect(()=>{D(J7({shared:S,trigger:A,axisId:k,active:n,defaultIndex:P}))},[D,S,A,k,n,P]);var M=lx(),I=DC(),R=V7(S),{activeIndex:H,isActive:V}=Ye(Ce=>ZB(Ce,R,A,P)),F=Ye(Ce=>WB(Ce,R,A,P)),X=Ye(Ce=>BE(Ce,R,A,P)),G=Ye(Ce=>XB(Ce,R,A,P)),ge=F,K=a9(),re=n??V,[he,De]=u_([ge,re]),$=R==="axis"?X:void 0;S9(R,A,G,$,H,re);var le=T??K;if(le==null)return null;var z=ge??TS;re||(z=TS),f&&z.length&&(z=Ik(ge.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||t.includeHidden)),g,E9));var ue=z.length>0,be=b.createElement(iI,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:h,active:re,coordinate:G,hasPayload:ue,offset:m,position:x,reverseDirection:y,useTranslate3d:w,viewBox:M,wrapperStyle:N,lastBoundingBox:he,innerRef:De,hasPortalFromProps:!!T},T9(u,ES(ES({},t),{},{payload:z,label:$,active:re,coordinate:G,accessibilityLayer:I})));return b.createElement(b.Fragment,null,P4.createPortal(be,le),re&&b.createElement(r9,{cursor:j,tooltipEventType:R,coordinate:G,payload:ge,index:H}))}var h0={},g0={},p0={},PS;function P9(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let u,f=null;const h=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),g=()=>{f!==null&&(n.apply(u,f),u=void 0,f=null)},x=()=>{m&&g(),j()};let y=null;const w=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,x()},r)},N=()=>{y!==null&&(clearTimeout(y),y=null)},j=()=>{N(),u=void 0,f=null},S=()=>{g()},A=function(...C){if(i?.aborted)return;u=this,f=C;const T=y==null;w(),h&&T&&g()};return A.schedule=w,A.cancel=j,A.flush=S,i?.addEventListener("abort",j,{once:!0}),A}e.debounce=t})(p0)),p0}var MS;function M9(){return MS||(MS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P9();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:f=!0,maxWait:h}=o,m=Array(2);u&&(m[0]="leading"),f&&(m[1]="trailing");let g,x=null;const y=t.debounce(function(...j){g=r.apply(this,j),x=null},i,{edges:m}),w=function(...j){return h!=null&&(x===null&&(x=Date.now()),Date.now()-x>=h)?(g=r.apply(this,j),x=Date.now(),y.cancel(),y.schedule(),g):(y.apply(this,j),g)},N=()=>(y.flush(),g);return w.cancel=y.cancel,w.flush=N,w}e.debounce=n})(g0)),g0}var kS;function k9(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M9();function n(r,i=0,o={}){const{leading:u=!0,trailing:f=!0}=o;return t.debounce(r,i,{leading:u,maxWait:i,trailing:f})}e.throttle=n})(h0)),h0}var x0,_S;function _9(){return _S||(_S=1,x0=k9().throttle),x0}var $9=_9();const I9=La($9);var Ho=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(r){R9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R9(e,t,n){return(t=L9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IS=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:u=0,minHeight:f,maxHeight:h,children:m,debounce:g=0,id:x,className:y,onResize:w,style:N={}}=e,j=b.useRef(null),S=b.useRef();S.current=w,b.useImperativeHandle(t,()=>j.current);var[A,C]=b.useState({containerWidth:r.width,containerHeight:r.height}),T=b.useCallback((D,P)=>{C(M=>{var I=Math.round(D),R=Math.round(P);return M.containerWidth===I&&M.containerHeight===R?M:{containerWidth:I,containerHeight:R}})},[]);b.useEffect(()=>{var D=R=>{var H,{width:V,height:F}=R[0].contentRect;T(V,F),(H=S.current)===null||H===void 0||H.call(S,V,F)};g>0&&(D=I9(D,g,{trailing:!0,leading:!1}));var P=new ResizeObserver(D),{width:M,height:I}=j.current.getBoundingClientRect();return T(M,I),P.observe(j.current),()=>{P.disconnect()}},[T,g]);var k=b.useMemo(()=>{var{containerWidth:D,containerHeight:P}=A;if(D<0||P<0)return null;Ho(es(i)||es(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Ho(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=es(i)?D:i,I=es(o)?P:o;return n&&n>0&&(M?I=M/n:I&&(M=I*n),h&&I>h&&(I=h)),Ho(M>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,I,i,o,u,f,n),b.Children.map(m,R=>b.cloneElement(R,{width:M,height:I,style:y0({width:M,height:I},R.props.style)}))},[n,m,o,h,f,u,A,i]);return b.createElement("div",{id:x?"".concat(x):void 0,className:Dt("recharts-responsive-container",y),style:y0(y0({},N),{},{width:i,height:o,minWidth:u,minHeight:f,maxHeight:h}),ref:j},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),Nc=e=>null;Nc.displayName="Cell";function U9(e,t,n){return(t=z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class H9{constructor(t){U9(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(r){Y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V9={cacheSize:2e3,enableCache:!0},YE=F9({},V9),LS=new H9(YE.cacheSize),X9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BS="recharts_measurement_span";function W9(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(u,"|").concat(f)}var US=(e,t)=>{try{var n=document.getElementById(BS);n||(n=document.createElement("span"),n.setAttribute("id",BS),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,X9,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Fo=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ps.isSsr)return{width:0,height:0};if(!YE.enableCache)return US(t,n);var r=W9(t,n),i=LS.get(r);if(i)return i;var o=US(t,n);return LS.set(r,o),o},zS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Q9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},J9=Object.keys(KE),ri="NaN";function eU(e,t){return e*KE[t]}class Gn{static parse(t){var n,[,r,i]=(n=Q9.exec(t))!==null&&n!==void 0?n:[];return new Gn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,mr(t)&&(this.unit=""),n!==""&&!Z9.test(n)&&(this.num=NaN,this.unit=""),J9.includes(n)&&(this.num=eU(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Gn(NaN,""):new Gn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Gn(NaN,""):new Gn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gn(NaN,""):new Gn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gn(NaN,""):new Gn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mr(this.num)}}function GE(e){if(e.includes(ri))return ri;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=zS.exec(t))!==null&&n!==void 0?n:[],u=Gn.parse(r??""),f=Gn.parse(o??""),h=i==="*"?u.multiply(f):u.divide(f);if(h.isNaN())return ri;t=t.replace(zS,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,x,y]=(m=qS.exec(t))!==null&&m!==void 0?m:[],w=Gn.parse(g??""),N=Gn.parse(y??""),j=x==="+"?w.add(N):w.subtract(N);if(j.isNaN())return ri;t=t.replace(qS,j.toString())}return t}var HS=/\(([^()]*)\)/;function tU(e){for(var t=e,n;(n=HS.exec(t))!=null;){var[,r]=n;t=t.replace(HS,GE(r))}return t}function nU(e){var t=e.replace(/\s+/g,"");return t=tU(t),t=GE(t),t}function rU(e){try{return nU(e)}catch{return ri}}function v0(e){var t=rU(e.slice(5,-1));return t===ri?"":t}var aU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lU=["dx","dy","angle","className","breakAll"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(null,arguments)}function FS(e,t){if(e==null)return{};var n,r,i=sU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VE=/[ \f\n\r\t\v\u2028\u2029]+/,XE=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];vn(t)||(n?i=t.toString().split(""):i=t.toString().split(VE));var o=i.map(f=>({word:f,width:Fo(f,r).width})),u=n?0:Fo("",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},iU=(e,t,n,r,i)=>{var{maxLines:o,children:u,style:f,breakAll:h}=e,m=Ge(o),g=u,x=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((F,X)=>{var{word:G,width:ge}=X,K=F[F.length-1];if(K&&(r==null||i||K.width+ge+n<Number(r)))K.words.push(G),K.width+=ge+n;else{var re={words:[G],width:ge};F.push(re)}return F},[])},y=x(t),w=H=>H.reduce((V,F)=>V.width>F.width?V:F);if(!m||i)return y;var N=y.length>o||w(y).width>Number(r);if(!N)return y;for(var j="",S=H=>{var V=g.slice(0,H),F=XE({breakAll:h,style:f,children:V+j}).wordsWithComputedWidth,X=x(F),G=X.length>o||w(X).width>Number(r);return[G,X]},A=0,C=g.length-1,T=0,k;A<=C&&T<=g.length-1;){var D=Math.floor((A+C)/2),P=D-1,[M,I]=S(P),[R]=S(D);if(!M&&!R&&(A=D+1),M&&R&&(C=D-1),!M&&R){k=I;break}T++}return k||y},YS=e=>{var t=vn(e)?[]:e.toString().split(VE);return[{words:t}]},oU=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:u}=e;if((t||n)&&!ps.isSsr){var f,h,m=XE({breakAll:o,children:r,style:i});if(m){var{wordsWithComputedWidth:g,spaceWidth:x}=m;f=g,h=x}else return YS(r);return iU({breakAll:o,children:r,maxLines:u,style:i},f,h,t,n)}return YS(r)},KS="#808080",If=b.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:f="start",verticalAnchor:h="end",fill:m=KS}=e,g=FS(e,aU),x=b.useMemo(()=>oU({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:y,dy:w,angle:N,className:j,breakAll:S}=g,A=FS(g,lU);if(!ea(n)||!ea(r)||x.length===0)return null;var C=n+(Ge(y)?y:0),T=r+(Ge(w)?w:0),k;switch(h){case"start":k=v0("calc(".concat(o,")"));break;case"middle":k=v0("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:k=v0("calc(".concat(x.length-1," * -").concat(i,")"));break}var D=[];if(u){var P=x[0].width,{width:M}=g;D.push("scale(".concat(Ge(M)?M/P:1,")"))}return N&&D.push("rotate(".concat(N,", ").concat(C,", ").concat(T,")")),D.length&&(A.transform=D.join(" ")),b.createElement("text",wp({},on(A,!0),{ref:t,x:C,y:T,className:Dt("recharts-text",j),textAnchor:f,fill:m.includes("url")?KS:m}),x.map((I,R)=>{var H=I.words.join(S?"":" ");return b.createElement("tspan",{x:C,dy:R===0?k:i,key:"".concat(H,"-").concat(R)},H)}))});If.displayName="Text";var cU=["labelRef"];function uU(e,t){if(e==null)return{};var n,r,i=dU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(n),!0).forEach(function(r){fU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fU(e,t,n){return(t=mU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e){var t=hU(e,"string");return typeof t=="symbol"?t:t+""}function hU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(null,arguments)}var WE=b.createContext(null),gU=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,u=b.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return b.createElement(WE.Provider,{value:u},o)},ZE=()=>{var e=b.useContext(WE),t=lx();return e||t},pU=b.createContext(null),xU=()=>{var e=b.useContext(pU),t=Ye(BD);return e||t},yU=e=>{var{value:t,formatter:n}=e,r=vn(e.children)?t:e.children;return typeof n=="function"?n(r):r},hy=e=>e!=null&&typeof e=="function",vU=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},bU=(e,t,n,r,i)=>{var{offset:o,className:u}=e,{cx:f,cy:h,innerRadius:m,outerRadius:g,startAngle:x,endAngle:y,clockWise:w}=i,N=(m+g)/2,j=vU(x,y),S=j>=0?1:-1,A,C;switch(t){case"insideStart":A=x+S*o,C=w;break;case"insideEnd":A=y-S*o,C=!w;break;case"end":A=y+S*o,C=w;break;default:throw new Error("Unsupported position ".concat(t))}C=j<=0?C:!C;var T=nn(f,h,N,A),k=nn(f,h,N,A+(C?1:-1)*359),D="M".concat(T.x,",").concat(T.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),P=vn(e.id)?Ko("recharts-radial-line-"):e.id;return b.createElement("text",Na({},r,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",u)}),b.createElement("defs",null,b.createElement("path",{id:P,d:D})),b.createElement("textPath",{xlinkHref:"#".concat(P)},n))},wU=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:u,startAngle:f,endAngle:h}=e,m=(f+h)/2;if(n==="outside"){var{x:g,y:x}=nn(r,i,u+t,m);return{x:g,y:x,textAnchor:g>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+u)/2,{x:w,y:N}=nn(r,i,y,m);return{x:w,y:N,textAnchor:"middle",verticalAnchor:"middle"}},QE=e=>"cx"in e&&Ge(e.cx),jU=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!QE(n)&&(o=n);var{x:u,y:f,width:h,height:m}=t,g=m>=0?1:-1,x=g*r,y=g>0?"end":"start",w=g>0?"start":"end",N=h>=0?1:-1,j=N*r,S=N>0?"end":"start",A=N>0?"start":"end";if(i==="top"){var C={x:u+h/2,y:f-g*r,textAnchor:"middle",verticalAnchor:y};return Zt(Zt({},C),o?{height:Math.max(f-o.y,0),width:h}:{})}if(i==="bottom"){var T={x:u+h/2,y:f+m+x,textAnchor:"middle",verticalAnchor:w};return Zt(Zt({},T),o?{height:Math.max(o.y+o.height-(f+m),0),width:h}:{})}if(i==="left"){var k={x:u-j,y:f+m/2,textAnchor:S,verticalAnchor:"middle"};return Zt(Zt({},k),o?{width:Math.max(k.x-o.x,0),height:m}:{})}if(i==="right"){var D={x:u+h+j,y:f+m/2,textAnchor:A,verticalAnchor:"middle"};return Zt(Zt({},D),o?{width:Math.max(o.x+o.width-D.x,0),height:m}:{})}var P=o?{width:h,height:m}:{};return i==="insideLeft"?Zt({x:u+j,y:f+m/2,textAnchor:A,verticalAnchor:"middle"},P):i==="insideRight"?Zt({x:u+h-j,y:f+m/2,textAnchor:S,verticalAnchor:"middle"},P):i==="insideTop"?Zt({x:u+h/2,y:f+x,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?Zt({x:u+h/2,y:f+m-x,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?Zt({x:u+j,y:f+x,textAnchor:A,verticalAnchor:w},P):i==="insideTopRight"?Zt({x:u+h-j,y:f+x,textAnchor:S,verticalAnchor:w},P):i==="insideBottomLeft"?Zt({x:u+j,y:f+m-x,textAnchor:A,verticalAnchor:y},P):i==="insideBottomRight"?Zt({x:u+h-j,y:f+m-x,textAnchor:S,verticalAnchor:y},P):i&&typeof i=="object"&&(Ge(i.x)||es(i.x))&&(Ge(i.y)||es(i.y))?Zt({x:u+$n(i.x,h),y:f+$n(i.y,m),textAnchor:"end",verticalAnchor:"end"},P):Zt({x:u+h/2,y:f+m/2,textAnchor:"middle",verticalAnchor:"middle"},P)},NU={offset:5};function xl(e){var t=zn(e,NU),{viewBox:n,position:r,value:i,children:o,content:u,className:f="",textBreakAll:h,labelRef:m}=t,g=xU(),x=ZE(),y=r==="center"?x:g??x,w=n||y;if(!w||vn(i)&&vn(o)&&!b.isValidElement(u)&&typeof u!="function")return null;var N=Zt(Zt({},t),{},{viewBox:w});if(b.isValidElement(u)){var{labelRef:j}=N,S=uU(N,cU);return b.cloneElement(u,S)}var A;if(typeof u=="function"){if(A=b.createElement(u,N),b.isValidElement(A))return A}else A=yU(t);var C=QE(w),T=on(t,!0);if(C&&(r==="insideStart"||r==="insideEnd"||r==="end"))return bU(t,r,A,T,w);var k=C?wU(w,t.offset,t.position):jU(t,w);return b.createElement(If,Na({ref:m,className:Dt("recharts-label",f)},T,k,{breakAll:h}),A)}xl.displayName="Label";var SU=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(xl,Na({key:"label-implicit"},r)):ea(e)?b.createElement(xl,Na({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===xl?b.cloneElement(e,Zt({key:"label-implicit"},r)):b.createElement(xl,Na({key:"label-implicit",content:e},r)):hy(e)?b.createElement(xl,Na({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(xl,Na({},e,{key:"label-implicit"},r)):null};function AU(e){var{label:t}=e,n=ZE();return SU(t,n)||null}var b0={},w0={},VS;function CU(){return VS||(VS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(w0)),w0}var j0={},XS;function DU(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(j0)),j0}var WS;function EU(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CU(),n=DU(),r=Xp();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(b0)),b0}var N0,ZS;function TU(){return ZS||(ZS=1,N0=EU().last),N0}var OU=TU();const PU=La(OU);var MU=["valueAccessor"],kU=["dataKey","clockWise","id","textBreakAll"];function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qd.apply(null,arguments)}function QS(e,t){if(e==null)return{};var n,r,i=_U(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _U(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $U=e=>Array.isArray(e.value)?PU(e.value):e.value,JE=b.createContext(void 0),IU=JE.Provider,e3=b.createContext(void 0),RU=e3.Provider;function LU(){return b.useContext(JE)}function BU(){return b.useContext(e3)}function od(e){var{valueAccessor:t=$U}=e,n=QS(e,MU),{dataKey:r,clockWise:i,id:o,textBreakAll:u}=n,f=QS(n,kU),h=LU(),m=BU(),g=h||m;return!g||!g.length?null:b.createElement(Jn,{className:"recharts-label-list"},g.map((x,y)=>{var w,N=vn(r)?t(x,y):Ft(x&&x.payload,r),j=vn(o)?{}:{id:"".concat(o,"-").concat(y)};return b.createElement(xl,qd({},on(x,!0),f,j,{fill:(w=n.fill)!==null&&w!==void 0?w:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:u,viewBox:x.viewBox,key:"label-".concat(y),index:y}))}))}od.displayName="LabelList";function t3(e){var{label:t}=e;return t?t===!0?b.createElement(od,{key:"labelList-implicit"}):b.isValidElement(t)||hy(t)?b.createElement(od,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(od,qd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var n3=e=>e.graphicalItems.polarItems,UU=me([Ut,xc],qx),gy=me([n3,Jt,UU],Fx),zU=me([gy],Yx),py=me([zU,Ox],Kx),qU=me([py,Jt,gy],Vx),HU=me([py,Jt,gy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,u=Ft(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Ft(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),JS=()=>{},FU=me([Jt,lE,JS,HU,JS,pt,Ut],Wx),r3=me([Jt,pt,py,qU,pc,Ut,FU],Zx),YU=me([r3,Jt,Pi],ey);me([Jt,r3,YU,Ut],ny);var KU={radiusAxis:{},angleAxis:{}},a3=pr({name:"polarAxis",initialState:KU,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:MK,removeRadiusAxis:kK,addAngleAxis:_K,removeAngleAxis:$K}=a3.actions,GU=a3.reducer;function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(r){VU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VU(e,t,n){return(t=XU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZU=(e,t)=>t,xy=me([n3,ZU],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),QU=[],yy=(e,t,n)=>n?.length===0?QU:n,l3=me([Ox,xy,yy],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>t2(t2({},t.presentationProps),o.props))),i!=null)return i}}),JU=me([l3,xy,yy],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,u=Ft(r,t.nameKey,t.name),f;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?f=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?f=r.fill:f=t.fill,{value:hf(u,t.dataKey),color:f,payload:r,type:t.legendType}})}),ez=me([l3,xy,yy,cn],(e,t,n,r)=>{if(!(t==null||e==null))return Jz({offset:r,pieSettings:t,displayedData:e,cells:n})}),S0={},n2;function tz(){return n2||(n2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(S0)),S0}var A0,r2;function nz(){return r2||(r2=1,A0=tz().isPlainObject),A0}var rz=nz();const az=La(rz);function a2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(n),!0).forEach(function(r){lz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lz(e,t,n){return(t=sz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sz(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(null,arguments)}var s2=(e,t,n,r,i)=>{var o=n-r,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+n,",").concat(t),u+="L ".concat(e+n-o/2,",").concat(t+i),u+="L ".concat(e+n-o/2-r,",").concat(t+i),u+="L ".concat(e,",").concat(t," Z"),u},oz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cz=e=>{var t=zn(e,oz),{x:n,y:r,upperWidth:i,lowerWidth:o,height:u,className:f}=t,{animationEasing:h,animationDuration:m,animationBegin:g,isUpdateAnimationActive:x}=t,y=b.useRef(),[w,N]=b.useState(-1),j=b.useRef(i),S=b.useRef(o),A=b.useRef(u),C=b.useRef(n),T=b.useRef(r),k=bf(e,"trapezoid-");if(b.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var G=y.current.getTotalLength();G&&N(G)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||u!==+u||i===0&&o===0||u===0)return null;var D=Dt("recharts-trapezoid",f);if(!x)return b.createElement("g",null,b.createElement("path",Hd({},on(t,!0),{className:D,d:s2(n,r,i,o,u)})));var P=j.current,M=S.current,I=A.current,R=C.current,H=T.current,V="0px ".concat(w===-1?1:w,"px"),F="".concat(w,"px 0px"),X=TC(["strokeDasharray"],m,h);return b.createElement(vf,{animationId:k,key:k,canBegin:w>0,duration:m,easing:h,isActive:x,begin:g},G=>{var ge=En(P,i,G),K=En(M,o,G),re=En(I,u,G),he=En(R,n,G),De=En(H,r,G);y.current&&(j.current=ge,S.current=K,A.current=re,C.current=he,T.current=De);var $=G>0?{transition:X,strokeDasharray:F}:{strokeDasharray:V};return b.createElement("path",Hd({},on(t,!0),{className:D,d:s2(he,De,ge,K,re),ref:y,style:l2(l2({},$),t.style)}))})},uz=["option","shapeType","propTransformer","activeClassName","isActive"];function dz(e,t){if(e==null)return{};var n,r,i=fz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function i2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(n),!0).forEach(function(r){mz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mz(e,t,n){return(t=hz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hz(e){var t=gz(e,"string");return typeof t=="symbol"?t:t+""}function gz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pz(e,t){return Fd(Fd({},t),e)}function xz(e,t){return e==="symbols"}function o2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(kC,n);case"trapezoid":return b.createElement(cz,n);case"sector":return b.createElement(IC,n);case"symbols":if(xz(t))return b.createElement(PA,n);break;default:return null}}function yz(e){return b.isValidElement(e)?e.props:e}function s3(e){var{option:t,shapeType:n,propTransformer:r=pz,activeClassName:i="recharts-active-shape",isActive:o}=e,u=dz(e,uz),f;if(b.isValidElement(t))f=b.cloneElement(t,Fd(Fd({},u),yz(t)));else if(typeof t=="function")f=t(u);else if(az(t)&&typeof t!="boolean"){var h=r(t,u);f=b.createElement(o2,{shapeType:n,elementProps:h})}else{var m=u;f=b.createElement(o2,{shapeType:n,elementProps:m})}return o?b.createElement(Jn,{className:i},f):f}var vy=(e,t)=>{var n=Qt();return(r,i)=>o=>{e?.(r,i,o),n(wE({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},by=e=>{var t=Qt();return(n,r)=>i=>{e?.(n,r,i),t(eB())}},wy=(e,t)=>{var n=Qt();return(r,i)=>o=>{e?.(r,i,o),n(tB({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function i3(e){var{fn:t,args:n}=e,r=Qt(),i=_r();return b.useEffect(()=>{if(!i){var o=t(n);return r(Z7(o)),()=>{r(Q7(o))}}},[t,n,r,i]),null}var o3=()=>{};function vz(e){var{legendPayload:t}=e,n=Qt(),r=_r();return b.useEffect(()=>r?o3:(n(AC(t)),()=>{n(CC(t))}),[n,r,t]),null}function bz(e){var{legendPayload:t}=e,n=Qt(),r=Ye(pt);return b.useEffect(()=>r!=="centric"&&r!=="radial"?o3:(n(AC(t)),()=>{n(CC(t))}),[n,r,t]),null}var C0,wz=()=>{var[e]=b.useState(()=>Ko("uid-"));return e},jz=(C0=QO.useId)!==null&&C0!==void 0?C0:wz;function Nz(e,t){var n=jz();return t||(e?"".concat(e,"-").concat(n):n)}var Sz=b.createContext(void 0),c3=e=>{var{id:t,type:n,children:r}=e,i=Nz("recharts-".concat(n),t);return b.createElement(Sz.Provider,{value:i},r(i))},Az={cartesianItems:[],polarItems:[]},u3=pr({name:"graphicalItems",initialState:Az,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Ea(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Ea(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ea(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Cz,replaceCartesianGraphicalItem:Dz,removeCartesianGraphicalItem:Ez,addPolarGraphicalItem:Tz,removePolarGraphicalItem:Oz}=u3.actions,Pz=u3.reducer;function Mz(e){var t=Qt(),n=b.useRef(null);return b.useEffect(()=>{n.current===null?t(Cz(e)):n.current!==e&&t(Dz({prev:n.current,next:e})),n.current=e},[t,e]),b.useEffect(()=>()=>{n.current&&(t(Ez(n.current)),n.current=null)},[t]),null}function kz(e){var t=Qt();return b.useEffect(()=>(t(Tz(e)),()=>{t(Oz(e))}),[t,e]),null}var _z=["onMouseEnter","onClick","onMouseLeave"],$z=["id"],Iz=["id"];function jy(e,t){if(e==null)return{};var n,r,i=Rz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){Lz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lz(e,t,n){return(t=Bz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bz(e){var t=Uz(e,"string");return typeof t=="symbol"?t:t+""}function Uz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(null,arguments)}function zz(e){var t=b.useMemo(()=>Yp(e.children,Nc),[e.children]),n=Ye(r=>JU(r,e.id,t));return n==null?null:b.createElement(bz,{legendPayload:n})}function qz(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:u,name:f,hide:h,tooltipType:m}=e;return{dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:u,dataKey:t,nameKey:n,name:hf(f,t),hide:h,type:m,color:u,unit:""}}}var Hz=(e,t)=>e>t?"start":e<t?"end":"middle",Fz=(e,t,n)=>$n(typeof t=="function"?t(e):t,n,n*.8),Yz=(e,t,n)=>{var{top:r,left:i,width:o,height:u}=t,f=hC(o,u),h=i+$n(e.cx,o,o/2),m=r+$n(e.cy,u,u/2),g=$n(e.innerRadius,f,0),x=Fz(n,e.outerRadius,f),y=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:h,cy:m,innerRadius:g,outerRadius:x,maxRadius:y}},Kz=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Gz(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Vz=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Dt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(EC,Al({},t,{type:"linear",className:n}))},Xz=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var i=Dt("recharts-pie-label-text",Gz(e));return b.createElement(If,Al({},t,{alignmentBaseline:"middle",className:i}),r)};function Wz(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:u}=n;if(!r||!i||!t)return null;var f=El(n),h=on(i,!1),m=on(o,!1),g=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,x=t.map((y,w)=>{var N=(y.startAngle+y.endAngle)/2,j=nn(y.cx,y.cy,y.outerRadius+g,N),S=Rt(Rt(Rt(Rt({},f),y),{},{stroke:"none"},h),{},{index:w,textAnchor:Hz(j.x,y.cx)},j),A=Rt(Rt(Rt(Rt({},f),y),{},{fill:"none",stroke:y.fill},m),{},{index:w,points:[nn(y.cx,y.cy,y.outerRadius,N),j],key:"line"});return b.createElement(Jn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},o&&Vz(o,A),Xz(i,S,Ft(y,u)))});return b.createElement(Jn,{className:"recharts-pie-labels"},x)}function Zz(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(t3,{label:i}):b.createElement(Wz,{sectors:t,props:n,showLabels:r})}function Qz(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=Ye(ms),{onMouseEnter:u,onClick:f,onMouseLeave:h}=i,m=jy(i,_z),g=vy(u,i.dataKey),x=by(h),y=wy(f,i.dataKey);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((w,N)=>{if(w?.startAngle===0&&w?.endAngle===0&&t.length!==1)return null;var j=n&&String(N)===o,S=o?r:null,A=j?n:S,C=Rt(Rt({},w),{},{stroke:w.stroke,tabIndex:-1,[vC]:N,[bC]:i.dataKey});return b.createElement(Jn,Al({tabIndex:-1,className:"recharts-pie-sector"},rf(m,w,N),{onMouseEnter:g(w,N),onMouseLeave:x(w,N),onClick:y(w,N),key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(N)}),b.createElement(s3,Al({option:A,isActive:j,shapeType:"sector"},C)))}))}function Jz(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:u,startAngle:f,endAngle:h,dataKey:m,nameKey:g,tooltipType:x}=n,y=Math.abs(n.minAngle),w=Kz(f,h),N=Math.abs(w),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(P=>Ft(P,m,0)!==0).length,A=(N>=360?S:S-1)*j,C=N-S*y-A,T=r.reduce((P,M)=>{var I=Ft(M,m,0);return P+(Ge(I)?I:0)},0),k;if(T>0){var D;k=r.map((P,M)=>{var I=Ft(P,m,0),R=Ft(P,g,M),H=Yz(n,o,P),V=(Ge(I)?I:0)/T,F,X=Rt(Rt({},P),i&&i[M]&&i[M].props);M?F=D.endAngle+yn(w)*j*(I!==0?1:0):F=f;var G=F+yn(w)*((I!==0?y:0)+V*C),ge=(F+G)/2,K=(H.innerRadius+H.outerRadius)/2,re=[{name:R,value:I,payload:X,dataKey:m,type:x}],he=nn(H.cx,H.cy,K,ge);return D=Rt(Rt(Rt(Rt({},n.presentationProps),{},{percent:V,cornerRadius:u,name:R,tooltipPayload:re,midAngle:ge,middleRadius:K,tooltipPosition:he},X),H),{},{value:I,startAngle:F,endAngle:G,payload:X,paddingAngle:yn(w)*j}),D})}return k}function eq(e){var{showLabels:t,sectors:n,children:r}=e,i=b.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return b.createElement(RU,{value:t?i:void 0},r)}function tq(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:m,onAnimationStart:g,onAnimationEnd:x}=t,y=bf(t,"recharts-pie-"),w=n.current,[N,j]=b.useState(!1),S=b.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),A=b.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]);return b.createElement(eq,{showLabels:!N,sectors:r},b.createElement(vf,{animationId:y,begin:o,duration:u,isActive:i,easing:f,onAnimationStart:A,onAnimationEnd:S,key:y},C=>{var T=[],k=r&&r[0],D=k?.startAngle;return r?.forEach((P,M)=>{var I=w&&w[M],R=M>0?cs(P,"paddingAngle",0):0;if(I){var H=En(I.endAngle-I.startAngle,P.endAngle-P.startAngle,C),V=Rt(Rt({},P),{},{startAngle:D+R,endAngle:D+H+R});T.push(V),D=V.endAngle}else{var{endAngle:F,startAngle:X}=P,G=En(0,F-X,C),ge=Rt(Rt({},P),{},{startAngle:D+R,endAngle:D+G+R});T.push(ge),D=ge.endAngle}}),n.current=T,b.createElement(Jn,null,b.createElement(Qz,{sectors:T,activeShape:h,inactiveShape:m,allOtherPieProps:t}))}),b.createElement(Zz,{showLabels:!N,sectors:r,props:t}),t.children)}var nq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ps.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function rq(e){var{id:t}=e,n=jy(e,$z),{hide:r,className:i,rootTabIndex:o}=e,u=b.useMemo(()=>Yp(e.children,Nc),[e.children]),f=Ye(g=>ez(g,t,u)),h=b.useRef(null),m=Dt("recharts-pie",i);return r||f==null?(h.current=null,b.createElement(Jn,{tabIndex:o,className:m})):b.createElement(b.Fragment,null,b.createElement(i3,{fn:qz,args:Rt(Rt({},e),{},{sectors:f})}),b.createElement(Jn,{tabIndex:o,className:m},b.createElement(tq,{props:Rt(Rt({},n),{},{sectors:f}),previousSectorsRef:h})))}function d3(e){var t=zn(e,nq),{id:n}=t,r=jy(t,Iz),i=El(r);return b.createElement(c3,{id:n,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(kz,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),b.createElement(zz,Al({},r,{id:o})),b.createElement(rq,Al({},r,{id:o}))))}d3.displayName="Pie";function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(r){aq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iq={xAxis:{},yAxis:{},zAxis:{}},f3=pr({name:"cartesianAxis",initialState:iq,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=d2(d2({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:oq,removeXAxis:cq,addYAxis:uq,removeYAxis:dq,addZAxis:IK,removeZAxis:RK,updateYAxisWidth:fq}=f3.actions,mq=f3.reducer,hq=me([cn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),gq=me([hq,Ba,Ua],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),m3=()=>Ye(gq),pq="Invariant failed";function xq(e,t){throw new Error(pq)}var yq=["x","y"];function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jp.apply(null,arguments)}function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(r){vq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vq(e,t,n){return(t=bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jq(e,t){if(e==null)return{};var n,r,i=Nq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sq(e,t){var{x:n,y:r}=e,i=jq(e,yq),o="".concat(n),u=parseInt(o,10),f="".concat(r),h=parseInt(f,10),m="".concat(t.height||i.height),g=parseInt(m,10),x="".concat(t.width||i.width),y=parseInt(x,10);return Bo(Bo(Bo(Bo(Bo({},t),i),u?{x:u}:{}),h?{y:h}:{}),{},{height:g,width:y,name:t.name,radius:t.radius})}function Ny(e){return b.createElement(s3,jp({shapeType:"rectangle",propTransformer:Sq,activeClassName:"recharts-active-bar"},e))}var Aq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ge(t))return t;var o=Ge(r)||vn(r);return o?t(r,i):(o||xq(),n)}},Cq={},h3=pr({name:"errorBars",initialState:Cq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:LK,replaceErrorBar:BK,removeErrorBar:UK}=h3.actions,Dq=h3.reducer,Eq=["children"];function Tq(e,t){if(e==null)return{};var n,r,i=Oq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Mq=b.createContext(Pq);function kq(e){var{children:t}=e,n=Tq(e,Eq);return b.createElement(Mq.Provider,{value:n},t)}function g3(e,t){var n,r,i=Ye(m=>qa(m,e)),o=Ye(m=>Ha(m,t)),u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ir.allowDataOverflow,f=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:or.allowDataOverflow,h=u||f;return{needClip:h,needClipX:u,needClipY:f}}function _q(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=m3(),{needClipX:o,needClipY:u,needClip:f}=g3(t,n);if(!f)return null;var{x:h,y:m,width:g,height:x}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?h:h-g/2,y:u?m:m-x/2,width:o?g:g*2,height:u?x:x*2}))}var $q=["onMouseEnter","onMouseLeave","onClick"],Iq=["value","background","tooltipPosition"],Rq=["id"],Lq=["onMouseEnter","onClick","onMouseLeave"];function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(null,arguments)}function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(r){Bq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bq(e,t,n){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(e,t){if(e==null)return{};var n,r,i=qq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hq=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:hf(n,t),payload:e}]};function Fq(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:u,unit:f}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:hf(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:f}}}function Yq(e){var t=Ye(ms),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:f,onClick:h}=o,m=Yd(o,$q),g=vy(u,r),x=by(f),y=wy(h,r);if(!i||n==null)return null;var w=on(i,!1);return b.createElement(b.Fragment,null,n.map((N,j)=>{var{value:S,background:A,tooltipPosition:C}=N,T=Yd(N,Iq);if(!A)return null;var k=g(N,j),D=x(N,j),P=y(N,j),M=Bn(Bn(Bn(Bn(Bn({option:i,isActive:String(j)===t},T),{},{fill:"#eee"},A),w),rf(m,N,j)),{},{onMouseEnter:k,onMouseLeave:D,onClick:P,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return b.createElement(Ny,Cl({key:"background-bar-".concat(M.index)},M))}))}function Kq(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return Bn(Bn({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return b.createElement(IU,{value:t?i:void 0},n)}function Gq(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:u}=e,f=Ye(ms),h=Ye(_E),m=n&&String(o)===f&&(h==null||u===h),g=m?n:t;return b.createElement(Ny,Cl({},r,i,{isActive:m,option:g,index:o,dataKey:u}))}function Vq(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return b.createElement(Ny,Cl({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function Xq(e){var{data:t,props:n}=e,r=El(n),{id:i}=r,o=Yd(r,Rq),{shape:u,dataKey:f,activeBar:h}=n,{onMouseEnter:m,onClick:g,onMouseLeave:x}=n,y=Yd(n,Lq),w=vy(m,f),N=by(x),j=wy(g,f);return t?b.createElement(b.Fragment,null,t.map((S,A)=>b.createElement(Jn,Cl({className:"recharts-bar-rectangle"},rf(y,S,A),{onMouseEnter:w(S,A),onMouseLeave:N(S,A),onClick:j(S,A),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(A)}),h?b.createElement(Gq,{shape:u,activeBar:h,baseProps:o,entry:S,index:A,dataKey:f}):b.createElement(Vq,{shape:u,baseProps:o,entry:S,index:A,dataKey:f})))):null}function Wq(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:u,animationDuration:f,animationEasing:h,onAnimationEnd:m,onAnimationStart:g}=t,x=n.current,y=bf(t,"recharts-bar-"),[w,N]=b.useState(!1),j=!w,S=b.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),A=b.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);return b.createElement(Kq,{showLabels:j,rects:r},b.createElement(vf,{animationId:y,begin:u,duration:f,isActive:o,easing:h,onAnimationEnd:S,onAnimationStart:A,key:y},C=>{var T=C===1?r:r?.map((k,D)=>{var P=x&&x[D];if(P)return Bn(Bn({},k),{},{x:En(P.x,k.x,C),y:En(P.y,k.y,C),width:En(P.width,k.width,C),height:En(P.height,k.height,C)});if(i==="horizontal"){var M=En(0,k.height,C);return Bn(Bn({},k),{},{y:k.y+k.height-M,height:M})}var I=En(0,k.width,C);return Bn(Bn({},k),{},{width:I})});return C>0&&(n.current=T??null),T==null?null:b.createElement(Jn,null,b.createElement(Xq,{props:t,data:T}))}),b.createElement(t3,{label:t.label}),t.children)}function Zq(e){var t=b.useRef(null);return b.createElement(Wq,{previousRectanglesRef:t,props:e})}var p3=0,Qq=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ft(e,t)}};class Jq extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:u,needClip:f,background:h,id:m}=this.props;if(t||n==null)return null;var g=Dt("recharts-bar",i),x=m;return b.createElement(Jn,{className:g,id:m},f&&b.createElement("defs",null,b.createElement(_q,{clipPathId:x,xAxisId:o,yAxisId:u})),b.createElement(Jn,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(x,")"):void 0},b.createElement(Yq,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),b.createElement(Zq,this.props)))}}var eH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ps.isSsr,legendType:"rect",minPointSize:p3,xAxisId:0,yAxisId:0};function tH(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:h,animationEasing:m,isAnimationActive:g}=e,{needClip:x}=g3(t,n),y=sx(),w=_r(),N=Yp(e.children,Nc),j=Ye(C=>TH(C,t,n,w,e.id,N));if(y!=="vertical"&&y!=="horizontal")return null;var S,A=j?.[0];return A==null||A.height==null||A.width==null?S=0:S=y==="vertical"?A.height/2:A.width/2,b.createElement(kq,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:Qq,errorBarOffset:S},b.createElement(Jq,Cl({},e,{layout:y,needClip:x,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:h,animationEasing:m,isAnimationActive:g})))}function nH(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:u,yAxis:f,xAxisTicks:h,yAxisTicks:m,stackedData:g,displayedData:x,offset:y,cells:w,parentViewBox:N}=e,j=t==="horizontal"?f:u,S=g?j.scale.domain():null,A=T$({numericAxis:j});return x.map((C,T)=>{var k,D,P,M,I,R;g?k=N$(g[T],S):(k=Ft(C,n),Array.isArray(k)||(k=[A,k]));var H=Aq(r,p3)(k[1],T);if(t==="horizontal"){var V,[F,X]=[f.scale(k[0]),f.scale(k[1])];D=eN({axis:u,ticks:h,bandSize:o,offset:i.offset,entry:C,index:T}),P=(V=X??F)!==null&&V!==void 0?V:void 0,M=i.size;var G=F-X;if(I=mr(G)?0:G,R={x:D,y:y.top,width:M,height:y.height},Math.abs(H)>0&&Math.abs(I)<Math.abs(H)){var ge=yn(I||H)*(Math.abs(H)-Math.abs(I));P-=ge,I+=ge}}else{var[K,re]=[u.scale(k[0]),u.scale(k[1])];if(D=K,P=eN({axis:f,ticks:m,bandSize:o,offset:i.offset,entry:C,index:T}),M=re-K,I=i.size,R={x:y.left,y:P,width:y.width,height:I},Math.abs(H)>0&&Math.abs(M)<Math.abs(H)){var he=yn(M||H)*(Math.abs(H)-Math.abs(M));M+=he}}if(D==null||P==null||M==null||I==null)return null;var De=Bn(Bn({},C),{},{x:D,y:P,width:M,height:I,value:g?k:k[1],payload:C,background:R,tooltipPosition:{x:D+M/2,y:P+I/2},parentViewBox:N},w&&w[T]&&w[T].props);return De}).filter(Boolean)}function rH(e){var t=zn(e,eH),n=_r();return b.createElement(c3,{id:t.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(vz,{legendPayload:Hq(t)}),b.createElement(i3,{fn:Fq,args:t}),b.createElement(Mz,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:E$(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(tH,Cl({},t,{id:r}))))}var Np=b.memo(rH);Np.displayName="Bar";function h2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return(t=lH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iH=(e,t)=>t,oH=(e,t,n)=>n,cH=(e,t,n,r)=>r,uH=(e,t,n,r,i)=>i,Sc=me([Hx,uH],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),dH=me([Sc],e=>e?.maxBarSize),fH=(e,t,n,r,i,o)=>o,g2=(e,t,n)=>{var r=n??e;if(!vn(r))return $n(r,t,0)},mH=me([pt,Hx,iH,oH,cH],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),hH=(e,t,n,r)=>{var i=pt(e);return i==="horizontal"?pp(e,"yAxis",n,r):pp(e,"xAxis",t,r)},gH=(e,t,n)=>{var r=pt(e);return r==="horizontal"?gS(e,"xAxis",t):gS(e,"yAxis",n)},pH=(e,t,n)=>{var r={},i=e.filter(Of),o=e.filter(m=>m.stackId==null),u=i.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),r),f=Object.entries(u).map(m=>{var[g,x]=m,y=x.map(N=>N.dataKey),w=g2(t,n,x[0].barSize);return{stackId:g,dataKeys:y,barSize:w}}),h=o.map(m=>{var g=[m.dataKey].filter(y=>y!=null),x=g2(t,n,m.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...f,...h]},xH=me([mH,W8,gH],pH),yH=(e,t,n,r,i)=>{var o,u,f=Sc(e,t,n,r,i);if(f!=null){var h=pt(e),m=MD(e),{maxBarSize:g}=f,x=vn(g)?m:g,y,w;return h==="horizontal"?(y=pi(e,"xAxis",t,r),w=gi(e,"xAxis",t,r)):(y=pi(e,"yAxis",n,r),w=gi(e,"yAxis",n,r)),(o=(u=rx(y,w,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},x3=(e,t,n,r)=>{var i=pt(e),o,u;return i==="horizontal"?(o=pi(e,"xAxis",t,r),u=gi(e,"xAxis",t,r)):(o=pi(e,"yAxis",n,r),u=gi(e,"yAxis",n,r)),rx(o,u)};function vH(e,t,n,r,i){var o=r.length;if(!(o<1)){var u=$n(e,n,0,!0),f,h=[];if(gr(r[0].barSize)){var m=!1,g=n/o,x=r.reduce((A,C)=>A+(C.barSize||0),0);x+=(o-1)*u,x>=n&&(x-=(o-1)*u,u=0),x>=n&&g>0&&(m=!0,g*=.9,x=o*g);var y=(n-x)/2>>0,w={offset:y-u,size:0};f=r.reduce((A,C)=>{var T,k={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w.offset+w.size+u,size:m?g:(T=C.barSize)!==null&&T!==void 0?T:0}},D=[...A,k];return w=D[D.length-1].position,D},h)}else{var N=$n(t,n,0,!0);n-2*N-(o-1)*u<=0&&(u=0);var j=(n-2*N-(o-1)*u)/o;j>1&&(j>>=0);var S=gr(i)?Math.min(j,i):j;f=r.reduce((A,C,T)=>[...A,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:N+(j+u)*T+(j-S)/2,size:S}}],h)}return f}}var bH=(e,t,n,r,i,o,u)=>{var f=vn(u)?t:u,h=vH(n,r,i!==o?i:o,e,f);return i!==o&&h!=null&&(h=h.map(m=>nd(nd({},m),{},{position:nd(nd({},m.position),{},{offset:m.position.offset-i/2})}))),h},wH=me([xH,MD,X8,kD,yH,x3,dH],bH),jH=(e,t,n,r)=>pi(e,"xAxis",t,r),NH=(e,t,n,r)=>pi(e,"yAxis",n,r),SH=(e,t,n,r)=>gi(e,"xAxis",t,r),AH=(e,t,n,r)=>gi(e,"yAxis",n,r),CH=me([wH,Sc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),DH=(e,t)=>{var n=Ux(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(u=>u.key===n)}}}},EH=me([hH,Sc],DH),TH=me([cn,ax,jH,NH,SH,AH,CH,pt,Px,x3,EH,Sc,fH],(e,t,n,r,i,o,u,f,h,m,g,x,y)=>{var{chartData:w,dataStartIndex:N,dataEndIndex:j}=h;if(!(x==null||u==null||t==null||f!=="horizontal"&&f!=="vertical"||n==null||r==null||i==null||o==null||m==null)){var{data:S}=x,A;if(S!=null&&S.length>0?A=S:A=w?.slice(N,j+1),A!=null)return nH({layout:f,barSettings:x,pos:u,parentViewBox:t,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:g,displayedData:A,offset:e,cells:y})}}),y3=e=>{var{chartData:t}=e,n=Qt(),r=_r();return b.useEffect(()=>r?()=>{}:(n(AS(t)),()=>{n(AS(void 0))}),[t,n,r]),null},p2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},v3=pr({name:"brush",initialState:p2,reducers:{setBrushSettings(e,t){return t.payload==null?p2:t.payload}}}),{setBrushSettings:zK}=v3.actions,OH=v3.reducer;function PH(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sy{static create(t){return new Sy(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}PH(Sy,"EPS",1e-4);function _H(e){return(e%180+180)%180}var $H=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=_H(i),u=o*Math.PI/180,f=Math.atan(r/n),h=u>f&&u<Math.PI-f?r/Math.sin(u):n/Math.cos(u);return Math.abs(h)},IH={dots:[],areas:[],lines:[]},b3=pr({name:"referenceElements",initialState:IH,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ea(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ea(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ea(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:qK,removeDot:HK,addArea:FK,removeArea:YK,addLine:KK,removeLine:GK}=b3.actions,RH=b3.reducer,LH=b.createContext(void 0),BH=e=>{var{children:t}=e,[n]=b.useState("".concat(Ko("recharts"),"-clip")),r=m3();if(r==null)return null;var{x:i,y:o,width:u,height:f}=r;return b.createElement(LH.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:f,width:u}))),t)};function xi(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function w3(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function UH(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $H(r,n)}function zH(e,t,n){var r=n==="width",{x:i,y:o,width:u,height:f}=e;return t===1?{start:r?i:o,end:r?i+u:o+f}:{start:r?i+u:o+f,end:r?i:o}}function Kd(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function qH(e,t){return w3(e,t+1)}function HH(e,t,n,r,i){for(var o=(r||[]).slice(),{start:u,end:f}=t,h=0,m=1,g=u,x=function(){var N=r?.[h];if(N===void 0)return{v:w3(r,m)};var j=h,S,A=()=>(S===void 0&&(S=n(N,j)),S),C=N.coordinate,T=h===0||Kd(e,C,A,g,f);T||(h=0,g=u,m+=1),T&&(g=C+e*(A()/2+i),h+=m)},y;m<=o.length;)if(y=x(),y)return y.v;return[]}function x2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(n),!0).forEach(function(r){FH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FH(e,t,n){return(t=YH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e,t,n,r,i){for(var o=(r||[]).slice(),u=o.length,{start:f}=t,{end:h}=t,m=function(y){var w=o[y],N,j=()=>(N===void 0&&(N=n(w,y)),N);if(y===u-1){var S=e*(w.coordinate+e*j()/2-h);o[y]=w=Mn(Mn({},w),{},{tickCoord:S>0?w.coordinate-S*e:w.coordinate})}else o[y]=w=Mn(Mn({},w),{},{tickCoord:w.coordinate});var A=Kd(e,w.tickCoord,j,f,h);A&&(h=w.tickCoord-e*(j()/2+i),o[y]=Mn(Mn({},w),{},{isShow:!0}))},g=u-1;g>=0;g--)m(g);return o}function VH(e,t,n,r,i,o){var u=(r||[]).slice(),f=u.length,{start:h,end:m}=t;if(o){var g=r[f-1],x=n(g,f-1),y=e*(g.coordinate+e*x/2-m);u[f-1]=g=Mn(Mn({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate});var w=Kd(e,g.tickCoord,()=>x,h,m);w&&(m=g.tickCoord-e*(x/2+i),u[f-1]=Mn(Mn({},g),{},{isShow:!0}))}for(var N=o?f-1:f,j=function(C){var T=u[C],k,D=()=>(k===void 0&&(k=n(T,C)),k);if(C===0){var P=e*(T.coordinate-e*D()/2-h);u[C]=T=Mn(Mn({},T),{},{tickCoord:P<0?T.coordinate-P*e:T.coordinate})}else u[C]=T=Mn(Mn({},T),{},{tickCoord:T.coordinate});var M=Kd(e,T.tickCoord,D,h,m);M&&(h=T.tickCoord+e*(D()/2+i),u[C]=Mn(Mn({},T),{},{isShow:!0}))},S=0;S<N;S++)j(S);return u}function Ay(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:u,orientation:f,interval:h,tickFormatter:m,unit:g,angle:x}=e;if(!i||!i.length||!r)return[];if(Ge(h)||ps.isSsr){var y;return(y=qH(i,Ge(h)?h:0))!==null&&y!==void 0?y:[]}var w=[],N=f==="top"||f==="bottom"?"width":"height",j=g&&N==="width"?Fo(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(T,k)=>{var D=typeof m=="function"?m(T.value,k):T.value;return N==="width"?UH(Fo(D,{fontSize:t,letterSpacing:n}),j,x):Fo(D,{fontSize:t,letterSpacing:n})[N]},A=i.length>=2?yn(i[1].coordinate-i[0].coordinate):1,C=zH(o,A,N);return h==="equidistantPreserveStart"?HH(A,C,S,i,u):(h==="preserveStart"||h==="preserveStartEnd"?w=VH(A,C,S,i,u,h==="preserveStartEnd"):w=GH(A,C,S,i,u),w.filter(T=>T.isShow))}var XH=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,u=0;if(t){t.forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>u&&(u=x.width)}});var f=n?n.getBoundingClientRect().width:0,h=i+o,m=u+h+f+(n?r:0);return Math.round(m)}return 0},WH=["axisLine","width","height","className","hide","ticks"],ZH=["viewBox"],QH=["viewBox"];function Sp(e,t){if(e==null)return{};var n,r,i=JH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs.apply(null,arguments)}function y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(n),!0).forEach(function(r){eF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eF(e,t,n){return(t=tF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cy={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function rF(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:u,axisLine:f,otherSvgProps:h}=e;if(!f)return null;var m=sn(sn(sn({},h),on(f,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var g=+(o==="top"&&!u||o==="bottom"&&u);m=sn(sn({},m),{},{x1:t,y1:n+g*i,x2:t+r,y2:n+g*i})}else{var x=+(o==="left"&&!u||o==="right"&&u);m=sn(sn({},m),{},{x1:t+x*r,y1:n,x2:t+x*r,y2:n+i})}return b.createElement("line",hs({},m,{className:Dt("recharts-cartesian-axis-line",cs(f,"className"))}))}function aF(e,t,n,r,i,o,u,f,h){var m,g,x,y,w,N,j=f?-1:1,S=e.tickSize||u,A=Ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=g=e.coordinate,y=n+ +!f*i,x=y-j*S,N=x-j*h,w=A;break;case"left":x=y=e.coordinate,g=t+ +!f*r,m=g-j*S,w=m-j*h,N=A;break;case"right":x=y=e.coordinate,g=t+ +f*r,m=g+j*S,w=m+j*h,N=A;break;default:m=g=e.coordinate,y=n+ +f*i,x=y+j*S,N=x+j*h,w=A;break}return{line:{x1:m,y1:x,x2:g,y2:y},tick:{x:w,y:N}}}function lF(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function sF(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function iF(e){var{option:t,tickProps:n,value:r}=e,i,o=Dt(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,sn(sn({},n),{},{className:o}));else if(typeof t=="function")i=t(sn(sn({},n),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=Dt(u,t?.className)),i=b.createElement(If,hs({},n,{className:u}),r)}return i}function oF(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:u,padding:f,tickTextProps:h,orientation:m,mirror:g,x,y,width:w,height:N,tickSize:j,tickMargin:S,fontSize:A,letterSpacing:C,getTicksConfig:T,events:k}=e,D=Ay(sn(sn({},T),{},{ticks:t}),A,C),P=lF(m,g),M=sF(m,g),I=El(T),R=on(n,!1),H=sn(sn({},I),{},{fill:"none"},on(r,!1)),V=D.map((F,X)=>{var{line:G,tick:ge}=aF(F,x,y,w,N,m,j,g,S),K=sn(sn(sn(sn({textAnchor:P,verticalAnchor:M},I),{},{stroke:"none",fill:i},R),ge),{},{index:X,payload:F,visibleTicksCount:D.length,tickFormatter:o,padding:f},h);return b.createElement(Jn,hs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},rf(k,F,X)),r&&b.createElement("line",hs({},H,G,{className:Dt("recharts-cartesian-axis-tick-line",cs(r,"className"))})),n&&b.createElement(iF,{option:n,tickProps:K,value:"".concat(typeof o=="function"?o(F.value,X):F.value).concat(u||"")}))});return V.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var cF=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:u,ticks:f}=e,h=Sp(e,WH),[m,g]=b.useState(""),[x,y]=b.useState(""),w=b.useRef([]);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return XH({ticks:w.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=b.useCallback(j=>{if(j){var S=j.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=Array.from(S);var A=S[0];if(A){var C=window.getComputedStyle(A),T=C.fontSize,k=C.letterSpacing;(T!==m||k!==x)&&(g(T),y(k))}}},[m,x]);return u||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Jn,{className:Dt("recharts-cartesian-axis",o),ref:N},b.createElement(rF,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:El(e)}),b.createElement(oF,{ticks:f,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:x,getTicksConfig:e,events:h}),b.createElement(gU,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(AU,{label:e.label}),e.children))}),uF=b.memo(cF,(e,t)=>{var{viewBox:n}=e,r=Sp(e,ZH),{viewBox:i}=t,o=Sp(t,QH);return xi(n,i)&&xi(r,o)}),Dy=b.forwardRef((e,t)=>{var n=zn(e,Cy);return b.createElement(uF,hs({},n,{ref:t}))});Dy.displayName="CartesianAxis";var dF=["x1","y1","x2","y2","key"],fF=["offset"],mF=["xAxisId","yAxisId"],hF=["xAxisId","yAxisId"];function v2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(n),!0).forEach(function(r){gF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gF(e,t,n){return(t=pF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pF(e){var t=xF(e,"string");return typeof t=="symbol"?t:t+""}function xF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(null,arguments)}function Gd(e,t){if(e==null)return{};var n,r,i=yF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:u,ry:f}=e;return b.createElement("rect",{x:r,y:i,ry:f,width:o,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j3(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:u,key:f}=t,h=Gd(t,dF),m=El(h),{offset:g}=m,x=Gd(m,fF);n=b.createElement("line",rs({},x,{x1:r,y1:i,x2:o,y2:u,fill:"none",key:f}))}return n}function bF(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:u}=e,f=Gd(e,mF),h=i.map((m,g)=>{var x=_n(_n({},f),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(g),index:g});return j3(r,x)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function wF(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:u}=e,f=Gd(e,hF),h=i.map((m,g)=>{var x=_n(_n({},f),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(g),index:g});return j3(r,x)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function jF(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:u,horizontalPoints:f,horizontal:h=!0}=e;if(!h||!t||!t.length)return null;var m=f.map(x=>Math.round(x+i-i)).sort((x,y)=>x-y);i!==m[0]&&m.unshift(0);var g=m.map((x,y)=>{var w=!m[y+1],N=w?i+u-x:m[y+1]-x;if(N<=0)return null;var j=y%t.length;return b.createElement("rect",{key:"react-".concat(y),y:x,x:r,height:N,width:o,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function NF(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:u,height:f,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var m=h.map(x=>Math.round(x+i-i)).sort((x,y)=>x-y);i!==m[0]&&m.unshift(0);var g=m.map((x,y)=>{var w=!m[y+1],N=w?i+u-x:m[y+1]-x;if(N<=0)return null;var j=y%n.length;return b.createElement("rect",{key:"react-".concat(y),x,y:o,width:N,height:f,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var SF=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return pC(Ay(_n(_n(_n({},Cy),n),{},{ticks:xC(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},AF=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return pC(Ay(_n(_n(_n({},Cy),n),{},{ticks:xC(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},CF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function N3(e){var t=jC(),n=NC(),r=wC(),i=_n(_n({},zn(e,CF)),{},{x:Ge(e.x)?e.x:r.left,y:Ge(e.y)?e.y:r.top,width:Ge(e.width)?e.width:r.width,height:Ge(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:u,x:f,y:h,width:m,height:g,syncWithTicks:x,horizontalValues:y,verticalValues:w}=i,N=_r(),j=Ye(R=>pS(R,"xAxis",o,N)),S=Ye(R=>pS(R,"yAxis",u,N));if(!Ge(m)||m<=0||!Ge(g)||g<=0||!Ge(f)||f!==+f||!Ge(h)||h!==+h)return null;var A=i.verticalCoordinatesGenerator||SF,C=i.horizontalCoordinatesGenerator||AF,{horizontalPoints:T,verticalPoints:k}=i;if((!T||!T.length)&&typeof C=="function"){var D=y&&y.length,P=C({yAxis:S?_n(_n({},S),{},{ticks:D?y:S.ticks}):void 0,width:t,height:n,offset:r},D?!0:x);Ho(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(T=P)}if((!k||!k.length)&&typeof A=="function"){var M=w&&w.length,I=A({xAxis:j?_n(_n({},j),{},{ticks:M?w:j.ticks}):void 0,width:t,height:n,offset:r},M?!0:x);Ho(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(k=I)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(vF,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(jF,rs({},i,{horizontalPoints:T})),b.createElement(NF,rs({},i,{verticalPoints:k})),b.createElement(bF,rs({},i,{offset:r,horizontalPoints:T,xAxis:j,yAxis:S})),b.createElement(wF,rs({},i,{offset:r,verticalPoints:k,xAxis:j,yAxis:S})))}N3.displayName="CartesianGrid";var DF=["dangerouslySetInnerHTML","ticks"],EF=["id"],TF=["domain"],OF=["domain"];function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(null,arguments)}function Vd(e,t){if(e==null)return{};var n,r,i=PF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MF(e){var t=Qt();return b.useEffect(()=>(t(oq(e)),()=>{t(cq(e))}),[e,t]),null}var kF=e=>{var{xAxisId:t,className:n}=e,r=Ye(ax),i=_r(),o="xAxis",u=Ye(S=>Mi(S,o,t,i)),f=Ye(S=>gE(S,o,t,i)),h=Ye(S=>dE(S,t)),m=Ye(S=>z7(S,t)),g=Ye(S=>qD(S,t));if(h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:y}=e,w=Vd(e,DF),{id:N}=g,j=Vd(g,EF);return b.createElement(Dy,Ap({},w,j,{scale:u,x:m.x,y:m.y,width:h.width,height:h.height,className:Dt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:f}))},_F={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,height:ir.height,hide:!1,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tickCount:ir.tickCount,type:ir.type,xAxisId:0},$F=e=>{var t,n,r,i,o,u=zn(e,_F);return b.createElement(b.Fragment,null,b.createElement(MF,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),b.createElement(kF,u))},IF=(e,t)=>{var{domain:n}=e,r=Vd(e,TF),{domain:i}=t,o=Vd(t,OF);return xi(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:xi({domain:n},{domain:i}):!1},S3=b.memo($F,IF);S3.displayName="XAxis";var RF=["dangerouslySetInnerHTML","ticks"],LF=["id"],BF=["domain"],UF=["domain"];function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(null,arguments)}function Xd(e,t){if(e==null)return{};var n,r,i=zF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qF(e){var t=Qt();return b.useEffect(()=>(t(uq(e)),()=>{t(dq(e))}),[e,t]),null}var HF=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=b.useRef(null),u=b.useRef(null),f=Ye(ax),h=_r(),m=Qt(),g="yAxis",x=Ye(D=>Mi(D,g,t,h)),y=Ye(D=>fE(D,t)),w=Ye(D=>H7(D,t)),N=Ye(D=>gE(D,g,t,h)),j=Ye(D=>HD(D,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!y||hy(i)||b.isValidElement(i)||j==null)){var D=o.current;if(D){var P=D.getCalculatedWidth();Math.round(y.width)!==Math.round(P)&&m(fq({id:t,width:P}))}}},[N,y,m,i,t,r,j]),y==null||w==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:A}=e,C=Xd(e,RF),{id:T}=j,k=Xd(j,LF);return b.createElement(Dy,Cp({},C,k,{ref:o,labelRef:u,scale:x,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Dt("recharts-".concat(g," ").concat(g),n),viewBox:f,ticks:N}))},FF={allowDataOverflow:or.allowDataOverflow,allowDecimals:or.allowDecimals,allowDuplicatedCategory:or.allowDuplicatedCategory,hide:!1,mirror:or.mirror,orientation:or.orientation,padding:or.padding,reversed:or.reversed,scale:or.scale,tickCount:or.tickCount,type:or.type,width:or.width,yAxisId:0},YF=e=>{var t,n,r,i,o,u=zn(e,FF);return b.createElement(b.Fragment,null,b.createElement(qF,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),b.createElement(HF,u))},KF=(e,t)=>{var{domain:n}=e,r=Xd(e,BF),{domain:i}=t,o=Xd(t,UF);return xi(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:xi({domain:n},{domain:i}):!1},A3=b.memo(YF,KF);A3.displayName="YAxis";var D0={exports:{}},E0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function GF(){if(b2)return E0;b2=1;var e=yi();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,u=e.useMemo,f=e.useDebugValue;return E0.useSyncExternalStoreWithSelector=function(h,m,g,x,y){var w=i(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=u(function(){function S(D){if(!A){if(A=!0,C=D,D=x(D),y!==void 0&&N.hasValue){var P=N.value;if(y(P,D))return T=P}return T=D}if(P=T,n(C,D))return P;var M=x(D);return y!==void 0&&y(P,M)?(C=D,P):(C=D,T=M)}var A=!1,C,T,k=g===void 0?null:g;return[function(){return S(m())},k===null?void 0:function(){return S(k())}]},[m,g,x,y]);var j=r(h,w[0],w[1]);return o(function(){N.hasValue=!0,N.value=j},[j]),f(j),j},E0}var w2;function VF(){return w2||(w2=1,D0.exports=GF()),D0.exports}VF();function XF(e){e()}function WF(){let e=null,t=null;return{clear(){e=null,t=null},notify(){XF(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var j2={notify(){},get:()=>[]};function ZF(e,t){let n,r=j2,i=0,o=!1;function u(j){g();const S=r.subscribe(j);let A=!1;return()=>{A||(A=!0,S(),x())}}function f(){r.notify()}function h(){N.onStateChange&&N.onStateChange()}function m(){return o}function g(){i++,n||(n=e.subscribe(h),r=WF())}function x(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=j2)}function y(){o||(o=!0,g())}function w(){o&&(o=!1,x())}const N={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return N}var QF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JF=QF(),eY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tY=eY(),nY=()=>JF||tY?b.useLayoutEffect:b.useEffect,rY=nY(),aY=Symbol.for("react-redux-context"),lY=typeof globalThis<"u"?globalThis:{};function sY(){if(!b.createContext)return{};const e=lY[aY]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var iY=sY();function oY(e){const{children:t,context:n,serverState:r,store:i}=e,o=b.useMemo(()=>{const h=ZF(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),u=b.useMemo(()=>i.getState(),[i]);rY(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,u]);const f=n||iY;return b.createElement(f.Provider,{value:o},t)}var cY=oY,uY=(e,t)=>t,Ey=me([uY,pt,BD,dn,OE,Fa,GB,cn],QB),Ty=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},C3=Pr("mouseClick"),D3=uc();D3.startListening({actionCreator:C3,effect:(e,t)=>{var n=e.payload,r=Ey(t.getState(),Ty(n));r?.activeIndex!=null&&t.dispatch(nB({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Dp=Pr("mouseMove"),E3=uc();E3.startListening({actionCreator:Dp,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=ly(r,r.tooltip.settings.shared),o=Ey(r,Ty(n));i==="axis"&&(o?.activeIndex!=null?t.dispatch(NE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(jE()))}});var N2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},T3=pr({name:"rootProps",initialState:N2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:N2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),dY=T3.reducer,{updateOptions:fY}=T3.actions,O3=pr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:mY}=O3.actions,hY=O3.reducer,P3=Pr("keyDown"),M3=Pr("focus"),Oy=uc();Oy.startListening({actionCreator:P3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(sy(i,_i(n))),f=Fa(n);if(o==="Enter"){var h=zd(n,"axis","hover",String(i.index));t.dispatch(yp({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var m=G7(n),g=m==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,y=u+x*g;if(!(f==null||y>=f.length||y<0)){var w=zd(n,"axis","hover",String(y));t.dispatch(yp({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});Oy.startListening({actionCreator:M3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",u=zd(n,"axis","hover",String(o));t.dispatch(yp({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var Er=Pr("externalEvent"),k3=uc();k3.startListening({actionCreator:Er,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:LB(n),activeDataKey:_E(n),activeIndex:ms(n),activeLabel:kE(n),activeTooltipIndex:ms(n),isTooltipActive:BB(n)};e.payload.handler(r,e.payload.reactEvent)}}});var gY=me([ki],e=>e.tooltipItemPayloads),pY=me([gY,wc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(f=>f.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var u=t(o,n);return u}}}),_3=Pr("touchMove"),$3=uc();$3.startListening({actionCreator:_3,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=ly(r,r.tooltip.settings.shared);if(i==="axis"){var o=Ey(r,Ty({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(NE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0],h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(vC),g=(u=h.getAttribute(bC))!==null&&u!==void 0?u:void 0,x=pY(t.getState(),m,g);t.dispatch(wE({activeDataKey:g,activeIndex:m,activeCoordinate:x}))}}});var xY=YA({brush:OH,cartesianAxis:mq,chartData:h9,errorBars:Dq,graphicalItems:Pz,layout:i$,legend:X$,options:c9,polarAxis:GU,polarOptions:hY,referenceElements:RH,rootProps:dY,tooltip:rB}),yY=function(t){return M_({reducer:xY,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([D3.middleware,E3.middleware,Oy.middleware,k3.middleware,$3.middleware]),devTools:ps.devToolsEnabled})};function I3(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=_r(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=yY(t));var u=Zp;return b.createElement(cY,{context:u,store:o.current},n)}function R3(e){var{layout:t,width:n,height:r,margin:i}=e,o=Qt(),u=_r();return b.useEffect(()=>{u||(o(a$(t)),o(l$({width:n,height:r})),o(r$(i)))},[o,u,t,n,r,i]),null}function L3(e){var t=Qt();return b.useEffect(()=>{t(fY(e))},[t,e]),null}var vY=["children"];function bY(e,t){if(e==null)return{};var n,r,i=wY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wd.apply(null,arguments)}var jY={width:"100%",height:"100%"},NY=b.forwardRef((e,t)=>{var n=jC(),r=NC(),i=DC();if(!ui(n)||!ui(r))return null;var{children:o,otherAttributes:u,title:f,desc:h}=e,m,g;return typeof u.tabIndex=="number"?m=u.tabIndex:m=i?0:void 0,typeof u.role=="string"?g=u.role:g=i?"application":void 0,b.createElement(mA,Wd({},u,{title:f,desc:h,role:g,tabIndex:m,width:n,height:r,style:jY,ref:t}),o)}),SY=e=>{var{children:t}=e,n=Ye(yf);if(!n)return null;var{width:r,height:i,y:o,x:u}=n;return b.createElement(mA,{width:r,height:i,x:u,y:o},t)},S2=b.forwardRef((e,t)=>{var{children:n}=e,r=bY(e,vY),i=_r();return i?b.createElement(SY,null,n):b.createElement(NY,Wd({ref:t},r),n)});function AY(){var e=Qt(),[t,n]=b.useState(null),r=Ye(I$);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;gr(o)&&o!==r&&e(s$(o))}},[t,e,r]),n}function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(r){DY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DY(e,t,n){return(t=EY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OY=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:u,onDoubleClick:f,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseMove:x,onMouseUp:y,onTouchEnd:w,onTouchMove:N,onTouchStart:j,style:S,width:A}=e,C=Qt(),[T,k]=b.useState(null),[D,P]=b.useState(null);N9();var M=AY(),I=b.useCallback(z=>{M(z),typeof t=="function"&&t(z),k(z),P(z)},[M,t,k,P]),R=b.useCallback(z=>{C(C3(z)),C(Er({handler:o,reactEvent:z}))},[C,o]),H=b.useCallback(z=>{C(Dp(z)),C(Er({handler:m,reactEvent:z}))},[C,m]),V=b.useCallback(z=>{C(jE()),C(Er({handler:g,reactEvent:z}))},[C,g]),F=b.useCallback(z=>{C(Dp(z)),C(Er({handler:x,reactEvent:z}))},[C,x]),X=b.useCallback(()=>{C(M3())},[C]),G=b.useCallback(z=>{C(P3(z.key))},[C]),ge=b.useCallback(z=>{C(Er({handler:u,reactEvent:z}))},[C,u]),K=b.useCallback(z=>{C(Er({handler:f,reactEvent:z}))},[C,f]),re=b.useCallback(z=>{C(Er({handler:h,reactEvent:z}))},[C,h]),he=b.useCallback(z=>{C(Er({handler:y,reactEvent:z}))},[C,y]),De=b.useCallback(z=>{C(Er({handler:j,reactEvent:z}))},[C,j]),$=b.useCallback(z=>{C(_3(z)),C(Er({handler:N,reactEvent:z}))},[C,N]),le=b.useCallback(z=>{C(Er({handler:w,reactEvent:z}))},[C,w]);return b.createElement(UE.Provider,{value:T},b.createElement(DM.Provider,{value:D},b.createElement("div",{className:Dt("recharts-wrapper",r),style:CY({position:"relative",cursor:"default",width:A,height:i},S),onClick:R,onContextMenu:ge,onDoubleClick:K,onFocus:X,onKeyDown:G,onMouseDown:re,onMouseEnter:H,onMouseLeave:V,onMouseMove:F,onMouseUp:he,onTouchEnd:le,onTouchMove:$,onTouchStart:De,ref:I},n)))}),PY=["children","className","width","height","style","compact","title","desc"];function MY(e,t){if(e==null)return{};var n,r,i=kY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var B3=b.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:u,compact:f,title:h,desc:m}=e,g=MY(e,PY),x=El(g);return f?b.createElement(S2,{otherAttributes:x,title:h,desc:m},n):b.createElement(OY,{className:r,style:u,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(S2,{otherAttributes:x,title:h,desc:m,ref:t},b.createElement(BH,null,n)))}),_Y=["width","height"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(null,arguments)}function $Y(e,t){if(e==null)return{};var n,r,i=IY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RY={top:5,right:5,bottom:5,left:5},LY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:RY,reverseStackOrder:!1,syncMethod:"index"},BY=b.forwardRef(function(t,n){var r,i=zn(t.categoricalChartProps,LY),{width:o,height:u}=i,f=$Y(i,_Y);if(!ui(o)||!ui(u))return null;var{chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,categoricalChartProps:y}=t,w={chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return b.createElement(I3,{preloadedState:{options:w},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:h},b.createElement(y3,{chartData:y.data}),b.createElement(R3,{width:o,height:u,layout:i.layout,margin:i.margin}),b.createElement(L3,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(B3,Ep({},f,{width:o,height:u,ref:n})))}),UY=["axis","item"],zY=b.forwardRef((e,t)=>b.createElement(BY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UY,tooltipPayloadSearcher:zE,categoricalChartProps:e,ref:t}));function qY(e){var t=Qt();return b.useEffect(()=>{t(mY(e))},[t,e]),null}var HY=["width","height","layout"];function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tp.apply(null,arguments)}function FY(e,t){if(e==null)return{};var n,r,i=YY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KY={top:5,right:5,bottom:5,left:5},GY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:KY,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},VY=b.forwardRef(function(t,n){var r,i=zn(t.categoricalChartProps,GY),{width:o,height:u,layout:f}=i,h=FY(i,HY);if(!ui(o)||!ui(u))return null;var{chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:y}=t,w={chartName:m,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:y,eventEmitter:void 0};return b.createElement(I3,{preloadedState:{options:w},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:m},b.createElement(y3,{chartData:i.data}),b.createElement(R3,{width:o,height:u,layout:f,margin:i.margin}),b.createElement(L3,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(qY,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(B3,Tp({width:o,height:u},h,{ref:n})))}),XY=["item"],WY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ZY=b.forwardRef((e,t)=>{var n=zn(e,WY);return b.createElement(VY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:XY,tooltipPayloadSearcher:zE,categoricalChartProps:n,ref:t})});const QY=()=>{const[e,t]=b.useState(!0),[n,r]=b.useState(null),[i,o]=b.useState(new Date().getMonth()+1),[u,f]=b.useState(new Date().getFullYear()),[h,m]=b.useState({});b.useEffect(()=>{g()},[i,u]);const g=async()=>{try{t(!0);const D=await ic.getOverview({month:i,year:u});if(D.success){console.log(` Dashboard Data for ${i}/${u}:`),console.log(`   - Monthly Savings: ${D.data.stats?.totalSavings||0}`),console.log(`   - Monthly Collection: ${D.data.stats?.totalCollection||0}`),r(D.data);const P=`${u}-${i.toString().padStart(2,"0")}`;m(M=>({...M,[P]:D.data.stats}))}}catch(D){console.error("Error loading dashboard:",D),de.error("Failed to load dashboard data")}finally{t(!1)}},x=()=>{i===1?(o(12),f(u-1)):o(i-1)},y=()=>{i===12?(o(1),f(u+1)):o(i+1)},w=()=>{const D=new Date;o(D.getMonth()+1),f(D.getFullYear())},N=()=>new Date(u,i-1).toLocaleString("default",{month:"long",year:"numeric"}),j=()=>{const D=new Date;return i===D.getMonth()+1&&u===D.getFullYear()},S={totalMembers:n?.stats?.totalMembers||0,totalSavings:n?.stats?.totalSavings||0,totalCollection:n?.stats?.totalCollection||0,todayCollection:n?.stats?.todayCollection||0,productsDistributed:n?.stats?.productsDistributed||0,totalOutstandingLoans:n?.stats?.totalOutstandingLoans||0,totalAllTimeSavings:n?.stats?.totalAllTimeSavings||0},A=(n?.recentActivities||[]).map(D=>{const P={member:Xn,installment:Vn,product:xn,savings:Sl},M={member:"text-blue-600 bg-blue-100",installment:"text-green-600 bg-green-100",product:"text-yellow-600 bg-yellow-100",savings:"text-purple-600 bg-purple-100"};return{...D,icon:P[D.type]||Vn,color:M[D.type]||"text-gray-600 bg-gray-100"}}),C=n?.monthlyTrend||[],T=n?.productBreakdown||[],k=({title:D,value:P,icon:M,color:I,trend:R,trendValue:H,bgColor:V,gradientBg:F,onClick:X,clickable:G=!1})=>l.jsx("div",{className:`${F||"bg-white"} rounded-xl shadow-lg p-4 border-2 border-white hover:shadow-xl transition-all transform hover:scale-105 ${G?"cursor-pointer":""}`,onClick:G?X:void 0,children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"mb-3",children:l.jsx(M,{className:"h-10 w-10 text-white drop-shadow-lg"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-white mb-1 opacity-95 drop-shadow-sm",children:D}),l.jsx("p",{className:"text-2xl font-bold text-white mb-1 drop-shadow-sm",children:P}),R&&l.jsxs("div",{className:`flex items-center justify-center text-xs font-medium ${R==="up"?"text-green-100":"text-red-100"} drop-shadow-sm`,children:[R==="up"?l.jsx(sc,{className:"h-3 w-3 mr-1"}):l.jsx(R6,{className:"h-3 w-3 mr-1"}),H,"%"]})]})]})});return e?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Loading dashboard..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-xl lg:rounded-2xl text-white p-4 md:p-5 lg:p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start space-y-4 lg:space-y-0 mb-4",children:[l.jsxs("div",{className:"text-center lg:text-left",children:[l.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2",children:"Welcome to Satrong Sajghor Traders Dashboard"}),l.jsx("p",{className:"text-indigo-100 text-sm md:text-base",children:"View monthly summary information and activities"})]}),l.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-indigo-800 backdrop-blur-sm rounded-xl p-2 md:p-3 border-2 border-purple-400 shadow-xl mx-auto lg:mx-0",children:l.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[l.jsx("button",{onClick:x,className:"p-1.5 md:p-2 bg-yellow-500 hover:bg-yellow-400 text-purple-900 rounded-lg transition-all hover:scale-110 shadow-md",title:"Previous Month",children:l.jsx(Q2,{className:"h-4 md:h-5 w-4 md:w-5 font-bold"})}),l.jsxs("div",{className:"text-center min-w-[120px] md:min-w-[150px]",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-1.5 md:space-x-2",children:[l.jsx(Tn,{className:"h-3 md:h-4 w-3 md:w-4 text-yellow-300"}),l.jsx("span",{className:"font-bold text-sm md:text-lg text-white drop-shadow-lg",children:N()})]}),!j()&&l.jsx("button",{onClick:w,className:"text-[10px] md:text-xs text-yellow-200 hover:text-yellow-100 mt-1 underline",children:"Go to Current Month"})]}),l.jsx("button",{onClick:y,className:`p-1.5 md:p-2 rounded-lg transition-all shadow-md ${j()?"bg-gray-500 text-gray-300 cursor-not-allowed opacity-50":"bg-yellow-500 hover:bg-yellow-400 text-purple-900 hover:scale-110"}`,disabled:j(),title:j()?"Cannot view future months":"Next Month",children:l.jsx(J2,{className:"h-4 md:h-5 w-4 md:w-5 font-bold"})})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-center lg:justify-start gap-2 sm:gap-3",children:[l.jsx("div",{className:"bg-white bg-opacity-90 px-3 py-1.5 md:py-1 rounded-full border border-gray-200 text-center",children:l.jsxs("span",{className:"text-xs md:text-xs font-semibold text-gray-800",children:["Today: ",ii(new Date)]})}),l.jsx("div",{className:"bg-white bg-opacity-90 px-3 py-1.5 md:py-1 rounded-full border border-gray-200 text-center",children:l.jsxs("span",{className:"text-xs md:text-xs font-semibold text-gray-800",children:["Active Members: ",S.totalMembers]})}),!j()&&l.jsx("div",{className:"bg-yellow-500 bg-opacity-90 px-3 py-1.5 md:py-1 rounded-full border border-yellow-600 text-center",children:l.jsxs("span",{className:"text-xs md:text-xs font-semibold text-white",children:[" Viewing ",N()," Data"]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsx(k,{title:"Total Members",value:S.totalMembers||0,icon:Xn,gradientBg:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",trend:"up",trendValue:"12"}),l.jsx(k,{title:`${N()} Savings`,value:`${(S.totalSavings||0).toLocaleString()}`,icon:Sl,gradientBg:"bg-gradient-to-br from-green-500 via-emerald-600 to-teal-700",trend:"up",trendValue:"8.5"}),l.jsx(k,{title:`${N()} Collection`,value:`${(S.totalCollection||0).toLocaleString()}`,icon:Vn,gradientBg:"bg-gradient-to-br from-yellow-500 via-orange-600 to-red-700",trend:"up",trendValue:"15"}),l.jsx(k,{title:"Product Distribution",value:S.productsDistributed||0,icon:xn,gradientBg:"bg-gradient-to-br from-purple-500 via-pink-600 to-rose-700"}),l.jsx(k,{title:"Total Outstanding Loans",value:`${(S.totalOutstandingLoans||0).toLocaleString()}`,icon:i6,gradientBg:"bg-gradient-to-br from-red-500 via-rose-600 to-pink-700"}),l.jsx(k,{title:"Total Savings (All Time)",value:`${(S.totalAllTimeSavings||0).toLocaleString()}`,icon:V6,gradientBg:"bg-gradient-to-br from-cyan-500 via-sky-600 to-blue-700"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl shadow-lg p-4 border border-blue-200",children:[l.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-3 flex items-center",children:[l.jsx(Vn,{className:"h-5 w-5 mr-2"}),"Monthly Collection & Savings"]}),l.jsx(IS,{width:"100%",height:250,children:l.jsxs(zY,{data:C,children:[l.jsx(N3,{strokeDasharray:"3 3"}),l.jsx(S3,{dataKey:"month"}),l.jsx(A3,{}),l.jsx(OS,{formatter:D=>`${D.toLocaleString()}`}),l.jsx(Np,{dataKey:"collection",fill:"#3B82F6",name:"Collection"}),l.jsx(Np,{dataKey:"savings",fill:"#10B981",name:"Savings"})]})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl shadow-lg p-4 border border-green-200",children:[l.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-3 flex items-center",children:[l.jsx(xn,{className:"h-5 w-5 mr-2"}),"Product Distribution"]}),l.jsx(IS,{width:"100%",height:250,children:l.jsxs(ZY,{children:[l.jsx(d3,{data:T,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",children:T.map((D,P)=>l.jsx(Nc,{fill:D.color},`cell-${P}`))}),l.jsx(OS,{formatter:D=>`${D}%`})]})}),l.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:T.map((D,P)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:D.color}}),l.jsxs("span",{className:"text-sm text-gray-600",children:[D.name," (",D.value,"%)"]})]},P))})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-100 rounded-xl shadow-lg p-4 border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-lg font-bold text-yellow-900 flex items-center",children:[l.jsx(wl,{className:"h-5 w-5 mr-2"}),"Recent Activities"]}),l.jsxs("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center",children:[l.jsx(wl,{className:"h-4 w-4 mr-1"}),"View All"]})]}),l.jsx("div",{className:"space-y-4",children:A.map(D=>{const P=D.icon;return l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:`p-2 rounded-full ${D.color}`,children:l.jsx(P,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.message}),l.jsx("p",{className:"text-xs text-gray-500",children:D.time})]})]},D.id)})})]})]})},Py=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?`/api${e}`:`${"/api".replace("/api","")}${e}`:null,JY=({member:e,onEdit:t,onDelete:n,onViewProfile:r})=>{const i=ji(),o=()=>{i(`/members/${e._id||e.id}`)},u=f=>{switch(f){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-md border-2 border-gray-100 hover:shadow-xl hover:border-blue-200 transition-all duration-300 overflow-hidden",children:[l.jsx("div",{className:"relative bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[e.profileImage?l.jsx("img",{src:Py(e.profileImage),alt:e.name,className:"w-20 h-24 rounded-lg object-cover border-3 border-white shadow-lg",style:{objectPosition:"center top"},onError:f=>{console.error("Failed to load image:",e.profileImage),f.target.style.display="none",f.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`bg-white rounded-lg ${e.profileImage?"hidden":"flex"} items-center justify-center shadow-lg`,style:{width:"80px",height:"96px"},children:l.jsx(Vt,{className:"h-10 w-10 text-gray-400"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:e.name}),l.jsxs("div",{className:"flex items-center text-white/90 text-sm mb-2",children:[l.jsx(Nl,{className:"h-3.5 w-3.5 mr-1.5"}),l.jsx("span",{children:e.phone})]}),l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${u(e.status)} shadow-sm`,children:e.status})]})]})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"space-y-2.5 text-sm",children:[l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(Tn,{className:"h-4 w-4 mr-2 text-blue-500"}),l.jsxs("span",{className:"text-xs font-medium",children:["Joined: ",ii(e.joinDate)]})]}),l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(os,{className:"h-4 w-4 mr-2 text-green-500"}),l.jsxs("span",{className:"text-xs font-medium truncate",children:[e.branchCode?`${e.branchCode} - `:"",e.branch]})]}),l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(U6,{className:"h-4 w-4 mr-2 text-purple-500"}),l.jsxs("span",{className:"text-xs font-medium truncate",children:["Collector: ",e.assignedCollector?typeof e.assignedCollector=="object"?e.assignedCollector.name:"Assigned":l.jsx("span",{className:"text-gray-400 italic",children:"Not Assigned"})]})]}),l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(I0,{className:"h-4 w-4 mr-2 text-orange-500"}),l.jsxs("span",{className:"text-xs font-medium",children:["NID: ",e.nidNumber]})]})]}),l.jsx("div",{className:"mt-4 pt-3 border-t-2 border-gray-100",children:l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 border border-green-200",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Savings"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",e.totalSavings?.toLocaleString()||0]})]})})]}),l.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 border-t-2 border-gray-200",children:l.jsx("div",{className:"flex items-center justify-between gap-2",children:l.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all text-xs font-semibold shadow-sm hover:shadow-md w-full justify-center",title:"View Loan History",children:[l.jsx(t6,{className:"h-4 w-4"}),l.jsx("span",{children:"Loan History"})]})})})]})},Op=({member:e,onSave:t,onCancel:n,branches:r})=>{const i=r&&r.length===1,o=i?r[0]:null,u=R=>{if(!R)return new Date().toISOString().split("T")[0];try{return new Date(R).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}};e&&(console.log(" Editing member:",e),console.log(" Branch info:",{branch:e.branch,branchName:e.branchName,branchCode:e.branchCode}),console.log(" Join Date:",{original:e.joinDate,formatted:u(e.joinDate)}),console.log(" Profile Image:",{hasImage:!!e.profileImage,imageType:typeof e.profileImage,imageLength:e.profileImage?.length,imagePreview:e.profileImage?.substring(0,50)+"..."}));const[f,h]=b.useState({name:e?.name||"",memberCode:e?.memberCode||"",sponsorName:e?.sponsorName||"",age:e?.age||"",phone:e?.phone||"",joinDate:u(e?.joinDate),nidNumber:e?.nidNumber||"",address:e?.address||"",branch:e?.branch||o?.name||"",branchCode:e?.branchCode||o?.code||"",branchName:e?.branchName||e?.branch||o?.name||"",status:e?.status||"Active",totalSavings:e?.totalSavings||0,profileImage:e?.profileImage||null,assignedCollector:e?.assignedCollector?._id||e?.assignedCollector||null}),[m,g]=b.useState({}),[x,y]=b.useState([]),[w,N]=b.useState(!1),[j,S]=b.useState(!1),[A,C]=b.useState([]),[T,k]=b.useState(!1);b.useEffect(()=>{(async()=>{try{k(!0),console.log(" Fetching branches...");const H=await ka.getAll({limit:1e3,isActive:"all"});console.log(" Branches response:",H),H.success&&H.data?(console.log(" Branches loaded:",H.data.length,"branches"),C(H.data)):(console.error(" Failed to load branches:",H),de.error("Failed to load branches"))}catch(H){console.error(" Error fetching branches:",H),de.error("Failed to load branches: "+H.message)}finally{k(!1)}})()},[]),b.useEffect(()=>{(async()=>{if(f.branchCode&&f.branchCode.length===4)try{N(!0);const H=await pn.getByBranch(f.branchCode);H.success&&H.data?y(H.data):y([])}catch(H){console.error("Error fetching existing members:",H),y([])}finally{N(!1)}else y([])})()},[f.branchCode]);const D=R=>{const H=R.target.value;if(!H){h({...f,branchCode:"",branchName:"",assignedCollector:null});return}const V=A.find(F=>F._id===H);if(V){const F=V.assignedCollector?._id||V.assignedCollector||null;if(h({...f,branchCode:V.branchCode||V.code,branchName:V.name,assignedCollector:F}),F){const X=V.assignedCollector?.name||"Assigned collector";console.log(` Auto-assigned collector: ${X} to branch ${V.name}`)}}},P=()=>{const R={};return f.name.trim()?f.name.trim().length<2||f.name.trim().length>100?R.name="Name must be between 2 and 100 characters":/^[a-zA-Z\s\u0980-\u09FF]+$/.test(f.name.trim())||(R.name="Name can only contain letters and spaces"):R.name="Name is required",e||(f.memberCode.trim()?/^\d{3}$/.test(f.memberCode.trim())?x.some(V=>V.memberCode===f.memberCode.trim())&&(R.memberCode=`Member code ${f.memberCode} already exists in this branch. Please use a different code.`):R.memberCode="Member code must be exactly 3 digits":R.memberCode="Member code is required"),f.age?(f.age<18||f.age>100)&&(R.age="Age must be between 18 and 100"):R.age="Age is required",f.phone.trim()?/^01[3-9]\d{8}$/.test(f.phone.trim())||(R.phone="Please enter a valid Bangladeshi phone number (01XXXXXXXXX)"):R.phone="Phone number is required",f.joinDate&&!/^\d{4}-\d{2}-\d{2}$/.test(f.joinDate)&&(R.joinDate="Please enter a valid date"),f.nidNumber.trim()?f.nidNumber.trim().length<5||f.nidNumber.trim().length>20?R.nidNumber="NID number must be between 5 and 20 digits":/^\d+$/.test(f.nidNumber.trim())||(R.nidNumber="NID number can only contain digits"):R.nidNumber="NID number is required",f.branchName?.trim()?(f.branchName.trim().length<2||f.branchName.trim().length>100)&&(R.branch="Branch name must be between 2 and 100 characters"):R.branch="Branch name is required",f.branchCode?/^\d{4}$/.test(String(f.branchCode))||(R.branchCode="Branch code must be exactly 4 digits"):R.branchCode="Branch code is required",g(R),Object.keys(R).length===0},M=R=>{if(R.preventDefault(),P())if(f.profileImageFile){const H=new FormData;H.append("name",f.name.trim()),H.append("memberCode",f.memberCode.trim().padStart(3,"0")),H.append("sponsorName",f.sponsorName.trim()||""),H.append("age",parseInt(f.age)),H.append("phone",f.phone.trim()),H.append("joinDate",f.joinDate),H.append("nidNumber",f.nidNumber.trim()),H.append("address",f.address.trim()||""),H.append("branch",f.branchName.trim()),H.append("branchCode",f.branchCode.toString()),H.append("status",f.status||"Active"),H.append("totalSavings",parseFloat(f.totalSavings)||0),H.append("assignedCollector",f.assignedCollector||""),H.append("role","member"),H.append("profileImage",f.profileImageFile),console.log(" Sending FormData with image file"),t(H)}else{const H={name:f.name.trim(),memberCode:f.memberCode.trim().padStart(3,"0"),sponsorName:f.sponsorName.trim()||null,age:parseInt(f.age),phone:f.phone.trim(),joinDate:f.joinDate,nidNumber:f.nidNumber.trim(),address:f.address.trim()||null,branch:f.branchName.trim(),branchCode:f.branchCode.toString(),status:f.status||"Active",totalSavings:parseFloat(f.totalSavings)||0,profileImage:f.profileImage||null,assignedCollector:f.assignedCollector||null,role:"member"};console.log(" Sending JSON payload"),t(H)}else de.error("Please fill all required fields correctly.")},I=R=>{const H=R.target.files[0];if(console.log(" File selected:",H),H){if(console.log("File details:",{name:H.name,size:H.size,type:H.type}),H.size>5*1024*1024){de.error("Image size should be less than 5MB");return}S(!1);const V=new FileReader;V.onload=F=>{const X=F.target.result;console.log(" Image preview created"),h({...f,profileImage:X,profileImageFile:H}),de.success("Image uploaded successfully!")},V.onerror=F=>{console.error(" FileReader error:",F),de.error("Failed to read image file")},V.readAsDataURL(H)}};return l.jsx("div",{className:"bg-white rounded-2xl shadow-xl border max-w-2xl w-full mx-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Member":"Add New Member"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2",children:l.jsx(nf,{className:"h-6 w-6"})})]}),i&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(os,{className:"h-5 w-5 text-green-600 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-green-800 font-medium",children:"Branch Information Auto-filled"}),l.jsxs("p",{className:"text-green-600 text-sm",children:["This member will be added to ",l.jsx("strong",{children:o?.name})," (Code: ",l.jsx("strong",{children:o?.code}),")"]})]})]})}),l.jsxs("form",{onSubmit:M,className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg border-2 border-blue-100",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:" Profile Image (Passport Size)"}),l.jsxs("div",{className:"flex items-center space-x-6",children:[console.log(" Render - Profile Image State:",{hasImage:!!f.profileImage,imageError:j,imageLength:f.profileImage?.length,imagePreview:f.profileImage?.substring(0,50)}),l.jsx("div",{className:"relative",children:f.profileImage&&!j?l.jsx("div",{className:"relative",children:l.jsx("img",{src:f.profileImage,alt:"Profile preview",className:"w-32 h-40 object-cover border-4 border-white shadow-lg rounded-lg bg-gray-200",style:{objectPosition:"center top"},onError:R=>{console.error(" Image failed to load"),console.error("Image source:",f.profileImage?.substring(0,100)),S(!0)},onLoad:()=>{console.log(" Image loaded successfully"),S(!1)}})}):f.profileImage&&j?l.jsxs("div",{className:"w-32 h-40 bg-gradient-to-br from-yellow-100 to-orange-100 border-4 border-white shadow-lg rounded-lg flex flex-col items-center justify-center",children:[l.jsx(Vt,{className:"h-16 w-16 text-yellow-600 mb-2"}),l.jsx("span",{className:"text-xs text-yellow-700 font-medium px-2 text-center",children:"Image Error"}),l.jsx("span",{className:"text-xs text-yellow-600 mt-1",children:"Upload new"})]}):l.jsxs("div",{className:"w-32 h-40 bg-gradient-to-br from-gray-100 to-gray-200 border-4 border-white shadow-lg rounded-lg flex flex-col items-center justify-center",children:[l.jsx(Vt,{className:"h-16 w-16 text-gray-400 mb-2"}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"No Image"})]})}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"file",accept:"image/*",onChange:I,id:"profile-image-input",className:"hidden"}),l.jsxs("label",{htmlFor:"profile-image-input",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer font-medium text-sm",children:[l.jsx(Z2,{className:"h-4 w-4"}),f.profileImage?"Change Image":"Upload Image"]})]}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[l.jsxs("p",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-blue-600",children:""})," JPG, PNG, GIF up to 5MB"]}),l.jsxs("p",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-blue-600",children:""})," Passport size recommended"]}),l.jsxs("p",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-blue-600",children:""})," Clear face photo"]})]})]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vt,{className:"h-4 w-4 inline mr-1"}),"Full Name *"]}),l.jsx("input",{type:"text",value:f.name,onChange:R=>h({...f,name:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter full name"}),m.name&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(I0,{className:"h-4 w-4 inline mr-1"}),"Member Code *"]}),l.jsx("input",{type:"text",value:f.memberCode,onChange:R=>{const H=R.target.value;if(h({...f,memberCode:H}),!e)if(!H.trim())g({...m,memberCode:"Member code is required"});else if(!/^\d{3}$/.test(H.trim()))g({...m,memberCode:"Member code must be exactly 3 digits"});else if(x.some(F=>F.memberCode===H.trim()))g({...m,memberCode:`Member code ${H} already exists in this branch`});else{const{memberCode:F,...X}=m;g(X)}},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.memberCode?"border-red-300":"border-gray-300"}`,placeholder:"Enter 3 digit code (e.g. 001)",maxLength:"3",disabled:!!e}),w&&f.branchCode&&l.jsxs("p",{className:"text-blue-500 text-xs mt-1",children:[" Checking member code availability in branch ",f.branchCode,"..."]}),m.memberCode&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.memberCode}),!m.memberCode&&!w&&f.memberCode&&f.branchCode&&x.length>=0&&l.jsxs("p",{className:"text-green-500 text-xs mt-1",children:[" Member code ",f.memberCode," is available in branch ",f.branchCode]}),!f.branchCode&&l.jsx("p",{className:"text-gray-500 text-xs mt-1",children:" Member codes must be unique within the same branch only"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vt,{className:"h-4 w-4 inline mr-1"}),"Sponsor Name"]}),l.jsx("input",{type:"text",value:f.sponsorName,onChange:R=>h({...f,sponsorName:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter sponsor name (optional)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age *"}),l.jsx("input",{type:"number",value:f.age,onChange:R=>h({...f,age:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.age?"border-red-300":"border-gray-300"}`,placeholder:"Enter age",min:"18"}),m.age&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.age})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Nl,{className:"h-4 w-4 inline mr-1"}),"Phone Number *"]}),l.jsx("input",{type:"tel",value:f.phone,onChange:R=>h({...f,phone:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.phone?"border-red-300":"border-gray-300"}`,placeholder:"01xxxxxxxxx"}),m.phone&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"Join Date * ",e&&l.jsx("span",{className:"text-xs text-gray-500",children:"(Cannot be changed)"})]}),l.jsx("input",{type:"date",value:f.joinDate,onChange:R=>h({...f,joinDate:R.target.value}),disabled:!!e,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.joinDate?"border-red-300":"border-gray-300"} ${e?"bg-gray-100 cursor-not-allowed":""}`}),m.joinDate&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.joinDate})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(I0,{className:"h-4 w-4 inline mr-1"}),"NID Number *"]}),l.jsx("input",{type:"text",value:f.nidNumber,onChange:R=>h({...f,nidNumber:R.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.nidNumber?"border-red-300":"border-gray-300"}`,placeholder:"National ID number"}),m.nidNumber&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.nidNumber})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(os,{className:"h-4 w-4 inline mr-1"}),"Address"]}),l.jsx("input",{type:"text",value:f.address,onChange:R=>h({...f,address:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter full address"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(W2,{className:"h-4 w-4 inline mr-1"}),"Select Branch *",i&&l.jsx("span",{className:"text-green-600 text-xs ml-2",children:"(Auto-filled from selected branch)"}),e&&l.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Cannot be changed)"})]}),l.jsxs("select",{value:A.find(R=>(R.branchCode||R.code)===f.branchCode)?._id||"",onChange:D,disabled:i||!!e||T,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m.branchCode||m.branch?"border-red-300":"border-gray-300"} ${i||e||T?"bg-gray-100 cursor-not-allowed":""}`,children:[l.jsx("option",{value:"",children:"-- Select a Branch --"}),T?l.jsx("option",{disabled:!0,children:"Loading branches..."}):A.map(R=>l.jsxs("option",{value:R._id,children:["(",R.branchCode||R.code,") ",R.name]},R._id))]}),(m.branchCode||m.branch)&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.branchCode||m.branch}),f.branchCode&&f.branchName&&!m.branchCode&&!m.branch&&l.jsxs("div",{className:"text-xs mt-1 space-y-1",children:[l.jsxs("p",{className:"text-green-500",children:[" Selected: (",f.branchCode,") ",f.branchName]}),f.assignedCollector&&l.jsx("p",{className:"text-blue-500",children:" Collector will be auto-assigned from this branch"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsxs("select",{value:f.status,onChange:R=>h({...f,status:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"Active",children:"Active"}),l.jsx("option",{value:"Inactive",children:"Inactive"}),l.jsx("option",{value:"Pending",children:"Pending"})]})]}),!e&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Savings ()"}),l.jsx("input",{type:"number",value:f.totalSavings,onChange:R=>h({...f,totalSavings:parseFloat(R.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0",min:"0"})]})]}),l.jsxs("div",{className:"flex space-x-4 pt-6",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-all",children:e?"Update Member":"Add Member"})]})]})]})})},eK=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!1),[i,o]=b.useState(""),[u,f]=b.useState("all"),[h,m]=b.useState(!0),[g,x]=b.useState([]),y=[];b.useEffect(()=>{w()},[]);const w=async()=>{try{m(!0);const C=new AbortController,T=setTimeout(()=>C.abort(),1e4),D=await fetch("/api/members?limit=10000",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("ngo_token")}`},signal:C.signal});if(clearTimeout(T),D.ok){const P=await D.json();if(P.success&&P.data){console.log(" Members fetched:",P.data.length,"members"),console.log(" Sample member data:",P.data[0]),x(P.data);return}}x(y),de.error("Failed to fetch members from server, showing sample data")}catch(C){console.error("Error fetching members:",C),x(y),de.error("Error connecting to server, showing sample data")}finally{m(!1)}};b.useEffect(()=>{if(i!==""||u!=="all"){const C=setTimeout(()=>{w()},500);return()=>clearTimeout(C)}},[i,u]);const N=g.filter(C=>{const T=C.name.toLowerCase().includes(i.toLowerCase())||C.phone.includes(i)||C.branch.toLowerCase().includes(i.toLowerCase()),k=u==="all"||C.status.toLowerCase()===u.toLowerCase();return T&&k}),j=async C=>{try{const T=de.loading("Updating member..."),k=await pn.update(e._id||e.id,C);de.dismiss(T),k.success?(de.success("Member updated successfully!"),t(null),w()):de.error(k.message||"Failed to update member")}catch(T){console.error("Error updating member:",T),de.error("Error updating member. Please try again.")}},S=async C=>{try{const T=de.loading("Adding member..."),k=C instanceof FormData?await pn.createWithImage(C):await pn.create(C);de.dismiss(T),k.success?(de.success("Member added successfully!"),r(!1),w()):de.error(k.message||"Failed to add member")}catch(T){console.error("Error adding member:",T),de.error("Error adding member. Please try again.")}},A=async C=>{if(window.confirm(`Are you sure you want to delete ${C.name}?`))try{const T=de.loading("Deleting member..."),k=await pn.delete(C._id||C.id);de.dismiss(T),k.success?(de.success("Member deleted successfully!"),w()):de.error(k.message||"Failed to delete member")}catch(T){console.error("Error deleting member:",T),de.error("Error deleting member. Please try again.")}};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 mb-6",children:l.jsx("div",{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),l.jsx("input",{type:"text",placeholder:"Search members by name, phone, or branch...",value:i,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all"})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("select",{value:u,onChange:C=>f(C.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 bg-white transition-all",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"pending",children:"Pending"})]})})]})})}),n&&l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l.jsx(Op,{onSave:S,onCancel:()=>{r(!1)}})})}),e&&l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l.jsx(Op,{member:e,onSave:j,onCancel:()=>{t(null)}})})}),h?l.jsxs("div",{className:"flex justify-center items-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading members..."})]}):l.jsx(l.Fragment,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:N.length===0?l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(Xn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No members found"}),l.jsx("p",{className:"text-gray-600",children:i||u!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first member."}),g.length>0&&l.jsxs("p",{className:"text-red-600 mt-2",children:["Note: ",g.length," members exist but are filtered out"]})]}):N.map(C=>l.jsx(JY,{member:C,onEdit:t,onDelete:A},C._id||C.id))})})]})})},tK=({product:e,onEdit:t,onDelete:n,onUpdateStock:r})=>{const[i,o]=b.useState(!1),[u,f]=b.useState(""),h=j=>j>50?"text-green-600":j>20?"text-yellow-600":"text-red-600",m=j=>j>50?"bg-green-50 border-green-200":j>20?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200",g=j=>j>50?"In Stock":j>20?"Low Stock":j>0?"Critical":"Out of Stock",x=j=>({Food:"bg-orange-100 text-orange-700",Clothing:"bg-purple-100 text-purple-700",Medicine:"bg-red-100 text-red-700",Education:"bg-blue-100 text-blue-700",Emergency:"bg-pink-100 text-pink-700",Other:"bg-gray-100 text-gray-700"})[j]||"bg-gray-100 text-gray-700",y=e.availableStock||e.totalStock||e.stock||0,w=e.distributedStock||0,N=y*(e.unitPrice||e.price||0);return l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-3 rounded-xl shadow-md",children:l.jsx(xn,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:e.name}),l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${x(e.category)}`,children:e.category})]})]}),l.jsxs("div",{className:"flex space-x-1 ml-2",children:[l.jsx("button",{onClick:()=>o(!i),className:"p-2.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Update Stock",children:l.jsx(xn,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>t(e),className:"p-2.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Product",children:l.jsx(M6,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>n(e._id||e.id),className:"p-2.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Product",children:l.jsx(L0,{className:"h-5 w-5"})})]})]}),e.description&&l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-2",children:e.description})]}),l.jsxs("div",{className:"p-5 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:l.jsx(Vn,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Unit Price"}),l.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",e.unitPrice||e.price]})]})]}),l.jsx("div",{className:`px-4 py-2 rounded-xl text-sm font-bold border-2 ${m(y)} ${h(y)}`,children:g(y)})]}),i&&l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border-2 border-green-200",children:[l.jsx("p",{className:"text-sm font-bold text-green-800 mb-3",children:" Update Stock"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{const j=parseInt(u)||0;f(Math.max(-y,j-10).toString())},className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all",title:"Decrease by 10",children:l.jsx(y6,{className:"h-4 w-4"})}),l.jsx("input",{type:"number",value:u,onChange:j=>f(j.target.value),className:"flex-1 px-3 py-2 border-2 border-green-300 rounded-lg text-center font-bold text-gray-900 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"+10 or -5"}),l.jsx("button",{onClick:()=>{const j=parseInt(u)||0;f((j+10).toString())},className:"p-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-all",title:"Increase by 10",children:l.jsx(Qn,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"mt-3 flex gap-2",children:[l.jsxs("button",{onClick:()=>{const j=parseInt(u)||0;r&&j!==0&&(r(e._id||e.id,j),f(""),o(!1))},disabled:!u||parseInt(u)===0,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-2 rounded-lg font-semibold transition-all disabled:cursor-not-allowed",children:["Apply (",(parseInt(u)||0)>0?"+":"",parseInt(u)||0,")"]}),l.jsx("button",{onClick:()=>{f(""),o(!1)},className:"px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg font-semibold transition-all",children:"Cancel"})]}),l.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Current: ",y,"  New: ",y+(parseInt(u)||0)]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl border border-blue-100",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(xn,{className:"h-4 w-4 text-blue-600"}),l.jsx("p",{className:"text-xs text-blue-700 font-semibold",children:"Available"})]}),l.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[y," ",l.jsx("span",{className:"text-sm font-medium",children:e.unit||"kg"})]})]}),l.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl border border-purple-100",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(sc,{className:"h-4 w-4 text-purple-600"}),l.jsx("p",{className:"text-xs text-purple-700 font-semibold",children:"Sold"})]}),l.jsxs("p",{className:"text-xl font-bold text-purple-900",children:[w," ",l.jsx("span",{className:"text-sm font-medium",children:e.unit||"kg"})]})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 p-3 rounded-xl border border-amber-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Vn,{className:"h-5 w-5 text-amber-600"}),l.jsx("p",{className:"text-sm text-amber-700 font-semibold",children:"Total Stock Value"})]}),l.jsxs("p",{className:"text-xl font-bold text-amber-900",children:["",N.toLocaleString()]})]})}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[l.jsx(Tn,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs font-medium",children:"Added"})]}),l.jsx("span",{className:"text-sm font-semibold text-gray-700",children:(()=>{try{if(e.createdAt){const j=new Date(e.createdAt);if(!isNaN(j.getTime()))return j.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return"Recently"}catch{return"Recently"}})()})]}),y>0&&y<=20&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start space-x-2",children:[l.jsx(Zn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-red-800",children:"Low Stock Alert!"}),l.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:"Consider restocking soon to avoid shortages."})]})]})]})]})},nK=({product:e,onSave:t,onCancel:n})=>{const[r,i]=b.useState({name:e?.name||"",unit:e?.unit||"piece",unitPrice:e?.unitPrice||e?.price||"",totalStock:e?.totalStock||e?.availableStock||e?.stock||"",minimumStock:e?.minimumStock||10,description:e?.description||"",expiryDate:e?.expiryDate||"",supplier:{name:e?.supplier?.name||"",contact:e?.supplier?.contact||""}});console.log(" ProductForm initialized with product:",e),console.log(" Form data initialized:",r);const[o,u]=b.useState({}),f=["piece","kg","liter","box","bag","bosta","bottle","packet","dozen"],h=()=>{const g={};return r.name.trim()||(g.name="Product name is required"),r.unit||(g.unit="Unit is required"),(!r.unitPrice||r.unitPrice<=0)&&(g.unitPrice="Valid unit price is required"),!e&&(!r.totalStock||r.totalStock<0)&&(g.totalStock="Valid stock quantity is required"),u(g),Object.keys(g).length===0},m=g=>{if(g.preventDefault(),h()){const x={name:r.name.trim(),unit:r.unit,unitPrice:parseFloat(r.unitPrice),minimumStock:parseInt(r.minimumStock),description:r.description.trim(),expiryDate:r.expiryDate||null,supplier:{name:r.supplier.name.trim()||null,contact:r.supplier.contact.trim()||null}};e||(x.totalStock=parseInt(r.totalStock),x.availableStock=parseInt(r.totalStock),x.stock=parseInt(r.totalStock)),console.log(" Sending product payload:",x),t(x)}};return l.jsx("div",{className:"bg-white rounded-2xl shadow-xl border max-w-2xl w-full mx-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Product":"Add New Product"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2",children:l.jsx(nf,{className:"h-6 w-6"})})]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(xn,{className:"h-4 w-4 inline mr-1"}),"Product Name *"]}),l.jsx("input",{type:"text",value:r.name,onChange:g=>i({...r,name:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter product name"}),o.name&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(xn,{className:"h-4 w-4 inline mr-1"}),"Unit *"]}),l.jsxs("select",{value:r.unit,onChange:g=>i({...r,unit:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.unit?"border-red-300":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select Unit"}),f.map(g=>l.jsx("option",{value:g,children:g},g))]}),o.unit&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.unit})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vn,{className:"h-4 w-4 inline mr-1"}),"Price per ",r.unit||"unit"," () *"]}),l.jsx("input",{type:"number",value:r.unitPrice,onChange:g=>i({...r,unitPrice:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.unitPrice?"border-red-300":"border-gray-300"}`,placeholder:"Enter price per unit",min:"0",step:"0.01"}),o.unitPrice&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.unitPrice})]}),!e&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Pw,{className:"h-4 w-4 inline mr-1"}),"Stock Quantity *"]}),l.jsx("input",{type:"number",value:r.totalStock,onChange:g=>i({...r,totalStock:g.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.totalStock?"border-red-300":"border-gray-300"}`,placeholder:"Enter stock quantity",min:"0"}),o.totalStock&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.totalStock})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Pw,{className:"h-4 w-4 inline mr-1"}),"Minimum Stock Alert"]}),l.jsx("input",{type:"number",value:r.minimumStock,onChange:g=>i({...r,minimumStock:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Minimum stock level",min:"0"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:r.description,onChange:g=>i({...r,description:g.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter product description (optional)"})]}),l.jsxs("div",{className:"flex space-x-4 pt-6",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-all",children:e?"Update Product":"Add Product"})]})]})]})})},rK=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(null),[i,o]=b.useState(""),[u,f]=b.useState([]),[h,m]=b.useState(!0),[g,x]=b.useState(!1),[y,w]=b.useState(1),[N,j]=b.useState(1),[S,A]=b.useState({totalProducts:0,inStock:0,lowStock:0,outOfStock:0});b.useEffect(()=>{C()},[y]),b.useEffect(()=>{w(1),C()},[i]),b.useEffect(()=>{const I=()=>{document.hidden||(console.log(" Page became visible, refreshing products..."),C(!0))};return document.addEventListener("visibilitychange",I),()=>document.removeEventListener("visibilitychange",I)},[]);const C=async(I=!1)=>{try{I?x(!0):m(!0);const R={};i&&(R.search=i),R.page=y,R.limit=50,I&&(R._t=Date.now()),console.log(" Fetching products with params:",R);const H=await vl.getAll(R);if(console.log(" Products API response:",H),H.success){const V=H.data||[];console.log(` Loaded ${V.length} products:`,V),V.forEach((F,X)=>{console.log(` Product ${X+1} (${F.name}):`,{totalStock:F.totalStock,availableStock:F.availableStock,stock:F.stock,unitPrice:F.unitPrice,price:F.price})}),f(V),H.pagination&&j(H.pagination.pages||1),H.stats&&A(H.stats),I&&de.success("Products refreshed!")}else console.error(" API returned error:",H),de.error("Failed to fetch products"),f([])}catch(R){console.error(" Error fetching products:",R),de.error("Error connecting to server"),f([])}finally{m(!1),x(!1)}},T=async I=>{try{const R=await vl.create(I);R.success?(de.success("Product added successfully!"),t(!1),await C()):de.error(R.message||"Failed to add product")}catch(R){console.error("Error adding product:",R),de.error("Error adding product. Please try again.")}},k=async I=>{try{console.log(" Updating product:",n._id||n.id,I);const R=await vl.update(n._id||n.id,I);console.log(" Update response:",R),R.success?(de.success("Product updated successfully!  Refreshing..."),r(null),console.log(" Refreshing products after update..."),x(!0),setTimeout(async()=>{await C(!0)},500)):(console.error(" Update failed:",R),de.error(R.message||"Failed to update product"))}catch(R){console.error(" Error updating product:",R),de.error("Error updating product. Please try again.")}},D=async I=>{const R=u.find(F=>(F._id||F.id)===I),H=R?R.name:"this product",V=`Are you sure you want to delete "${H}"?

This will:
 Remove the product from inventory
 Hide it from all product listings
 Preserve historical distribution records

This action cannot be undone.`;if(window.confirm(V))try{console.log(" Deleting product:",I,H);const F=await vl.delete(I);F.success?(de.success(`Product "${H}" deleted successfully! `),console.log(" Product deleted, refreshing list..."),x(!0),setTimeout(async()=>{await C(!0)},300)):(console.error(" Delete failed:",F),de.error(F.message||"Failed to delete product"))}catch(F){console.error(" Error deleting product:",F),de.error("Error deleting product. Please try again.")}},P=async(I,R)=>{try{const H=u.find(K=>(K._id||K.id)===I);if(!H){de.error("Product not found");return}const V=H.availableStock||H.totalStock||H.stock||0,F=V+R;if(F<0){de.error("Stock cannot be negative!");return}console.log(" Updating stock:",H.name,"from",V,"to",F);const X=R>0?"add":"remove",G=Math.abs(R),ge=await vl.updateStock(I,{action:X,quantity:G,reason:`Stock ${X==="add"?"increased":"decreased"} by ${G}`});ge.success?(de.success(`Stock updated! ${V}  ${F} (${R>0?"+":""}${R})`),x(!0),setTimeout(async()=>{await C(!0)},300)):de.error(ge.message||"Failed to update stock")}catch(H){console.error(" Error updating stock:",H),de.error("Error updating stock. Please try again.")}},M=u.filter(I=>I.name.toLowerCase().includes(i.toLowerCase())||I.description.toLowerCase().includes(i.toLowerCase()));return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-100 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-md mb-3",children:l.jsx(xn,{className:"h-7 w-7 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Product Management"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Manage inventory and track stock levels"})]}),l.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-6 mb-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Si,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),l.jsx("input",{type:"text",placeholder:"Search products by name or description...",value:i,onChange:I=>o(I.target.value),className:"w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>C(!0),disabled:g,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-blue-400 disabled:to-blue-400 text-white px-5 py-3.5 rounded-xl font-semibold transition-all flex items-center space-x-2 shadow-md hover:shadow-lg",children:[l.jsx(Ma,{className:`h-5 w-5 ${g?"animate-spin":""}`}),l.jsx("span",{children:g?"Refreshing...":"Refresh"})]}),l.jsxs("button",{onClick:()=>t(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3.5 rounded-xl font-semibold transition-all flex items-center space-x-2 shadow-md hover:shadow-lg",children:[l.jsx(Qn,{className:"h-5 w-5"}),l.jsx("span",{children:"Add Product"})]})]})})]})}),(e||n)&&l.jsx("div",{className:"mb-8",children:l.jsx(nK,{product:n,onSave:n?k:T,onCancel:()=>{t(!1),r(null)}})}),h&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 text-lg",children:"Loading products..."})]}),!h&&u.length>=0&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-5 text-white shadow-lg",children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total Products"}),l.jsx("p",{className:"text-3xl font-bold",children:S.totalProducts})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-5 text-white shadow-lg",children:[l.jsx("p",{className:"text-green-100 text-sm font-medium mb-1",children:"In Stock"}),l.jsx("p",{className:"text-3xl font-bold",children:S.inStock})]}),l.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-5 text-white shadow-lg",children:[l.jsx("p",{className:"text-yellow-100 text-sm font-medium mb-1",children:"Low Stock"}),l.jsx("p",{className:"text-3xl font-bold",children:S.lowStock})]}),l.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-5 text-white shadow-lg",children:[l.jsx("p",{className:"text-red-100 text-sm font-medium mb-1",children:"Out of Stock"}),l.jsx("p",{className:"text-3xl font-bold",children:S.outOfStock})]})]}),!h&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:M.map(I=>l.jsx(tK,{product:I,onEdit:r,onDelete:D,onUpdateStock:P},I._id||I.id))}),!h&&u.length>0&&N>1&&l.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8 mb-4",children:[l.jsx("button",{onClick:()=>w(I=>Math.max(1,I-1)),disabled:y===1,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),l.jsx("div",{className:"flex space-x-1",children:[...Array(N)].map((I,R)=>{const H=R+1;return H===1||H===N||H>=y-1&&H<=y+1?l.jsx("button",{onClick:()=>w(H),className:`w-10 h-10 rounded-lg font-medium transition-all ${y===H?"bg-green-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"}`,children:H},H):H===y-2&&H>1||H===y+2&&H<N?l.jsx("span",{className:"px-1 text-gray-400 self-end mb-2",children:"..."},H):null})}),l.jsx("button",{onClick:()=>w(I=>Math.min(N,I+1)),disabled:y===N,className:"p-2 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),!h&&M.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"bg-gray-100 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:l.jsx(xn,{className:"h-10 w-10 text-gray-400"})}),l.jsx("p",{className:"text-gray-500 text-lg mb-2",children:u.length===0?"No products available":"No products match your criteria"}),l.jsx("p",{className:"text-gray-400 mb-4",children:u.length===0?"Add your first product to get started":"Try adjusting your search or filter criteria"}),u.length===0&&l.jsxs("button",{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all flex items-center space-x-2 mx-auto",children:[l.jsx(Qn,{className:"h-5 w-5"}),l.jsx("span",{children:"Add First Product"})]})]})]})})},aK=()=>{const[e,t]=b.useState(kn()),[n,r]=b.useState(kn()),[i,o]=b.useState(null),[u,f]=b.useState(!1),[h,m]=b.useState("all"),g=b.useRef(!0),x=["Food","Clothing","Medicine","Education","Emergency","Other"];b.useEffect(()=>{y()},[e,n]);const y=async()=>{try{if(f(!0),console.log(" Fetching sales report for date range:",{startDate:e,endDate:n}),new Date(e)>new Date(n)){de.error("Start date cannot be after end date"),f(!1);return}const k=await vl.getSalesReport({startDate:e,endDate:n});if(console.log(" Sales report response:",k),k.success){o(k.data);const D=Math.ceil((new Date(n)-new Date(e))/(1e3*60*60*24))+1;g.current?g.current=!1:e===n?de.success(`Sales report loaded for ${ti(e)}`):de.success(`Sales report loaded for ${D} days (${ti(e)} - ${ti(n)})`)}else de.error("Failed to load sales report")}catch(k){console.error(" Error fetching sales report:",k),de.error("Error loading sales report")}finally{f(!1)}},w=()=>{const k=kn();t(k),r(k)},N=()=>{const k=kn(),[D,P,M]=k.split("-").map(Number),I=new Date(D,P-1,M-1),R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(R)},j=()=>{const k=kn(),[D,P,M]=k.split("-").map(Number),I=new Date(D,P-1,M);I.setDate(I.getDate()-6);const R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(k)},S=()=>{const k=kn(),[D,P,M]=k.split("-").map(Number),I=new Date(D,P-1,M);I.setDate(I.getDate()-9);const R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(k)},A=()=>{const k=kn(),[D,P,M]=k.split("-").map(Number),I=new Date(D,P-1,M);I.setDate(I.getDate()-29);const R=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;t(R),r(k)},C=k=>({Food:"bg-orange-100 text-orange-700 border-orange-200",Clothing:"bg-purple-100 text-purple-700 border-purple-200",Medicine:"bg-red-100 text-red-700 border-red-200",Education:"bg-blue-100 text-blue-700 border-blue-200",Emergency:"bg-pink-100 text-pink-700 border-pink-200",Other:"bg-gray-100 text-gray-700 border-gray-200"})[k]||"bg-gray-100 text-gray-700 border-gray-200",T=i?.productSales.filter(k=>h==="all"||k.category===h)||[];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-md mb-3",children:l.jsx($0,{className:"h-7 w-7 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Sales Report"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"View product sales for any date or date range"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-6 mb-8",children:[l.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[l.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"From Date"]}),l.jsx("input",{type:"date",value:e,onChange:k=>t(k.target.value),max:n,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium text-lg"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[l.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"To Date"]}),l.jsx("input",{type:"date",value:n,onChange:k=>r(k.target.value),min:e,max:kn(),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium text-lg"})]})]})}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx("button",{onClick:w,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all font-semibold text-sm shadow-md",children:"Today"}),l.jsx("button",{onClick:N,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all font-semibold text-sm shadow-md",children:"Yesterday"}),l.jsx("button",{onClick:j,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all font-semibold text-sm shadow-md",children:"Last 7 Days"}),l.jsx("button",{onClick:S,className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-lg hover:from-pink-600 hover:to-pink-700 transition-all font-semibold text-sm shadow-md",children:"Last 10 Days"}),l.jsx("button",{onClick:A,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-lg hover:from-indigo-600 hover:to-indigo-700 transition-all font-semibold text-sm shadow-md",children:"Last 30 Days"}),l.jsxs("button",{onClick:y,disabled:u,className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all font-semibold shadow-md flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[l.jsx(Ma,{className:`h-4 w-4 ${u?"animate-spin":""}`}),l.jsx("span",{children:u?"Loading...":"Refresh"})]})]}),l.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[l.jsx(eA,{className:"h-5 w-5 text-gray-400"}),l.jsxs("select",{value:h,onChange:k=>m(k.target.value),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white font-medium",children:[l.jsx("option",{value:"all",children:"All Categories"}),x.map(k=>l.jsx("option",{value:k,children:k},k))]})]})]}),u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 text-lg",children:"Loading sales report..."})]}),!u&&i&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-3 rounded-full shadow-lg",children:[l.jsx(Tn,{className:"h-5 w-5"}),e===n?l.jsxs("span",{className:"font-semibold",children:["Report for: ",ti(e)]}):l.jsxs("span",{className:"font-semibold",children:["Report from ",ti(e)," to ",ti(n),l.jsxs("span",{className:"ml-2 bg-white bg-opacity-20 px-2 py-0.5 rounded-full text-sm",children:[Math.ceil((new Date(n)-new Date(e))/(1e3*60*60*24))+1," days"]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Total Sales Value"}),l.jsx(Vn,{className:"h-6 w-6 text-green-200"})]}),l.jsxs("p",{className:"text-4xl font-bold",children:["",i.summary.totalSalesValue.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Products Sold"}),l.jsx(xn,{className:"h-6 w-6 text-blue-200"})]}),l.jsx("p",{className:"text-4xl font-bold",children:i.summary.totalProductsSold}),l.jsx("p",{className:"text-xs text-blue-100 mt-1",children:"Unique products"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Quantity"}),l.jsx(sc,{className:"h-6 w-6 text-purple-200"})]}),l.jsx("p",{className:"text-4xl font-bold",children:i.summary.totalQuantitySold}),l.jsx("p",{className:"text-xs text-purple-100 mt-1",children:"Units sold"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[l.jsx(xn,{className:"h-6 w-6 mr-2 text-blue-600"}),"Product-wise Sales Details"]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Showing ",T.length," of ",i.productSales.length," products"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Product Name"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Category"}),l.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Quantity Sold"}),l.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Unit Price"}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Total Value"}),l.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Transactions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.length>0?T.map((k,D)=>l.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:l.jsx(xn,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold text-gray-900",children:k.name}),l.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",k.productId.slice(-6)]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${C(k.category)}`,children:k.category})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[k.totalQuantity," ",l.jsx("span",{className:"text-sm font-medium text-gray-500",children:k.unit})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",k.unitPrice.toLocaleString()]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:l.jsxs("div",{className:"text-lg font-bold text-green-600",children:["",k.totalValue.toLocaleString()]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-purple-100 text-purple-700",children:k.transactions})})]},k.productId)):l.jsx("tr",{children:l.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[l.jsx(xn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No sales found for this date"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:h!=="all"?"Try selecting a different category or date":"No product distributions were made on this date"}),l.jsx("p",{className:"text-gray-400 text-xs mt-2 italic",children:" Sales data comes from completed product distributions"})]})})})]})})]})]}),!u&&!i&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-xl",children:[l.jsx($0,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No sales report generated yet"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:'Select a date range and click "Generate Report"'})]})]})})},lK=({weekDays:e,onDaySelect:t})=>l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Select Day"}),l.jsx("p",{className:"text-gray-600",children:"Choose the day for installment collection"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:e.map(n=>l.jsxs("button",{onClick:()=>t(n),className:`bg-gradient-to-r ${n.color} hover:scale-105 text-white p-6 rounded-2xl font-bold text-xl shadow-lg transform transition-all duration-300 hover:shadow-2xl ${n.isDaily?"md:col-span-3":""}`,children:[n.isDaily?l.jsx(Da,{className:"h-8 w-8 mx-auto mb-3"}):l.jsx(Tn,{className:"h-8 w-8 mx-auto mb-3"}),n.name]},n.id))})]}),sK=({selectedDay:e,onCollectorSelect:t,onGoBack:n})=>{const[r,i]=b.useState([]),[o,u]=b.useState(!0),[f,h]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState({name:""}),[w,N]=b.useState(null),[j,S]=b.useState(""),[A,C]=b.useState(!1),T=["from-blue-500 to-blue-600","from-green-500 to-green-600","from-purple-500 to-purple-600","from-yellow-500 to-yellow-600","from-red-500 to-red-600","from-indigo-500 to-indigo-600","from-orange-500 to-orange-600","from-pink-500 to-pink-600","from-teal-500 to-teal-600","from-cyan-500 to-cyan-600"];b.useEffect(()=>{k()},[e]);const k=async()=>{try{u(!0);const M=await qo.getAll({limit:100,role:"collector"});if(M.success&&M.data){const I=M.data;console.log(" Total collectors from API:",I.length),console.log(" All collectors:",I.map(X=>({name:X.name,role:X.role,isActive:X.isActive,email:X.email})));const R=I.filter(X=>{const G=X.role==="collector",ge=!!X.email,K=X.isActive!==!1,re=X.collectionType||"weekly",he=e?.isDaily?re==="daily":re==="weekly",De=G&&ge&&K&&he;return De||console.log(` Excluding collector: ${X.name} - Role: ${X.role}, Email: ${!!X.email}, IsActive: ${X.isActive}, CollectionType: ${re}, SelectedDay: ${e?.name}`),De});console.log(" Filtered collectors:",R.length);let H=[];try{const X=await ka.getAll();X.success&&X.data&&(H=X.data,console.log(" Total branches loaded:",H.length),console.log(" Sample branches (first 3):",H.slice(0,3).map(G=>({name:G.name,code:G.branchCode,assignedCollector:G.assignedCollector}))))}catch(X){console.error(" Error loading branches:",X)}const F=R.map(X=>{const G=X.id||X._id,ge=H.filter(re=>{const he=re.assignedCollector?._id||re.assignedCollector,De=he&&he.toString()===G.toString();return he&&console.log(` Comparing: Branch "${re.name}" collector (${he}) vs Collector ${X.name} (${G}) = ${De}`),De}),K=ge.length;return console.log(` Collector: ${X.name} (${G}) - Branches: ${K}`),{id:G,name:X.name,email:X.email,branches:ge,branchCount:K}}).map((X,G)=>({...X,color:T[G%T.length]}));i(F);return}if(M.success&&(!M.data||M.data.length===0)){i([]);return}de.error("Failed to load collectors from database"),i([])}catch{de.error("Failed to load collectors"),i([])}finally{u(!1)}},D=async()=>{if(!x.name.trim()){de.error("Please enter collector name");return}try{g(!0),console.log(" Adding new collector:",x.name);const M={name:x.name.trim(),collectionType:e?.isDaily?"daily":"weekly"};console.log(" Sending collector data to API:",M);const I=await qo.create(M);console.log(" Collector created successfully:",I),console.log(" Response success:",I.success),console.log(" Response data:",I.data),console.log(" Response message:",I.message),de.success(`Collector ${x.name} created successfully!`),console.log(" Created collector ID:",I.data?.id||I.data?._id),console.log(" Created collector data:",I.data),y({name:""}),h(!1),console.log(" Reloading collectors from database..."),await new Promise(R=>setTimeout(R,500)),await k(),console.log(" Collectors reloaded. Current count:",r.length)}catch(M){console.error(" Error creating collector:",M),de.error(M.message||"Failed to create collector")}finally{g(!1)}},P=async M=>{if(!j.trim()){de.error("Please enter a name");return}try{C(!0);const I=await qo.update(M,{name:j.trim()});if(I.success)de.success("Collector updated successfully!"),N(null),await k();else throw new Error(I.message||"Failed to update collector")}catch(I){console.error(" Error updating collector:",I),de.error(I.message||"Failed to update collector")}finally{C(!1)}};return o?l.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading collectors..."})]})}):l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border p-4 md:p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 md:mb-8 gap-4",children:[l.jsx("div",{children:l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:e?.isDaily?"Daily Kisti Collectors":"Select Collector"})}),l.jsxs("div",{className:"flex flex-wrap gap-2 md:space-x-3",children:[l.jsxs("button",{onClick:k,className:"flex items-center px-3 py-2 md:px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all text-sm md:text-base",children:[l.jsx("span",{className:"text-base",children:""}),l.jsx("span",{className:"ml-1 md:ml-2 hidden sm:inline",children:"Refresh"})]}),l.jsxs("button",{onClick:n,className:"flex items-center px-3 py-2 md:px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-semibold transition-all text-sm md:text-base",children:[l.jsx(Ni,{className:"h-4 w-4 mr-1 md:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Go Back"}),l.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]}),l.jsx("div",{className:"text-center mb-4 md:mb-6",children:l.jsxs("p",{className:"text-base md:text-lg text-gray-600",children:["Selected Day: ",l.jsx("span",{className:"font-bold text-blue-600",children:e.name})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.map(M=>l.jsx("div",{className:"relative group",children:l.jsx("div",{className:`w-full bg-gradient-to-r ${M.color} text-white p-6 rounded-2xl font-bold shadow-lg transform transition-all duration-300 ${w===M.id?"scale-105 shadow-2xl ring-4 ring-blue-300":"hover:scale-105 hover:shadow-2xl"}`,children:l.jsxs("div",{onClick:()=>!w&&t(M),className:w?"":"cursor-pointer",children:[l.jsx(Xn,{className:"h-8 w-8 mx-auto mb-3"}),w===M.id?l.jsxs("div",{className:"space-y-3",onClick:I=>I.stopPropagation(),children:[l.jsx("input",{type:"text",value:j,onChange:I=>S(I.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 text-center text-lg",autoFocus:!0,placeholder:"Enter name"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>P(M.id),disabled:A,className:"flex-1 bg-white/20 hover:bg-white/30 py-2 rounded-lg flex items-center justify-center transition-all",children:A?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsxs(l.Fragment,{children:[l.jsx(R0,{className:"h-4 w-4 mr-1"})," Save"]})}),l.jsxs("button",{onClick:()=>N(null),disabled:A,className:"flex-1 bg-white/10 hover:bg-white/20 py-2 rounded-lg flex items-center justify-center transition-all",children:[l.jsx(nf,{className:"h-4 w-4 mr-1"})," Cancel"]})]})]}):l.jsx("div",{className:"text-xl text-center break-words",children:M.name})]})})},M.id)),l.jsxs("button",{onClick:()=>h(!0),className:"border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 p-6 rounded-2xl font-bold text-xl text-gray-600 hover:text-blue-600 transition-all duration-300 flex flex-col items-center justify-center",children:[l.jsx(Qn,{className:"h-8 w-8 mb-3"}),"Add New Collector"]})]}),f&&l.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border-2 border-dashed border-gray-300",children:[l.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Add New ",e?.isDaily?"Daily Kisti":""," Collector"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Xn,{className:"h-4 w-4 inline mr-1"}),"Collector Name *"]}),l.jsx("input",{type:"text",placeholder:"Enter collector name",value:x.name,onChange:M=>y({...x,name:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})]}),e?.isDaily&&l.jsxs("div",{className:"text-xs text-gray-700 bg-orange-50 p-3 rounded-lg border border-orange-200",children:[l.jsx("strong",{children:" Daily Kisti Collector:"})," This collector will collect installments every day"]}),l.jsxs("div",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded-lg",children:[l.jsx("strong",{children:"Note:"})," Collectors are for organizational purposes only. Admin/Manager will handle all collection operations through the system."]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{onClick:D,disabled:!x.name.trim()||m,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed flex items-center justify-center",children:m?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Collector"}),l.jsx("button",{onClick:()=>{h(!1),y({name:""})},disabled:m,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed",children:"Cancel"})]})]})]})]})},iK=({selectedDay:e,selectedCollector:t,onGoBack:n,onBranchSelect:r,onShowCollectionSheet:i})=>{const[o,u]=b.useState(!0),[f,h]=b.useState(!1),[m,g]=b.useState(!1),x=()=>{const M=new Date,I=new Date(M.getTime()+360*60*1e3),R=I.getUTCFullYear(),H=String(I.getUTCMonth()+1).padStart(2,"0"),V=String(I.getUTCDate()).padStart(2,"0");return`${R}-${H}-${V}`},[y,w]=b.useState(x()),[N,j]=b.useState({branchName:"",branchCode:""}),[S,A]=b.useState({todayCollection:0,todaySavings:0,todayTarget:25e3,productSales:0,totalDue:0,previousDue:0,actualTarget:25e3,outstandingBalance:0,branches:[],recentTransactions:[]});b.useEffect(()=>{console.log(" COLLECTOR DASHBOARD LOADED - NEW CODE VERSION "),console.log(" Selected Date:",y),console.log(" Selected Collector:",t?.name),C();const M=R=>{console.log(" Installment collected event received:",R.detail),console.log(" Reloading collector dashboard..."),setTimeout(()=>{C()},600)};window.addEventListener("installmentCollected",M);const I=()=>{console.log(" Generic dashboard reload event received"),C()};return window.addEventListener("dashboardReload",I),()=>{window.removeEventListener("installmentCollected",M),window.removeEventListener("dashboardReload",I)}},[t,e,y]);const C=async()=>{console.log(`

 LOADING COLLECTOR DASHBOARD `),console.log(" Date:",y),console.log(" Collector:",t?.name,t?.id);try{u(!0);const M=e?.isDaily?"Daily":e?.name,I=await ic.getCollectorDashboard(t.id,y,M);if(console.log(" API Response:",I),I.success){console.log(" API SUCCESS - Using backend data");const R=I.data;console.log(" Backend Due Balance:",R.dueBalance),console.log(" Backend Net Balance:",R.netBalance),console.log(" Backend Today Collection:",R.todayCollection),console.log(" Backend Today Savings:",R.todaySavings),A(H=>({...H,todayCollection:R.todayCollection||0,todaySavings:R.todaySavings||0,totalDue:R.dueBalance||0,outstandingBalance:R.netBalance||0,branches:R.branches||[],todayTarget:R.dueBalance||0,actualTarget:R.dueBalance||0}))}else console.log(" API FAILED - Using fallback method"),await T(),setTimeout(()=>{k()},100)}catch(M){console.log("API error, falling back to old method:",M),await T(),setTimeout(()=>{k()},100)}finally{u(!1)}},T=async()=>{try{const M=y;new Date(y).setHours(0,0,0,0),new Date(y).setHours(23,59,59,999);const H=await ka.getByCollector(t.id),V=H.success?H.data:[];A(F=>({...F,branches:V}))}catch{}},k=async()=>{console.log(`

 LOADING DETAILED DASHBOARD DATA (FALLBACK METHOD) `);try{const M=y;new Date(y).setHours(0,0,0,0),new Date(y).setHours(23,59,59,999);let H=[];console.log(` Fetching branches for collector ID: ${t.id}`);const V=await ka.getByCollector(t.id);console.log(" Branches API Response:",V);const F=V.success?V.data:[];console.log(` Collector has ${F.length} branches:`,F.map(U=>U.branchCode)),console.log(` DEBUG: Selected Date: ${y}`),console.log(` DEBUG: Collector ID: ${t.id}`),console.log(` DEBUG: Collector Name: ${t.name}`);for(const U of F){console.log(`   Processing branch: ${U.branchCode} (${U.name})`);try{const L=await pn.getAll({branchCode:U.branchCode,limit:1e3});if(console.log(`     Found ${L.data?.length||0} members in branch ${U.branchCode}`),L.success&&L.data)for(const ee of L.data)try{const te=await fr.getMemberHistory(ee._id,100);if(te.success){let q=[];Array.isArray(te.data)?q=te.data:te.data&&Array.isArray(te.data.history)?q=te.data.history:te.data&&Array.isArray(te.data.installments)&&(q=te.data.installments),H.push(...q)}}catch{}}catch{}}console.log(` Collector Dashboard: Fetched ${H.length} total installments from all branches`);const X={success:!0,data:H};let G=0;for(const U of F)try{const L=await pn.getAll({branchCode:U.branchCode,limit:1e3});if(L.success&&L.data){let ee=0;L.data.forEach(te=>{const q=te.totalSavings||te.savings||0;ee+=q}),G+=ee}}catch{}let ge=0,K=0,re=0,he=0,De=[];if(X.success&&X.data){const U=X.data,L=q=>!(q instanceof Date)||isNaN(q.getTime())?null:new Date(q.getTime()+360*60*1e3).toISOString().split("T")[0];console.log(`
 ========== ALL COLLECTED INSTALLMENTS (Last 10) ==========`);const ee=U.filter(q=>q.status==="collected"||q.status==="partial");console.log(`Total Collected/Partial: ${ee.length}`),ee.slice(0,10).forEach(q=>{const ie=q.collectionDate||q.createdAt,B=new Date(ie),W=L(B),xe=q.paidAmount!=null?q.paidAmount:q.amount;console.log(`   ${q.member?.name}: ${xe} - BD Date: ${W} - Status: ${q.status} - Type: ${q.installmentType}`)}),console.log(`========================================
`),console.log(`
 ========== FILTERING TODAY'S COLLECTIONS ==========`),console.log(` Selected Date: ${y}`),console.log(` Total Installments to Check: ${U.length}`),console.log(`
 Sample of ALL installments (first 5):`),U.slice(0,5).forEach(q=>{const ie=q.collectionDate||q.createdAt,B=new Date(ie),W=L(B);console.log(`  - Member: ${q.member?.name}, Amount: ${q.amount}, PaidAmount: ${q.paidAmount}, Status: ${q.status}, Type: ${q.installmentType}, BD Date: ${W}, Note: ${q.note?.substring(0,30)||"N/A"}`)}),De=U.filter(q=>{if(q.status!=="collected"&&q.status!=="partial")return!1;const ie=q.collectionDate||q.createdAt,B=new Date(ie),W=new Date(y),xe=L(B),Z=L(W),we=xe===Z;return U.filter(Ee=>Ee.status==="collected"||Ee.status==="partial").indexOf(q)<5&&console.log(`   ${q.member?.name}: Status=${q.status}, Amount=${q.amount}, CollectionDate=${xe}, Selected=${Z}, Match=${we}`),we}),console.log(` Found ${De.length} installments collected on ${y}`),console.log(`========================================
`),console.log(` Collector Dashboard: Found ${De.length} collected installments today`),De.forEach(q=>{let ie=0;if(q.paymentHistory&&q.paymentHistory.length>0){const oe=q.paymentHistory.filter(ke=>{if(!ke.date)return!1;const et=new Date(ke.date),Je=L(et),Le=new Date(y),Me=L(Le);return Je===Me});ie=oe.reduce((ke,et)=>ke+(et.amount||0),0),oe.length>1&&console.log(` Client-side: Multiple payments for installment ${q._id}: ${oe.length} payments = ${ie}`)}else q.isAutoApplied?(ie=0,console.log(`    Client-side: Skipping auto-applied installment ${q._id} without history`)):ie=q.paidAmount!=null&&q.paidAmount>0?q.paidAmount:q.amount!=null&&q.amount>0?q.amount:0;const B=q.note||"",W=q.installmentType,xe=q.member?.name||"Unknown";console.log(` Processing: ${xe} - Amount: ${ie}, PaidAmount: ${q.paidAmount}, InstallmentAmount: ${q.amount}`);const Z=B.toLowerCase(),we=Z.includes("savings withdrawal")||Z.includes("withdrawal"),Ee=Z.includes("savings collection"),Se=!we&&(W==="savings"||Ee||Z.includes("")),Te=Z.includes("product sale")||Z.includes("");console.log(`
 Categorizing installment:`),console.log(`   Member: ${xe}`),console.log(`   Type: ${W}`),console.log(`   Note: ${B||"No note"}`),console.log(`   Amount calculated: ${ie}`),console.log(`   InstallmentAmount field: ${q.amount}`),console.log(`   PaidAmount field: ${q.paidAmount}`),console.log(`   Status: ${q.status}`),console.log(`   Is Savings: ${Se}`),console.log(`   Is Savings Withdrawal: ${we}`),console.log(`   Is Product Sale: ${Te}`),Te?console.log("    SKIPPED: Product Sale (loan disbursement, not collection)"):we?(K-=ie,console.log(`    Category: SAVINGS WITHDRAWAL (-${ie})`)):Se?(K+=ie,console.log(`    Category: SAVINGS COLLECTION (${ie})`)):(ge+=ie,console.log(`    Category: LOAN INSTALLMENT (${ie})`))}),console.log(`
 ========== TODAY'S COLLECTIONS (${y}) ==========`),console.log(` Loan Collections: ${ge}`),console.log(` Savings Collections: ${K}`),console.log(` Total Collected Today: ${ge+K}`),console.log(`========================================
`),U.filter(q=>q.status==="collected"||q.status==="partial").forEach(q=>{const ie=(q.paidAmount!=null?q.paidAmount:q.amount)||0,B=q.note||"",W=q.installmentType,xe=B.toLowerCase(),Z=xe.includes("product sale")||xe.includes(""),we=W==="savings"||xe.includes("savings")||xe.includes("");Z?re+=ie:we||(he+=ie)}),console.log(`
 ========== NET BALANCE CALCULATION (ALL TIME) ==========`),console.log(` Product Sales (Loans Given): ${re}`),console.log(` Loan Repayments (Money Received): ${he}`)}let $=0,le=0;if(X.success&&X.data){const U=X.data,ee=new Date(y).toDateString(),te=U.filter(Z=>{if(Z.status!=="pending"&&Z.status!=="partial"||!Z.dueDate)return!1;const we=new Date(Z.dueDate);we.setHours(0,0,0,0);const Ee=new Date(y);Ee.setHours(0,0,0,0);const Se=we<=Ee;if(Se&&Z.member){const Te=Math.floor((Ee-we)/864e5);let oe="Due Today";Te>0&&(oe=`${Te} day${Te>1?"s":""} overdue`),console.log(` Including ${Z.member.name}: ${oe}, Amount: ${Z.amount}`)}return Se});console.log(`
 ===== DUE BALANCE CALCULATION =====`),console.log(` Selected Date (Today): ${new Date(y).toLocaleDateString()}`),console.log(` Found ${te.length} installments due/overdue (today + past only)`),console.log(` DEBUG: Total installments in database: ${U.length}`),console.log(` DEBUG: Pending installments: ${U.filter(Z=>Z.status==="pending").length}`),console.log(` DEBUG: Partial installments: ${U.filter(Z=>Z.status==="partial").length}`),console.log(` DEBUG: Collected installments: ${U.filter(Z=>Z.status==="collected").length}`);const q=U.filter(Z=>{if(Z.status!=="pending"&&Z.status!=="partial"||!Z.dueDate)return!1;const we=new Date(Z.dueDate);we.setHours(0,0,0,0);const Ee=new Date(y);return Ee.setHours(0,0,0,0),we>Ee}).length;console.log(` DEBUG: Future installments (excluded from due): ${q}`),console.log(" DEBUG: Sample pending installment due dates vs Selected Date:");const ie=new Date(y);ie.setHours(0,0,0,0),U.filter(Z=>Z.status==="pending").slice(0,10).forEach(Z=>{const we=Z.member?.name||"Unknown";if(Z.dueDate){const Ee=new Date(Z.dueDate);Ee.setHours(0,0,0,0);const Se=Ee.toLocaleDateString(),Te=Ee<=ie,oe=Ee<ie?"OVERDUE":Ee.getTime()===ie.getTime()?"DUE TODAY":"FUTURE";console.log(`  - ${we}: Due ${Se} (${Z.amount})  ${oe} ${Te?" INCLUDED":" EXCLUDED"}`)}else console.log(`  - ${we}: No due date (${Z.amount})`)});const B=De.map(Z=>Z._id).filter(Boolean),W=De.map(Z=>{const we=Z.member?._id||Z.member,Ee=Z.amount||0,Se=Z.dueDate?new Date(Z.dueDate).toDateString():null;return`${we}-${Ee}-${Se}`}).filter(Boolean);console.log(` Excluding ${B.length} installments collected today from due balance`);const xe=te.filter(Z=>{if(B.includes(Z._id))return console.log(`   Excluded by ID: ${Z.member?.name} - ${Z.amount}`),!1;const we=Z.member?._id||Z.member,Ee=Z.amount||0,Se=Z.dueDate?new Date(Z.dueDate).toDateString():null,Te=`${we}-${Ee}-${Se}`;return W.includes(Te)?(console.log(`   Excluded by match: ${Z.member?.name} - ${Ee}`),!1):!0});console.log(` After excluding collected installments: ${xe.length} still due`),xe.forEach(Z=>{let we=0;if(Z.status==="partial"){const Le=Z.amount||0,Me=Z.paidAmount||0;we=Math.max(0,Le-Me)}else Z.status==="pending"&&(we=Z.amount||0);$+=we;const Ee=Z.status==="partial"?"":"",Se=Z.member?.name||"Unknown",Te=new Date(Z.dueDate).toLocaleDateString(),oe=new Date(y);oe.setHours(0,0,0,0);const ke=new Date(Z.dueDate);ke.setHours(0,0,0,0);let et="Due Today";const Je=Math.floor((oe-ke)/(1e3*60*60*24));Je>0?et=`${Je} day${Je>1?"s":""} overdue`:Je<0&&(et=`Due in ${Math.abs(Je)} day${Math.abs(Je)>1?"s":""}`),console.log(`  ${Ee} ${Se}: ${we} (${et}) - Status: ${Z.status}`)}),console.log(` TOTAL DUE BALANCE (Today + Overdue ONLY): ${$}`),console.log(" This includes only installments due today or overdue (past dates)"),le=$,console.log(` Total Expected to Collect: ${le} (includes overdue amounts)`)}const z=$;console.log(`
 NET BALANCE = ${z} (same as Due Balance - all outstanding)`),console.log(`   This shows total amount still owed by members
`);const ue=ge+K,be=$,Ce=be,J=0,O=[];X.success&&X.data&&X.data.sort((L,ee)=>new Date(ee.collectionDate||ee.createdAt)-new Date(L.collectionDate||L.createdAt)).slice(0,10).forEach((L,ee)=>{const te=new Date(L.collectionDate||L.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});let q="installment";L.installmentType==="regular"?q="savings":L.installmentType==="extra"&&(q="product"),O.push({id:L._id||ee,type:q,member:L.member?.name||"Unknown Member",amount:L.amount||0,time:te,note:L.note||""})}),A(U=>({...U,todayCollection:ge,todaySavings:K,todayTarget:be,actualTarget:Ce,totalDue:$,previousDue:0,outstandingBalance:z,recentTransactions:O})),console.log(` Dashboard Updated - Due Balance: ${$} (Due + Overdue, matches Pending Installments: 5,698)`)}catch{}},D=async()=>{if(!N.branchName.trim()||!N.branchCode.trim()){de.error("Please fill in all required fields");return}if(!/^\d{4}$/.test(N.branchCode.trim())){de.error("Branch code must be exactly 4 digits");return}if(S.branches.find(I=>I.branchCode===N.branchCode.trim())){de.error("Branch code already exists");return}try{g(!0);const I={collectorId:t.id,collectionDay:e.isDaily?"Daily":e.name,branches:[{branchCode:N.branchCode.trim(),branchName:N.branchName.trim(),members:[]}]};console.log(" Creating schedule with branch:",I);const R=await aM.create(I);if(R.success)de.success(`Branch ${N.branchName} added successfully!`),j({branchName:"",branchCode:""}),h(!1),await C();else throw new Error(R.message||"Failed to add branch")}catch(I){console.error("Error adding branch:",I),de.error(I.message||"Failed to add branch")}finally{g(!1)}},P=M=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(M)+"";return o?l.jsx("div",{className:"bg-white rounded-xl lg:rounded-3xl shadow-2xl border p-4 md:p-6 lg:p-8",children:l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-10 md:h-12 w-10 md:w-12 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-sm md:text-base text-gray-600",children:"Loading collector dashboard..."})]})}):l.jsxs("div",{className:"bg-white rounded-xl lg:rounded-3xl shadow-2xl border p-4 md:p-6 lg:p-8",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 lg:mb-8 space-y-4 lg:space-y-0",children:[l.jsxs("div",{className:"text-center lg:text-left",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Collector Dashboard"}),l.jsxs("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:[t.name," - ",e.name]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 lg:space-x-3 lg:items-center",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-gray-50 px-3 md:px-4 py-2 rounded-xl border border-gray-300",children:[l.jsx(Tn,{className:"h-4 md:h-5 w-4 md:w-5 text-gray-600"}),l.jsx("input",{type:"date",value:y,onChange:M=>w(M.target.value),max:x(),className:"bg-transparent border-none focus:outline-none focus:ring-0 text-gray-900 font-medium cursor-pointer text-sm md:text-base"})]}),l.jsx("button",{onClick:()=>{C()},disabled:o,className:"flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-xl font-semibold transition-all text-sm md:text-base",children:o?"Refreshing...":"Refresh Data"}),l.jsxs("button",{onClick:n,className:"flex items-center justify-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-xl font-semibold transition-all text-sm md:text-base",children:[l.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Today's Collection"}),l.jsx("p",{className:"text-2xl font-bold",children:P(S.todayCollection)})]}),l.jsx(Vn,{className:"h-8 w-8 text-green-200"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Today's Savings"}),l.jsx("p",{className:"text-2xl font-bold",children:P(Math.max(0,S.todaySavings))})]}),l.jsx(Xn,{className:"h-8 w-8 text-blue-200"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Due Balance"}),l.jsx("p",{className:"text-2xl font-bold",children:P(S.totalDue)}),l.jsx("p",{className:"text-xs mt-1 opacity-90",children:"Today + Overdue"})]}),l.jsx(Zn,{className:"h-8 w-8 text-orange-200"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Net Balance"}),l.jsx("p",{className:"text-2xl font-bold",children:P(S.outstandingBalance)}),l.jsx("p",{className:"text-xs mt-1 opacity-90",children:"Total Outstanding"})]}),l.jsx(xn,{className:"h-8 w-8 text-purple-200"})]})})]}),l.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(_6,{className:"h-5 w-5 mr-2"}),"Target vs Achievement Calculation"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Base Daily Target:"}),l.jsx("span",{className:"font-semibold",children:P(S.todayTarget)})]}),l.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[l.jsx("span",{className:"text-gray-900 font-medium",children:"Total Outstanding:"}),l.jsx("span",{className:"font-bold text-orange-600",children:P(S.totalDue)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Today's Collection:"}),l.jsx("span",{className:"font-semibold text-green-600",children:P(S.todayCollection)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Today's Savings:"}),l.jsx("span",{className:"font-semibold text-blue-600",children:P(S.todaySavings)})]}),l.jsx("div",{className:"border-t pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-900 font-medium",children:"Net Balance (Outstanding):"}),l.jsx("span",{className:"font-bold text-orange-600",children:P(S.outstandingBalance)})]})}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[l.jsx("span",{children:"Collection Progress (vs Total Outstanding)"}),l.jsxs("span",{children:[S.todayTarget>0?Math.round(S.todayCollection/S.todayTarget*100):0,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${S.todayTarget>0?Math.min(S.todayCollection/S.todayTarget*100,100):0}%`}})})]}),S.totalDue>0&&l.jsx("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:l.jsxs("p",{className:"text-orange-800 text-sm",children:[l.jsx("strong",{children:" Total Outstanding:"})," ",P(S.totalDue)," is currently pending from all members. Keep collecting!"]})}),S.todayCollection>0&&l.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("p",{className:"text-green-800 text-sm",children:[l.jsx("strong",{children:" Great work!"})," You've collected ",P(S.todayCollection)," today."]})})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Branch to Manage"}),l.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all",children:[l.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Add New Branch"]})]}),f&&l.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-xl border",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Branch"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Name *"}),l.jsx("input",{type:"text",placeholder:"Enter branch name",value:N.branchName,onChange:M=>j({...N,branchName:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Code (4 digits) *"}),l.jsx("input",{type:"text",inputMode:"numeric",maxLength:4,placeholder:"e.g. 1234",value:N.branchCode,onChange:M=>j({...N,branchCode:M.target.value.replace(/[^0-9]/g,"")}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[l.jsx("button",{onClick:D,disabled:m,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all disabled:opacity-50",children:m?"Adding...":"Add Branch"}),l.jsx("button",{onClick:()=>{h(!1),j({branchName:"",branchCode:""})},className:"px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg font-medium transition-all",children:"Cancel"})]})]}),S.branches.length===0&&!f?l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:[l.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"No branches assigned to this collector"}),l.jsxs("button",{onClick:()=>h(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all flex items-center space-x-2 mx-auto",children:[l.jsx(Qn,{className:"h-5 w-5"}),l.jsx("span",{children:"Add First Branch"})]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.branches.map(M=>l.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-blue-300 rounded-xl shadow-sm overflow-hidden transition-all",children:[l.jsx("button",{onClick:()=>r({code:M.branchCode,name:M.name,members:M.members||[],collectorName:t.name}),className:"w-full p-6 text-left hover:bg-blue-50 transition-all",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-xl",children:M.branchCode}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:M.name}),l.jsxs("p",{className:"text-gray-600 text-sm",children:[M.memberCount||0," members"]})]})]}),l.jsx("div",{className:"text-blue-600 text-2xl",children:""})]})}),l.jsx("div",{className:"px-6 pb-6",children:l.jsxs("button",{onClick:()=>i({branchCode:M.branchCode,name:M.name,members:M.members||[]}),className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-all text-sm flex items-center justify-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Collection Sheet"})]})})]},M._id||M.id))})]})]})},oK=({selectedDay:e,selectedCollector:t,onBranchSelect:n,onGoBack:r,onShowCollectionSheet:i})=>{const[o,u]=b.useState(!1),[f,h]=b.useState(!1),[m,g]=b.useState(!0),[x,y]=b.useState([]),[w,N]=b.useState({branchName:"",branchCode:""});b.useEffect(()=>{j()},[t]);const j=async()=>{try{g(!0),console.log(" Loading branches for collector:",t.id);const A=await ka.getByCollector(t.id);console.log(" Branches API response:",A),A.success&&A.data&&A.data.length>0?(A.data.forEach(C=>{console.log(` Branch: ${C.name} (${C.branchCode}) - Members: ${C.memberCount||0}`)}),y(A.data),console.log(` Loaded ${A.data.length} branches for collector`)):(console.log(" No branches found from API"),y([]))}catch(A){console.error(" Error loading branches:",A),y([]),de.error("Error loading branches")}finally{g(!1)}},S=async()=>{if(!w.branchName.trim()||!w.branchCode.trim()){de.error("Please fill in all required fields");return}if(!/^\d{4}$/.test(w.branchCode.trim())){de.error("Branch code must be exactly 4 digits");return}if(x.find(C=>C.branchCode===w.branchCode.trim())){de.error("Branch code already exists");return}try{h(!0),console.log(" Adding new branch:",w);const C={name:w.branchName.trim(),branchCode:w.branchCode.trim(),assignedCollector:t.id};console.log(" Sending branch data to API:",C);const T=await ka.create(C);console.log(" Branch created successfully:",T),de.success(`Branch ${w.branchName} added successfully!`),N({branchName:"",branchCode:""}),u(!1),console.log(" Reloading branches from database..."),await j()}catch(C){console.error(" Error adding branch:",C),de.error(C.message||"Failed to add branch")}finally{h(!1)}};return m?l.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading branches..."})]})}):l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Select Branch"}),l.jsxs("div",{className:"flex space-x-3",children:[x.length>0&&l.jsx("button",{onClick:()=>i(x[0]),className:"flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl font-semibold transition-all",children:" Collection Sheet"}),l.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-semibold transition-all",children:[l.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsxs("p",{className:"text-lg text-gray-600",children:["Day: ",l.jsx("span",{className:"font-bold text-blue-600",children:e.name})," | Collector: ",l.jsx("span",{className:"font-bold text-green-600",children:t.name})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[x.map(A=>l.jsxs("button",{onClick:()=>n({code:A.branchCode,name:A.name,members:A.members||[],collectorName:t.name}),className:"flex items-center justify-between p-6 bg-gray-50 hover:bg-blue-50 border-2 border-gray-200 hover:border-blue-300 rounded-2xl transition-all transform hover:scale-105",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-blue-600 text-white px-4 py-3 rounded-xl font-bold text-xl",children:A.branchCode}),l.jsxs("div",{className:"text-left",children:[l.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:A.name}),l.jsxs("p",{className:"text-gray-600",children:[A.memberCount!==void 0?A.memberCount:0," members"]})]})]}),l.jsx("div",{className:"text-blue-600 text-2xl",children:""})]},A.branchCode)),l.jsxs("button",{onClick:()=>u(!0),className:"border-2 border-dashed border-gray-300 hover:border-green-400 hover:bg-green-50 p-6 rounded-2xl font-bold text-xl text-gray-600 hover:text-green-600 transition-all duration-300 flex flex-col items-center justify-center",children:[l.jsx(Qn,{className:"h-8 w-8 mb-3"}),"Add New Branch"]})]}),o&&l.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border-2 border-dashed border-gray-300",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Branch"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(_0,{className:"h-4 w-4 inline mr-1"}),"Branch Name *"]}),l.jsx("input",{type:"text",placeholder:"Enter branch name",value:w.branchName,onChange:A=>N({...w,branchName:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(os,{className:"h-4 w-4 inline mr-1"}),"Branch Code *"]}),l.jsx("input",{type:"text",placeholder:"B001",maxLength:4,value:w.branchCode,onChange:A=>N({...w,branchCode:A.target.value.toUpperCase()}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),l.jsxs("div",{className:"text-xs text-gray-500 bg-green-50 p-3 rounded-lg",children:[l.jsx("strong",{children:"Note:"})," The branch will be added to ",t.name,"'s collection schedule for ",e.name,"."]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{onClick:S,disabled:!w.branchName.trim()||!w.branchCode.trim()||f,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed flex items-center justify-center",children:f?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Branch"}),l.jsx("button",{onClick:()=>{u(!1),N({branchName:"",branchCode:""})},disabled:f,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-xl font-semibold transition-all disabled:cursor-not-allowed",children:"Cancel"})]})]})]})]})},cK=({selectedBranch:e,selectedCollector:t,onClose:n,onMemberAdded:r,editingMember:i=null})=>{const[o,u]=b.useState({name:"",memberCode:"",nidNumber:"",sponsorName:"",age:"",phone:"",address:"",joinDate:kn(),initialSavings:""}),[f,h]=b.useState(!1),[m,g]=b.useState(null),[x,y]=b.useState(null),[w,N]=b.useState({}),[j,S]=b.useState(!1),[A,C]=b.useState(""),[T,k]=b.useState("");b.useEffect(()=>{i&&(u({name:i.name||"",memberCode:i.memberCode||i.memberNumber||"",nidNumber:i.nidNumber||"",sponsorName:i.sponsorName||"",age:i.age||"",phone:i.phone||"",address:i.address||"",joinDate:i.joinDate?i.joinDate.split("T")[0]:kn(),initialSavings:i.initialSavings||""}),i.profileImage&&y(i.profileImage))},[i]),b.useEffect(()=>{if(i)return;const R=o.memberCode;if(R.length<3){C(""),k("");return}const H=setTimeout(()=>{S(!0),C(""),k(""),pn.checkCode(R).then(V=>{V.exists?C(`Code ${R} is already taken by ${V.member.name} in branch ${V.member.branchCode}.`):k(`Code ${R} is available.`)}).catch(V=>{console.error("Error checking member code:",V),C("Could not verify code. Please try again.")}).finally(()=>{S(!1)})},300);return()=>{clearTimeout(H)}},[o.memberCode,i]);const D=R=>{const{name:H,value:V}=R.target;if(w[H]&&N(F=>{const X={...F};return delete X[H],X}),H==="memberCode"){const F=V.replace(/\D/g,"").slice(0,3);u(X=>({...X,memberCode:F})),C(""),k("");return}if(H==="phone"){const F=V.replace(/\D/g,"");F.length>0&&F.length!==11?N(X=>({...X,phone:"length"})):F.length===11&&N(X=>{const G={...X};return delete G.phone,G}),u(X=>({...X,[H]:F}));return}u(F=>({...F,[H]:V}))},P=R=>{const H=R.target.files[0];if(H){if(!H.type.startsWith("image/")){$e.error("Please select an image file");return}if(H.size>5*1024*1024){$e.error("Image size must be less than 5MB");return}g(H);const V=new FileReader;V.onload=F=>{y(F.target.result)},V.readAsDataURL(H)}},M=()=>{g(null),y(null);const R=document.getElementById("profileImage");R&&(R.value="")},I=async R=>{R.preventDefault();const H={};let V=!1;if(i||((!o.memberCode||o.memberCode.length!==3)&&(H.memberCode="Member code must be exactly 3 digits",V=!0),A&&(H.memberCode=A,V=!0)),(!o.name||o.name.trim()==="")&&(H.name="required",V=!0),(!o.nidNumber||o.nidNumber.trim()==="")&&(H.nidNumber="required",V=!0),(!o.age||o.age.trim()==="")&&(H.age="required",V=!0),!o.phone||o.phone.trim()===""?(H.phone="required",V=!0):o.phone.length!==11&&(H.phone="length",V=!0),(!o.address||o.address.trim()==="")&&(H.address="required",V=!0),!i&&!m&&!x&&(H.profileImage="required",V=!0),V){N(H),$e.error("     (Please fill all required fields)");return}h(!0);const F=$e.loading(i?"Updating member...":"Adding member...");try{const X=new FormData;X.append("name",o.name||""),X.append("memberCode",o.memberCode||""),X.append("nidNumber",o.nidNumber||""),X.append("sponsorName",o.sponsorName||""),X.append("age",o.age?parseInt(o.age):""),X.append("phone",o.phone||""),X.append("address",o.address||""),X.append("joinDate",o.joinDate||kn());const G=o.initialSavings?parseFloat(o.initialSavings):0;console.log(" Initial Savings from form:",o.initialSavings),console.log(" Parsed totalSavings value:",G),X.append("totalSavings",G),X.append("branch",e?.name||""),X.append("branchCode",e?.code||""),X.append("role","member"),t?.id&&X.append("assignedCollector",t.id),m&&X.append("profileImage",m);let ge;if(i)if(m)ge=await pn.updateWithImage(i._id,X);else{const K={name:o.name||"",memberCode:o.memberCode||"",nidNumber:o.nidNumber||"",sponsorName:o.sponsorName||"",age:o.age&&!isNaN(parseInt(o.age))?parseInt(o.age):"",phone:o.phone||"",address:o.address||"",joinDate:o.joinDate||kn(),totalSavings:o.initialSavings&&!isNaN(parseFloat(o.initialSavings))?parseFloat(o.initialSavings):0,branch:e?.name||"",branchCode:e?.code||"",role:"member",...t?.id&&{assignedCollector:t.id}};ge=await pn.update(i._id,K)}else if(m)ge=await pn.createWithImage(X);else{const K={name:o.name||"",memberCode:o.memberCode||"",nidNumber:o.nidNumber||"",sponsorName:o.sponsorName||"",age:o.age&&!isNaN(parseInt(o.age))?parseInt(o.age):"",phone:o.phone||"",address:o.address||"",joinDate:o.joinDate||kn(),totalSavings:o.initialSavings&&!isNaN(parseFloat(o.initialSavings))?parseFloat(o.initialSavings):0,branch:e?.name||"",branchCode:e?.code||"",role:"member",...t?.id&&{assignedCollector:t.id}};ge=await pn.create(K)}if($e.dismiss(F),ge.success)$e.success(i?"Member updated successfully!":"Member added successfully!"),N({}),r(),n();else{const K=ge.message||`Failed to ${i?"update":"add"} member`,re={},he=K.toLowerCase();he.includes("member code")&&he.includes("already")?(re.memberCode="This member code is already in use. Please choose another.",$e.error(" Member Code already exists!")):he.includes("nid")&&he.includes("already")?(re.nidNumber=!0,$e.error(" NID Number already exists! Please use a different NID.")):he.includes("phone")&&he.includes("already")?(re.phone=!0,$e.error(" Phone Number already exists! Please use a different phone number.")):$e.error(K),N(re)}}catch(X){$e.dismiss(F),console.error("Error adding member:",X);const G=X.response?.data?.message||X.message||"Failed to add member",ge={},K=G.toLowerCase();K.includes("member code")&&K.includes("already")?(ge.memberCode="This member code is already in use. Please choose another.",$e.error(" Member Code already exists!")):K.includes("nid")&&K.includes("already")?(ge.nidNumber=!0,$e.error(" NID Number already exists! Please use a different NID.")):K.includes("phone")&&K.includes("already")?(ge.phone=!0,$e.error(" Phone Number already exists! Please use a different phone number.")):$e.error(G),N(ge)}finally{h(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-transparent backdrop-blur-md flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl mx-4 max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:i?"Edit Member":"Add New Member"}),l.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center mr-3",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Adding to Branch"}),l.jsxs("p",{className:"text-green-800 font-semibold",children:[e.code," - ",e.name]})]})]})}),l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Profile Image (Passport Size) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),w.profileImage&&l.jsx("p",{className:"text-xs text-red-500 mb-2 font-medium",children:" Profile image is required"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"flex-shrink-0",children:x?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:x,alt:"Profile Preview",className:"w-24 h-32 object-cover border-2 border-gray-300 rounded-lg"}),l.jsx("button",{type:"button",onClick:M,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]}):l.jsx("div",{className:"w-24 h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("svg",{className:"w-8 h-8 text-gray-400 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("p",{className:"text-xs text-gray-500",children:"No Image"})]})})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"file",id:"profileImageCamera",accept:"image/*",capture:"environment",onChange:P,className:"hidden"}),l.jsxs("label",{htmlFor:"profileImageCamera",className:"cursor-pointer w-full inline-flex items-center justify-center px-4 py-2 border border-purple-300 rounded-lg shadow-sm text-sm font-medium text-purple-700 bg-purple-50 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})," Take Photo"]})]}),l.jsxs("div",{children:[l.jsx("input",{type:"file",id:"profileImageUpload",accept:"image/*",onChange:P,className:"hidden"}),l.jsxs("label",{htmlFor:"profileImageUpload",className:"cursor-pointer w-full inline-flex items-center justify-center px-4 py-2 border border-indigo-300 rounded-lg shadow-sm text-sm font-medium text-indigo-700 bg-indigo-50 hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})," Upload from Gallery"]})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, GIF up to 5MB"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Member Code ",w.memberCode&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"memberCode",value:o.memberCode,onChange:D,disabled:!!i,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${A?"border-red-500 focus:ring-red-500 bg-red-50":T?"border-green-500 focus:ring-green-500 bg-green-50":"border-gray-300 focus:ring-green-500"} ${i?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"001",maxLength:"3"}),j&&l.jsx("p",{className:"text-xs text-blue-500 mt-1",children:" Checking..."}),A&&l.jsxs("p",{className:"text-xs text-red-500 mt-1 font-medium",children:[" ",A]}),T&&l.jsxs("p",{className:"text-xs text-green-600 mt-1 font-medium",children:[" ",T]}),!o.memberCode&&!i&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-digit code (e.g., 001, 002)"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"name",value:o.name,onChange:D,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${w.name?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Enter full name"}),w.name&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Full name is required"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["NID Number ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"nidNumber",value:o.nidNumber||"",onChange:D,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${w.nidNumber?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Enter NID number"}),w.nidNumber==="required"&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" NID number is required"}),w.nidNumber===!0&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" This NID number is already registered"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sponsor Name"}),l.jsx("input",{type:"text",name:"sponsorName",value:o.sponsorName||"",onChange:D,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter sponsor name (optional)"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Age ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"age",value:o.age,onChange:D,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${w.age?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Age"}),w.age&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Age is required"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:D,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${w.phone?"border-red-500 focus:ring-red-500 bg-red-50":o.phone&&o.phone.length===11?"border-green-500 focus:ring-green-500 bg-green-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"01XXXXXXXXX",maxLength:"11"}),w.phone==="required"&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Phone number is required"}),w.phone==="length"&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Phone number must be exactly 11 digits"}),w.phone===!0&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" This phone number is already registered"}),o.phone&&o.phone.length===11&&!w.phone&&l.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:" Valid phone number"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"address",value:o.address,onChange:D,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${w.address?"border-red-500 focus:ring-red-500 bg-red-50":"border-gray-300 focus:ring-green-500"}`,placeholder:"Enter address",rows:"2"}),w.address&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:" Address is required"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Date"}),l.jsx("input",{type:"date",name:"joinDate",value:o.joinDate,onChange:D,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Savings ()"}),l.jsx("input",{type:"number",name:"initialSavings",value:o.initialSavings,onChange:D,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:f,children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",disabled:f,children:f?i?"Updating...":"Adding...":i?"Update Member":"Add Member"})]})]})]})})},uK=({selectedMember:e,selectedBranch:t,selectedCollector:n,selectedDay:r,availableProducts:i,onClose:o,onSaleAdded:u})=>{const f=()=>{const D=new Date;return new Date(D.getTime()+360*60*1e3).toISOString().split("T")[0]},[h,m]=b.useState({selectedProducts:[],customProductName:"",totalAmount:0,savingsCollection:0,notes:"",paymentType:"installment",installmentType:"weekly",installmentCount:4,installmentAmount:0,manualInstallmentAmount:!1,saleDate:(()=>{const D=f();return console.log(" Initializing ProductSaleForm with default date:",D),D})()}),[g,x]=b.useState(!1),[y,w]=b.useState("");b.useEffect(()=>{if(!h.customProductName){const D=h.selectedProducts.reduce((P,M)=>P+M.subtotal,0);m(P=>({...P,totalAmount:D,installmentAmount:P.manualInstallmentAmount?P.installmentAmount:P.installmentCount>0?Math.round(D/P.installmentCount):0}))}},[h.selectedProducts,h.installmentCount,h.customProductName]);const N=(D,P)=>{let M=4;return P==="daily"?D<=500?M=10:D<=1e3?M=15:D<=2e3?M=20:D<=5e3?M=30:M=45:P==="weekly"?D<=500?M=4:D<=1e3?M=6:D<=2e3?M=8:D<=5e3?M=12:M=16:P==="monthly"&&(D<=1e3?M=2:D<=3e3?M=3:D<=5e3?M=4:D<=1e4?M=6:M=8),M};b.useEffect(()=>{if(h.totalAmount>0&&h.paymentType==="installment"){const D=N(h.totalAmount,h.installmentType),P=Math.round(h.totalAmount/D);m(M=>({...M,installmentCount:D,installmentAmount:P}))}},[h.totalAmount,h.installmentType,h.paymentType]),b.useEffect(()=>{(n?.collectionType==="daily"||r?.isDaily)&&h.installmentType!=="daily"&&(console.log(" Daily Kisti detected - auto-setting installmentType to daily"),m(P=>({...P,installmentType:"daily",manualInstallmentAmount:!1})))},[n,r]);const j=D=>{if(!D)return;if(!h.selectedProducts.some(M=>M.product._id===D._id)){const M={product:D,quantity:1,subtotal:D.unitPrice*1};m(I=>({...I,selectedProducts:[...I.selectedProducts,M]}))}},S=D=>{m(P=>({...P,selectedProducts:P.selectedProducts.filter(M=>M.product._id!==D)}))},A=(D,P)=>{P<=0||m(M=>({...M,selectedProducts:M.selectedProducts.map(I=>I.product._id===D?{...I,quantity:P,subtotal:I.product.unitPrice*P}:I)}))},C=(D,P)=>{P<0||m(M=>({...M,selectedProducts:M.selectedProducts.map(I=>I.product._id===D?{...I,product:{...I.product,unitPrice:P},subtotal:P*I.quantity}:I)}))},T=D=>{const{name:P,value:M}=D.target;let I={[P]:M};if(P==="totalAmount"){const R=parseFloat(M)||0;I.totalAmount=R,!h.manualInstallmentAmount&&h.installmentCount>0&&(I.installmentAmount=Math.round(R/h.installmentCount))}P==="installmentCount"&&M>0&&!h.manualInstallmentAmount&&(I.installmentAmount=Math.round(h.totalAmount/parseInt(M))),P==="installmentAmount"&&(I.manualInstallmentAmount=!0),P==="installmentType"&&(I.manualInstallmentAmount=!1,I.installmentAmount=Math.round(h.totalAmount/h.installmentCount)),m(R=>({...R,...I}))},k=async D=>{if(D.preventDefault(),h.selectedProducts.length===0&&!h.customProductName){$e.error("Please select at least one product or enter a custom product name");return}if(h.totalAmount<=0){$e.error("Total amount must be greater than 0");return}x(!0);const P=$e.loading("Creating product sale...");try{const M=new Date,R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][M.getDay()],H=Math.ceil(M.getDate()/7),V=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}`,F={memberId:e._id,memberName:e.name,branchCode:t.code||t.branchCode,branchName:t.name,products:h.selectedProducts.map(G=>({productId:G.product._id,productName:G.product.name,quantity:G.quantity,unitPrice:G.product.unitPrice,subtotal:G.subtotal})),customProductName:h.customProductName,totalAmount:parseFloat(h.totalAmount),paymentType:h.paymentType,installmentType:h.installmentType,installmentCount:parseInt(h.installmentCount),installmentAmount:parseFloat(h.installmentAmount),savingsCollection:parseFloat(h.savingsCollection)||0,collectionDay:R,weekNumber:H,monthYear:V,paymentMethod:(h.paymentType==="cash","cash"),deliveryDate:h.saleDate,notes:h.notes||""};console.log(" Sending product sale data:",F);const X=await fr.createProductSale(F);if($e.dismiss(P),X.success){if($e.success("Product sale created successfully!"),h.paymentType==="installment"){console.log(" Creating loan installments for installment payment...");const G=n?._id||n?.id;if(console.log(" Using collector ID from props:",G),console.log(" Selected Collector:",n?.name),!G){console.error(" No collector ID found! Using fallback."),$e.error("Collector not selected properly. Please try again.");return}let ge=null;if(r&&(ge=r?.isDaily?"Daily":r?.name||r,console.log(" Using selectedDay from props:",ge)),!ge&&G)try{console.log(" Fetching collection day from database for collector:",G);const De=await(await fetch(`/api/schedules?collectorId=${G}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();De.success&&De.data.length>0&&(ge=De.data[0].collectionDay,console.log(" Loaded collection day from database:",ge))}catch(he){console.error("Error loading collection day:",he)}ge||(ge=n?.collectionDay,console.log(" Using collector default day:",ge)),ge||(ge="Saturday",console.log(" Using fallback collection day: Saturday")),console.log(" Final Collection Day for installments:",ge),console.log(" Collection Day:",ge);const K=X.data?.saleTransactionId;if(console.log(" Sale Transaction ID from response:",K),!K){console.error(" No saleTransactionId in response!"),$e.error("Product sale created but missing transaction ID. Please refresh.");return}const re={memberId:F.memberId,productNames:F.products.length>0?F.products.map(he=>he.productName).join(", "):F.customProductName,totalAmount:F.totalAmount,installmentCount:F.installmentCount,installmentAmount:F.installmentAmount,installmentType:F.installmentType,branchCode:F.branchCode,branchName:F.branchName,collectionDay:ge,collectorId:n?._id||n?.id,saleDate:h.saleDate,saleTransactionId:K};console.log(" Creating product loan with data:",re);try{const he=await fr.createProductLoan(re);he.success?($e.success(`${he.data.summary.totalInstallments} loan installments created successfully! `),console.log(" Product loan installments created:",he.data)):$e.error("Product sale created but failed to create loan installments")}catch(he){console.error("Error creating product loan:",he),he.message&&he.message.includes("MAX_ACTIVE_SALES_REACHED")?$e.error("                 ",{duration:6e3}):$e.error("Product sale created but failed to create loan installments")}}u(),o()}else $e.error(X.message||"Failed to create product sale")}catch(M){$e.dismiss(P),console.error("Error creating product sale:",M),console.error("Error details:",M.message),M.message.includes("Authentication")?$e.error("Authentication failed. Please login again."):M.message.includes("Validation")?$e.error("Validation error: Please check all required fields"):M.message.includes("Member not found")?$e.error("Member not found. Please refresh and try again."):$e.error(`Failed to create product sale: ${M.message}`)}finally{x(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-transparent backdrop-blur-md flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Product Sale"}),l.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center mr-3",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Member"}),l.jsx("p",{className:"text-blue-800 font-semibold",children:e.name})]})]})}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Sale Date *"}),l.jsx("input",{type:"date",name:"saleDate",value:h.saleDate,onChange:T,max:f(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Default: Today's date. You can select previous dates if needed."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Products * (Multiple Selection with Individual Quantities)"}),h.selectedProducts.length>0&&l.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-green-800 mb-3",children:"Selected Products:"}),l.jsx("div",{className:"space-y-3",children:h.selectedProducts.map(D=>l.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-gray-800",children:D.product.name}),l.jsx("button",{type:"button",onClick:()=>S(D.product._id),className:"text-red-500 hover:text-red-700 font-bold text-xl ml-2",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit Price"}),l.jsx("input",{type:"number",value:D.product.unitPrice||"",onChange:P=>{const M=P.target.value;C(D.product._id,M===""?0:parseFloat(M))},className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500",min:"0",step:"1",placeholder:"Enter price"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Qty"}),l.jsx("input",{type:"number",value:D.quantity||"",onChange:P=>{const M=P.target.value;A(D.product._id,M===""?1:parseInt(M))},className:"w-full px-3 py-2 border border-gray-300 rounded text-center focus:ring-2 focus:ring-green-500",min:"1",placeholder:"Qty"})]})]}),l.jsx("div",{className:"bg-green-50 px-3 py-2 rounded border border-green-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Total Amount:"}),l.jsxs("span",{className:"text-sm font-bold text-green-700",children:["",D.subtotal]})]})})]})},D.product._id))}),l.jsx("div",{className:"mt-4 pt-3 border-t border-green-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Amount:"}),l.jsxs("span",{className:"text-lg font-bold text-green-800",children:["",h.totalAmount]})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:y,onChange:D=>w(D.target.value),placeholder:" Search products by name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(()=>{const D=i.filter(P=>P.name.toLowerCase().includes(y.toLowerCase()));return l.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",D.length," of ",i.length," products"]})})(),l.jsxs("select",{onChange:D=>{if(D.target.value){const P=i.find(M=>M._id===D.target.value);j(P),D.target.value="",w("")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",size:"5",children:[l.jsx("option",{value:"",disabled:!0,children:"Choose from stock..."}),(()=>{const D=i.filter(P=>P.name.toLowerCase().includes(y.toLowerCase()));return D.length===0?l.jsx("option",{value:"",disabled:!0,children:"No products found"}):D.map(P=>l.jsxs("option",{value:P._id,disabled:h.selectedProducts.some(M=>M.product._id===P._id),children:[P.name," - Stock: ",P.availableStock," - ",P.unitPrice]},P._id))})()]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Or Enter Custom Product Name (Optional)"}),l.jsx("input",{type:"text",name:"customProductName",value:h.customProductName,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter custom product name if not in stock"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Amount () *",h.customProductName?l.jsx("span",{className:"text-blue-600",children:"(Editable)"}):l.jsx("span",{className:"text-green-600",children:"(Auto-calculated)"})]}),l.jsx("input",{type:"number",name:"totalAmount",value:h.totalAmount,onChange:T,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 ${h.customProductName?"bg-white":"bg-gray-50 cursor-not-allowed"}`,placeholder:h.customProductName?"Enter total amount":"Auto-calculated from selected products",readOnly:!h.customProductName,min:"1",step:"1",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.customProductName?" Enter amount for custom product. Installments will auto-calculate.":"Amount automatically calculated from selected products  quantity"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type *"}),l.jsxs("select",{name:"paymentType",value:h.paymentType,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[l.jsx("option",{value:"cash",children:"Cash Payment"}),l.jsx("option",{value:"installment",children:"Installment Payment"})]})]}),h.paymentType==="installment"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installment Type"}),l.jsx("select",{name:"installmentType",value:h.installmentType,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:n?.collectionType==="daily"||r?.isDaily,children:n?.collectionType==="daily"||r?.isDaily?l.jsx("option",{value:"daily",children:"Daily"}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"daily",children:"Daily"}),l.jsx("option",{value:"weekly",children:"Weekly"}),l.jsx("option",{value:"monthly",children:"Monthly"})]})}),(n?.collectionType==="daily"||r?.isDaily)&&l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Daily Kisti collector - Only daily installments available"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Number of Installments ",l.jsx("span",{className:"text-blue-600",children:"(Auto-suggested)"})]}),l.jsx("input",{type:"number",name:"installmentCount",value:h.installmentCount,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"}),l.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Suggested based on ",h.installmentType," payment"]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Per Installment () ",l.jsx("span",{className:"text-blue-600",children:"(Editable)"})]}),l.jsx("input",{type:"number",name:"installmentAmount",value:h.installmentAmount,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",step:"0.01"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.manualInstallmentAmount?`Manual: ${h.installmentAmount}  ${h.installmentCount} = ${h.installmentAmount*h.installmentCount}`:`Auto: ${h.totalAmount}  ${h.installmentCount} = ${h.installmentAmount}`})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" Savings Collection () ",l.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),l.jsx("input",{type:"number",name:"savingsCollection",value:h.savingsCollection,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter savings amount collected",min:"0",step:"1"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Collect savings from member during product sale (will be added to total savings)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),l.jsx("textarea",{name:"notes",value:h.notes,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Additional notes..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g,children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:g,children:g?"Creating Sale...":"Create Sale"})]})]})]})})},dK=(e={})=>{try{const t=new CustomEvent("installmentCollected",{detail:{timestamp:new Date().toISOString(),memberId:e.memberId,memberName:e.memberName,amount:e.amount,installmentId:e.installmentId,status:e.status,collectionDate:e.collectionDate,note:e.note||"Collection updated"}});window.dispatchEvent(t),console.log(" Collection update event triggered:",t.detail);const n=new CustomEvent("dashboardReload",{detail:t.detail});window.dispatchEvent(n)}catch(t){console.error(" Failed to trigger collection update:",t)}},fK=({selectedMember:e,selectedBranch:t,selectedCollector:n,onClose:r,onInstallmentCollected:i})=>{const[o,u]=b.useState([]),[f,h]=b.useState([]),[m,g]=b.useState([]),[x,y]=b.useState(!0),[w,N]=b.useState(!1),[j,S]=b.useState(!1),[A,C]=b.useState(null),[T,k]=b.useState(""),[D,P]=b.useState(!1),[M,I]=b.useState(""),[R,H]=b.useState("in"),[V,F]=b.useState(!1),X=({installment:z})=>(z.serialNumber===4&&console.log(" Installment #4 Data:",{paid:z.paidAmount,remaining:z.remainingAmount,isAuto:z.isAutoApplied,receipt:z.receiptNumber,lastPay:z.lastPaymentAmount,status:z.status}),l.jsx("div",{className:`rounded-xl border p-4 transition-all duration-300 hover:shadow-lg ${ge(z.status)}`,children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-2xl",children:K(z.status)}),l.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-blue-600 text-white rounded-lg px-3 py-1",children:l.jsxs("span",{className:"text-sm font-bold",children:["#",z.serialNumber]})})]}),l.jsxs("div",{className:"flex-1 md:flex-none",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-base md:text-lg",children:z.productName}),l.jsx("div",{className:"mt-1",children:l.jsxs("p",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-bold whitespace-nowrap",children:["Due: ",z.dueDate,"  (",z.installmentNumber,"/",z.totalInstallments,")"]})}),z.paidAmount>0&&!z.isAutoApplied&&l.jsxs("p",{className:"text-green-600 font-semibold text-xs md:text-sm",children:["Paid: ",z.originalInstallment?.lastPaymentAmount||z.paidAmount]})]})]}),l.jsxs("div",{className:"flex items-center justify-between md:justify-end space-x-4 w-full md:w-auto",children:[l.jsxs("div",{className:"text-left md:text-right",children:[l.jsxs("p",{className:"text-xl font-bold text-gray-800",children:["",z.remainingAmount]}),l.jsx("div",{className:`inline-block px-3 py-1 rounded-lg text-xs font-bold ${ge(z.status)}`,children:z.status.toUpperCase()})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[z.status!=="paid"&&z.remainingAmount>0?l.jsx(l.Fragment,{children:l.jsx("button",{onClick:()=>re(z),disabled:w,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-lg font-medium transition-all duration-300 disabled:opacity-50 text-sm",children:" Loan"})}):l.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 px-4 py-2 rounded-lg",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"text-green-700 font-bold text-sm",children:"COLLECTED"})]}),l.jsx("button",{onClick:()=>he(z),disabled:w,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-lg font-medium transition-all duration-300 disabled:opacity-50 text-sm",children:" Savings"})]})]})]})}));b.useEffect(()=>{G();const z=be=>{be.key&&be.key.includes("collection_schedule_")&&(console.log(" Collector schedule changed, refreshing installments..."),G())};window.addEventListener("storage",z);const ue=()=>{console.log(" Schedule updated in same tab, refreshing installments..."),setTimeout(()=>G(),100)};return window.addEventListener("collectorScheduleUpdated",ue),()=>{window.removeEventListener("storage",z),window.removeEventListener("collectorScheduleUpdated",ue)}},[e]);const G=async()=>{if(e?._id){y(!0);try{const z=await fr.getByMember(e._id);if(z.success&&z.data){const ue=z.data.filter(be=>{if(!(be.installmentType==="regular"&&be.note&&be.note.includes("Product Loan")||be.installmentType==="loan"))return!1;if(be.status==="partial")return console.log(` Keeping partial status installment: Amount ${be.amount}, Remaining: ${be.remainingAmount||0}`),!0;if(be.status==="collected"&&be.note){const J=be.note.match(/InstallmentAmt: (\d+)/);if(J){const O=parseInt(J[1]);if(be.amount<O)return console.log(` Skipping duplicate partial completion record: Amount ${be.amount} < InstallmentAmt ${O}`),!1}}return!0});if(ue.length>0){console.log(" Using actual loan installments:",ue),console.log(` Total loan installments loaded: ${ue.length}`),console.log(" Installment details:"),ue.forEach((B,W)=>{console.log(`   ${W+1}. Amount: ${B.amount}, Status: ${B.status}, Note: ${B.note?.substring(0,50)}`)});const be=JSON.parse(localStorage.getItem("selectedCollector")||"{}"),Ce=be.id||be._id||"hayat",J=localStorage.getItem(`collection_schedule_${Ce}`);let O=["02/09/2025","09/09/2025","16/09/2025","23/09/2025","30/09/2025"];J&&(O=JSON.parse(J).collectionDates||O),console.log(" Current collector schedule:",O);const ee=ue.map((B,W)=>{const xe=B.status==="collected";console.log(` Installment ${W+1} (${B._id}): status = ${B.status}`),console.log(` Checking collections for installment ${W+1}:`,z.data.length,"total records");const Z=z.data.filter(Oe=>{const Ze=Oe.memberId===e._id||Oe.member&&(typeof Oe.member=="object"&&Oe.member._id===e._id||typeof Oe.member=="string"&&Oe.member===e._id),zt=Oe.installmentType==="regular",$t=Oe.note&&(Oe.note.includes("Product Loan:")&&Oe.note.includes("Installment")&&Oe.note.includes("/")&&(Oe.note.includes("Full payment")||Oe.note.includes("Partial payment")||Oe.note.includes("Full Payment")||Oe.note.includes("Partial Payment"))||Oe.note.includes("Loan Installment")&&(Oe.note.includes("Full payment")||Oe.note.includes("Partial payment")||Oe.note.includes("Full Payment")||Oe.note.includes("Partial Payment"))||Oe.note.includes("Product Loan")&&(Oe.note.includes("payment")||Oe.note.includes("Payment")||Oe.note.includes("collected")));return Ze&&zt&&$t});console.log(` Found ${Z.length} collection records for member ${e.name}`),(W===16||W===17)&&(console.log(`    ALL collection amounts for ${e.name}:`),Z.forEach((Oe,Ze)=>{console.log(`      ${Ze+1}. ${Oe.amount} - Note: ${Oe.note?.substring(0,80)}...`)}));const we=W+1;console.log(` Checking specific installment #${we} collections:`);const Ee=Z.filter(Oe=>{if(!Oe.note)return!1;console.log(`    Checking note: "${Oe.note}"`);const Ze=B._id;if(Oe.note&&Oe.note.includes(`ID: ${Ze}`))return console.log(`    PERFECT MATCH by Installment ID: ${Ze}`),!0;if(![`Installment ${we}/`,`Installment ${we} `,`- Installment ${we}`,` ${we}/`,` ${we} `,`Installment #${we}/`,`#${we}/`].some(Ne=>{const pe=Oe.note.includes(Ne);return pe&&console.log(`    Pattern match: "${Ne}" found in note`),pe}))return console.log(`    No pattern match for installment #${we}`),!1;(!Oe.note||!Oe.note.includes("ID:"))&&console.log("     Old format collection without ID - using pattern match");const wt=Oe.amount||0,Be=B.amount||0,qe=Oe.note.match(/InstallmentAmt: (\d+)/);if(qe){const Ne=parseInt(qe[1]);return Ne===Be?(console.log(`    Strong match by InstallmentAmt in note: ${Ne}`),!0):(console.log(`    InstallmentAmt mismatch: Expected ${Be}, Note has ${Ne}`),!1)}const jt=Math.max(Be*.1,10),Ke=Math.abs(wt-Be);return Ke<=jt?(console.log(`    Fallback match by amount tolerance: ${wt}`),!0):(console.log(`    Amount mismatch: Expected ${Be}, Got ${wt} (Diff: ${Ke})`),!1)});console.log(` Found ${Ee.length} collections for installment #${we}`);let Se="due",Te=B.paidAmount||0,oe=B.remainingAmount||B.amount;if(B.paidAmount!==void 0&&B.remainingAmount!==void 0){Te=B.paidAmount,oe=B.remainingAmount,console.log(` Installment #${we} Status Check:`),console.log(`   - Backend status: "${B.status}"`),console.log(`   - paidAmount: ${B.paidAmount}`),console.log(`   - remainingAmount: ${B.remainingAmount}`),console.log(`   - remainingAmount <= 0: ${oe<=0}`),console.log(`   - status === 'collected': ${B.status==="collected"}`);const Oe=z.data.filter(Ze=>Ze.installmentType!=="regular"||!Ze.note?!1:Ze.note.includes(`ID: ${B._id}`));if(Oe.length>0){console.log(`    Found ${Oe.length} collection records for this installment`),Oe.forEach(($t,wt)=>{console.log(`      Record ${wt+1}: Amount ${$t.amount}, Date: ${$t.date||$t.createdAt}`)});const Ze=Oe.reduce(($t,wt)=>$t+(wt.amount||0),0),zt=Math.max(0,B.amount-Ze);console.log(`    Total installment amount: ${B.amount}`),console.log(`    Actual collected from records: ${Ze}`),console.log(`    Actual remaining: ${zt}`),Te=Ze,oe=zt}oe<=0?(Se="paid",oe=0,console.log(" Setting status to PAID (fully collected)")):Te>0&&(Se="partial",console.log(` Setting status to PARTIAL (${Te} paid, ${oe} remaining)`))}else xe||B.status==="collected"?(Se="paid",Te=B.amount,oe=0,console.log(` Installment ${we} is COLLECTED (old system)`)):(Te=Ee.reduce((Oe,Ze)=>{const zt=Ze.paidAmount!=null?Ze.paidAmount:Ze.amount;return Oe+(zt||0)},0),oe=Math.max(0,B.amount-Te),Te>=B.amount?Se="paid":Te>0&&(Se="partial"));let ke;try{if(B.dueDate)ke=new Date(B.dueDate).toISOString().split("T")[0],console.log(` Using backend dueDate for installment #${W+1}: ${ke}`);else{console.log(` No backend dueDate, calculating for installment #${W+1}`);const Oe=W%O.length,[Ze,zt,$t]=O[Oe].split("/");if(ke=new Date(parseInt($t),parseInt(zt)-1,parseInt(Ze),12,0,0),W>=O.length){const jt=Math.floor(W/O.length);ke.setDate(ke.getDate()+jt*7)}const wt=ke.getFullYear(),Be=String(ke.getMonth()+1).padStart(2,"0"),qe=String(ke.getDate()).padStart(2,"0");ke=`${wt}-${Be}-${qe}`}}catch(Oe){console.error("Date calculation error:",Oe),ke=B.dueDate||B.date||B.createdAt,ke?ke=new Date(ke).toISOString().split("T")[0]:ke=new Date().toISOString().split("T")[0]}let et="Product Loan";if(B.note){const Oe=B.note.match(/Product Loan: (.+?) -/);Oe&&Oe[1]&&(et=Oe[1].trim())}const Je=Ee.some(Oe=>!Oe.isAutoApplied),Le=B.paidAmount>0&&(!B.isAutoApplied||B.receiptNumber&&!B.receiptNumber.startsWith("PL-")),Me=Je||Le;return{id:`${B._id}-${W}`,serialNumber:W+1,productName:et,installmentNumber:W+1,totalInstallments:ue.length,installmentType:"loan",dueDate:ke,amount:B.amount,paidAmount:Te,remainingAmount:oe,status:Se,distributionId:B.distributionId,isAutoApplied:B.isAutoApplied||!1,hasManualCollection:Me,originalInstallment:B}}).sort((B,W)=>{const xe=new Date(B.dueDate),Z=new Date(W.dueDate);return xe-Z}).map((B,W)=>({...B,installmentNumber:W+1,serialNumber:W+1}));console.log(" Processed loan installments:",ee),console.log(" Sorted by dueDate - First:",ee[0]?.dueDate,"Last:",ee[ee.length-1]?.dueDate),console.log(" Renumbered - First #",ee[0]?.installmentNumber,"Last #",ee[ee.length-1]?.installmentNumber);const te={};ee.forEach(B=>{let W=B.distributionId;(!W||W==="unknown")&&(W=`amount_${B.amount}`),te[W]||(te[W]=[]),te[W].push(B)}),console.log(" Grouped installments:",Object.keys(te).map(B=>({key:B,count:te[B].length,allPaid:te[B].every(W=>W.status==="paid")})));const q=[],ie=[];Object.entries(te).forEach(([B,W])=>{const xe=W.every(Z=>{const we=Z.status==="paid",Ee=Z.remainingAmount===0||Z.remainingAmount==="0";return we||Ee});if(console.log(` Group ${B}: ${W.length} installments, allPaid: ${xe}`),W.forEach((Z,we)=>{console.log(`   ${we+1}. Status: ${Z.status}, Remaining: ${Z.remainingAmount}, Paid: ${Z.paidAmount}`)}),xe&&W.length>0){const Z=W[0],we=Z.productName||"Unknown Product",Ee=W.reduce((Te,oe)=>Te+oe.amount,0),Se=Z.amount;q.push({distributionId:B,productName:we,totalInstallments:W.length,installmentAmount:Se,totalAmount:Ee,completedDate:W[W.length-1]?.dueDate||new Date().toISOString().split("T")[0],installments:W}),console.log(` Completed sale found: ${we} (${W.length} installments, ${Ee})`)}else ie.push(...W)}),console.log(` Active installments: ${ie.length}, Completed sales: ${q.length}`),u(ie),h(q),g(z.data)}else console.log(" No loan installments found for this member"),u([]),h([])}else console.log(" No installment data found"),u([]);y(!1)}catch(z){console.error("Error loading member installments:",z),u([]),y(!1)}}},ge=z=>{switch(z){case"due":return"bg-yellow-50 text-yellow-800 border-yellow-200";case"overdue":return"bg-red-50 text-red-800 border-red-200";case"partial":return"bg-orange-50 text-orange-800 border-orange-200";case"upcoming":return"bg-blue-50 text-blue-800 border-blue-200";case"paid":return"bg-green-50 text-green-800 border-green-200";default:return"bg-gray-50 text-gray-800 border-gray-200"}},K=z=>{switch(z){case"due":return"";case"overdue":return"";case"partial":return"";case"upcoming":return"";case"paid":return"";default:return""}},re=z=>{C(z),k(""),S(!0)},he=z=>{C(z),I(""),H("in"),P(!0)},De=async(z,ue,be,Ce="installment",J="in")=>{N(!0);const O=$e.loading(`Collecting ${Ce}...`);try{const U=new Date,ee=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][U.getDay()],te=Math.ceil(U.getDate()/7),q=`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}`,ie=`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}-${String(U.getDate()).padStart(2,"0")}`,B=Ce==="savings"&&z?.dueDate?z.dueDate:z?.dueDate||ie,W=n?._id||n?.id||JSON.parse(localStorage.getItem("selectedCollector")||"{}")._id||JSON.parse(localStorage.getItem("selectedCollector")||"{}").id;W?console.log(" Using selected collector:",n?.name||"Unknown","(ID:",W,")"):console.warn(" No collector selected! Using logged-in user as fallback.");const xe={memberId:e._id,collectorId:W,amount:ue,installmentType:Ce==="savings"?"extra":"regular",collectionDay:ee,paymentMethod:Ce==="savings"&&J==="out"?"savings_withdrawal":"cash",weekNumber:te,monthYear:q,dueDate:B,note:Ce==="savings"?J==="out"?`Savings Withdrawal - ${ue} - Product: ${z?.productName||"General"} - Member: ${e.name}${z?` - From Installment #${z.installmentNumber} (Due: ${z.dueDate})`:""}`:`Savings Collection - ${ue} - Product: ${z?.productName||"General"} - Member: ${e.name}${z?` - With Installment #${z.installmentNumber} (Due: ${z.dueDate})`:""}`:`Product Loan: ${z.productName} - Installment #${z.installmentNumber}/${z.totalInstallments} - ${be} - Amount: ${ue} - InstallmentAmt: ${z.amount} - ID: ${z.originalInstallment._id}`,receiptNumber:`${Ce==="savings"?"SAV":"RC"}-${Date.now()}`,branchCode:t.code||t.branchCode,branch:t.name,...z&&{installmentId:z.originalInstallment?._id,distributionId:z.originalInstallment?.distributionId,serialNumber:z.originalInstallment?.serialNumber}};console.log(" Collecting:",xe),console.log(" Installment object:",z),console.log(" Original Installment:",z?.originalInstallment),z&&(console.log(` ${Ce==="savings"?"Savings":"Installment"} Identifiers:`),console.log("   - installmentId:",xe.installmentId),console.log("   - distributionId:",xe.distributionId),console.log("   - serialNumber:",xe.serialNumber),Ce!=="savings"&&!xe.installmentId&&(console.error(" ERROR: installmentId is missing! Backend will create NEW installment instead of updating."),console.error(" This will cause duplicate installments!"),console.error(" Installment structure:",JSON.stringify(z,null,2)))),Ce==="savings"&&z&&(console.log(" Savings with installment context:"),console.log("   - Installment #",z.installmentNumber),console.log("   - Installment Due Date:",z.dueDate),console.log("   - Will appear in sheet column:",z.dueDate));const Z=await fr.collect(xe);if($e.dismiss(O),Z.success){let we="";if(Ce==="savings")J==="out"?we=`Savings withdrawal of ${ue} processed successfully! `:we=`Savings of ${ue} collected successfully! `;else if(z&&ue>z.remainingAmount)we=`Payment collected! ${(ue-z.remainingAmount).toFixed(2)} overpayment applied to next installment(s)! `;else if(z&&ue<z.remainingAmount){const Ee=z.remainingAmount-ue;we=`Partial payment of ${ue} collected! Remaining due: ${Ee.toFixed(2)}`}else we=`Installment of ${ue} collected successfully!`;$e.success(we),await G(),i(),dK({memberId:e._id,memberName:e.name,amount:ue,installmentId:z?.originalInstallment?._id||z?._id,status:Ce==="savings"?"savings_collected":ue<z?.remainingAmount?"partial":"collected",collectionDate:new Date().toISOString(),note:Ce==="savings"?J==="out"?`Savings withdrawal of ${ue}`:`Savings collection of ${ue}`:`${be} of ${ue} for ${z?.productName}`}),console.log(" Collection Sheet update event triggered"),j&&(S(!1),C(null)),D&&(P(!1),C(null))}else $e.error(Z.message||"Failed to collect payment")}catch(U){$e.dismiss(O),console.error("Error collecting payment:",U),$e.error("Failed to collect payment. Please try again.")}finally{N(!1)}},$=async()=>{const z=parseFloat(M);if(z<=0){$e.error("Please enter a valid amount");return}if(R==="out"&&A){const Ce={};o.forEach(ie=>{const B=ie.amount||ie.remainingAmount;Ce[B]||(Ce[B]=[]),Ce[B].push(ie)});const J=Object.keys(Ce).map(Number).sort((ie,B)=>B-ie),O=A.amount||A.remainingAmount,U=J.indexOf(O);console.log(` Installment amount: ${O}, Group index: ${U} (0=Type 1, 1=Type 2)`);const L=m.filter(ie=>{if(!(ie.installmentType==="extra"||ie.installmentType==="savings")||!ie.note)return!1;const B=ie.note.includes("Savings Collection"),W=ie.note.includes("Savings Withdrawal"),xe=ie.note.includes("Initial Savings"),Z=ie.note.match(/Product Sale:.+\(Qty:.+\|/);return(B||W||xe)&&!Z}),ee=U>=0?Ce[J[U]]:[];let te=L.reduce((ie,B)=>{if(ee.some(xe=>B.distributionId&&xe.originalInstallment?.distributionId?B.distributionId===xe.originalInstallment.distributionId:B.installmentId&&xe.originalInstallment?._id?B.installmentId===xe.originalInstallment._id:!!(B.note&&xe.productName&&B.note.includes(xe.productName)))){const xe=B.note.includes("Withdrawal");return ie+(xe?-B.amount:B.amount)}return ie},0);if(U===1||U===0&&J.length===1){const ie=L.filter(W=>W.note&&(W.note.includes("Initial Savings")||W.note.includes("Registration"))).reduce((W,xe)=>W+xe.amount,0),B=L.filter(W=>!W.distributionId&&!W.installmentId?!o.some(Z=>W.note&&Z.productName&&W.note.includes(Z.productName))&&!W.note.includes("Initial Savings"):!1).reduce((W,xe)=>{const Z=xe.note&&xe.note.includes("Withdrawal");return W+(Z?-xe.amount:xe.amount)},0);if(te+=ie+B,f&&f.length>0){const W=f.reduce((xe,Z)=>{const we=L.filter(Ee=>!!(Ee.distributionId&&Ee.distributionId===Z.distributionId||Ee.note&&Ee.note.includes(Z.productName))).reduce((Ee,Se)=>{const Te=Se.note&&Se.note.includes("Withdrawal");return Ee+(Te?-Se.amount:Se.amount)},0);return xe+Math.max(0,we)},0);W>0&&(console.log(` Adding ${W} from ${f.length} completed product(s) to Type 1`),te+=W)}console.log(` Type 1 Product ${A.productName} - Product-specific: ${te-ie-B}, Initial: ${ie}, Unmatched: ${B}, Total: ${te}`)}else console.log(` Type ${U+1} Product ${A.productName} - Available Savings: ${te}`);if(z>te){$e.error(` Cannot withdraw ${z.toLocaleString()}!
Available savings for ${A.productName}: ${te.toLocaleString()}
Exceeds by: ${(z-te).toLocaleString()}`,{duration:5e3});return}}const ue="savings",be=R==="out"?`Savings withdrawal - ${z}`:`Savings collection - ${z}`;await De(A,z,be,ue,R)},le=async()=>{const z=parseFloat(T);if(z<=0){$e.error("Please enter a valid amount");return}const ue=o.filter(J=>J.productName===A.productName);console.log(" Product Name Filter Debug:"),console.log(`   Selected Installment: #${A.installmentNumber}, Product: "${A.productName}"`),console.log(`   Total member installments: ${o.length}`),console.log(`   Matched installments: ${ue.length}`),ue.forEach((J,O)=>{console.log(`      ${O+1}. #${J.installmentNumber}: ${J.productName}, Remaining: ${J.remainingAmount}`)});const be=ue.reduce((J,O)=>J+O.remainingAmount,0);if(console.log(` Over-collection check for ${A.productName}:`),console.log(`    Payment amount: ${z}`),console.log(`    Total remaining due: ${be}`),z>be){$e.error(` Cannot collect ${z.toLocaleString()}!
Total remaining due for ${A.productName}: ${be.toLocaleString()}
Over-collection: ${(z-be).toLocaleString()}`,{duration:5e3});return}const Ce=z>A.remainingAmount?`Payment with overpayment (${(z-A.remainingAmount).toFixed(2)} will be applied to next installment)`:"Partial payment";await De(A,z,Ce)};return l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-50/80 to-indigo-100/80 backdrop-blur-md flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-blue-100 w-full max-w-7xl h-[95vh] overflow-hidden flex flex-col",children:[l.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{children:l.jsx("h2",{className:"text-xl font-bold",children:"Collect Installment"})}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("button",{onClick:r,className:"text-white hover:text-indigo-200 text-2xl font-light transition-colors",children:""})})]})}),l.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:"bg-white rounded-xl p-3 shadow border border-blue-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl w-10 h-10 flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Member"}),l.jsx("p",{className:"text-gray-800 font-bold text-lg",children:e.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",e.memberNumber||e._id.slice(-6)]})]})]})}),l.jsx("div",{className:"bg-white rounded-xl p-3 shadow border border-blue-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl w-10 h-10 flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Branch"}),l.jsxs("p",{className:"text-gray-800 font-bold text-lg",children:[t.code," - ",t.name]})]})]})})]})}),l.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:x?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading installments..."}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Please wait while we fetch your installment data"})]}):o.length>0?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:V?`${f.length} Completed Sales`:`${o.length} Installments`}),l.jsx("div",{className:"flex items-center space-x-2",children:f.length>0&&l.jsxs("button",{onClick:()=>F(!V),className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 flex items-center space-x-2 shadow hover:shadow-lg text-sm",children:[l.jsx("span",{children:V?"":""}),l.jsx("span",{children:V?"Active":"History"}),!V&&f.length>0&&l.jsx("span",{className:"bg-white text-orange-600 rounded-full px-2 py-0.5 text-xs font-bold",children:f.length})]})})]}),V?l.jsx("div",{className:"space-y-4",children:f.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[l.jsx("span",{className:"text-6xl mb-4 block",children:""}),l.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No completed sales yet"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Completed product sales will appear here"})]}):f.map((z,ue)=>l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full w-12 h-12 flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:""})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold text-green-800",children:z.productName}),l.jsxs("p",{className:"text-sm text-green-600",children:["Completed on ",z.completedDate]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["",z.totalAmount.toLocaleString()]}),l.jsxs("p",{className:"text-sm text-green-600",children:[z.totalInstallments," installments  ",z.installmentAmount]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-green-200",children:[l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Installments"}),l.jsx("p",{className:"text-lg font-bold text-gray-800",children:z.totalInstallments})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Per Installment"}),l.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["",z.installmentAmount]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Status"}),l.jsx("p",{className:"text-lg font-bold text-green-600",children:"PAID"})]})]})]},z.distributionId))}):(()=>{const z=[],ue={};o.forEach(pe=>{const ye=pe.productName||"Unknown Product",_e=pe.distributionId||pe.originalInstallment?.distributionId||`temp_${ye}`;ue[_e]||(ue[_e]={productName:ye,distributionId:_e,isActive:!0,timestamp:_e.split("-").pop()||"0",installments:[]}),ue[_e].installments.push(pe)});const be={};f.forEach(pe=>{const ye=pe.distributionId;be[ye]={productName:pe.productName,distributionId:ye,isActive:!1,timestamp:ye.split("-").pop()||"0",completedSale:pe}}),z.push(...Object.values(ue),...Object.values(be)),z.sort((pe,ye)=>parseInt(pe.timestamp)-parseInt(ye.timestamp));const Ce={};z.forEach((pe,ye)=>{Ce[pe.distributionId]=ye+1,console.log(` Stable Type ${ye+1}: ${pe.productName} (${pe.isActive?"Active":"Completed"})`)});const J={};o.forEach(pe=>{const ye=pe.productName||"Unknown Product";J[ye]||(J[ye]=[]),J[ye].push(pe)});const O=Object.keys(J).sort((pe,ye)=>{const _e=J[pe][0],Ue=J[ye][0],Xe=_e.distributionId||_e.originalInstallment?.distributionId||"",tt=Ue.distributionId||Ue.originalInstallment?.distributionId||"",ft=Ce[Xe]||999,mt=Ce[tt]||999;return ft-mt});if(O.length===1){const pe=O[0],ye=J[pe],_e=ye.map((dt,rt)=>({...dt,serialNumber:rt+1,installmentNumber:rt+1,totalInstallments:ye.length})),Ue=ye.reduce((dt,rt)=>dt+rt.amount,0),Xe=ye.reduce((dt,rt)=>(rt.status==="paid"||rt.status==="partial"||rt.status==="collected")&&rt.paidAmount>0?rt.status==="partial"?dt+(rt.paidAmount||0):dt+rt.amount:dt,0),tt=Math.max(0,Ue-Xe);if(tt<.01)return console.log(` Product "${pe}" is fully paid. Hiding from active view.`),l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[l.jsx("span",{className:"text-6xl mb-4 block",children:""}),l.jsx("p",{className:"text-gray-700 text-lg font-bold",children:"All installments paid!"}),l.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"This product sale has been completed"})]});const ft=m.filter(dt=>{if(!(dt.installmentType==="extra"||dt.installmentType==="savings")||!dt.note)return!1;const rt=dt.note.includes("Savings Collection"),Yt=dt.note.includes("Savings Withdrawal"),ct=dt.note.includes("Initial Savings"),lt=dt.note.match(/Product Sale:.+\(Qty:.+\|/);return(rt||Yt||ct)&&!lt});console.log(" Single type - Total savings records found:",ft.length);let mt=ft.reduce((dt,rt)=>{const Yt=rt.note.includes("Withdrawal");return dt+(Yt?-rt.amount:rt.amount)},0);console.log(" Single type total savings:",mt);const In=_e[0]?.productName||"Product",Rn=_e[0]?.distributionId||_e[0]?.originalInstallment?.distributionId,ra=Ce[Rn]||1;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[l.jsxs("h4",{className:"text-lg font-bold text-blue-800 mb-3",children:["Type ",ra,": ",In]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),l.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Ue.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),l.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Xe.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),l.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",tt.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),l.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",mt.toLocaleString()]})]})]}),l.jsxs("p",{className:"text-sm text-blue-600",children:[_e.length," installments  ",_e[0]?.amount||0," each"]})]}),_e.map(dt=>l.jsx(X,{installment:dt},dt.id))]})}if(O.length>2)return console.log(` ${O.length} products found - displaying vertically`),l.jsx("div",{className:"space-y-6",children:O.map((pe,ye)=>{const _e=J[pe],Ue=_e.reduce((ct,lt)=>ct+lt.amount,0),Xe=_e.reduce((ct,lt)=>(lt.status==="paid"||lt.status==="partial"||lt.status==="collected")&&lt.paidAmount>0?lt.status==="partial"?ct+(lt.paidAmount||0):ct+lt.amount:ct,0),tt=Math.max(0,Ue-Xe);if(tt<.01)return console.log(` Product "${pe}" is fully paid. Hiding from active view.`),null;const ft=_e.map((ct,lt)=>({...ct,serialNumber:lt+1,installmentNumber:lt+1,totalInstallments:_e.length})),mt=m.filter(ct=>{if(!(ct.installmentType==="extra"||ct.installmentType==="savings")||!ct.note)return!1;const lt=ct.note.includes("Savings Collection"),Ya=ct.note.includes("Savings Withdrawal"),jn=ct.note.includes("Initial Savings"),Ka=ct.note.match(/Product Sale:.+\(Qty:.+\|/);return(lt||Ya||jn)&&!Ka}),In=mt.reduce((ct,lt)=>{const Ya=lt.note.includes("Withdrawal");return ct+(Ya?-lt.amount:lt.amount)},0);let Rn=mt.reduce((ct,lt)=>{if(_e.some(jn=>{if(lt.distributionId&&jn.originalInstallment?.distributionId)return lt.distributionId===jn.originalInstallment.distributionId;if(lt.installmentId&&jn.originalInstallment?._id)return lt.installmentId===jn.originalInstallment._id;if(!lt.distributionId&&lt.note&&jn.productName&&tt>.01){const Ka=lt.note.toLowerCase(),aa=jn.productName.toLowerCase().trim();if(Ka.includes(aa))return console.log(`    ACTIVE Type ${ye+1} match: ${lt.amount}  "${jn.productName}"`),!0}return!1})){const jn=lt.note.includes("Withdrawal");return ct+(jn?-lt.amount:lt.amount)}return ct},0);if(ye===0){let ct=0;O.forEach((lt,Ya)=>{if(Ya===0)return;const jn=J[lt],Ka=jn.reduce((qn,Pt)=>qn+Pt.amount,0),aa=jn.reduce((qn,Pt)=>(Pt.status==="paid"||Pt.status==="partial"||Pt.status==="collected")&&Pt.paidAmount>0?qn+(Pt.status==="partial"?Pt.paidAmount:Pt.amount):qn,0),$i=Math.max(0,Ka-aa),Ga=mt.reduce((qn,Pt)=>{if(jn.some(Et=>{if(Pt.distributionId&&Et.originalInstallment?.distributionId)return Pt.distributionId===Et.originalInstallment.distributionId;if(Pt.installmentId&&Et.originalInstallment?._id)return Pt.installmentId===Et.originalInstallment._id;if(!Pt.distributionId&&Pt.note&&Et.productName&&$i>.01){const Ac=Pt.note.toLowerCase(),Cc=Et.productName.toLowerCase().trim();if(Ac.includes(Cc))return!0}return!1})){const Et=Pt.note.includes("Withdrawal");return qn+(Et?-Pt.amount:Pt.amount)}return qn},0);ct+=Ga}),Rn=In-ct,console.log(` Type 1 Savings (Conservation): Total ${In} - Other Types ${ct} = ${Rn}`)}const ra=_e[0]?.distributionId||_e[0]?.originalInstallment?.distributionId,dt=Ce[ra]||ye+1,rt=[{bg:"from-blue-50 to-indigo-50",border:"border-blue-200",text:"text-blue-800"},{bg:"from-green-50 to-emerald-50",border:"border-green-200",text:"text-green-800"},{bg:"from-purple-50 to-pink-50",border:"border-purple-200",text:"text-purple-800"}],Yt=rt[ye%rt.length];return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:`bg-gradient-to-r ${Yt.bg} rounded-xl p-4 border ${Yt.border}`,children:[l.jsxs("h4",{className:`text-lg font-bold ${Yt.text} mb-3`,children:["Type ",dt,": ",pe]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),l.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Ue.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),l.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Xe.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),l.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",tt.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),l.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",Rn.toLocaleString()]})]})]}),l.jsxs("p",{className:"text-sm ${color.text}",children:[ft.length," installments  ",_e[0]?.amount||0," each"]})]}),ft.map(ct=>l.jsx(X,{installment:ct},ct.id))]},pe)})});const U=O[0],L=O[1],ee=J[U]||[],te=J[L]||[],q=pe=>{const ye=new Set;pe.forEach(Ue=>{const Xe=Ue.productName;Xe&&Xe!=="Product Loan"&&Xe!=="Product"&&Xe.trim().length>0&&ye.add(Xe)});const _e=Array.from(ye);return console.log(" Product names for this type:",_e),_e},ie=q(ee),B=q(te),W=ee[0]?.distributionId||ee[0]?.originalInstallment?.distributionId,xe=te[0]?.distributionId||te[0]?.originalInstallment?.distributionId,Z=Ce[W]||1,we=Ce[xe]||2;console.log(` Stable Type Numbers: Left=${Z}, Right=${we}`);const Ee=JSON.parse(localStorage.getItem("selectedCollector")||"{}"),Se=Ee.id||Ee._id||"hayat",Te=localStorage.getItem(`collection_schedule_${Se}`);let oe=["02/09/2025","09/09/2025","16/09/2025","23/09/2025","30/09/2025"];Te&&(oe=JSON.parse(Te).collectionDates||oe);const ke=ee.map((pe,ye)=>({...pe,dueDate:pe.dueDate,serialNumber:ye+1,installmentNumber:ye+1,totalInstallments:ee.length})),et=te.map((pe,ye)=>({...pe,dueDate:pe.dueDate,serialNumber:ye+1,installmentNumber:ye+1,totalInstallments:te.length})),Je=ee.reduce((pe,ye)=>pe+ye.amount,0),Le=ee.reduce((pe,ye)=>(ye.status==="paid"||ye.status==="partial"||ye.status==="collected")&&ye.paidAmount>0?ye.status==="partial"?pe+(ye.paidAmount||0):pe+ye.amount:pe,0),Me=Math.max(0,Je-Le),Oe=te.reduce((pe,ye)=>pe+ye.amount,0),Ze=te.reduce((pe,ye)=>(ye.status==="paid"||ye.status==="partial"||ye.status==="collected")&&ye.paidAmount>0?ye.status==="partial"?pe+(ye.paidAmount||0):pe+ye.amount:pe,0),zt=Math.max(0,Oe-Ze),$t=pe=>{if(!pe||pe.length===0)return Date.now();const ye=pe.map(_e=>{const Ue=_e.saleDate||_e.createdAt||_e.originalInstallment?.createdAt||_e.originalInstallment?.saleDate||_e.date;return Ue?new Date(Ue).getTime():Date.now()});return Math.min(...ye)};$t(ee);const wt=$t(te),Be=m.filter(pe=>{if(!(pe.installmentType==="extra"||pe.installmentType==="savings")||!pe.note)return!1;const ye=pe.note.includes("Savings Collection"),_e=pe.note.includes("Savings Withdrawal"),Ue=pe.note.includes("Initial Savings"),Xe=pe.note.match(/Product Sale:.+\(Qty:.+\|/);return!!((ye||_e||Ue)&&!Xe)});console.log(" Multiple types - Total savings records found:",Be.length),Be.forEach((pe,ye)=>{console.log(`   ${ye+1}. Type: ${pe.installmentType}, Amount: ${pe.amount}, DistId: ${pe.distributionId||"NONE"}, Note: ${pe.note?.substring(0,80)}`)});const qe=Be.reduce((pe,ye)=>{const _e=ye.note.includes("Withdrawal");return pe+(_e?-ye.amount:ye.amount)},0),jt=Be.reduce((pe,ye)=>{if(te.some(Ue=>{if(ye.distributionId&&Ue.originalInstallment?.distributionId)return ye.distributionId===Ue.originalInstallment.distributionId;if(ye.installmentId&&Ue.originalInstallment?._id)return ye.installmentId===Ue.originalInstallment._id;if(!ye.distributionId&&ye.note&&Ue.productName&&zt>.01){const Xe=ye.note.toLowerCase(),tt=Ue.productName.toLowerCase().trim();if(Xe.includes(tt))return new Date(ye.createdAt||ye.collectionDate||Date.now()).getTime()<wt-5e3?(console.log(`    Ghost skipped (Right): ${ye.note}`),!1):(console.log(`    ACTIVE product name match: ${ye.amount}  "${Ue.productName}"`),!0)}return!1})){const Ue=ye.note.includes("Withdrawal");return pe+(Ue?-ye.amount:ye.amount)}return pe},0);let Ke=qe-jt;console.log(" Savings Calculation (Conservation):"),console.log(`   - Total Savings: ${qe}`),console.log(`   - Right (Type 2) Matched: ${jt}`),console.log(`   - Left (Type 1) Calculated: ${Ke}`);const He=Me<.01,Ne=zt<.01;return He&&Ne?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[l.jsx("span",{className:"text-6xl mb-4 block",children:""}),l.jsx("p",{className:"text-gray-700 text-lg font-bold",children:"All installments paid!"}),l.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"All product sales have been completed"})]}):He?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200 rounded-xl p-4 border",children:[l.jsxs("h4",{className:"text-lg font-bold mb-3 text-orange-800",children:["Type ",we,": ",B.length>0?B.join(", "):"Product"]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),l.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Oe.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),l.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Ze.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),l.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",zt.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),l.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",jt.toLocaleString()]})]})]}),l.jsxs("p",{className:"text-sm text-orange-600",children:[te.length," installments  ",te[0]?.amount||0," each"]})]}),et.map(pe=>l.jsx(X,{installment:pe},pe.id))]}):Ne?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 rounded-xl p-4 border",children:[l.jsxs("h4",{className:"text-lg font-bold mb-3 text-green-800",children:["Type ",Z,": ",ie.length>0?ie.join(", "):"Product"]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),l.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Je.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),l.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Le.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),l.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",Me.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),l.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",Ke.toLocaleString()]})]})]}),l.jsxs("p",{className:"text-sm text-green-600",children:[ke.length," installments  ",ke[0]?.amount||0," each"]})]}),ke.map(pe=>l.jsx(X,{installment:pe},pe.id))]}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 rounded-xl p-4 border",children:[l.jsxs("h4",{className:"text-lg font-bold mb-3 text-green-800",children:["Type ",Z,": ",ie.length>0?ie.join(", "):"Product"]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),l.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Je.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),l.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Le.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),l.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",Me.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),l.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",Ke.toLocaleString()]})]})]}),l.jsxs("p",{className:"text-sm text-green-600",children:[ke.length," installments  ",ke[0]?.amount||0," each"]})]}),ke.map(pe=>l.jsx(X,{installment:pe},pe.id))]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200 rounded-xl p-4 border",children:[l.jsxs("h4",{className:"text-lg font-bold mb-3 text-orange-800",children:["Type ",we,": ",B.length>0?B.join(", "):"Product"]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"Total"}),l.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Oe.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-green-700 mb-1 font-semibold",children:"Paid"}),l.jsxs("p",{className:"text-sm font-bold text-green-800",children:["",Ze.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-100 to-red-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-orange-700 mb-1 font-semibold",children:"Due"}),l.jsxs("p",{className:"text-sm font-bold text-orange-800",children:["",zt.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-200 rounded-lg p-2 text-center shadow-sm",children:[l.jsx("p",{className:"text-xs text-purple-700 mb-1 font-semibold",children:" Savings"}),l.jsxs("p",{className:"text-sm font-bold text-purple-800",children:["",jt.toLocaleString()]})]})]}),l.jsxs("p",{className:"text-sm text-orange-600",children:[te.length," installments  ",te[0]?.amount||0," each"]})]}),et.map(pe=>l.jsx(X,{installment:pe},pe.id))]})]})})()]}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-blue-100 rounded-full w-24 h-24 mx-auto flex items-center justify-center mb-6",children:l.jsx("span",{className:"text-4xl",children:""})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Installments Found"}),l.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"This member doesn't have any product loan installments yet."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-4",children:[l.jsx("button",{onClick:()=>{C(null),H("in"),P(!0)},className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:" Collect Savings"}),l.jsx("button",{onClick:()=>{C(null),H("out"),P(!0)},className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:" Withdraw Savings"})]}),l.jsx("button",{onClick:r,className:"bg-gradient-to-r from-indigo-500 to-blue-600 hover:from-indigo-600 hover:to-blue-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Close"})]})}),j&&A&&l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/30 to-gray-900/30 backdrop-blur-md flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-3xl p-8 w-full max-w-md mx-4 shadow-2xl border-2 border-blue-200",children:[l.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800",children:" Loan Payment"}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("p",{className:"text-gray-600 mb-2 font-medium",children:[A.productName," - Installment #",A.serialNumber]}),l.jsxs("p",{className:"text-gray-600 font-semibold",children:["Total Due: ",A.remainingAmount]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Payment Amount () *"}),l.jsx("input",{type:"number",value:T,onChange:z=>k(z.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter payment amount",min:"0.01",step:"0.01"}),T&&parseFloat(T)>0&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[l.jsxs("p",{className:"text-blue-800 font-semibold",children:["Collecting: ",T]}),l.jsxs("p",{className:"text-blue-600",children:["Remaining: ",(A.remainingAmount-parseFloat(T)).toFixed(2)]})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:()=>{S(!1),C(null),k("")},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),l.jsx("button",{onClick:le,disabled:!T||parseFloat(T)<=0||w,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 font-semibold transition-all duration-300",children:w?"Processing...":"Collect Payment"})]})]})}),D&&l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/30 to-gray-900/30 backdrop-blur-md flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-3xl p-8 w-full max-w-md mx-4 shadow-2xl border-2 border-purple-200",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:" Savings Transaction"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600 mb-2 font-medium",children:["Member: ",e.name]})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Transaction Type *"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>H("in"),className:`px-4 py-3 rounded-xl font-semibold transition-all duration-300 ${R==="in"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Savings In"}),l.jsx("button",{onClick:()=>H("out"),className:`px-4 py-3 rounded-xl font-semibold transition-all duration-300 ${R==="out"?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Savings Out"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[R==="in"?"Deposit":"Withdrawal"," Amount () *"]}),l.jsx("input",{type:"number",value:M,onChange:z=>I(z.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg",placeholder:`Enter ${R==="in"?"deposit":"withdrawal"} amount`,min:"0.01",step:"0.01"}),M&&parseFloat(M)>0&&l.jsxs("div",{className:`mt-3 p-3 rounded-xl border ${R==="in"?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[l.jsxs("p",{className:`font-semibold ${R==="in"?"text-green-800":"text-orange-800"}`,children:[R==="in"?"Depositing":"Withdrawing",": ",M]}),l.jsx("p",{className:`text-sm ${R==="in"?"text-green-600":"text-orange-600"}`,children:R==="in"?"This will be added to member savings":"This will be deducted from member savings and shown in Sav Out column"}),A&&l.jsxs("p",{className:`text-xs mt-1 ${R==="in"?"text-green-500":"text-orange-500"}`,children:["Sheet Date: ",A.dueDate]})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:()=>{P(!1),C(null),I(""),H("in")},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors",children:"Cancel"}),l.jsx("button",{onClick:$,disabled:!M||parseFloat(M)<=0||w,className:`flex-1 px-6 py-3 text-white rounded-xl disabled:opacity-50 font-semibold transition-all duration-300 ${R==="in"?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700"}`,children:w?"Processing...":R==="in"?"Collect Savings":"Withdraw Savings"})]})]})})]})})},mK=({selectedBranch:e,selectedCollector:t,selectedDay:n,onGoBack:r})=>{const[i,o]=b.useState([]),[u,f]=b.useState(!0),[h,m]=b.useState(!1),[g,x]=b.useState(null),[y,w]=b.useState(!1),[N,j]=b.useState(!1),[S,A]=b.useState(null),[C,T]=b.useState([]),[k,D]=b.useState(null),[P,M]=b.useState([]),[I,R]=b.useState(new Set),[H,V]=b.useState(null),[F,X]=b.useState({});b.useEffect(()=>{G(),ge();const $=localStorage.getItem("autoOpenMember");if($)try{const z=JSON.parse($);console.log(" Auto-opening member collection:",z.name),setTimeout(()=>{re(z),localStorage.removeItem("autoOpenMember")},1e3)}catch(z){console.log("Error parsing auto-open member:",z),localStorage.removeItem("autoOpenMember")}const le=localStorage.getItem("lastPayment");if(le)try{const z=JSON.parse(le);Date.now()-z.timestamp<300*1e3&&(console.log(" Recent payment detected, will refresh data..."),setTimeout(()=>{z.memberId&&K(z.memberId)},1e3))}catch(z){console.log("Error parsing payment data:",z)}},[e]),b.useEffect(()=>{try{const $=sA(),le=$.toLocaleDateString("en-US",{weekday:"long"}),z=$.toISOString().split("T")[0],ue=new Set;i.forEach(be=>{be.activeProductSales&&be.activeProductSales.length>0&&be.activeProductSales.forEach(Ce=>{Ce.installments&&Ce.installments.some(J=>J.status==="pending")&&ue.add(be._id)})}),R(ue)}catch($){console.log("Error checking due members:",$)}},[i]);const G=async()=>{try{f(!0),console.log(" Loading members for branch:",e.code);const $=await pn.getByBranch(e.code);if(console.log(" Members API response:",$),$.success&&$.data){let le=$.data;t&&t._id&&(console.log(" Filtering members for collector:",t.name),le=$.data.filter(z=>z.assignedCollector===t._id||z.assignedCollector?._id===t._id),console.log(" Filtered members count:",le.length)),o(le),console.log(" Members loaded successfully:",le.length),he(le)}else console.log(" Failed to load members:",$),o([])}catch($){console.error(" Error loading members:",$),de.error("Failed to load members"),o([])}finally{f(!1)}},ge=async()=>{try{const $=await vl.getAll();$.success&&M($.data||[])}catch($){console.error("Error loading products:",$),M([])}},K=async $=>{try{console.log(" Loading product sales for member:",$);const le=await fr.getByMember($);if(le.success&&le.data){console.log(" Raw API Response:",le.data);const z=le.data.filter(J=>J.installmentType==="extra"&&J.note&&J.note.includes("Product Sale"));console.log(" Found product sale installments:",z);const ue=z.map((J,O)=>{console.log(` Processing installment ${O+1}:`,J);let U="Unknown Product";const L=J.note.match(/Product Sale: ([^|]+)/);L&&(U=L[1].trim());const ee={id:J._id||`sale-${O}`,productName:U,totalAmount:J.amount||0,paidAmount:J.amount||0,remainingAmount:0,saleDate:J.collectionDate||J.createdAt||new Date().toISOString(),installmentType:"completed",status:J.status||"collected",memberId:J.member?._id||$,memberName:J.member?.name||"Unknown Member",note:J.note||"",receiptNumber:J.receiptNumber||"",collectionDay:J.collectionDay||""};return console.log(" Extracted product data:",ee),ee}),be=ue.filter(J=>J.status!=="completed");console.log(" Final product sales array:",ue),console.log(" Active product sales:",be);const Ce=localStorage.getItem("lastPayment");if(Ce)try{const J=JSON.parse(Ce);if(Date.now()-J.timestamp<600*1e3&&J.memberId===$){console.log(" Preserving recent payment status for installment #"+J.installmentNumber);const U=be.map(L=>{if(L.id===J.productId){const ee=L.installmentSchedule.map(te=>te.installmentNumber===J.installmentNumber?{...te,isPaid:!0,status:"paid"}:te);return{...L,installmentSchedule:ee}}return L});T(U);return}}catch(J){console.log("Error parsing payment data:",J)}T(be)}else console.log(" API response failed or no data:",le),T([])}catch(le){console.error(" Error loading member product sales:",le),T([])}},re=$=>{console.log(" Opening installment form for member:",$.name,"ID:",$._id),A($),w(!0)},he=async $=>{try{const le={};await Promise.all($.map(async z=>{try{const ue=await fr.getActiveSales(z._id);ue.success&&ue.data&&(le[z._id]={count:ue.data.activeProductSalesCount,canCreateNew:ue.data.canCreateNewSale,activeSales:ue.data.activeSales})}catch(ue){console.error(`Error loading active sales for member ${z.name}:`,ue),le[z._id]={count:0,canCreateNew:!0,activeSales:[]}}})),X(le),console.log(" Active sales data loaded:",le)}catch(le){console.error("Error loading active sales:",le)}},De=$=>{const le=F[$._id];if(le&&!le.canCreateNew){de.error(`${$.name}   ${le.count}              `,{duration:5e3});return}console.log(" Opening product sale form for member:",$.name),A($),j(!0)};return u?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 flex items-center justify-center p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mb-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600 mx-auto"}),l.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-400 animate-ping"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Loading Members"}),l.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your branch members..."}),l.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 p-2 md:p-6",children:[l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6 mb-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[l.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-gray-600 hover:text-indigo-600 transition-all duration-300 hover:bg-indigo-50 px-4 py-2 rounded-lg",children:[l.jsx(Ni,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Back to Branch Selection"})]}),l.jsx("div",{className:"hidden md:block"}),l.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[l.jsx(Qn,{className:"h-5 w-5"}),l.jsx("span",{children:"Add Member"})]})]}),l.jsx("div",{className:"mt-6 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-xl p-4 text-white",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"bg-white/20 rounded-full p-2 flex-shrink-0",children:l.jsx(xn,{className:"h-5 w-5"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-indigo-100 text-xs font-medium",children:"Branch"}),l.jsxs("p",{className:"font-bold text-sm md:text-base truncate",children:[e.code," - ",e.name]})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"bg-white/20 rounded-full p-2 flex-shrink-0",children:l.jsx(Xn,{className:"h-5 w-5"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-indigo-100 text-xs font-medium",children:"Collector"}),l.jsx("p",{className:"font-bold text-sm md:text-base truncate",children:e.collectorName||t?.name||"Not Assigned"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"bg-white/20 rounded-full p-2 flex-shrink-0",children:l.jsx(sd,{className:"h-5 w-5"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-indigo-100 text-xs font-medium",children:"Total Members"}),l.jsx("p",{className:"font-bold text-sm md:text-base",children:i.length})]})]})]})})]}),i.length===0?l.jsx("div",{className:"text-center py-16",children:l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-16 max-w-lg mx-auto border border-white/20",children:[l.jsxs("div",{className:"relative mb-8",children:[l.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-blue-100 rounded-full w-24 h-24 mx-auto flex items-center justify-center",children:l.jsx(Xn,{className:"h-12 w-12 text-indigo-600"})}),l.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full w-8 h-8 flex items-center justify-center",children:l.jsx(Qn,{className:"h-4 w-4 text-white"})})]}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Members Found"}),l.jsxs("p",{className:"text-gray-600 mb-8 leading-relaxed",children:["No members are registered for this branch yet.",l.jsx("br",{}),l.jsx("span",{className:"text-indigo-600 font-medium",children:"Start by adding your first member!"})]}),l.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-10 py-4 rounded-2xl font-bold transition-all duration-300 flex items-center space-x-3 mx-auto shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:[l.jsx(Qn,{className:"h-6 w-6"}),l.jsx("span",{children:"Add Your First Member"})]})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(($,le)=>l.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 p-4 md:p-6 border border-white/20 hover:border-indigo-200 transform hover:-translate-y-2 h-full flex flex-col ${I.has($._id)?"ring-2 ring-orange-400 bg-gradient-to-br from-orange-50 to-amber-50":"hover:bg-gradient-to-br hover:from-indigo-50 hover:to-blue-50"}`,style:{animationDelay:`${le*100}ms`},children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-indigo-100 to-blue-100 rounded-full -translate-y-10 translate-x-10 opacity-20 group-hover:opacity-30 transition-opacity"}),l.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[$.profileImage?l.jsxs("div",{className:"relative w-12 h-12 rounded-full overflow-hidden shadow-lg border-2 border-white",children:[l.jsx("img",{src:Py($.profileImage),alt:$.name,className:"w-full h-full object-cover",onError:z=>{z.target.style.display="none",z.target.nextSibling.style.display="flex"}}),l.jsx("div",{className:`absolute inset-0 ${I.has($._id)?"bg-gradient-to-r from-orange-400 to-amber-500":"bg-gradient-to-r from-indigo-500 to-blue-600"} rounded-full p-3 shadow-lg hidden items-center justify-center`,children:l.jsx(Xn,{className:"h-5 w-5 text-white"})})]}):l.jsx("div",{className:`${I.has($._id)?"bg-gradient-to-r from-orange-400 to-amber-500":"bg-gradient-to-r from-indigo-500 to-blue-600"} rounded-full p-3 shadow-lg`,children:l.jsx(Xn,{className:"h-5 w-5 text-white"})}),I.has($._id)&&l.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 rounded-full w-3 h-3 animate-pulse"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800 text-lg group-hover:text-indigo-700 transition-colors",children:$.memberCode?`(${$.memberCode}) ${$.name}`:$.name}),l.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:["ID: ",$.memberNumber||$._id.slice(-6)]})]})]}),I.has($._id)&&l.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center shadow-lg animate-pulse",children:[l.jsx(k0,{className:"h-3 w-3 mr-1"}),"Due Today"]})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 rounded-lg p-2",children:[l.jsx("div",{className:"bg-indigo-100 rounded-full p-1 mr-3",children:l.jsx(Tn,{className:"h-3 w-3 text-indigo-600"})}),l.jsxs("span",{className:"font-medium",children:["Age: ",$.age," | Phone: ",$.phone]})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 rounded-lg p-2",children:[l.jsx("div",{className:"bg-blue-100 rounded-full p-1 mr-3",children:l.jsx(Da,{className:"h-3 w-3 text-blue-600"})}),l.jsxs("span",{className:"font-medium",children:["Join Date: ",ii($.joinDate||$.createdAt)]})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-green-50 rounded-lg p-2",children:[l.jsx("div",{className:"bg-green-100 rounded-full p-1 mr-3",children:l.jsx(Vn,{className:"h-3 w-3 text-green-600"})}),l.jsxs("span",{className:"font-bold text-green-700",children:["Total Savings: ",$.totalSavings?.toLocaleString()||0]})]})]}),l.jsx("div",{className:"mb-3 h-8",children:F[$._id]&&F[$._id].count>0?l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("span",{className:"text-blue-700 font-semibold",children:["Active Sales: ",F[$._id].count,"/2"]}),!F[$._id].canCreateNew&&l.jsx("span",{className:"text-red-600 font-bold",children:"Max Limit"})]})}):l.jsx("div",{})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[l.jsxs("button",{onClick:()=>re($),className:"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white px-3 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[l.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Collect"]}),l.jsxs("button",{onClick:()=>De($),disabled:F[$._id]&&!F[$._id].canCreateNew,className:`${F[$._id]&&!F[$._id].canCreateNew?"bg-gradient-to-r from-gray-300 to-gray-400 cursor-not-allowed opacity-60":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 hover:shadow-xl transform hover:-translate-y-0.5"} text-white px-3 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center justify-center shadow-lg relative`,title:F[$._id]&&!F[$._id].canCreateNew?"       ":"  ",children:[l.jsx(xn,{className:"h-4 w-4 mr-1"}),"Sale",F[$._id]&&F[$._id].count>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:F[$._id].count})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-blue-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},$._id))}),h&&l.jsx(cK,{selectedBranch:e,selectedCollector:t,editingMember:g,onClose:()=>{m(!1),x(null)},onMemberAdded:G}),N&&S&&l.jsx(uK,{selectedMember:S,selectedBranch:e,selectedCollector:t,selectedDay:n,availableProducts:P,onClose:()=>{j(!1),A(null)},onSaleAdded:()=>{G(),S&&K(S._id)}},`sale-form-${S._id}`),y&&S&&l.jsx(fK,{selectedMember:S,selectedBranch:e,selectedCollector:t,onClose:()=>{w(!1),A(null)},onInstallmentCollected:G})]})},Wr=e=>""+(Number(e)||0).toString(),hK=({selectedCollector:e,selectedBranch:t,selectedDay:n,onGoBack:r})=>{const[i,o]=b.useState(!0),[u,f]=b.useState(0),[h,m]=b.useState("Loading collection sheet..."),[g,x]=b.useState([]),[y,w]=b.useState(!1),[N,j]=b.useState([]),[S,A]=b.useState([]),[C,T]=b.useState("all"),[k,D]=b.useState(()=>{const O=new Date;return{month:O.getMonth(),year:O.getFullYear()}}),[P,M]=b.useState(0),[I,R]=b.useState(!1),H=9;console.log(" CollectionSheet loaded with DATES_PER_PAGE:",H),b.useEffect(()=>{V()},[e,t]),b.useEffect(()=>{const O=U=>{console.log(" Collection Sheet: Installment collected! Refreshing data...",U.detail),setTimeout(()=>{V(),de.success("Collection sheet updated!",{icon:"",duration:2e3})},1500)};return window.addEventListener("installmentCollected",O),window.addEventListener("dashboardReload",O),()=>{window.removeEventListener("installmentCollected",O),window.removeEventListener("dashboardReload",O)}},[e,t]);const V=async()=>{try{if(o(!0),f(0),!e){x([]);return}m("Loading branches and products..."),f(25);try{const q=await vl.getAll({limit:1e3});q.success&&q.data&&(console.log(` Loaded ${q.data.length} products for unit lookup`),A(q.data))}catch(q){console.error(" Failed to load products:",q)}let O=[];if(t)console.log(" Using selected branch:",t),O=[{branchCode:t.code,name:t.name,members:t.members||[]}],j(O),T(t.code);else{const q=await ka.getByCollector(e.id);if(!q.success||!q.data){x([]);return}O=q.data,j(O),C==="all"&&O.length===1&&T(O[0].branchCode)}let U=[];m("Loading members..."),f(60),console.log(` Loading members from ${O.length} branch(es):`,O.map(q=>`${q.branchCode}-${q.name}`));for(const q of O){console.log(` Fetching members for branch ${q.branchCode} (${q.name})...`);const ie=await pn.getAll({branchCode:q.branchCode,limit:1e3});if(console.log(` Members API response for ${q.branchCode}:`,{success:ie.success,count:ie.data?.length||0,sample:ie.data?.slice(0,2).map(B=>({name:B.name,branchCode:B.branchCode}))}),ie.success&&ie.data){const B=ie.data.map(W=>({...W,branchName:q.name,branchCode:q.branchCode}));U.push(...B),console.log(` Added ${B.length} members from branch ${q.branchCode}`)}else console.log(` No members found for branch ${q.branchCode}`)}console.log(` Total members loaded: ${U.length}`),U.length===0&&(console.log(" WARNING: No members found! Check if:"),console.log("1. Members exist in database for branch code:",O.map(q=>q.branchCode)),console.log("2. Member branchCode field matches branch branchCode"),console.log("3. Members are active (isActive: true)")),m("Loading real database information..."),f(70);const L=[],ee=5,te=Math.min(U.length,50);for(let q=0;q<te;q+=ee){const ie=U.slice(q,q+ee);m(`Loading member details (${q+ie.length}/${te})...`),f(70+q/te*25);const B=await Promise.all(ie.map(async(W,xe)=>{try{const Z=await pn.getById(W._id);let we={...W};if(Z.success&&Z.data){const Te=Z.data,oe=Number(Te.currentSavings||Te.savingsBalance||0);we={...W,name:Te.name||W.name||"Unknown Member",sponsorName:Te.sponsorName||Te.sponsor||Te.sponser||W.sponsorName||"N/A",address:Te.address||Te.village||Te.location||Te.area||W.address||"N/A",totalSavings:oe,phone:Te.phone||Te.mobile||Te.phoneNumber||W.phone||"N/A",memberCode:Te.memberCode||Te.code||W.memberCode||`${String(q+xe+1).padStart(3,"0")}`,nidNumber:Te.nidNumber||Te.nid||W.nidNumber||"N/A",joinDate:Te.joinDate||Te.createdAt||W.joinDate||"N/A",branch:Te.branch||W.branchName||"N/A",branchCode:Te.branchCode||W.branchCode||"N/A"}}const Ee=await fr.getByMember(W._id);let Se=[];if(Ee.success&&Ee.data)if(Se=Ee.data,Se.length>0){const Te=F(Se);we.productInstallments=Te,we.allInstallmentRecords=Se;const oe=Se.filter(Me=>Me.installmentType==="regular"&&(Me.status==="collected"||Me.status==="partial")),ke=Te.reduce((Me,Oe)=>Me+(Oe.paidAmount||0),0),Je=Se.filter(Me=>Me.installmentType==="extra"&&Me.note&&Me.note.includes("Savings Collection")).reduce((Me,Oe)=>Me+(Oe.amount||0),0);we.totalCollectedAmount=ke;const Le=Number(we.totalSavings||W.totalSavings||W.savings||0);we.totalSavings=Le}else{const Te=Number(W.totalSavings||W.savings||0);we.productInstallments=[],we.allInstallmentRecords=[],we.totalCollectedAmount=0,we.totalSavings=Te}else{const Te=Number(W.totalSavings||W.savings||0);we.productInstallments=[],we.allInstallmentRecords=[],we.totalCollectedAmount=0,we.totalSavings=Te}return we}catch{return{...W,productInstallments:[],allInstallmentRecords:[],memberCode:W.memberCode||`${String(q+xe+1).padStart(3,"0")}`,sponsorName:W.sponsorName||W.sponsor||"N/A",address:W.address||W.village||"N/A",phone:W.phone||W.mobile||"N/A",totalSavings:Number(W.totalSavings||W.savings||0),totalCollectedAmount:0}}}));L.push(...B),q+ee<te&&await new Promise(W=>setTimeout(W,100))}if(U.length>te){const q=U.slice(te).map((ie,B)=>({...ie,productInstallments:[],allInstallmentRecords:[],memberCode:ie.memberCode||`${String(te+B+1).padStart(3,"0")}`,sponsorName:ie.sponsorName||ie.sponsor||"N/A",address:ie.address||ie.village||"N/A",phone:ie.phone||ie.mobile||"N/A",totalSavings:Number(ie.totalSavings||ie.savings||0),totalCollectedAmount:0}));L.push(...q)}m("Collection sheet ready!"),f(100),x(L),w(!0)}catch{de.error("Failed to load collection sheet data."),x([])}finally{o(!1)}},F=O=>{const U={};O.forEach(B=>{if(B.note&&B.note.includes("Product Sale")){let W=B.note;const xe=W.match(/Product Sale:\s*/);xe&&(W=W.substring(xe[0].length));const Z=W.split(/,(?![^(]*\))/);Z.forEach(we=>{const Ee=we.trim();if(!Ee)return;const Se=Ee.match(/\(Qty:\s*(\d+(?:\.\d+)?)(?:\s*([a-zA-Z]+))?/i);let Te=Ee,oe=null,ke=null;if(Se)oe=Se[1],ke=Se[2]||null,Te=Ee.substring(0,Se.index).trim();else{const et=Ee.match(/(.+?)\s*\((\d+(?:\.\d+)?)\s*([a-zA-Z]+)?\)/);et&&(Te=et[1].trim(),oe=et[2],ke=et[3])}if(Te){const et=Te.trim();et&&(oe||!U[et])&&(U[et]={quantity:oe,unit:ke}),Z.length===1&&B.distributionId&&(oe||!U[B.distributionId])&&(U[B.distributionId]={quantity:oe,unit:ke})}})}}),console.log(" Extracted Product Metadata:",U);const L=O.filter(B=>{if(!(B.installmentType==="regular"&&B.note&&B.note.includes("Product Loan")||B.installmentType==="loan"))return!1;if(B.status==="partial")return!0;if(B.status==="collected"&&B.note){const xe=B.note.match(/InstallmentAmt: (\d+)/);if(xe){const Z=parseInt(xe[1]);if(B.amount<Z)return!1}}return!0});if(L.length===0)return[];const ee=L.sort((B,W)=>{const xe=new Date(B.dueDate||B.createdAt),Z=new Date(W.dueDate||W.createdAt);return xe-Z}),te={};ee.forEach(B=>{let W=B.distributionId;(!W||W==="unknown")&&(W=`legacy_${B.productName}_${B.amount}`);let xe=B.productName,Z=null,we=null;if((!xe||xe==="Product Loan"||xe==="Unknown Product")&&B.note){const Se=B.note.match(/Product Loan: (.+?) -/);if(Se&&Se[1])xe=Se[1].trim();else if(B.note.includes("Product Loan")){const Te=B.note.split("-");if(Te.length>1){const oe=Te[0].replace("Product Loan:","").trim();oe.length>2&&(xe=oe)}}}if(B.note){const Se=B.note.match(/Qty:\s*(\d+(?:\.\d+)?)(?:\s*([a-zA-Z]+))?/i);Se&&(Z=Se[1],we=Se[2]||null)}xe||(xe="Unknown Product"),!Z&&U[W]&&(Z=U[W].quantity,we=U[W].unit),!Z&&U[xe]&&(Z=U[xe].quantity,we=U[xe].unit),te[W]?Z&&!te[W].quantity&&(te[W].quantity=Z,te[W].unit=we):te[W]={productName:xe,quantity:Z,unit:we,distributionId:W,timestamp:new Date(B.createdAt).getTime(),installments:[]};const Ee=new Date(B.createdAt).getTime();Ee<te[W].timestamp&&(te[W].timestamp=Ee),te[W].installments.push(B)});const q=Object.values(te).sort((B,W)=>B.timestamp-W.timestamp);q.forEach((B,W)=>{B.dofaNo=W+1});const ie=[];for(const B of q){const W=B.installments.reduce((we,Ee)=>we+Ee.amount,0),xe=B.installments.reduce((we,Ee)=>(Ee.status==="paid"||Ee.status==="partial"||Ee.status==="collected")&&(Ee.paidAmount>0||Ee.status==="collected")?Ee.status==="partial"?we+(Ee.paidAmount||0):we+Ee.amount:we,0),Z=Math.max(0,W-xe);if(Z>.01){const we=B.installments[0],Ee=B.installments.filter(Se=>Se.status==="paid"||Se.status==="collected"||Se.status==="partial").length;ie.push({productName:B.productName,quantity:B.quantity,unit:B.unit,dofaNo:B.dofaNo,distributionId:B.distributionId,totalAmount:W,paidAmount:xe,pendingAmount:Z,installmentCount:Ee,totalInstallments:B.installments.length,installmentFrequency:we.installmentFrequency||"weekly",deliveryDate:we.saleDate||we.dueDate||we.createdAt,saleId:we._id,note:we.note,metadataMap:U})}}return ie},X=cd.useRef(new Set),G=(O,U,L,ee,te=!1)=>{try{const q=U instanceof Date?U:new Date(U);if(isNaN(q.getTime()))return{loanAmount:0,savingsInAmount:0,savingsOutAmount:0};const ie=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}-${String(q.getDate()).padStart(2,"0")}`,B=O.allInstallmentRecords||[],W={};B.forEach(oe=>{oe.distributionId&&oe.dueDate&&(W[oe.distributionId]||(W[oe.distributionId]=[]),W[oe.distributionId].push(new Date(oe.dueDate)))});const xe=new Set;Object.keys(W).forEach(oe=>{const ke=W[oe].sort((et,Je)=>et-Je);if(ke.length>=2){let et=0;for(let Le=1;Le<ke.length;Le++){const Me=(ke[Le]-ke[Le-1])/864e5;et+=Me}et/(ke.length-1)>=25&&xe.add(oe)}}),console.log(" Monthly distributions detected:",Array.from(xe)),xe.size>0&&(console.log(" Found monthly installments for member:",O.name),Object.keys(W).forEach(oe=>{if(xe.has(oe)){const ke=W[oe];console.log(`   DistID ${oe}: ${ke.length} installments, dates:`,ke.map(et=>et.toISOString().split("T")[0]))}}));const Z=ee.map(oe=>oe.distributionId||oe.saleId||oe._id).filter(Boolean);O.name==="Mehenaj"&&(console.log(` MEHENAJ DEBUG - Checking row for date ${ie}`),console.log("    Products in this row:",ee),console.log("    Distribution IDs:",Z),console.log("    All collected/partial loan records:",B.filter(oe=>(oe.status==="collected"||oe.status==="partial")&&oe.installmentType==="regular"&&oe.note?.includes("Product Loan")).map(oe=>({amount:oe.amount,dueDate:oe.dueDate,distributionId:oe.distributionId,note:oe.note?.substring(0,100),status:oe.status}))));let we=0,Ee=0,Se=0;const Te=new Set;return B.forEach(oe=>{if(!oe)return;const ke=oe._id||oe.id||`${oe.amount}-${oe.note}-${oe.createdAt}`;if(Te.has(ke))return;Te.add(ke);const et=`${O._id||O.id}-${ie}-${ke}`,Je=oe.paidAmount!==void 0&&oe.paidAmount>0?oe.paidAmount:oe.amount||0,Le=oe.note||"",Me=oe.installmentType||"";let Oe=null,Ze=null;const zt=Me==="extra"&&Le&&(Le.includes("Savings Collection")||Le.includes("")||Le.toLowerCase().includes("savings")&&!Le.includes("Product")&&!Le.includes("Loan"));if(oe.paymentMethod==="savings_deduction"||Le.includes("deducted from savings")||oe.status==="collected"||oe.status==="partial"?Ze=oe.collectionDate||oe.date||oe.createdAt:Ze=oe.dueDate||oe.installmentDate||oe.collectionDate||oe.date||oe.createdAt,Ze)try{const Be=new Date(Ze);isNaN(Be.getTime())||(Oe=`${Be.getFullYear()}-${String(Be.getMonth()+1).padStart(2,"0")}-${String(Be.getDate()).padStart(2,"0")}`,oe.installmentType==="regular"&&oe.note?.includes("Product Loan")?console.log(`   Loan Record: Due=${Oe}, Type=${oe.installmentType}, Status=${oe.status}, Amount=${oe.amount}, CollectionDate=${oe.collectionDate?new Date(oe.collectionDate).toISOString().split("T")[0]:"N/A"}, DistID=${oe.distributionId||"N/A"}`):zt&&console.log("   [getProductSpecificCollection] Savings Record Found:",{memberName:O.name,amount:Je,collectionDate:Oe,targetDate:ie,matches:Oe===ie,note:Le.substring(0,50)}))}catch{return}let wt=!1;if(Oe){const Be=new Date(Ze);Be.setHours(12,0,0,0);const qe=new Date(ie);qe.setHours(12,0,0,0);const jt=oe.status==="pending",Ke=Me==="regular"&&Le&&Le.includes("Product Loan"),He=oe.installmentFrequency==="monthly"||xe&&xe.has(oe.distributionId);if(Ke&&oe.distributionId&&(console.log(` Checking installment: DistID=${oe.distributionId}, Frequency=${oe.installmentFrequency}, InMonthlySet=${xe&&xe.has(oe.distributionId)}, isMonthly=${He}`),console.log(`   Record Date: ${Oe}, Target Date: ${ie}, Match needed: ${He?"EXACT":"RANGE"}`)),He)wt=Oe===ie,console.log(wt?`  MONTHLY EXACT MATCH: ${Oe} === ${ie} for ${O.name}`:`  MONTHLY NO MATCH: ${Oe} !== ${ie} for ${O.name}`);else if(jt&&Ke)wt=Oe===ie;else{const Ne=new Date(qe);Ne.setDate(qe.getDate()-3);const pe=new Date(qe);pe.setDate(qe.getDate()+3),wt=Be>=Ne&&Be<=pe}if(wt&&Me==="regular"&&oe.status==="collected"){const Ne=Math.round((Be-qe)/864e5);console.log(`   DATE MATCH: Record ${Oe} matches column ${ie} (${Ne} days diff, ${He?"EXACT (monthly)":"range 3 days"})`)}}if(wt){if(Me==="regular"&&Le&&(Le.includes("Product Loan")||Le.includes("Installment")||Le.includes("Full payment")||Le.includes("Partial payment")||Le.includes("Full Payment")||Le.includes("Partial Payment"))){const Be=oe.distributionId;console.log(` LOAN COLLECTION: ${O.name} | Date: ${ie} | Amount: ${Je} | Status: ${oe.status}`),console.log(`    Record DistID: ${Be||"NONE"}`),console.log(`    Row DistIDs: ${JSON.stringify(Z)}`),console.log(`    Note: "${Le.substring(0,80)}"`),console.log(`    Products: ${ee.map(He=>He.productName).join(", ")}`);const qe=oe.collectionDate?new Date(oe.collectionDate).toISOString().split("T")[0]:"N/A",jt=oe.dueDate?new Date(oe.dueDate).toISOString().split("T")[0]:"N/A";console.log(`    CollectionDate: ${qe} | DueDate: ${jt}`),console.log(`    Using date for matching: ${Oe}`),console.log(`    PAYMENT AMOUNT: record.amount=${oe.amount}, record.paidAmount=${oe.paidAmount||"N/A"}, using amount=${Je}`);let Ke=!1;if(Be&&Z.includes(Be))Ke=!0,console.log(`    Distribution ID match found: ${Be}`);else if(Be){let He=null;if(Be.startsWith("DIST-")){const pe=Be.split("-");pe.length>=2&&(He=pe[1])}if(console.log(`    Extracted Sale ID from ${Be}: ${He}`),Z.some(pe=>pe===Be?(console.log(`    Direct match: ${pe} === ${Be}`),!0):He&&pe===He?(console.log(`    Extracted saleId match: ${pe} === ${He}`),!0):Be.includes(pe)?(console.log(`    Contains match: ${Be} contains ${pe}`),!0):pe.includes(Be)?(console.log(`    Reverse contains match: ${pe} contains ${Be}`),!0):He&&pe.includes(He)?(console.log(`    ID contains extracted saleId: ${pe} contains ${He}`),!0):!1))Ke=!0,console.log(`    Distribution ID partial match found: ${Be} matches saleId in`,Z);else{console.log(`    Distribution ID mismatch: ${Be} not in`,Z),console.log("    Attempting product name fallback for distribution ID mismatch...");const pe=ee.map(Ue=>(Ue.productName||Ue.name||"").split("(")[0].trim().toLowerCase()).filter(Ue=>Ue.length>0),ye=Le.toLowerCase();console.log("    Product names (lowercase):",pe),console.log(`    Note text (lowercase): "${ye}"`);let _e=!1;for(const Ue of pe){console.log(`    Checking product: "${Ue}"`);const Xe=Ue.split(" ").filter(tt=>tt.length>3);if(console.log(`    Keywords (>3 chars): ${JSON.stringify(Xe)}`),ye.includes(Ue)){console.log(`    Product name found in note: "${Ue}"`),_e=!0;break}else console.log(`    Product name NOT in note: "${Ue}"`);for(const tt of Xe)if(ye.includes(tt)){console.log(`    Product keyword found in note: "${tt}" (from "${Ue}")`),_e=!0;break}if(_e)break}_e?(Ke=!0,console.log("    Product name fallback successful - accepting collection")):Ke=!1}}else{console.log("    No distributionId in record, falling back to product name matching");const He=L.productNames.toLowerCase(),Ne=Le.toLowerCase(),pe=L.productNames.split(",").map(ye=>ye.trim().toLowerCase());console.log("    Checking product names:",pe);for(const ye of pe)if(Ne.includes(ye)){Ke=!0,console.log(`    Product name match found: "${ye}" in note`);break}if(!Ke&&Ne.includes("product loan"))for(const ye of pe){const _e=ye.split(" ").filter(Ue=>Ue.length>2);for(const Ue of _e)if(Ne.includes(Ue)){Ke=!0,console.log(`    Product word match found: "${Ue}"`);break}if(Ke)break}if(!Ke&&L.totalInstallments>0){const ye=Math.round(L.totalAmount/L.totalInstallments),_e=Math.max(ye*.5,200),Ue=Math.abs(Je-ye);if(console.log(" Enhanced Amount-based matching:"),console.log(`    Collection Amount: ${Je}`),console.log(`    Expected Amount: ${ye}`),console.log(`    Tolerance: ${_e}`),console.log(`    Difference: ${Ue}`),console.log(`    Within Tolerance: ${Ue<=_e}`),Ue<=_e)Ke=!0,console.log(`    Enhanced amount-based match found: ${Je}  ${ye}`);else{const Xe=ee.map(tt=>tt.totalAmount&&tt.totalInstallments?Math.round(tt.totalAmount/tt.totalInstallments):null).filter(Boolean);console.log("    Trying alternative amounts:",Xe);for(const tt of Xe){const ft=Math.abs(Je-tt),mt=Math.max(tt*.5,200);if(console.log(`     - ${tt}: diff=${ft}, tolerance=${mt}`),ft<=mt){Ke=!0,console.log(`    Alternative amount match found: ${Je}  ${tt}`);break}}if(!Ke&&Je>=50&&Je<=5e3&&Le.includes("Product Loan"))if(ee&&ee.length>0&&ee.some(ft=>ft.totalAmount&&ft.totalAmount>0)){const ft=ee.reduce((In,Rn)=>In+(Rn.totalAmount||0),0),mt={min:Math.floor(ft/50),max:Math.ceil(ft/5)};Je>=mt.min&&Je<=mt.max?(console.log("    Ultra-fallback matching applied for orphaned loan collection"),console.log(`    Member has product loans (total: ${ft}), estimated installment range: ${mt.min}-${mt.max}`),console.log(`    Collection amount ${Je} falls within estimated range, accepting as match`),Ke=!0):console.log(`    Ultra-fallback rejected: ${Je} outside estimated range ${mt.min}-${mt.max}`)}else console.log("    Ultra-fallback not applied: member has no product loans")}}}if(Ke)if(X.current.has(et))console.log(` Skipping ${Je} - already matched to another row for this member`);else{let He=0;oe.status==="pending"?(He=oe.amount||0,console.log(` PENDING INSTALLMENT: ${He} (Status: pending, scheduled for this date)`)):oe.status==="collected"||oe.status==="paid"?(He=oe.paidAmount||oe.amount||0,console.log(` COLLECTED: ${He} (Status: ${oe.status})`)):oe.status==="partial"&&(He=oe.paidAmount||0,console.log(` PARTIAL: ${He} (Status: partial)`)),we+=He,X.current.add(et),console.log(` Added ${He} (Status: ${oe.status}) to loan collection for this row. Total: ${we}`)}else console.log(" Collection does not belong to this product row")}else if(Me==="extra"&&Le&&(Le.includes("Savings Collection")||Le.includes("")||Le.toLowerCase().includes("savings")&&!Le.includes("Product")&&!Le.includes("Loan")&&!Le.includes("Withdrawal"))){let Be=!1;const qe=Le.toLowerCase();oe.distributionId&&Z.includes(oe.distributionId)?(Be=!0,console.log("   Savings matched by distributionId")):qe.includes("product:")?ee.map(Ke=>(Ke.productName||Ke.name||"").split("(")[0].trim().toLowerCase()).filter(Ke=>Ke.length>0).some(Ke=>qe.includes(`product: ${Ke}`))&&(Be=!0,console.log("   Savings matched by product name in note")):!oe.distributionId&&!qe.includes("product:")&&te&&(Be=!0,console.log("   Old savings (no product info) - showing in first row only")),Be?(Ee+=Je,console.log(` [getProductSpecificCollection] Savings Added: ${Je} for ${O.name} on ${ie}`)):console.log(` [getProductSpecificCollection] Savings SKIPPED: ${Je} (not for this product row)`)}else if(Me==="extra"&&Le&&Le.includes("Savings Withdrawal")){let Be=!1;const qe=Le.toLowerCase();oe.distributionId&&Z.includes(oe.distributionId)?(Be=!0,console.log("   Savings Withdrawal matched by distributionId")):qe.includes("product:")?ee.map(Ke=>(Ke.productName||Ke.name||"").split("(")[0].trim().toLowerCase()).filter(Ke=>Ke.length>0).some(Ke=>qe.includes(`product: ${Ke}`))&&(Be=!0,console.log("   Savings Withdrawal matched by product name in note")):!oe.distributionId&&!qe.includes("product:")&&te&&(Be=!0,console.log("   Old withdrawal (no product info) - showing in first row only")),Be?(Se+=Je,console.log(` [getProductSpecificCollection] Savings Withdrawal Added: ${Je} for ${O.name} on ${ie}`)):console.log(` [getProductSpecificCollection] Savings Withdrawal SKIPPED: ${Je} (not for this product row)`)}}}),{loanAmount:we,savingsInAmount:Ee,savingsOutAmount:Se}}catch(q){return console.error(` Error in getProductSpecificCollection for ${O.name}:`,q),{loanAmount:0,savingsInAmount:0,savingsOutAmount:0}}},ge=(O,U,L=null)=>{try{const ee=U instanceof Date?U:new Date(U);if(isNaN(ee.getTime()))return{loanAmount:0,savingsInAmount:0,savingsOutAmount:0};const te=`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}-${String(ee.getDate()).padStart(2,"0")}`,q=O.allInstallmentRecords||[];let ie=0,B=0,W=0;const xe=new Set;return q.forEach(Z=>{if(!Z)return;const we=Z._id||Z.id||`${Z.amount}-${Z.note}-${Z.createdAt}`;if(xe.has(we))return;xe.add(we);const Ee=Z.paidAmount!==void 0&&Z.paidAmount>0?Z.paidAmount:Z.amount||0,Se=Z.note||"",Te=Z.installmentType||"";let oe=null,ke=null;const et=Te==="extra"&&Se&&(Se.includes("Savings Collection")||Se.includes("")||Se.toLowerCase().includes("savings")&&!Se.includes("Product")&&!Se.includes("Loan")&&!Se.includes("Withdrawal"));if(Z.paymentMethod==="savings_deduction"||Se.includes("deducted from savings")||et?ke=Z.collectionDate||Z.date||Z.createdAt:ke=Z.dueDate||Z.installmentDate||Z.collectionDate||Z.date||Z.createdAt,ke)try{const Me=new Date(ke);isNaN(Me.getTime())||(oe=`${Me.getFullYear()}-${String(Me.getMonth()+1).padStart(2,"0")}-${String(Me.getDate()).padStart(2,"0")}`,et&&console.log(" [getCollectionForDate] Savings Collection Found:",{memberName:O.name,amount:Ee,collectionDate:oe,targetDate:te,matches:oe===te,note:Se.substring(0,50)}))}catch{return}if(oe===te)if(Te==="regular"&&Se&&(Se.includes("Product Loan")||Se.includes("Installment")||Se.includes("Full payment")||Se.includes("Partial payment")||Se.includes("Mobile")||Se.includes("Rice")||Se.includes("Dal"))){let Me=0;Z.status==="collected"||Z.status==="paid"?Me=Z.paidAmount||Z.amount||0:Z.status==="partial"&&(Me=Z.paidAmount||0),console.log(` [getCollectionForDate] COLLECTION: ${Me} (Status: ${Z.status})`),ie+=Me}else Te==="extra"&&Se&&(Se.includes("Savings Collection")||Se.includes("")||Se.toLowerCase().includes("savings")&&!Se.includes("Product")&&!Se.includes("Loan")&&!Se.includes("Withdrawal"))?(B+=Ee,console.log(` [getCollectionForDate] Savings Added: ${Ee} for ${O.name} on ${te}`)):Te==="extra"&&Se&&Se.includes("Savings Withdrawal")&&(W+=Ee,console.log(` [getCollectionForDate] Savings withdrawal: ${Ee} for ${O.name} on ${te}`))}),{loanAmount:ie,savingsInAmount:B,savingsOutAmount:W}}catch(ee){return console.error(` Error in getCollectionForDate for ${O.name}:`,ee),{loanAmount:0,savingsInAmount:0,savingsOutAmount:0}}},K=()=>{let O=!1;try{if(e?.collectionType==="daily"||n?.isDaily)O=!0,console.log(" DAILY KISTI COLLECTOR DETECTED from collector type!");else{console.log(" Checking for daily schedule in",g.length,"members");for(const U of g)if(U.productInstallments&&U.productInstallments.length>0){console.log(` Member ${U.name} has ${U.productInstallments.length} products`);for(const L of U.productInstallments)if(console.log(`  - Product: ${L.productName}, Frequency: ${L.installmentFrequency}`),L.installmentFrequency==="daily"){O=!0,console.log(" DAILY SCHEDULE DETECTED from product!");break}if(O)break}}console.log(` Final daily schedule detection result: ${O}`)}catch(U){console.log(" Error checking daily schedule:",U)}if(O!==I&&(console.log(` Updating isDailySchedule state from ${I} to ${O}`),R(O)),O){const U=k.year,L=k.month,ee=new Date(U,L+1,0).getDate(),te=[];for(let q=1;q<=ee;q++){const ie=new Date(U,L,q);ie.getDay()!==5&&te.push(ie)}return console.log(` Daily schedule detected: Generated ${te.length} dates (Fridays excluded)`),te}else{try{const W=localStorage.getItem(`collection_schedule_${e?.id}`);if(W){const xe=JSON.parse(W);if(xe.collectionDates&&xe.collectionDates.length>0)return xe.collectionDates.map(Z=>{const[we,Ee,Se]=Z.split("/");return new Date(Se,Ee-1,we)})}}catch(W){console.log("Error loading collector schedule:",W)}const U=k.month,L=k.year,ee=n?.name||"Saturday";console.log(" Selected Day:",n),console.log(" Day Name:",ee);const te={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},q=te[ee]!==void 0?te[ee]:6;console.log(` Generating dates for ${ee} (day ${q}) in ${U+1}/${L}`);const ie=new Date(L,U+1,0).getDate(),B=[];for(let W=1;W<=ie;W++){const xe=new Date(L,U,W);xe.getDay()===q&&(B.push(xe),console.log(`   Found ${ee}: ${W}/${U+1}/${L}`))}return console.log(` Generated ${B.length} ${ee}s for October 2025`),B}},re=O=>O.filter(U=>U.getMonth()===k.month&&U.getFullYear()===k.year),he=O=>{if(!I)return O;const U=P*H,L=U+H,ee=O.slice(U,L);return console.log(` Showing dates ${U+1}-${U+ee.length} of ${O.length}`),ee},De=()=>{P>0&&M(P-1)},$=()=>{const O=re(K()),U=Math.ceil(O.length/H);P<U-1&&M(P+1)},le=()=>{D(O=>{const U=O.month===0?11:O.month-1,L=O.month===0?O.year-1:O.year;return{month:U,year:L}}),M(0)},z=()=>{D(O=>{const U=O.month===11?0:O.month+1,L=O.month===11?O.year+1:O.year;return{month:U,year:L}}),M(0)},ue=()=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][k.month]} ${k.year}`;if(!t||!e)return l.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600",children:"Please select a branch and collector first."}),l.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-all",children:"Go Back"})]})})});if(i)return l.jsx("div",{className:"bg-white rounded-3xl shadow-2xl border p-8",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center w-full max-w-md",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:h}),l.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Loading real database information..."}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-4",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${u}%`}})}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:[Math.round(u),"% Complete"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fetching member details, sponsor names, addresses, and product sales..."}),l.jsx("button",{onClick:()=>{o(!1),x([])},className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl font-semibold transition-all",children:"Cancel Loading"})]})})});const be=K(),Ce=re(be),J=he(Ce);return l.jsxs("div",{className:"bg-white rounded-xl md:rounded-3xl shadow-2xl border p-3 md:p-6 lg:p-8 print:p-0 print:shadow-none print:border-0 print:rounded-none",children:[l.jsx("div",{className:"mb-6 no-print",children:l.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 md:p-4 border space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[l.jsxs("button",{onClick:r,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-all w-full sm:w-auto",children:[l.jsx(Ni,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm md:text-base",children:"Back to Selection"})]}),l.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all w-full sm:w-auto",title:"Print Collection Sheet (Legal Size)",children:[l.jsx(nA,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm md:text-base",children:"Print Sheet"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[l.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[l.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700 whitespace-nowrap",children:"Branch:"}),l.jsxs("select",{value:C,onChange:O=>T(O.target.value),className:"flex-1 px-2 md:px-3 py-1.5 md:py-1 bg-white border border-gray-300 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"All Branches"}),N.map(O=>l.jsxs("option",{value:O.branchCode,children:["(",O.branchCode,") ",O.name]},O.branchCode))]})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("button",{onClick:le,className:"p-1.5 md:p-2 hover:bg-gray-200 rounded-lg transition-all",children:l.jsx(Q2,{className:"h-4 w-4"})}),l.jsx("span",{className:"px-2 md:px-3 py-1 bg-white rounded-lg font-medium text-xs md:text-sm border whitespace-nowrap",children:ue()}),l.jsx("button",{onClick:z,className:"p-1.5 md:p-2 hover:bg-gray-200 rounded-lg transition-all",children:l.jsx(J2,{className:"h-4 w-4"})})]})]}),I&&l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3 pt-2 border-t",children:[l.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-700 text-center sm:text-left",children:[" Dates ",P*H+1,"-",Math.min((P+1)*H,Ce.length)," of ",Ce.length]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsx("button",{onClick:De,disabled:P===0,className:"flex-1 sm:flex-none px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all text-xs md:text-sm",children:" Previous 9"}),l.jsx("button",{onClick:$,disabled:P>=Math.ceil(Ce.length/H)-1,className:"flex-1 sm:flex-none px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all text-xs md:text-sm",children:"Next 9 "})]})]})]})}),l.jsx("div",{id:"collection-sheet-content",className:I?"daily-schedule-sheet":"",children:(()=>{const O=C==="all"?g:g.filter(L=>L.branchCode===C),U=C==="all"?N:N.filter(L=>L.branchCode===C);return 12+J.length,O.length>0&&J.length>0?l.jsx("div",{className:"overflow-x-auto print:overflow-visible",style:{marginTop:"0",paddingTop:"0"},children:l.jsxs("table",{className:"w-full border-collapse border border-black text-xs sheet-table",children:[l.jsxs("thead",{children:[l.jsx("tr",{className:"border-0",children:l.jsxs("td",{colSpan:12+J.length,className:"text-center py-2 border-0",children:[l.jsx("div",{className:"text-lg font-bold",children:"Satrong Sajghor Traders"}),l.jsx("div",{className:"text-base",children:"Borobari, Lalmonirhat"}),l.jsxs("div",{className:"text-base font-bold",children:["Collection Sheet - ",ue()]})]})}),l.jsx("tr",{className:"border-0",children:l.jsx("td",{colSpan:12+J.length,className:"p-1 border-0",children:l.jsxs("div",{className:"grid",style:{gridTemplateColumns:"minmax(350px, 1fr) auto minmax(350px, 1fr)",alignItems:"center",width:"100%",padding:"0 1rem"},children:[l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"border border-black px-2 py-1.5 min-w-[300px]",children:[l.jsx("div",{className:"font-bold mb-1 text-[14px]",children:"Somity Name & Code:"}),l.jsx("div",{className:"font-bold text-[16px]",children:U.map((L,ee)=>l.jsxs("span",{children:[ee>0&&", ","(",L.branchCode,") ",L.name]},L.branchCode||ee))})]})}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[l.jsx("span",{className:"font-bold",children:"District:"})," Lalmonirhat"]}),l.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[l.jsx("span",{className:"font-bold",children:"Upazilla:"})," Lalmonirhat"]}),l.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[l.jsx("span",{className:"font-bold",children:"Union:"})," Borobari"]})]}),l.jsx("div",{})]})})}),l.jsx("tr",{className:"border-0",children:l.jsx("td",{colSpan:12+J.length,className:"p-1 border-0",children:l.jsxs("div",{className:"flex gap-2 justify-center pb-2",children:[l.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[l.jsx("span",{className:"font-bold",children:"Field Officer Name:"})," ",e?.name||"N/A"]}),l.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[l.jsx("span",{className:"font-bold",children:"Start Date:"})," ",J.length>0?J[0].toLocaleDateString("en-GB"):"N/A"]}),l.jsxs("div",{className:"border border-black px-2 py-1 text-[13px]",children:[l.jsx("span",{className:"font-bold",children:"Day/Month/Year:"})," ",sA().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})]})})}),l.jsxs("tr",{className:"bg-gray-200",children:[l.jsx("th",{className:"border border-black px-1 py-2 text-center font-bold",style:{width:"30px"},children:"S.L"}),l.jsxs("th",{className:"border border-black px-1.5 py-1.5 text-center font-bold",style:{minWidth:"120px"},children:[l.jsx("div",{children:"Member Name"}),l.jsx("div",{children:"& Code"})]}),l.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"85px"},children:[l.jsx("div",{children:"Mobile"}),l.jsx("div",{children:"Number"})]}),l.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"90px"},children:[l.jsx("div",{children:"Sponsor"}),l.jsx("div",{children:"Name"})]}),l.jsx("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"100px"},children:"Address"}),l.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"90px"},children:[l.jsx("div",{children:"Product"}),l.jsx("div",{children:"Name"})]}),l.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"65px"},children:[l.jsx("div",{children:"Total"}),l.jsx("div",{children:"Amount"})]}),l.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"60px"},children:[l.jsx("div",{children:"Delivery"}),l.jsx("div",{children:"Date"})]}),l.jsxs("th",{className:"border border-black px-0.5 py-1.5 text-center font-bold",style:{width:"35px"},children:[l.jsx("div",{children:"Dofa"}),l.jsx("div",{children:"No"})]}),l.jsxs("th",{className:"border border-black px-0.5 py-1.5 text-center font-bold",style:{width:"35px"},children:[l.jsx("div",{children:"Install"}),l.jsx("div",{children:"ment"})]}),l.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"70px"},children:[l.jsx("div",{children:"Total Collected"}),l.jsx("div",{children:"Amount"})]}),l.jsxs("th",{className:"border border-black px-1 py-1.5 text-center font-bold",style:{width:"65px"},children:[l.jsx("div",{children:"Total"}),l.jsx("div",{children:"Savings"})]}),J.map((L,ee)=>l.jsxs("th",{className:"border border-black px-0.5 py-1.5 text-center font-bold",style:{minWidth:"115px",maxWidth:"115px"},children:[l.jsx("div",{className:"font-bold mb-0.5 text-[11px]",children:ii(L)}),l.jsxs("div",{className:"grid grid-cols-3 gap-0",children:[l.jsx("div",{className:"text-[9px] font-normal bg-red-100 px-0.5 py-0.5 border-r border-black",children:"Loan"}),l.jsx("div",{className:"text-[9px] font-normal bg-green-100 px-0.5 py-0.5 border-r border-black",children:"Sav In"}),l.jsx("div",{className:"text-[9px] font-normal bg-orange-100 px-0.5 py-0.5",title:"Savings Deducted (Auto + Manual)",children:"Sav Out"})]})]},ee))]})]}),l.jsx("tbody",{children:(()=>{let L;I?(console.log(' Daily collector: All members will be under "SHORT" group'),L=O.map(B=>({...B,_frequency:"short"}))):(console.log(" Weekly/Monthly collector: Grouping by member frequency"),L=O.map(B=>({...B,_frequency:B.productInstallments&&B.productInstallments.length>0&&B.productInstallments.some(W=>W.installmentFrequency==="monthly")?"monthly":"weekly"})));const ee=I?L:L.sort((B,W)=>B._frequency===W._frequency?0:B._frequency==="weekly"?-1:1),te=[];let q=null,ie=0;return ee.forEach((B,W)=>{if(B._frequency!==q){let Z;I?Z="SHORT":Z=B._frequency==="weekly"?"JAGORON":"AGROSOR",te.push(l.jsx("tr",{className:"bg-white",children:l.jsx("td",{colSpan:12+J.length,className:"border border-black py-1.5 font-bold text-black text-sm",style:{textAlign:"left",paddingLeft:"140px"},children:Z})},`group-${B._frequency}`)),q=B._frequency}const xe=(()=>{if(X.current.clear(),B.productInstallments&&B.productInstallments.length>0){console.log(` Member: ${B.name} - Checking ${B.productInstallments.length} products:`),B.productInstallments.forEach((Se,Te)=>{console.log(`  ${Te+1}. ${Se.productName}: Total=${Se.totalAmount||0}, Paid=${Se.paidAmount||0}, Fully Paid=${(Se.paidAmount||0)>=(Se.totalAmount||0)&&(Se.totalAmount||0)>0}`)});const Z={};B.productInstallments.forEach(Se=>{const Te=Se.saleTransactionId||`LEGACY-${Se.saleId}`;Z[Te]||(Z[Te]=[]),Z[Te].push(Se)});const we=[];Object.entries(Z).forEach(([Se,Te])=>{Te.every(ke=>{const et=ke.totalAmount||0;return(ke.paidAmount||0)>=et&&et>0})?console.log(` Transaction fully paid - removing from sheet: ${Se}`):we.push([Se,Te])});const Ee=we.sort(([,Se],[,Te])=>{const oe=new Date(Se[0].deliveryDate),ke=new Date(Te[0].deliveryDate);return oe-ke});if(Ee.length===0&&console.log(` All product groups fully paid for ${B.name} - showing as No Product member (savings only)`),Ee.length>0){const Se=[],Te={};let oe=0;Ee.forEach(([Le,Me],Oe)=>{Me.map(qe=>(qe.productName||"").toLowerCase().split("(")[0].trim()),Me.map(qe=>qe.distributionId).filter(Boolean);const zt=(B.allInstallmentRecords||[]).filter(qe=>{if(!(qe.installmentType==="extra"||qe.installmentType==="savings")||!qe.note)return!1;const jt=qe.note.includes("Savings Collection"),Ke=qe.note.includes("Savings Withdrawal"),He=qe.note.includes("Initial Savings"),Ne=qe.note.match(/Product Sale:.+\(Qty:.+\|/);return(jt||Ke||He)&&!Ne});let $t=0,wt=0;zt.forEach(qe=>{const jt=qe.note&&qe.note.includes("Withdrawal"),Ke=qe.amount||0;Me.some(Ne=>{if(qe.distributionId&&Ne.distributionId&&qe.distributionId===Ne.distributionId)return Ne.pendingAmount!==void 0&&Ne.pendingAmount<=0||Ne.paidAmount!==void 0&&Ne.totalAmount!==void 0&&Ne.paidAmount>=Ne.totalAmount?(console.log(`  [First Loop]  Skipping completed ${Ne.productName} - savings will transfer`),!1):!0;if(qe.distributionId&&Ne.saleId&&qe.distributionId===Ne.saleId)return Ne.pendingAmount!==void 0&&Ne.pendingAmount<=0||Ne.paidAmount!==void 0&&Ne.totalAmount!==void 0&&Ne.paidAmount>=Ne.totalAmount?(console.log(`  [First Loop]  Skipping completed ${Ne.productName}`),!1):!0;const pe=Ne.totalAmount/Ne.totalInstallments;if(qe.note&&qe.note.includes(`InstallmentAmt: ${pe}`))return!0;if(!qe.distributionId&&qe.note&&Ne.productName){if(Ne.pendingAmount!==void 0&&Ne.pendingAmount<=0||Ne.paidAmount!==void 0&&Ne.totalAmount!==void 0&&Ne.paidAmount>=Ne.totalAmount)return console.log(`  [First Loop Method 4]  Skipping completed ${Ne.productName}`),!1;const _e=Ne.productName.split("(")[0].trim();if(qe.note.includes(_e))return!0}return!1})&&(jt?(wt+=Ke,console.log(` [WITHDRAWAL] ${B.name} - ${Me[0]?.productName}: ${Ke} withdrawn`)):($t+=Ke,console.log(` [COLLECTION] ${B.name} - ${Me[0]?.productName}: ${Ke} collected`)))});const Be=Math.max(0,$t-wt);console.log(` Row ${Oe} (${Me[0]?.productName}): In=${$t}, Out=${wt}, Net=${Be}`),Te[Oe]=Be,oe+=Be});const ke=Number(B.totalSavings||0),et=Math.max(0,ke-oe),Je=Math.max(0,ke-oe);return console.log(` Savings Distribution for ${B.name}: Backend Total=${ke}, Matched=${oe}, Unmatched=${et}, Remainder=${Je}`),Ee.forEach(([Le,Me],Oe)=>{console.log(` Transaction ${Le}:`,Me.map(Ne=>({name:Ne.productName,totalInstallments:Ne.totalInstallments,installmentCount:Ne.installmentCount})));const Ze=Me.map(Ne=>Ne.distributionId||Ne.saleId||Ne._id).filter(Boolean),zt=(B.allInstallmentRecords||[]).filter(Ne=>{if(!(Ne.installmentType==="extra"||Ne.installmentType==="savings")||!Ne.note)return!1;const pe=Ne.note.includes("Savings Collection"),ye=Ne.note.includes("Savings Withdrawal"),_e=Ne.note.includes("Initial Savings"),Ue=Ne.note.match(/Product Sale:.+\(Qty:.+\|/);return(pe||ye||_e)&&!Ue});console.log(` Total savings records for ${B.name}:`,zt.length);let $t=0,wt=0;zt.forEach((Ne,pe)=>{const ye=Ne.note&&Ne.note.includes("Withdrawal"),_e=Ne.amount||0;Me.some(Xe=>{if(Ne.distributionId&&Xe.distributionId&&Ne.distributionId===Xe.distributionId)return console.log(`   Matched by distributionId: ${Ne.distributionId}`),!0;if(Ne.distributionId&&Xe.saleId&&Ne.distributionId===Xe.saleId)return console.log(`   Matched by saleId: ${Xe.saleId}`),!0;const tt=Xe.totalAmount/Xe.totalInstallments;if(Ne.note&&Ne.note.includes(`InstallmentAmt: ${tt}`))return console.log("   Matched by InstallmentAmt in note"),!0;if(!Ne.distributionId&&Ne.note&&Xe.productName){if(Xe.pendingAmount!==void 0&&Xe.pendingAmount<=0||Xe.paidAmount!==void 0&&Xe.totalAmount!==void 0&&Xe.paidAmount>=Xe.totalAmount)return console.log(`   Skipping old record for completed product: ${Xe.productName}`),!1;const mt=Xe.productName.split("(")[0].trim();if(Ne.note.includes(mt))return console.log(`   Matched by product name (old record): ${mt}`),!0}return!1})&&(ye?(wt+=_e,console.log(`   Withdrawal: ${_e}`)):($t+=_e,console.log(`   Collection: ${_e}`)))});const Be=Math.max(0,$t-wt);console.log(` Product Savings for ${B.name} (Transaction: ${Le}):`),console.log(`    Savings In: ${$t}`),console.log(`    Savings Out: ${wt}`),console.log(`    Net Savings: ${Be}`);const qe=Me.reduce((Ne,pe)=>Ne+(pe.paidAmount||0),0);console.log(` Row Collected Amount for ${B.name} (Transaction: ${Le}):`),console.log("    Row Distribution IDs:",Ze),console.log("    Products in row:",Me.map(Ne=>`${Ne.productName} (Paid: ${Ne.paidAmount||0})`)),console.log(`    Total Collected for this row: ${qe}`),console.log(" Dofa & Installment Debug:",Me.map(Ne=>({name:Ne.productName,dofaNo:Ne.dofaNo,installmentCount:Ne.installmentCount,paidAmount:Ne.paidAmount,distributionId:Ne.distributionId})));const jt=Math.max(...Me.map(Ne=>Ne.installmentCount||0),0);let Ke;if(Oe===0){const Ne=Number(B.totalSavings||0);let pe=0;for(let ye=1;ye<Ee.length;ye++){const _e=Te[ye]||0;pe+=_e}Ke=Math.max(0,Ne-pe),console.log(` FIRST ROW Savings: Total=${Ne} - Others=${pe} = ${Ke}`)}else Ke=Be,console.log(` Row ${Oe} Savings: ${Ke} (product-specific)`);const He={productNames:Me.map(Ne=>{const ye=(Ne.productName||Ne.name||"Unknown Product").split("(")[0].trim();if(ye.includes(","))return ye.split(",").map(tt=>tt.trim()).map(tt=>{const ft=Ne.metadataMap?Ne.metadataMap[tt]:null,mt=ft?.quantity||1;if(ft?.unit||Ne.unit,ft?.unit)return`${tt} (${mt} ${ft.unit})`;{const Rn=S.find(ra=>ra.name===tt)?.unit||"piece";return`${tt} (${mt} ${Rn})`}}).join(", ");const _e=Ne.quantity||1;if(Ne.unit)return`${ye} (${_e} ${Ne.unit})`;{const Xe=S.find(tt=>tt.name===ye)?.unit||"piece";return`${ye} (${_e} ${Xe})`}}).join(", "),totalAmount:Me.reduce((Ne,pe)=>Ne+(pe.totalAmount||0),0),totalInstallments:Math.max(...Me.map(Ne=>Ne.totalInstallments||Ne.installmentCount||0)),installmentCount:jt,paidAmount:qe,totalSavings:Ke,deliveryDate:Me[0].deliveryDate,dofaNumber:Me[0]?.dofaNo||Oe+1};Se.push(l.jsxs("tr",{className:"h-8",children:[Oe===0&&l.jsxs(l.Fragment,{children:[l.jsx("td",{rowSpan:Ee.length,className:"border border-black px-1 py-1 text-center font-medium text-xs",children:W+1}),l.jsx("td",{rowSpan:Ee.length,className:"border border-black px-1.5 py-1 text-xs",children:l.jsxs("div",{className:"font-medium",children:["(",B.memberCode||String(W+1).padStart(3,"0"),") ",B.name]})}),l.jsx("td",{rowSpan:Ee.length,className:"border border-black px-1 py-1 text-center text-[11px]",children:B.phone}),l.jsx("td",{rowSpan:Ee.length,className:"border border-black px-1 py-1 text-center text-[11px]",children:B.sponsorName||"N/A"}),l.jsx("td",{rowSpan:Ee.length,className:"border border-black px-1 py-1 text-[11px]",children:B.address||B.village||"N/A"})]}),l.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-[11px]",children:He.productNames}),l.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-[11px]",children:Wr(He.totalAmount)}),l.jsx("td",{className:"border border-black px-1 py-1 text-center text-[10px]",children:He.deliveryDate?ii(He.deliveryDate):"N/A"}),l.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-[11px]",children:He.dofaNumber}),l.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-[11px]",children:He.installmentCount}),l.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-green-600 text-[11px]",children:Wr(He.paidAmount)}),l.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-blue-600 text-[11px]",children:He.totalSavings>0?Wr(He.totalSavings):""}),J.map((Ne,pe)=>{let ye=null;if(He.deliveryDate)try{ye=new Date(He.deliveryDate),isNaN(ye.getTime())&&(console.warn(` Invalid deliveryDate for ${B.name}: ${He.deliveryDate}`),ye=null)}catch(rt){console.error(` Error parsing deliveryDate for ${B.name}:`,rt),ye=null}const _e=new Date(Ne);ye&&ye.setHours(0,0,0,0),_e.setHours(0,0,0,0);let Ue=!1;ye&&(Ue=_e>ye);const Xe=He.totalInstallments>0?Math.round(He.totalAmount/He.totalInstallments):0,tt=Me[0]?.installmentFrequency||"weekly",ft=tt==="monthly"?50:20,mt=Ue?G(B,Ne,He,Me,Oe===0):{loanAmount:0,savingsOutAmount:0},In=tt==="monthly",Rn=mt.loanAmount>0,ra=Ue?In?Rn?Wr(Xe):"":Xe>0?Wr(Xe):"":"",dt=Ue?In?Rn?`${ft}`:"":`${ft}`:"";return l.jsx("td",{className:"border border-black px-0.5 py-0.5",children:l.jsxs("div",{className:"grid grid-cols-3 gap-0 h-6",children:[l.jsx("div",{className:"text-center text-[9px] flex items-center justify-center bg-red-50 collection-cell border-r border-black",children:ra}),l.jsx("div",{className:"text-center text-[9px] flex items-center justify-center bg-green-50 collection-cell border-r border-black",children:dt}),l.jsx("div",{className:"text-center text-[9px] flex items-center justify-center bg-orange-50 collection-cell",children:mt.savingsOutAmount>0?Wr(mt.savingsOutAmount):""})]})},pe)})]},`${B._id}-${Le}`))}),Se}}return l.jsxs("tr",{className:"h-8",children:[l.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-xs",children:W+1}),l.jsx("td",{className:"border border-black px-1.5 py-1 text-xs",children:l.jsxs("div",{className:"font-medium",children:["(",B.memberCode||String(W+1).padStart(3,"0"),") ",B.name]})}),l.jsx("td",{className:"border border-black px-1 py-1 text-center text-[11px]",children:B.phone}),l.jsx("td",{className:"border border-black px-1 py-1 text-center text-[11px]",children:B.sponsorName||"N/A"}),l.jsx("td",{className:"border border-black px-1 py-1 text-[11px]",children:B.address||B.village||"N/A"}),l.jsx("td",{className:"border border-black px-1 py-1 text-center text-gray-500 text-[11px]",children:"No Product"}),l.jsx("td",{className:"border border-black px-1 py-1 text-center text-gray-500 text-[11px]",children:Wr(0)}),l.jsx("td",{className:"border border-black px-1 py-1 text-center text-gray-500 text-[10px]",children:"N/A"}),l.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-gray-500 text-[11px]",children:"N/A"}),l.jsx("td",{className:"border border-black px-0.5 py-1 text-center text-gray-500 text-[11px]",children:"0"}),l.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-green-600 text-[11px]",children:Wr(B.totalCollectedAmount||0)}),l.jsx("td",{className:"border border-black px-1 py-1 text-center font-medium text-blue-600 text-[11px]",children:(console.log(` [SHEET RENDER] ${B.name} totalSavings: ${B.totalSavings}`),Wr(B.totalSavings||0))}),J.map((Z,we)=>{const Ee=B._frequency==="monthly"?50:20,Se=B.joinDate?new Date(B.joinDate):null,Te=new Date(Z);Se&&Se.setHours(0,0,0,0),Te.setHours(0,0,0,0);const oe=!Se||Te>Se;we===0&&console.log(` [${B.name}] Join: ${Se?Se.toISOString().split("T")[0]:"N/A"}, First Collection: ${Te.toISOString().split("T")[0]}, Show Savings: ${oe}`);const ke=ge(B,Z);return l.jsx("td",{className:"border border-black px-0.5 py-0.5",children:l.jsxs("div",{className:"grid grid-cols-3 gap-0 h-6",children:[l.jsx("div",{className:"text-center text-[8px] flex items-center justify-center bg-red-50 collection-cell border-r border-black"}),l.jsx("div",{className:"text-center text-[8px] flex items-center justify-center bg-green-50 collection-cell border-r border-black",children:oe?`${Ee}`:""}),l.jsx("div",{className:"text-center text-[8px] flex items-center justify-center bg-orange-50 collection-cell",children:ke.savingsOutAmount>0?Wr(ke.savingsOutAmount):""})]})},we)})]},B._id)})();Array.isArray(xe)?te.push(...xe):xe&&te.push(xe),ie++,ie%11===0&&W<ee.length-1&&(te.push(l.jsx("tr",{className:"page-break-row",children:l.jsx("td",{colSpan:12+J.length,className:"border-0 p-0",style:{border:"none"},children:l.jsx("div",{style:{pageBreakAfter:"always",breakAfter:"page",height:"0",padding:"0",margin:"0"}})})},`page-break-${ie}`)),console.log(` Page break inserted after member ${ie} (${B.name})`))}),te.push(l.jsx("tr",{className:"signature-row",children:l.jsx("td",{colSpan:12+J.length,className:"border-0 p-0",style:{border:"none"},children:l.jsx("div",{style:{marginTop:"0.8cm",marginBottom:"0.2cm",padding:"0 2cm"},children:l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"border-t-2 border-black w-48 mb-2",style:{borderTop:"2px solid black",width:"12rem",marginBottom:"0.5rem"}}),l.jsx("p",{className:"text-sm font-semibold",style:{fontSize:"0.875rem",fontWeight:"600"},children:"Manager Signature"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"border-t-2 border-black w-48 mb-2",style:{borderTop:"2px solid black",width:"12rem",marginBottom:"0.5rem"}}),l.jsx("p",{className:"text-sm font-semibold",style:{fontSize:"0.875rem",fontWeight:"600"},children:"Field Officer Signature"})]})]})})})},"signature-row-final")),te})()})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Members Found"}),l.jsx("p",{className:"text-gray-600",children:"No members found for selected filter."})]})})()})]})},gK=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(null),[i,o]=b.useState(null),[u,f]=b.useState(!1),[h,m]=b.useState(!1),[g,x]=b.useState(0);b.useEffect(()=>{const P=localStorage.getItem("installmentCollectionState"),I=new URLSearchParams(window.location.search).get("fresh")==="true";if(P&&!I)try{const{day:H,collector:V,branch:F,dashboard:X,directMember:G}=JSON.parse(P);H&&t(H),V&&(r(V),localStorage.setItem("selectedCollector",JSON.stringify(V))),F&&o(F),X!==void 0&&f(X),G&&F&&(console.log(" Direct member navigation detected:",G.name),o(F),f(!1),localStorage.setItem("autoOpenMember",JSON.stringify(G)))}catch{localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector")}else if(I){if(!(P&&JSON.parse(P).day))localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector"),localStorage.removeItem("autoOpenMember"),console.log(" Fresh start - showing day selection");else{console.log(" Day already selected, restoring previous state");try{const{day:V,collector:F,branch:X,dashboard:G,directMember:ge}=JSON.parse(P);V&&t(V),F&&(r(F),localStorage.setItem("selectedCollector",JSON.stringify(F))),X&&o(X),G!==void 0&&f(G),ge&&X&&(o(X),f(!1),localStorage.setItem("autoOpenMember",JSON.stringify(ge)))}catch{localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector")}}window.history.replaceState({},"","/installments")}const R=()=>{console.log(" PARENT: Dashboard reload triggered from installment collection"),setTimeout(()=>{console.log(" PARENT: Reloading dashboard with updated data..."),x(H=>H+1)},2e3)};return window.addEventListener("installmentCollected",R),window.addEventListener("dashboardReload",R),()=>{window.removeEventListener("installmentCollected",R),window.removeEventListener("dashboardReload",R)}},[]),b.useEffect(()=>{const P={day:e,collector:n,branch:i,dashboard:u};(e||n||i||u)&&localStorage.setItem("installmentCollectionState",JSON.stringify(P))},[e,n,i,u]);const y=P=>{t(P),r(null),o(null)},w=P=>{r(P),o(null),f(!0),localStorage.setItem("selectedCollector",JSON.stringify(P))},N=P=>{o(P)},j=()=>{t(null),r(null),o(null),f(!1),localStorage.removeItem("installmentCollectionState"),localStorage.removeItem("selectedCollector")},S=()=>{r(null),o(null),f(!1)},A=()=>{o(null),f(!0)},C=()=>{o(null),f(!0)},T=(P=null)=>{if(console.log(" Collection Sheet requested for branch:",P),P){const M={code:P.branchCode||P.code,name:P.name,members:P.members||[]};console.log(" Setting selected branch:",M),o(M),m(!0),f(!1)}else console.log(" No branch provided - showing all branches sheet"),o(null),m(!0),f(!1)},k=()=>{m(!1),f(!0),o(null)},D=[{id:1,name:"Saturday",color:"from-blue-500 to-blue-600"},{id:2,name:"Sunday",color:"from-green-500 to-green-600"},{id:3,name:"Monday",color:"from-purple-500 to-purple-600"},{id:4,name:"Tuesday",color:"from-yellow-500 to-yellow-600"},{id:5,name:"Wednesday",color:"from-red-500 to-red-600"},{id:6,name:"Thursday",color:"from-indigo-500 to-indigo-600"},{id:7,name:"Daily Kisti",color:"from-orange-500 to-orange-600",isDaily:!0}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 md:p-6 print:p-0 print:bg-white",children:l.jsxs("div",{className:"max-w-6xl mx-auto print:max-w-none",children:[l.jsxs("div",{className:"text-center mb-8 no-print",children:[l.jsx("button",{onClick:j,className:"mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition-all",children:" Start Over"}),e&&l.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.name,n&&`  ${n.name}`,i&&`  ${i.name}`]})]}),e?n?h?l.jsx(hK,{selectedCollector:n,selectedBranch:i,selectedDay:e,onGoBack:k}):u&&!i?l.jsx(iK,{selectedDay:e,selectedCollector:n,onGoBack:S,onBranchSelect:N,onShowCollectionSheet:T},g):i?l.jsx(mK,{selectedBranch:i,selectedCollector:n,selectedDay:e,onGoBack:C}):l.jsx(oK,{selectedDay:e,selectedCollector:n,onBranchSelect:N,onGoBack:A,onShowCollectionSheet:T}):l.jsx(sK,{selectedDay:e,onCollectorSelect:w,onGoBack:S}):l.jsx(lK,{weekDays:D,onDaySelect:y})]})})},pK=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(null),[i,o]=b.useState(""),[u,f]=b.useState(""),[h,m]=b.useState(!1),x=[{id:1,name:"Rokeya Khatun",phone:"01967890123",branch:"B006 - Sylhet Branch",collector:"Badshah",regularInstallment:150,totalPaid:1200,extraPayments:[{date:"2024-08-15",amount:300,note:"Bonus Payment"},{date:"2024-07-20",amount:200,note:"Advance Installment"}]},{id:2,name:"Abdur Rahim",phone:"01578901234",branch:"B006 - Sylhet Branch",collector:"Badshah",regularInstallment:500,totalPaid:2e3,extraPayments:[{date:"2024-09-01",amount:500,note:"Double Payment"}]},{id:3,name:"Fatema Khatun",phone:"01823456789",branch:"B001 - Dhaka Branch",collector:"Rahim",regularInstallment:50,totalPaid:1500,extraPayments:[]},{id:4,name:"Kamal Hossain",phone:"01867890123",branch:"B002 - Gulshan Branch",collector:"Rahim",regularInstallment:300,totalPaid:3e3,extraPayments:[{date:"2024-08-25",amount:600,note:"Double Payment"}]},{id:5,name:"Shahinur Rahman",phone:"01978901234",branch:"B003 - Mirpur Branch",collector:"Karim",regularInstallment:800,totalPaid:4800,extraPayments:[]}].filter(w=>w.name.toLowerCase().includes(e.toLowerCase())||w.phone.includes(e)),y=()=>{if(!n||!i){de.error("Please enter a valid amount.");return}const w=de.loading("Processing payment...");console.log("Extra Payment:",{memberId:n.id,amount:parseFloat(i),note:u,date:new Date().toISOString()}),setTimeout(()=>{de.dismiss(w),de.success(`Extra installment of ${i} for ${n.name} has been successfully accepted!`),r(null),o(""),f(""),m(!1)},1e3)};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[l.jsx(Qn,{className:"h-8 w-8 mr-3 text-green-600"}),"Extra Installment Collection"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Accept extra installments from members"})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search by member name or phone number...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Member List"}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.length," members found"]})]}),l.jsx("div",{className:"divide-y divide-gray-200",children:x.map(w=>l.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:l.jsx(Xn,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:w.name}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Nl,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:w.phone})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(os,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:w.branch})]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Regular Installment"}),l.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",w.regularInstallment]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Extra Payments"}),l.jsxs("p",{className:"text-lg font-bold text-green-600",children:[w.extraPayments.length," times"]})]}),l.jsxs("button",{onClick:()=>{r(w),m(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[l.jsx(Qn,{className:"h-4 w-4"}),l.jsx("span",{children:"Extra Installment"})]})]})]}),w.extraPayments.length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Extra Payment History:"}),l.jsx("div",{className:"space-y-2",children:w.extraPayments.map((N,j)=>l.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(zP,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:N.note})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-bold text-green-600",children:["",N.amount]}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(N.date).toLocaleDateString("bn-BD")})]})]},j))})]})]},w.id))})]}),h&&n&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Extra Installment Payment"}),l.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[l.jsx("h3",{className:"font-bold text-gray-900",children:n.name}),l.jsx("p",{className:"text-sm text-gray-600",children:n.phone}),l.jsx("p",{className:"text-sm text-gray-600",children:n.branch}),l.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["Regular Installment: ",n.regularInstallment]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Extra Installment Amount ()"}),l.jsx("input",{type:"number",value:i,onChange:w=>o(w.target.value),placeholder:"Enter amount...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note (Optional)"}),l.jsx("textarea",{value:u,onChange:w=>f(w.target.value),placeholder:"Reason for payment or special note...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),l.jsx("button",{onClick:y,disabled:!i,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Accept Payment"})]})]})]})})})]})},xK=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Savings Management"}),l.jsx("p",{className:"text-gray-600",children:"Member savings and financial management"})]}),l.jsxs("button",{className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:[l.jsx(Qn,{className:"h-5 w-5 mr-2"}),"New Savings Deposit"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:l.jsx(Sl,{className:"h-8 w-8 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Savings"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:",,"})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:l.jsx(Xn,{className:"h-8 w-8 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Savers"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:""})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:l.jsx(sc,{className:"h-8 w-8 text-yellow-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Growth"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:".%"})]})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Sl,{className:"mx-auto h-16 w-16 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-xl font-medium text-gray-900",children:"Savings Management"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"Detailed features for this page will be added soon"}),l.jsx("div",{className:"mt-6",children:l.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:[l.jsx(Qn,{className:"h-5 w-5 mr-2"}),"Make Savings Deposit"]})})]})})]}),yK=()=>{const[e,t]=b.useState(""),[n,r]=b.useState("all"),[i,o]=b.useState("all"),f=[{id:1,name:"Rokeya Khatun",age:26,phone:"01967890123",joinDate:"2024-02-25",nidNumber:"6789012345678",branch:"B006 - Sylhet Branch",collector:"Badshah",installmentType:"Weekly",installmentAmount:150,totalInstallments:12,paidInstallments:8,remainingInstallments:4,dueAmount:600,products:["Rice (50 kg)","Lentils (10 kg)"],lastPayment:"2024-09-10"},{id:2,name:"Abdur Rahim",age:39,phone:"01578901234",joinDate:"2024-01-08",nidNumber:"7890123456789",branch:"B006 - Sylhet Branch",collector:"Badshah",installmentType:"Monthly",installmentAmount:500,totalInstallments:6,paidInstallments:4,remainingInstallments:2,dueAmount:1e3,products:["Sewing Machine"],lastPayment:"2024-08-15"},{id:3,name:"Fatema Khatun",age:28,phone:"01823456789",joinDate:"2024-02-10",nidNumber:"2345678901234",branch:"B001 - Dhaka Branch",collector:"Rahim",installmentType:"Daily",installmentAmount:50,totalInstallments:30,paidInstallments:25,remainingInstallments:5,dueAmount:250,products:["Oil (5 liters)","Sugar (5 kg)"],lastPayment:"2024-09-12"},{id:4,name:"Kamal Hossain",age:38,phone:"01867890123",joinDate:"2024-01-30",nidNumber:"6789012345678",branch:"B002 - Gulshan Branch",collector:"Rahim",installmentType:"Weekly",installmentAmount:300,totalInstallments:15,paidInstallments:10,remainingInstallments:5,dueAmount:1500,products:["Rickshaw"],lastPayment:"2024-09-08"},{id:5,name:"Shahinur Rahman",age:33,phone:"01978901234",joinDate:"2024-02-15",nidNumber:"7890123456789",branch:"B003 - Mirpur Branch",collector:"Karim",installmentType:"Monthly",installmentAmount:800,totalInstallments:10,paidInstallments:6,remainingInstallments:4,dueAmount:3200,products:["Cow"],lastPayment:"2024-08-20"}].filter(m=>{const g=m.name.toLowerCase().includes(e.toLowerCase())||m.phone.includes(e)||m.nidNumber.includes(e),x=n==="all"||m.branch.includes(n),y=i==="all"||m.installmentType===i;return g&&x&&y}),h=()=>{const m=`
      <html>
        <head>
          <title>Member Information Report</title>
          <style>
            @page {
              margin: 0.2cm 0.5cm 0.5cm 0.5cm;
              size: A4;
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body { 
              font-family: Arial, sans-serif; 
              margin: 0;
              padding: 0;
              font-size: 11px;
              line-height: 1.2;
            }
            .header { 
              text-align: center; 
              margin: 0 0 10px 0;
              padding: 5px 0 8px 0;
              border-bottom: 2px solid #333;
            }
            .header h1 {
              font-size: 18px;
              margin-bottom: 5px;
              color: #333;
            }
            .header h2 {
              font-size: 14px;
              margin-bottom: 5px;
              color: #666;
            }
            .header p {
              font-size: 12px;
              color: #666;
            }
            table { 
              width: 100%; 
              border-collapse: collapse; 
              margin: 10px 0;
              page-break-inside: auto;
            }
            th, td { 
              border: 1px solid #333; 
              padding: 4px; 
              text-align: left; 
              font-size: 10px;
              vertical-align: top;
            }
            th { 
              background-color: #f0f0f0; 
              font-weight: bold;
              font-size: 9px;
              text-align: center;
            }
            tr {
              page-break-inside: avoid;
            }
            tr:nth-child(even) { 
              background-color: #f9f9f9; 
            }
            .status-due { 
              color: #dc3545; 
              font-weight: bold; 
            }
            .status-paid { 
              color: #28a745; 
              font-weight: bold; 
            }
            @media print {
              body {
                margin: 0 !important;
                padding: 5px !important;
              }
              .header {
                margin-bottom: 10px !important;
              }
              table {
                margin: 5px 0 !important;
              }
              th, td {
                padding: 3px !important;
                font-size: 9px !important;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Satrong Sajghor Traders</h1>
            <h2>Member Details & Installment Report</h2>
            <p>Date: ${new Date().toLocaleDateString("en-US")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Age</th>
                <th>Phone</th>
                <th>NID Number</th>
                <th>Join Date</th>
                <th>Branch</th>
                <th>Collector</th>
                <th>Installment Type</th>
                <th>Amount Per Installment</th>
                <th>Total Installments</th>
                <th>Paid Installments</th>
                <th>Remaining Installments</th>
                <th>Due Amount</th>
                <th>Products</th>
                <th>Last Payment</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${f.map(x=>`
                <tr>
                  <td>${x.id}</td>
                  <td>${x.name}</td>
                  <td>${x.age}</td>
                  <td>${x.phone}</td>
                  <td>${x.nidNumber}</td>
                  <td>${new Date(x.joinDate).toLocaleDateString("en-US")}</td>
                  <td>${x.branch}</td>
                  <td>${x.collector}</td>
                  <td>${x.installmentType===""?"Daily":x.installmentType===""?"Weekly":"Monthly"}</td>
                  <td>${x.installmentAmount}</td>
                  <td>${x.totalInstallments}</td>
                  <td>${x.paidInstallments}</td>
                  <td>${x.remainingInstallments}</td>
                  <td class="${x.dueAmount>0?"status-due":"status-paid"}">${x.dueAmount}</td>
                  <td>${x.products.join(", ")}</td>
                  <td>${new Date(x.lastPayment).toLocaleDateString("en-US")}</td>
                  <td class="${x.dueAmount>0?"status-due":"status-paid"}">${x.dueAmount>0?"Due":"Paid"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,g=window.open("","_blank");g.document.write(m),g.document.close(),g.onload=function(){g.print()}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[l.jsx(ZP,{className:"h-8 w-8 mr-3 text-blue-600"}),"Sheet Collection"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Complete member information and installment report"})]}),l.jsx("div",{className:"mt-4 sm:mt-0",children:l.jsxs("button",{onClick:h,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg transition-all transform hover:scale-105",children:[l.jsx(lc,{className:"h-5 w-5"}),l.jsx("span",{children:"Download PDF"})]})})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search by name, phone or NID...",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsx("div",{children:l.jsxs("select",{value:n,onChange:m=>r(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Branches"}),l.jsx("option",{value:"Dhaka",children:"Dhaka Branch"}),l.jsx("option",{value:"Gulshan",children:"Gulshan Branch"}),l.jsx("option",{value:"Mirpur",children:"Mirpur Branch"}),l.jsx("option",{value:"Sylhet",children:"Sylhet Branch"})]})}),l.jsx("div",{children:l.jsxs("select",{value:i,onChange:m=>o(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Installment Types"}),l.jsx("option",{value:"Daily",children:"Daily"}),l.jsx("option",{value:"Weekly",children:"Weekly"}),l.jsx("option",{value:"Monthly",children:"Monthly"})]})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(eA,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("span",{className:"text-sm text-gray-600",children:[f.length," members found"]})]})]})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Member Details Sheet"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"ID"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Name"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Age"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Phone"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"NID Number"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Join Date"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Branch"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Collector"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Installment Type"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Amount Per Installment"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Total Installments"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Paid Installments"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Remaining Installments"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Due Amount"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Products"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Last Payment"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((m,g)=>l.jsxs("tr",{className:`hover:bg-gray-50 ${g%2===0?"bg-white":"bg-gray-25"}`,children:[l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200 font-medium",children:m.id}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200 font-medium",children:m.name}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.age}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.phone}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.nidNumber}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:new Date(m.joinDate).toLocaleDateString("en-US")}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.branch}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.collector}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.installmentType==="Daily"?"bg-green-100 text-green-800":m.installmentType==="Weekly"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:m.installmentType})}),l.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200 font-medium",children:["",m.installmentAmount]}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:m.totalInstallments}),l.jsx("td",{className:"px-4 py-3 text-sm text-green-600 border-r border-gray-200 font-medium",children:m.paidInstallments}),l.jsx("td",{className:"px-4 py-3 text-sm text-orange-600 border-r border-gray-200 font-medium",children:m.remainingInstallments}),l.jsx("td",{className:"px-4 py-3 text-sm border-r border-gray-200 font-bold",children:l.jsxs("span",{className:m.dueAmount>0?"text-red-600":"text-green-600",children:["",m.dueAmount]})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:l.jsx("div",{className:"max-w-xs",children:m.products.map((x,y)=>l.jsx("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded mb-1 inline-block mr-1",children:x},y))})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r border-gray-200",children:new Date(m.lastPayment).toLocaleDateString("en-US")}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.dueAmount>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:m.dueAmount>0?"Due":"Paid"})})]},m.id))})]})})]})]})},vK=()=>{const[e,t]=b.useState(kn()),[n,r]=b.useState(null),[i,o]=b.useState(!0),[u,f]=b.useState(!1),h=async(N=e)=>{try{o(!0),console.log(` Fetching daily collection for date: ${N}`);try{const C=await ic.getDailyCollection(N);if(C.success&&C.data){const{summary:T,collectors:k}=C.data,D={date:N,totalCollection:T.totalCollection||0,activeCollectors:k.length,collectors:k.map(P=>({id:P.id,name:P.name,totalCollection:P.totalCollection||0,totalMembers:P.totalMembers||0,branches:P.branches||[],branchCount:P.branchCount||0,lastUpdated:P.lastUpdated})),lastUpdated:C.data.lastUpdated};r(D),o(!1),console.log(" Using backend API data");return}}catch(C){console.log(" Backend API failed, falling back to manual calculation:",C.message)}const S=new Date(N).toISOString().split("T")[0];console.log(` Target date string: ${S}`);const A=await qo.getAll({limit:100,isActive:"true",role:"collector"});if(A.success&&A.data){const T=A.data.filter(G=>G.role==="collector"&&G.isActive&&G.email);console.log(` Found ${T.length} active collectors`);let k=[];try{const G=await ka.getAll();G.success&&G.data&&(k=G.data)}catch(G){console.error("Error loading branches:",G)}const D=new Map,P=new Map;for(const G of T){let ge=[];G.branches&&G.branches.length>0?ge=G.branches:G.assignedBranches&&G.assignedBranches.length>0?ge=G.assignedBranches:ge=k.filter(re=>re.assignedCollector===G._id||re.collectorId===G._id||re.collector===G._id);for(const K of ge){const re=K.branchCode||K.code;if(re&&!D.has(re))try{const he=await pn.getAll({branchCode:re,limit:1e3});he.success&&he.data&&(D.set(re,he.data),he.data.forEach(De=>{P.set(De._id,G._id)}))}catch(he){console.error(`Error loading members for branch ${re}:`,he)}else re&&D.has(re)&&D.get(re).forEach(De=>{P.set(De._id,G._id)})}}console.log(` Loaded ${D.size} branches with members`);let M=[];try{const G=await fr.getAll({limit:1e4});G.success&&G.data&&(M=G.data)}catch(G){console.error("Error loading installments:",G)}console.log(` Found ${M.length} total installments in database`);const I=M.filter(G=>{if(G.status!=="collected"&&G.status!=="partial"||!G.collectionDate)return!1;const K=new Date(G.collectionDate).toISOString().split("T")[0],re=K===S;return(G.status==="collected"||G.status==="partial")&&console.log(re?` MATCH: Collected on ${K} = ${S}`:` SKIP: Collected on ${K}, looking for ${S}`),re});console.log(` ${I.length} installments were actually collected on ${S}`);const R=new Map;I.forEach(G=>{const ge=G.member?._id||G.member,K=P.get(ge);if(K){R.has(K)||R.set(K,{totalCollection:0,collectedMembers:new Set});const re=R.get(K);let he=0,De=!1;if(G.paymentHistory&&G.paymentHistory.length>0){const ue=G.paymentHistory.filter(be=>be.date?new Date(be.date).toISOString().split("T")[0]===S:!1);ue.length>0&&(he=ue.reduce((be,Ce)=>be+(Ce.amount||0),0),De=!0,console.log(` [Manual] Installment ${G._id}: ${ue.length} payments today = ${he}`))}De||(he=G.lastPaymentAmount!=null&&G.lastPaymentAmount>0?G.lastPaymentAmount:G.paidAmount!=null&&G.paidAmount>0?G.paidAmount:G.amount||0);const $=G.note||"",le=G.installmentType,z=$.toLowerCase();z.includes("product sale:")&&z.includes("saleid:")?console.log("   Skipped Product Sale (loan disbursement)"):z.includes("savings collection")&&z.includes("product sale:")?console.log("   Skipped Savings from Product Sale (collected during product sale)"):z.includes("initial savings")?console.log("   Skipped Initial Savings (member registration)"):(re.totalCollection+=he,re.collectedMembers.add(ge),z.includes("savings")||le==="savings"?console.log(`   Collector ${K}: +${he} (Savings)`):console.log(`   Collector ${K}: +${he} (Loan/Regular)`))}});const H=T.map(G=>{const ge=G._id||G.id,K=R.get(ge)||{totalCollection:0,collectedMembers:new Set};let re=[];G.branches&&G.branches.length>0?re=G.branches:G.assignedBranches&&G.assignedBranches.length>0?re=G.assignedBranches:re=k.filter($=>$.assignedCollector===ge||$.collectorId===ge||$.collector===ge);let he=0;re.forEach($=>{const le=$.branchCode||$.code,z=D.get(le)||[];he+=z.length});const De=K.totalCollection>0;return{id:ge,name:G.name,totalCollection:K.totalCollection,totalMembers:he,todayMembers:K.collectedMembers.size,assignedMembers:he,branches:re.map($=>$.name||$.branchName).filter(Boolean),branchCount:re.length,lastUpdated:De?new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):null}}),V=H.reduce((G,ge)=>G+ge.totalCollection,0),F=H.reduce((G,ge)=>G+ge.totalMembers,0);console.log(` Total Collection for ${S}: ${V}`),H.forEach(G=>{console.log(`Collector ${G.name}: ${G.branchCount} branches, branches array:`,G.branches)});const X={date:N,totalCollection:V,activeCollectors:H.length,collectors:H,lastUpdated:new Date().toISOString()};r(X)}else r(null)}catch(j){console.error("Error in fetchDailyCollection:",j),de.error(`Error loading collection data: ${j.message}`),r(null)}finally{o(!1)}},m=async()=>{f(!0),await h(),f(!1),de.success("Data refreshed successfully")},g=N=>{t(N),h(N)};b.useEffect(()=>{h()},[]);const x=[{id:1,name:"Rahim",branches:[{code:"B001",name:"Dhaka Branch",members:[{name:"Abdul Karim",dueAmount:150},{name:"Fatema Khatun",dueAmount:200},{name:"Nasir Uddin",dueAmount:150}]},{code:"B002",name:"Gulshan Branch",members:[{name:"Salma Begum",dueAmount:180},{name:"Rasheda Begum",dueAmount:150},{name:"Kamal Hossain",dueAmount:220}]}]},{id:2,name:"Karim",branches:[{code:"B003",name:"Mirpur Branch",members:[{name:"Rokeya Khatun",dueAmount:150},{name:"Abdur Rahim",dueAmount:500}]},{code:"B004",name:"Uttara Branch",members:[{name:"Sumaiya Akter",dueAmount:150},{name:"Alamgir Hossain",dueAmount:190}]}]}],y=()=>{let N=0,j=0;const S=[];return x.forEach(A=>{let C=0,T=0;const k=[];A.branches.forEach(D=>{k.push(D.name),D.members.forEach(P=>{C+=P.dueAmount,T+=1})}),N+=C,j+=T,S.push({id:A.id,name:A.name,amount:C,members:T,branches:k,branchCount:A.branches.length,lastUpdated:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})}),{totalCollection:N,totalMembers:j,collectedMembers:j,pendingMembers:0,collectors:S}};let w;if(n)w={summary:{totalCollection:n.totalCollection||0,totalMembers:n.collectors?.reduce((N,j)=>N+(j.totalMembers||0),0)||0,activeCollectors:n.activeCollectors||0,targetCollection:5e3,collectionPercentage:0},collectors:n.collectors||[],date:n.date||e,lastUpdated:n.lastUpdated||new Date().toISOString()};else if(i)w={summary:{totalCollection:0,totalMembers:0,activeCollectors:0,targetCollection:5e3,collectionPercentage:0},collectors:[],date:e,lastUpdated:new Date().toISOString()};else{const N=y();w={summary:{totalCollection:N.totalCollection,totalMembers:N.totalMembers,activeCollectors:N.collectors.length,targetCollection:2e3,collectionPercentage:Math.round(N.totalCollection/2e3*100)},collectors:N.collectors,date:e,lastUpdated:new Date().toISOString()}}return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"Select Date"]}),l.jsx("input",{type:"date",value:e,onChange:N=>g(N.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",disabled:i})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[l.jsx(Da,{className:"h-4 w-4 inline mr-1"}),"Last updated: ",lA(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:m,disabled:u,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2",children:[l.jsx(Ma,{className:`h-4 w-4 ${u?"animate-spin":""}`}),l.jsx("span",{children:u?"Refreshing...":"Refresh"})]}),l.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2",children:[l.jsx(lc,{className:"h-4 w-4"}),l.jsx("span",{children:"Export Report"})]})]})]})}),i&&l.jsxs("div",{className:"flex justify-center items-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading collection data..."})]}),!i&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl shadow-lg p-8 text-white max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("p",{className:"text-sm opacity-80 mb-1",children:"Collection Date"}),l.jsx("p",{className:"text-xl font-semibold",children:new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Total Collection"}),l.jsxs("p",{className:"text-6xl font-bold",children:["",w.summary.totalCollection.toLocaleString()]}),l.jsxs("p",{className:"text-sm opacity-80 mt-3",children:[w.collectors.filter(N=>N.totalCollection>0).length," of ",w.summary.activeCollectors," collectors collected today"]})]}),l.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full ml-6",children:l.jsx(Vn,{className:"h-12 w-12"})})]})]})}),!i&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Collectors Performance"}),l.jsxs("div",{className:"text-sm text-gray-500",children:[w.summary.activeCollectors," Active Collectors"]})]}),w.collectors.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsxs("p",{className:"text-gray-500",children:["No collection data available for ",e]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.collectors.map(N=>{const j=(N.totalCollection||0)>0;return l.jsxs("div",{className:`rounded-xl p-5 border-2 transition-all ${j?"bg-gradient-to-br from-green-50 to-green-100 border-green-300 shadow-md":"bg-gray-50 border-gray-200"}`,children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`p-2 rounded-full ${j?"bg-green-500":"bg-gray-400"}`,children:l.jsx(Vt,{className:"h-5 w-5 text-white"})}),l.jsx("div",{children:l.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:N.name})})]})}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Today's Collection"}),l.jsxs("p",{className:`text-3xl font-bold ${j?"text-green-600":"text-gray-400"}`,children:["",(N.totalCollection||0).toLocaleString()]}),j&&N.lastUpdated&&l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",N.lastUpdated]})]})})]},N.id)})})]})]})})},bK=()=>{const[e,t]=b.useState(kn()),[n,r]=b.useState(null),[i,o]=b.useState(!0),[u,f]=b.useState(!1),h=async(y=e)=>{try{o(!0),console.log(` Fetching daily savings for date: ${y}`);const w=await ic.getDailySavings(y);if(w.success&&w.data){const{summary:N,collectors:j}=w.data,S={date:y,totalSavings:N.totalSavings||0,activeCollectors:j.length,collectorsWithSavings:N.collectorsWithSavings||0,collectors:j.map(A=>({id:A.id,name:A.name,totalSavings:A.totalSavings||0,membersSavedToday:A.membersSavedToday||0,totalMembers:A.totalMembers||0,branches:A.branches||[],branchCount:A.branchCount||0,lastUpdated:A.lastUpdated,savingsTransactions:A.savingsTransactions||0})),lastUpdated:w.data.lastUpdated};r(S),console.log(" Savings data loaded:",S)}o(!1)}catch(w){console.error("Error fetching daily savings:",w),de.error("Failed to load savings data"),o(!1)}};b.useEffect(()=>{h(e)},[e]);const m=y=>{t(y.target.value)},g=async()=>{f(!0),await h(e),f(!1),de.success("Savings data refreshed!")},x=n||{date:e,totalSavings:0,activeCollectors:0,collectorsWithSavings:0,collectors:[]};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:[l.jsx("div",{className:"mb-6 sm:mb-8",children:l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:"flex items-center bg-white rounded-lg shadow-sm border px-2 sm:px-4 py-2",children:[l.jsx(Tn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-500 mr-1 sm:mr-2"}),l.jsx("input",{type:"date",value:e,onChange:m,className:"border-none focus:outline-none focus:ring-0 text-gray-700 font-medium text-sm sm:text-base w-32 sm:w-auto"})]}),l.jsxs("button",{onClick:g,disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-6 py-2 rounded-lg font-medium transition-all flex items-center space-x-1 sm:space-x-2 disabled:opacity-50 text-sm sm:text-base",children:[l.jsx(Ma,{className:`h-4 w-4 sm:h-5 sm:w-5 ${u?"animate-spin":""}`}),l.jsx("span",{className:"hidden sm:inline",children:u?"Refreshing...":"Refresh"})]})]})})}),i&&l.jsx("div",{className:"flex items-center justify-center py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ma,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Loading savings data..."})]})}),!i&&l.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl shadow-2xl p-8 mb-8 text-white",children:l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(Tn,{className:"h-5 w-5"}),l.jsx("p",{className:"text-lg opacity-90",children:new Date(x.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Total Savings Collected"}),l.jsxs("p",{className:"text-6xl font-bold",children:["",x.totalSavings.toLocaleString()]}),l.jsxs("p",{className:"text-sm opacity-80 mt-3",children:[x.collectorsWithSavings," of ",x.activeCollectors," collectors collected savings today"]})]}),l.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full ml-6",children:l.jsx(Sl,{className:"h-12 w-12"})})]})]})}),!i&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Collectors Savings Performance"}),l.jsxs("div",{className:"text-sm text-gray-500",children:[x.activeCollectors," Active Collectors"]})]}),x.collectors.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsxs("p",{className:"text-gray-500",children:["No savings data available for ",e]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.collectors.map(y=>{const w=(y.totalSavings||0)>0;return l.jsxs("div",{className:`rounded-xl p-5 border-2 transition-all ${w?"bg-gradient-to-br from-blue-50 to-purple-100 border-blue-300 shadow-md":"bg-gray-50 border-gray-200"}`,children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`p-2 rounded-full ${w?"bg-blue-500":"bg-gray-400"}`,children:l.jsx(Vt,{className:"h-5 w-5 text-white"})}),l.jsx("div",{children:l.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:y.name})})]})}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Today's Savings"}),l.jsxs("p",{className:`text-3xl font-bold ${w?"text-blue-600":"text-gray-400"}`,children:["",(y.totalSavings||0).toLocaleString()]}),w&&y.lastUpdated&&l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",new Date(y.lastUpdated).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]})})]},y.id)})})]})]})})},wK=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!1),[i,o]=b.useState(null),[u,f]=b.useState(null),h=b.useRef(!1),m=async(y=!0)=>{r(!0);try{console.log(" Fetching collectors and calculating actual due balances...");const w=await qo.getAll({limit:100,isActive:!0});if(!w.success||!w.data)throw new Error("Failed to fetch collectors");const N=w.data.filter(k=>k.role==="collector");console.log(` Found ${N.length} collectors`);const j=await ka.getAll(),S=j.success?j.data:[],A=kn(),T=(await Promise.all(N.map(async k=>{const D=k._id||k.id;try{const P=await ic.getCollectorDashboard(D,A);if(P.success&&P.data){const M=P.data.dueBalance||0,I=S.filter(R=>R.assignedCollector===D||R.collectorId===D);return console.log(` ${k.name}: Due Balance = ${M}, Branches: ${I.length}`),{id:D,name:k.name,email:k.email||"",branches:I.map(R=>({name:R.name,code:R.branchCode})),branchCount:I.length,totalDue:M,products:[],lastPayment:null,lastUpdated:new Date}}}catch(P){console.error(`Error fetching data for ${k.name}:`,P)}return{id:D,name:k.name,email:k.email||"",branches:[],branchCount:0,totalDue:0,products:[],lastPayment:null,lastUpdated:new Date}}))).filter(k=>k.totalDue>0);T.sort((k,D)=>D.totalDue-k.totalDue),t(T),o(new Date),y&&$e.success(`Due balances loaded! ${T.length} collectors have outstanding dues.`)}catch(w){console.error("Error fetching due amounts:",w),y&&$e.error(w.message||"Failed to load due amounts")}finally{r(!1)}};b.useEffect(()=>{h.current||(h.current=!0,m(!1))},[]);const g=e.reduce((y,w)=>y+w.totalDue,0),x=e.length;return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx(Da,{className:"h-4 w-4 inline mr-1"}),"Last updated: ",i?lA(i).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Not updated yet"]})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:m,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n?l.jsx(fd,{className:"h-4 w-4 animate-spin"}):l.jsx(Ma,{className:"h-4 w-4"}),l.jsx("span",{children:n?"Loading...":"Refresh"})]}),l.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center space-x-2",children:[l.jsx(lc,{className:"h-4 w-4"}),l.jsx("span",{children:"Export Report"})]})]})]})}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl shadow-lg p-8 text-white max-w-md w-full",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-center w-full",children:[l.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Total Due Amount"}),l.jsxs("p",{className:"text-5xl font-bold",children:["",g.toLocaleString()]}),l.jsxs("p",{className:"text-sm opacity-80 mt-2",children:[x," Collectors"]})]}),l.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-full ml-4",children:l.jsx(Zn,{className:"h-10 w-10"})})]})})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Collectors Due Details"}),l.jsxs("div",{className:"text-sm text-gray-500",children:[x," Collectors with Outstanding Dues"]})]}),n?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(fd,{className:"h-8 w-8 animate-spin text-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading due amounts..."})]}):e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-600",children:"No collectors with outstanding dues found."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>{const w=y.totalDue>0;return l.jsxs("div",{className:`rounded-xl p-6 border-2 transition-all ${w?"bg-gradient-to-br from-red-50 to-orange-50 border-red-300 shadow-md":"bg-gray-50 border-gray-200"}`,children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`p-2 rounded-full ${w?"bg-red-500":"bg-gray-400"}`,children:l.jsx(Vt,{className:"h-5 w-5 text-white"})}),l.jsx("div",{children:l.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:y.name})})]})}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Due Amount"}),l.jsxs("p",{className:`text-4xl font-bold ${w?"text-red-600":"text-gray-400"}`,children:["",y.totalDue.toLocaleString()]})]})}),w&&y.branches.length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-red-200",children:[l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Branches:"}),l.jsx("p",{className:"text-sm text-gray-700",children:y.branches.map(N=>N.name).join(", ")})]}),w&&l.jsx("div",{className:"mt-4",children:l.jsxs("button",{onClick:()=>{f(u===y.id?null:y.id),$e.info("Date-wise breakdown coming soon!")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center space-x-2",children:[l.jsx("span",{children:"View Details"}),u===y.id?l.jsx(LP,{className:"h-4 w-4"}):l.jsx(_P,{className:"h-4 w-4"})]})})]},y.id)})})]})]})})},jK=()=>{const{id:e}=I5(),t=ji(),[n,r]=b.useState(null),[i,o]=b.useState(!0),[u,f]=b.useState([]),[h,m]=b.useState(!0),[g,x]=b.useState("all"),[y,w]=b.useState([]);return b.useEffect(()=>{const N=document.createElement("style");return N.innerHTML=`
      @media print {
        @page { size: legal landscape; margin: 0.5in; }
        body * { visibility: hidden; }
        #printable-area, #printable-area * { visibility: visible; }
        #printable-area { position: absolute; left: 0; top: 0; width: 100%; }
        .no-print { display: none !important; }
        .print-full-width { width: 100% !important; max-width: 100% !important; }
        table { page-break-inside: auto; }
        tr { page-break-inside: avoid; page-break-after: auto; }
        thead { display: table-header-group; }
      }
    `,document.head.appendChild(N),()=>document.head.removeChild(N)},[]),b.useEffect(()=>{e&&(async()=>{try{o(!0);const j=await pn.getById(e);j.success?r(j.data):(de.error("Failed to load member"),t("/members"))}catch(j){console.error("Error:",j),de.error("Error loading member"),t("/members")}finally{o(!1)}})()},[e,t]),b.useEffect(()=>{e&&(async()=>{try{m(!0);const j=await fr.getByMember(e);if(j.success&&j.data){console.log(" Raw Response Data:",j.data.length,"installments");const S={};j.data.forEach(M=>{const R=(M.note||"").match(/Installment (\d+)\/\d+/);if(R){const H=R[1];S[H]||(S[H]=[]),S[H].push({amount:M.amount,date:M.collectionDate,isAuto:M.isAutoApplied,receipt:M.receiptNumber})}}),console.log(" Installment Collections Count:"),Object.keys(S).forEach(M=>{S[M].length>1&&console.log(`   Installment #${M}: ${S[M].length} collections`,S[M])});let A=null;try{A=await fr.getCollectionHistory(e),A.success&&A.data&&console.log(" Fetched",A.data.length,"collection history records")}catch{console.log(" No collection history available (this is normal for older data)")}window.rawLoanData=j.data,window.collectionHistoryData=A?.data||[];const C=[],T=[];j.data.forEach(M=>{const I=M.note||"";if(M.isAutoApplied&&!M.receiptNumber){console.log(" Skipping auto-applied installment:",{note:I.substring(0,60),amount:M.amount,paid:M.paidAmount});return}I.toLowerCase().includes("savings collection")||I.toLowerCase().includes("savings withdrawal")||I.toLowerCase().includes("initial savings")||M.installmentType==="savings"?C.push(M):T.push(M)}),window.memberSavingsData=C;const k=[...C,...T].sort((M,I)=>new Date(M.dueDate||M.collectionDate)-new Date(I.dueDate||I.collectionDate));f(k);const D=new Map;k.forEach(M=>{if(M.distributionId){const I=M.distributionId.toString();if(!D.has(I)){const R=M.note||"";let H="";if(R.includes("Product Loan:")){console.log(" Processing LOAN note for saleId",I.slice(-6),":",R.substring(0,100));const V=[/Product Loan: ([^-]+)/,/Product Loan:\s*([^\n]+)/];for(const F of V){const X=R.match(F);if(X&&X[1]){H=X[1].trim().split("-")[0].trim(),console.log(" Product name extracted:",H);break}}H&&(D.set(I,{id:I,productName:H,shortId:I.slice(-6)}),console.log(" Added to salesMap:",I.slice(-6),"",H))}}}}),console.log(" Total products found:",D.size);const P=Array.from(D.values()).sort((M,I)=>M.id.localeCompare(I.id));w(P),P.length>0?x(P[0].id):x("savings")}}catch(j){console.error("Error:",j),de.error("Failed to load loan history")}finally{m(!1)}})()},[e]),i?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}):n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between no-print",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>t("/members"),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(Ni,{className:"h-5 w-5 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Member Profile"}),l.jsxs("p",{className:"text-gray-600",children:["ID: #",(n._id||n.id).toString().slice(-6)]})]})]}),l.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg",children:[l.jsx(nA,{className:"h-4 w-4 mr-2"}),"Print"]})]}),l.jsxs("div",{id:"printable-area",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 print-full-width",children:l.jsxs("div",{className:"flex gap-6",children:[l.jsx("div",{className:"flex-shrink-0",children:n.profileImage?l.jsx("img",{src:Py(n.profileImage),alt:n.name,className:"w-24 h-32 rounded-lg object-cover border-3 border-blue-300",style:{objectPosition:"center top"},onError:N=>{console.error("Error loading image:",N.target.src),N.target.src="https://via.placeholder.com/150?text=No+Image"}}):l.jsx("div",{className:"w-24 h-32 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Vt,{className:"h-12 w-12 text-blue-600"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.name}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Nl,{className:"h-5 w-5 text-gray-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),l.jsx("p",{className:"font-medium text-gray-900",children:n.phone||"N/A"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(os,{className:"h-5 w-5 text-gray-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),l.jsx("p",{className:"font-medium text-gray-900",children:n.address||"N/A"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Tn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Join Date"}),l.jsx("p",{className:"font-medium text-gray-900",children:n.joinDate?new Date(n.joinDate).toLocaleDateString("en-US"):"N/A"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Sl,{className:"h-5 w-5 text-gray-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Branch"}),l.jsx("p",{className:"font-medium text-gray-900",children:n.branch||"N/A"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Tn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Current Filter"}),l.jsx("p",{className:"font-medium text-gray-900",children:g==="savings"?" Savings":y.length>0?`Dofa ${y.findIndex(N=>N.id===g)+1}`:"N/A"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Tn,{className:"h-5 w-5 text-gray-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),l.jsx("p",{className:"font-medium text-gray-900",children:y.length>0?`${y.length} Dofa`:"No Sales"})]})]})]})]})]})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden print-full-width mt-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 px-6 py-4 print:bg-gray-100",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Sl,{className:"h-6 w-6 text-white print:text-gray-900"}),l.jsx("h3",{className:"text-xl font-bold text-white print:text-gray-900",children:y.length>0?"Loan & Savings History":"Savings History"})]}),y.length>0&&l.jsx("select",{value:g,onChange:N=>x(N.target.value),className:"no-print px-4 py-2 rounded-lg border-2 border-white/30 bg-white/10 text-white font-semibold focus:outline-none focus:ring-2 focus:ring-white/50",children:y.map((N,j)=>l.jsxs("option",{value:N.id,className:"text-gray-900",children:[N.productName," (Dofa ",j+1,")"]},N.id))})]})}),h?l.jsxs("div",{className:"flex justify-center items-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}):l.jsx("div",{className:"p-4",children:(()=>{const N=window.memberSavingsData||[],j=y.length>0;if(console.log(" Rendering History - Has Products:",j,"Selected:",g),!j){console.log(" Showing ONLY Savings (no products)");let O=0;const U=N.filter(L=>!L.note?.includes("Product Sale:")).sort((L,ee)=>new Date(L.collectionDate||L.dueDate)-new Date(ee.collectionDate||ee.dueDate)).map((L,ee)=>{const q=new Date(L.collectionDate||L.dueDate).toLocaleDateString("en-GB"),ie=L.note?.toLowerCase().includes("withdrawal"),B=L.paidAmount||L.amount||0,W=ie?0:B,xe=ie?B:0;O+=W-xe;const Z=ee%2===0?"bg-white":"bg-gray-50";return l.jsxs("tr",{className:`${Z} hover:bg-blue-50 transition-colors`,children:[l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:q}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-green-600 border border-gray-800",children:W>0?`${W.toLocaleString()}`:"-"}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-red-600 border border-gray-800",children:xe>0?`${xe.toLocaleString()}`:"-"}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-blue-600 border border-gray-800",children:["",O.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:L.collector?.name||L.collectorName||"N/A"})]},`sav-${ee}`)});return U.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),"No savings history found"]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border-collapse border border-gray-800",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Date"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings In"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Out"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Balance"}),l.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Field Officer"})]})}),l.jsx("tbody",{className:"bg-white",children:U})]})})}console.log(" Showing Loan + Savings for product:",g);const S=u.filter(O=>{const U=O.note?.includes("Product Loan:"),L=O.distributionId?.toString()===g;return U&&L}),A=O=>{const L=(window.collectionHistoryData||[]).filter(B=>B.distributionId===O);if(L.length===0)return!1;const te=L.sort((B,W)=>new Date(W.collectionDate)-new Date(B.collectionDate))[0];return parseFloat(te.outstanding||te.outstandingAfterCollection||0)<=.1},C=S.map(O=>({status:O.status,paidAmount:O.paidAmount,amount:O.amount,note:O.note?.substring(0,50)}));console.log(" All product installments:",JSON.stringify(C,null,2));const T=S.filter(O=>O.status==="collected"||O.status==="paid"||O.status==="partial");console.log(` Found ${T.length} collected installments for product`);const D=(window.rawLoanData||[]).filter(O=>O.distributionId?.toString()===g&&O.note?.includes("Product Loan:")),P=D.reduce((O,U)=>O+(U.amount||0),0);let M=P;console.log(" Total Loan Amount (from raw data):",P,"installments:",D.length);const I=[];if(S.length>0){const U=[...S].sort((te,q)=>new Date(te.dueDate)-new Date(q.dueDate))[0],ee=new Date(U.saleDate||U.dueDate||U.collectionDate).toLocaleDateString("en-GB");I.push(l.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100 transition-colors",children:[l.jsx("td",{className:"px-3 py-3 text-sm font-bold text-gray-900 border border-gray-800",children:ee}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-bold text-purple-600 border border-gray-800",children:["",P.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:"Product Sale"})]},"product-sale"))}const H=(window.collectionHistoryData||[]).filter(O=>O.distributionId!==g||O.note&&O.note.includes("Product Sale:")||O.note&&O.note.includes("Savings Collection")||O.note&&O.note.includes("Savings Withdrawal")?!1:O.note&&O.note.includes("Product Loan:"));console.log(` Found ${H.length} LOAN collection history records for product ${g}`),H.length>0?H.sort((O,U)=>new Date(O.collectionDate)-new Date(U.collectionDate)).forEach((O,U)=>{const ee=new Date(O.collectionDate).toLocaleDateString("en-GB"),te=O.installmentTarget||0,q=O.collectionAmount||0,ie=O.installmentDue||0,B=O.outstandingAfterCollection||0,W=(U+1)%2===0?"bg-white":"bg-gray-50",xe=O.collector?.name||"N/A";console.log(` Collection #${U+1}: Date=${ee}, Collection=${q}, Outstanding=${B}`),I.push(l.jsxs("tr",{className:`${W} hover:bg-blue-50 transition-colors`,children:[l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:ee}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:["",te.toLocaleString()]}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-green-600 border border-gray-800",children:["",q.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-orange-600 border border-gray-800",children:ie>0?`${ie.toLocaleString()}`:"-"}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-purple-600 border border-gray-800",children:["",B.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:xe})]},`collection-${O._id||U}`))}):(console.log(" No collection history found, using fallback method (installments)"),T.sort((O,U)=>new Date(O.collectionDate)-new Date(U.collectionDate)).forEach((O,U)=>{const ee=new Date(O.collectionDate).toLocaleDateString("en-GB"),te=O.amount||0,q=O.lastPaymentAmount||O.paidAmount||0;console.log(` Row ${U+1}: Date=${ee}, Collection=${q}, Target=${te}`);const ie=O.remainingAmount!==void 0?O.remainingAmount:Math.max(0,te-q);M-=q;const B=Math.max(0,M),W=(U+1)%2===0?"bg-white":"bg-gray-50",xe=O.collector?.name||O.collectorName||"N/A";I.push(l.jsxs("tr",{className:`${W} hover:bg-blue-50 transition-colors`,children:[l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:ee}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:["",te.toLocaleString()]}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-green-600 border border-gray-800",children:["",q.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-orange-600 border border-gray-800",children:ie>0?`${ie.toLocaleString()}`:"-"}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-purple-600 border border-gray-800",children:["",B.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:xe})]},`loan-${O._id||U}`))}));const V=N.filter(O=>{if(!(O.installmentType==="extra"||O.installmentType==="savings")||!O.note)return!1;const U=O.note.includes("Savings Collection"),L=O.note.includes("Savings Withdrawal"),ee=O.note.includes("Initial Savings"),te=O.note.match(/Product Sale:.+\(Qty:.+\|/);return(U||L||ee)&&!te});console.log(" Total valid savings records found:",V.length),console.log(" ALL Valid Savings Records:"),V.forEach((O,U)=>{const L=O.paidAmount||O.amount||0,ee=O.distributionId?`SALE-${O.distributionId.toString().slice(-6)}`:"NO_DIST_ID",te=O.installmentId?O.installmentId.toString().slice(-6):"NO_INST_ID";console.log(`   [${U+1}] ${L} | DistID: ${ee} | InstID: ${te} | Note: ${O.note?.substring(0,60)}`)});let F=[];const X=V.filter(O=>O.distributionId&&O.distributionId.toString()===g?(console.log(`    Direct match by distributionId: ${O.note?.substring(0,50)}`),!0):O.installmentId&&S.some(L=>L._id===O.installmentId)?(console.log(`    Match by installmentId: ${O.note?.substring(0,50)}`),!0):!1);F.push(...X),console.log(` Found ${X.length} direct savings for product ${g.slice(-6)}`);const ge=y.find(O=>O.id===g)?.productName||"",K=y.findIndex(O=>O.id===g);if(K===0){const O=V.filter(U=>F.some(ee=>ee._id===U._id)?!1:!U.distributionId&&U.note?.includes("Initial Savings")?(console.log(`    Initial Savings (added to 1st product): ${U.note?.substring(0,50)}`),!0):!1);F.push(...O),console.log(` Added ${O.length} Initial Savings to first product`)}const re=A(g);re&&K>0&&(console.log(" Checking for previous completed products' savings to include..."),y.slice(0,K).forEach((U,L)=>{if(A(U.id)){console.log(`    Previous completed product [${L}]: ${U.productName}`);const te=V.filter(q=>{if(F.some(B=>B._id===q._id))return!1;if(q.distributionId&&q.distributionId.toString()===U.id)return!0;const ie=u.filter(B=>B.distributionId?.toString()===U.id&&B.note?.includes("Product Loan:"));return!!(q.installmentId&&ie.some(B=>B._id===q.installmentId)||L===0&&!q.distributionId&&q.note?.includes("Initial Savings"))});te.length>0&&(F.push(...te),console.log(`       Added ${te.length} savings from completed product: ${U.productName}`))}}),console.log(` Total savings after including previous completed products: ${F.length}`));const he=y.filter(O=>!A(O.id)),De=he.length>0?he[0]:null,$=De&&De.id===g;if(console.log(`   Current Product: ${ge}, Index: ${K}`),console.log(`   Is First Active Product: ${$}`),console.log(`   First Active Product: ${De?.productName||"None"}`),console.log(" DEBUG - All products status:"),y.forEach((O,U)=>{const L=A(O.id);console.log(`   [${U}] ${O.productName}: ${L?" COMPLETED":" ACTIVE (incomplete)"}`)}),console.log(` DEBUG - Active products: ${he.map(O=>O.productName).join(", ")}`),console.log(` DEBUG - First active product: ${De?.productName||"None"}`),$){console.log("    This is First Active Product - adding unmatched savings...");const O=V.filter(L=>F.some(te=>te._id===L._id)||he.some(te=>{if(L.distributionId&&L.distributionId.toString()===te.id)return console.log(`       Skipping - belongs to active product: ${te.productName}`),!0;const q=u.filter(ie=>ie.distributionId?.toString()===te.id&&ie.note?.includes("Product Loan:"));return L.installmentId&&q.some(ie=>ie._id===L.installmentId)?(console.log(`       Skipping - belongs to active product: ${te.productName}`),!0):!1})?!1:(console.log(`       Unmatched savings (not from any active product): ${L.note?.substring(0,50)}`),!0));F.push(...O),console.log(`    Added ${O.length} unmatched savings to First Active Product`);const U=y.filter(L=>A(L.id));console.log(`    Found ${U.length} completed products for transfer`),U.forEach(L=>{const ee=V.filter(te=>{if(F.some(ie=>ie._id===te._id))return!1;if(te.distributionId&&te.distributionId.toString()===L.id)return console.log(`          Match by distributionId for ${L.productName}`),!0;const q=u.filter(ie=>ie.distributionId?.toString()===L.id);return te.installmentId&&q.some(ie=>ie._id===te.installmentId)?(console.log(`          Match by installmentId for ${L.productName}`),!0):!te.distributionId&&te.note&&L.productName&&te.note.includes(L.productName)?(console.log(`          Match by name for ${L.productName}`),!0):!1});ee.length>0?(console.log(`       Transferring ${ee.length} savings from completed: ${L.productName}`),F.push(...ee)):console.log(`       No savings found for completed product: ${L.productName}`)})}console.log(` Total savings for ${ge}: ${F.length} records`);const le=[],z=[];F.forEach(O=>{O.distributionId&&O.distributionId.toString()===g||O.installmentId&&S.some(L=>L._id===O.installmentId)?le.push(O):z.push(O)}),console.log(` Direct savings: ${le.length}, Inherited/Transferred: ${z.length}`);let ue=[];re?(ue=F.sort((O,U)=>new Date(O.collectionDate||O.dueDate)-new Date(U.collectionDate||U.dueDate)),console.log(` COMPLETED Product - Showing historical snapshot: ${ue.length} savings records`)):(ue=F.filter(O=>O.distributionId&&O.distributionId.toString()===g||O.installmentId&&S.some(U=>U._id===O.installmentId)||!O.distributionId&&O.note?.includes("Initial Savings")&&K===0).sort((O,U)=>new Date(O.collectionDate||O.dueDate)-new Date(U.collectionDate||U.dueDate)),console.log(` ACTIVE Product - Showing direct savings: ${ue.length} savings records (includes Initial Savings if first product)`));let be=0;if(K>0||z.length>0){const O=F.filter(U=>!(U.distributionId&&U.distributionId.toString()===g||U.installmentId&&S.some(ee=>ee._id===U.installmentId)||!U.distributionId&&U.note?.includes("Initial Savings")&&K===0));O.forEach(U=>{const L=U.note?.toLowerCase().includes("withdrawal"),ee=U.paidAmount||U.amount||0;be+=L?-ee:ee}),console.log(` Opening balance from transferred savings: ${be} (${O.length} previous transactions)`),re&&be!==0&&(ue=F.filter(U=>U.distributionId&&U.distributionId.toString()===g||U.installmentId&&S.some(L=>L._id===U.installmentId)||!U.distributionId&&U.note?.includes("Initial Savings")&&K===0).sort((U,L)=>new Date(U.collectionDate||U.dueDate)-new Date(L.collectionDate||L.dueDate)),console.log(`    Filtered to show only direct savings: ${ue.length} records (opening balance will be shown separately)`))}const Ce=[];let J=be;if(be!==0&&Ce.push(l.jsxs("tr",{className:"bg-blue-50 hover:bg-blue-100 transition-colors",children:[l.jsx("td",{className:"px-3 py-3 text-sm font-bold text-gray-900 border border-gray-800",children:"-"}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-gray-900 border border-gray-800",children:"-"}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-bold text-blue-600 border border-gray-800",children:["",be.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:"Opening Balance (Transferred)"})]},"opening-balance")),ue.forEach((O,U)=>{const ee=new Date(O.collectionDate||O.dueDate).toLocaleDateString("en-GB"),te=O.note?.toLowerCase().includes("withdrawal"),q=O.paidAmount||O.amount||0,ie=te?0:q,B=te?q:0;J+=ie-B;const W=(U+(be!==0?1:0))%2===0?"bg-white":"bg-gray-50";Ce.push(l.jsxs("tr",{className:`${W} hover:bg-blue-50 transition-colors`,children:[l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:ee}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-green-600 border border-gray-800",children:ie>0?`${ie.toLocaleString()}`:"-"}),l.jsx("td",{className:"px-3 py-3 text-sm text-right font-medium text-red-600 border border-gray-800",children:B>0?`${B.toLocaleString()}`:"-"}),l.jsxs("td",{className:"px-3 py-3 text-sm text-right font-semibold text-blue-600 border border-gray-800",children:["",J.toLocaleString()]}),l.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 border border-gray-800",children:O.collector?.name||O.collectorName||"N/A"})]},`sav-${O._id||U}`))}),console.log(` Final savings balance for ${ge}: ${J}`),re&&J!==0){const O=J<0?"Note: This product is completed. Historical transactions shown. Final savings transferred to active products.":`Note: This product is completed. Final balance of ${J.toLocaleString()} transferred to active products.`;console.log(`    ${O}`)}return l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[l.jsx("span",{className:"mr-2",children:""})," Loan History"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border-collapse border border-gray-800",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Date"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Target"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Collection"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Due"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Outstanding"}),l.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Field Officer"})]})}),l.jsx("tbody",{className:"bg-white",children:I})]})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[l.jsx("span",{className:"mr-2",children:""})," Savings History"]}),Ce.length>0?l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full border-collapse border border-gray-800",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Date"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings In"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Out"}),l.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Savings Balance"}),l.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase border border-gray-800",children:"Field Officer"})]})}),l.jsx("tbody",{className:"bg-white",children:Ce})]}),re&&J<0&&l.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-800",children:[l.jsx(Zn,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("strong",{children:" Completed Product:"})," This product's loan is fully paid. Historical transactions shown above. Any remaining positive balance has been transferred to active products. Negative balance indicates withdrawals were made using transferred savings from other products."]})]})})]}):l.jsxs("div",{className:"text-center py-12 text-gray-500 border border-gray-200 rounded-lg bg-gray-50",children:[l.jsx(Zn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),"No savings history for this product"]})]})]})})})()})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Member not found"}),l.jsx("button",{onClick:()=>t("/members"),className:"text-blue-600 hover:text-blue-700",children:"Back to Members"})]})})},NK=()=>{const e=ji(),t=na(),[n,r]=b.useState([]),[i,o]=b.useState([]),[u,f]=b.useState(!0),[h,m]=b.useState(""),[g,x]=b.useState("all"),[y,w]=b.useState(0),N=async()=>{console.log(" fetchPendingInstallments called at:",new Date().toLocaleTimeString()),f(!0);try{const k=new Date;k.setHours(0,0,0,0);const D=Date.now();console.log(" Cache busting timestamp:",D);const P=await fr.getAll({status:"pending",limit:1e3,populate:!0,_t:D});console.log(" Pending response:",{success:P.success,count:P.data?.length||0});const M=await fr.getAll({status:"partial",limit:1e3,populate:!0,_t:D});console.log(" Partial response:",{success:M.success,count:M.data?.length||0});const I=[...P.success?P.data||[]:[],...M.success?M.data||[]:[]];console.log(" Total installments fetched:",I.length);const R=I.filter(F=>{if(!F.member||F.member.isActive===!1)return console.log(" Skipping installment for inactive member:",F.member?.name),!1;const X=F.dueDate||F.collectionDate;if(!X)return!0;const G=new Date(X);return G.setHours(0,0,0,0),G<=k});R.sort((F,X)=>{const G=new Date(F.dueDate||F.collectionDate||new Date),ge=new Date(X.dueDate||X.collectionDate||new Date);return G-ge}),console.log(" Due installments after filtering:",R.length),R.length>0&&console.log(" First few due installments:",R.slice(0,3).map(F=>({member:F.member?.name,amount:F.amount,dueDate:F.dueDate,status:F.status}))),r(R);const H=new Map;R.forEach(F=>{if(!F.member||!F.collector)return;const X=F.collector._id||F.collector.id,G=F.collector.name||"Unknown",ge=F.member._id||F.member.id;H.has(X)||H.set(X,{collector:F.collector,members:new Map});const K=H.get(X);K.members.has(ge)||K.members.set(ge,{member:F.member,installments:[],totalDue:0});const re=K.members.get(ge);re.installments.push(F);const he=F.status==="partial"?F.amount-(F.paidAmount||0):F.amount;re.totalDue+=he});const V=Array.from(H.values()).map(F=>({collector:F.collector,members:Array.from(F.members.values()),totalMembers:F.members.size,totalDue:Array.from(F.members.values()).reduce((X,G)=>X+G.totalDue,0)}));V.sort((F,X)=>X.totalDue-F.totalDue),console.log(" Collector groups created:",V.length),V.forEach(F=>{console.log(`   - ${F.collector.name}: ${F.totalMembers} members, ${F.totalDue}`)}),o(V)}catch(k){console.error("Error fetching pending installments:",k),$e.error("Failed to load pending installments")}finally{f(!1)}};b.useEffect(()=>{console.log(" Location changed - refreshing pending installments"),console.log(" Location key:",t.key,"Pathname:",t.pathname),w(k=>k+1),N()},[t.pathname,t.key]),b.useEffect(()=>{N();const k=()=>{document.hidden||(console.log(" Page became visible, refreshing pending installments..."),N())},D=P=>{console.log(" Installment collected! Refreshing pending list...",P.detail),setTimeout(()=>{w(M=>M+1),N(),$e.success("Pending list updated!",{icon:"",duration:2e3})},1e3)};return document.addEventListener("visibilitychange",k),window.addEventListener("installmentCollected",D),window.addEventListener("dashboardReload",D),()=>{document.removeEventListener("visibilitychange",k),window.removeEventListener("installmentCollected",D),window.removeEventListener("dashboardReload",D)}},[]);const j=i.filter(k=>{if(g!=="all"){const D=k.collector._id||k.collector.id;if(String(D)!==String(g))return!1}return h?k.members.filter(P=>{const M=P.member;return M.name?.toLowerCase().includes(h.toLowerCase())||M.phone?.includes(h)||M.branchCode?.includes(h)}).length>0:!0}).map(k=>{if(h){const D=k.members.filter(P=>{const M=P.member;return M.name?.toLowerCase().includes(h.toLowerCase())||M.phone?.includes(h)||M.branchCode?.includes(h)});return{...k,members:D,totalMembers:D.length,totalDue:D.reduce((P,M)=>P+M.totalDue,0)}}return k}),S=j.reduce((k,D)=>k+D.totalDue,0),A=j.reduce((k,D)=>k+D.totalMembers,0),C=(k,D)=>{const P=k.member;if(!P){$e.error("Member information not available");return}const M=D?{_id:D._id||D.id,name:D.name||"Unknown",email:D.email||""}:null,I={code:P.branchCode||P.branch_code||"N/A",branchCode:P.branchCode||P.branch_code||"N/A",name:P.branch||"Unknown",collectorName:M?.name||"Unknown"},F={day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],collector:M,branch:I,dashboard:!1,directMember:P};localStorage.setItem("installmentCollectionState",JSON.stringify(F)),M&&localStorage.setItem("selectedCollector",JSON.stringify(M)),$e.success(`Opening collection for ${P.name}`,{icon:"",duration:2e3}),e("/installments")},T=k=>{if(!k)return 0;const D=new Date;D.setHours(0,0,0,0);const P=new Date(k);P.setHours(0,0,0,0);const M=D-P,I=Math.floor(M/(1e3*60*60*24));return I>0?I:0};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-100 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Si,{className:"h-4 w-4 inline mr-1"}),"Search Member"]}),l.jsx("input",{type:"text",value:h,onChange:k=>m(k.target.value),placeholder:"Search by name, phone, or branch code...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vt,{className:"h-4 w-4 inline mr-1"}),"Filter by Collector"]}),l.jsxs("select",{value:g,onChange:k=>x(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[l.jsx("option",{value:"all",children:"All Collectors"}),i.map(k=>l.jsxs("option",{value:k.collector._id||k.collector.id,children:[k.collector.name," (",k.totalMembers," members)"]},k.collector._id||k.collector.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[l.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Pending Amount"}),l.jsxs("p",{className:"text-3xl font-bold",children:["",S.toLocaleString()]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Members"}),l.jsx("p",{className:"text-3xl font-bold",children:A})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Collectors"}),l.jsx("p",{className:"text-3xl font-bold",children:j.length})]})]}),l.jsx("div",{className:"flex justify-end pt-4 border-t",children:l.jsxs("button",{onClick:N,disabled:u,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-all disabled:opacity-50",children:[u?l.jsx(fd,{className:"h-4 w-4 animate-spin"}):l.jsx(Ma,{className:"h-4 w-4"}),l.jsx("span",{children:"Refresh"})]})})]}),l.jsx("div",{className:"space-y-6",children:u?l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(fd,{className:"h-8 w-8 animate-spin text-orange-600"}),l.jsx("span",{className:"ml-3 text-gray-600",children:"Loading pending installments..."})]})}):j.length===0?l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-600 text-lg font-semibold mb-2",children:h||g!=="all"?"No pending installments found matching your filters":"No pending installments found"}),l.jsx("p",{className:"text-sm text-gray-500",children:"All installments are up to date!"})]})}):j.map(k=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 pb-4 border-b-2 border-orange-200 gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:l.jsx(Vt,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:k.collector.name}),l.jsx("p",{className:"text-sm text-gray-600",children:k.collector.email})]})]}),l.jsxs("div",{className:"text-left sm:text-right",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Due"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",k.totalDue.toLocaleString()]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.totalMembers," members"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.members.map((D,P)=>{const M=D.member,I=D.installments[0],R=T(I?.dueDate),H=R>0;return l.jsxs("div",{onClick:()=>C(D,k.collector),className:"border-2 border-orange-200 rounded-lg p-4 hover:shadow-lg hover:border-orange-400 transition-all cursor-pointer bg-gradient-to-r from-white to-orange-50",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[M.photo?l.jsx("img",{src:M.photo,alt:M.name,className:"h-12 w-12 rounded-full object-cover border-2 border-orange-300"}):l.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center border-2 border-orange-300",children:l.jsx("span",{className:"text-lg font-bold text-white",children:M.name?.charAt(0)||"M"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-bold text-gray-900 truncate",children:M.name}),l.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[" ",M.phone]})]})]}),l.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[l.jsx(os,{className:"h-3 w-3 mr-1"}),l.jsxs("span",{className:"truncate",children:[M.branchCode||"N/A"," - ",M.branch||"Unknown"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 mb-2 border border-red-300",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"Total Due Amount"}),l.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",D.totalDue.toLocaleString()]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[D.installments.length," pending installment",D.installments.length>1?"s":""]})]}),l.jsx("div",{className:"flex justify-between items-center",children:H?l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-600 text-white animate-pulse",children:[l.jsx(Zn,{className:"h-3 w-3 mr-1"}),R," day",R>1?"s":""," overdue"]}):l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[l.jsx(Da,{className:"h-3 w-3 mr-1"}),"Due Today"]})})]},M._id||P)})})]},k.collector._id||k.collector.id))})]})})},SK=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[i,o]=b.useState(!0),u=()=>new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Dhaka"}),[f,h]=b.useState(u());b.useEffect(()=>{m()},[f]);const m=async()=>{try{o(!0);const g=await pn.getAll({limit:1e3,includeDeleted:!0});if(g.success){const x=f;console.log(" Total members from API:",g.data.length),console.log(" Filter date (BD):",x);const y=j=>j?new Date(j).toLocaleDateString("en-CA",{timeZone:"Asia/Dhaka"})===x:!1,w=g.data.filter(j=>j.isActive===!1&&j.updatedAt?y(j.updatedAt):!1),N=g.data.filter(j=>j.isActive!==!1&&j.createdAt?y(j.createdAt):!1);console.log(" Date:",f,"Deleted:",w.length,"Joined:",N.length),t(w),r(N)}else de.error("Failed to load activity")}catch(g){console.error("Error fetching activity:",g),de.error("Error loading activity")}finally{o(!1)}};return i?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading activity..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg",children:l.jsx(X2,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Member Activity Log"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Track member additions and deletions by date"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Tn,{className:"h-5 w-5 text-gray-500"}),l.jsx("input",{type:"date",value:f,onChange:g=>h(g.target.value),max:u(),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),l.jsxs("button",{onClick:m,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[l.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Members Deleted"}),l.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.length}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),l.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:l.jsx(Qh,{className:"h-8 w-8 text-red-600"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Members Joined"}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.length}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:l.jsx(sd,{className:"h-8 w-8 text-green-600"})})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qh,{className:"h-5 w-5 text-red-600"}),l.jsxs("h2",{className:"text-lg font-semibold text-red-900",children:["Members Deleted (",e.length,")"]})]})}),e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Qh,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-600",children:"No members deleted on this date"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Info"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deleted Time"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx(Vt,{className:"h-5 w-5 text-red-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",g.memberCode||"N/A"]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[l.jsx(Nl,{className:"h-4 w-4 mr-2 text-gray-400"}),g.phone||"N/A"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[l.jsx(_0,{className:"h-4 w-4 mr-2 text-gray-400"}),g.branchCode&&g.branch?`${g.branchCode} - ${g.branch}`:g.branch||"N/A"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.assignedCollector?.name||"Not Assigned"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.updatedAt?new Date(g.updatedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A"})]},g._id))})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"bg-green-50 border-b border-green-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(sd,{className:"h-5 w-5 text-green-600"}),l.jsxs("h2",{className:"text-lg font-semibold text-green-900",children:["Members Joined (",n.length,")"]})]})}),n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(sd,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-600",children:"No new members joined on this date"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Info"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Time"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(g=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(Vt,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",g.memberCode||"N/A"]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[l.jsx(Nl,{className:"h-4 w-4 mr-2 text-gray-400"}),g.phone||"N/A"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[l.jsx(_0,{className:"h-4 w-4 mr-2 text-gray-400"}),g.branchCode&&g.branch?`${g.branchCode} - ${g.branch}`:g.branch||"N/A"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.assignedCollector?.name||"Not Assigned"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.createdAt?new Date(g.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A"})]},g._id))})]})})]})]})},AK=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!1),[i,o]=b.useState(null),[u,f]=b.useState(""),[h,m]=b.useState(""),[g,x]=b.useState(!1),[y,w]=b.useState(!0),[N,j]=b.useState(!1);b.useEffect(()=>{A(),C(),S()},[]);const S=()=>{w(!0)},A=async()=>{try{r(!0);const D=await Uu.checkBalance();D.success?(t(D.data),de.success("Balance updated")):de.error("Failed to check balance")}catch(D){console.error("Balance check error:",D),de.error("Error checking balance")}finally{r(!1)}},C=async()=>{try{const D=await Uu.getSchedulerStatus();D.success&&o(D.data)}catch(D){console.error("Scheduler status error:",D)}},T=async()=>{if(!u||!h){de.error("Phone and message required");return}try{x(!0),(await Uu.sendTestSMS(u,h)).success?(de.success("Test SMS sent successfully!"),f(""),m("")):de.error("Failed to send test SMS")}catch(D){console.error("Test SMS error:",D),de.error("Error sending test SMS")}finally{x(!1)}},k=async()=>{try{j(!0);const D=!y;(await Uu.updateSettings({enableSMS:D})).success?(w(D),de.success(`SMS System ${D?"Enabled":"Disabled"}`)):de.error("Failed to update SMS settings")}catch(D){console.error("Toggle SMS error:",D),de.error("Error updating SMS settings")}finally{j(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-3 bg-gradient-to-br from-green-100 to-blue-100 rounded-lg",children:l.jsx(tA,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SMS Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage SMS balance, settings, and send test messages"})]})]})})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Vn,{className:"h-5 w-5 text-green-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS Balance"})]}),l.jsx("button",{onClick:A,disabled:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(Ma,{className:`h-4 w-4 text-gray-600 ${n?"animate-spin":""}`})})]}),e?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",e.balance]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Provider: ",e.provider]})]}):l.jsx("p",{className:"text-gray-500",children:"Loading..."})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(Da,{className:"h-5 w-5 text-blue-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Auto Scheduler"})]}),i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),l.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Active"})]}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Schedule: ",i.scheduledTime]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Next: ",i.nextRun||"9:00 PM Today"]})]}):l.jsx("p",{className:"text-gray-500",children:"Loading..."})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(Up,{className:"h-5 w-5 text-purple-600"}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"SMS System"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Auto SMS Reminders"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Daily at 9:00 PM"})]}),l.jsx("button",{onClick:k,disabled:N,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 ${y?"bg-green-600":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${y?"translate-x-7":"translate-x-1"}`})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-3",children:y?" SMS reminders are enabled":" SMS reminders are disabled"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(Mw,{className:"h-5 w-5 text-blue-600"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Test SMS"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l.jsx("input",{type:"text",value:u,onChange:D=>f(D.target.value),placeholder:"01XXXXXXXXX",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),l.jsx("input",{type:"text",value:h,onChange:D=>m(D.target.value),placeholder:"Test message",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("button",{onClick:T,disabled:g||!u||!h,className:"mt-4 inline-flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Mw,{className:"h-4 w-4 mr-2"}),g?"Sending...":"Send Test SMS"]})]}),l.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Zn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-semibold mb-1",children:"SMS System Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Automatic due reminders are sent daily at 9:00 PM Bangladesh time"}),l.jsx("li",{children:"Only members with dues today will receive SMS reminders"}),l.jsx("li",{children:"SMS balance is checked from BulkSMSBD API"}),l.jsx("li",{children:"Test SMS feature available to verify system"})]})]})]})})]})},CK=()=>{const{user:e}=Ai(),[t,n]=b.useState("members"),[r,i]=b.useState(""),[o,u]=b.useState(!1),[f,h]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState(!0),[w,N]=b.useState(""),[j,S]=b.useState(""),[A,C]=b.useState(!1),[T,k]=b.useState([]),[D,P]=b.useState([]),[M,I]=b.useState([]),[R,H]=b.useState(!1),[V,F]=b.useState(null),[X,G]=b.useState({}),ge=[{id:"members",name:"Members",icon:Xn},{id:"collectors",name:"Collectors",icon:q6},{id:"branches",name:"Branches",icon:W2}];b.useEffect(()=>{K()},[]);const K=async()=>{try{const J=localStorage.getItem("ngo_token"),U=await(await fetch("/api/admin/pin-status",{headers:{Authorization:`Bearer ${J}`}})).json();U.success&&g(U.isPinSet)}catch(J){console.error("Error checking PIN status:",J)}finally{y(!1)}},re=async J=>{J&&J.preventDefault(),C(!0);try{const O=localStorage.getItem("ngo_token"),L=await(await fetch("/api/admin/verify-pin",{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({pin:w})})).json();L.success?(h(!0),de.success("PIN Verified")):(de.error(L.message||"Incorrect PIN"),N(""))}catch{de.error("Verification failed")}finally{C(!1)}},he=async J=>{if(J.preventDefault(),w!==j){de.error("PINs do not match");return}if(w.length<4){de.error("PIN must be at least 4 digits");return}C(!0);try{const O=localStorage.getItem("ngo_token"),L=await(await fetch("/api/admin/set-pin",{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({pin:w})})).json();L.success?(g(!0),h(!0),de.success("PIN setup successful")):de.error(L.message||"Failed to set PIN")}catch{de.error("Setup failed")}finally{C(!1)}};b.useEffect(()=>{f&&De()},[t,f]);const De=async()=>{u(!0);try{const J=localStorage.getItem("ngo_token");if(!J){console.error(" No token found"),de.error("Authentication required. Please login again."),u(!1);return}const O={Authorization:`Bearer ${J}`,"Content-Type":"application/json"};let U="";switch(t){case"members":U="/api/members?limit=1000";break;case"collectors":U="/api/collectors?limit=1000";break;case"branches":U="/api/branches/from-schedules";break;default:return}console.log(` Fetching ${t} from:`,U);const L=await fetch(U,{headers:O});console.log(` Response status for ${t}:`,L.status);const ee=await L.json();if(console.log(` Response data for ${t}:`,ee),ee.success)switch(console.log(` Successfully loaded ${t}:`,ee.data?.length||0,"items"),t){case"members":k(ee.data||[]);break;case"collectors":P(ee.data||[]);break;case"branches":I(ee.data||[]),console.log(" Branches state updated:",ee.data);break}else console.error(` Failed to load ${t}:`,ee.message),de.error(ee.message||`Failed to load ${t}`)}catch(J){console.error(` Error fetching ${t}:`,J),de.error("Failed to load data")}finally{u(!1)}},$=async(J,O)=>{const U=`Are you sure you want to delete this ${O}?`;if(window.confirm(U))try{const L=localStorage.getItem("ngo_token"),te=await(await fetch(`/api/${O}s/${J}`,{method:"DELETE",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}})).json();te.success?(de.success(`${O.charAt(0).toUpperCase()+O.slice(1)} deleted successfully`),De()):de.error(te.message||"Failed to delete")}catch(L){console.error("Error deleting:",L),de.error("Failed to delete")}},le=(J,O)=>{F({...J,type:O}),G(J),H(!0)},z=async J=>{try{const O=localStorage.getItem("ngo_token");let U,L,ee;if(t==="members")if(U=`/api/members/${V._id||V.id}`,L="PUT",J instanceof FormData){const B=await(await fetch(U,{method:L,headers:{Authorization:`Bearer ${O}`},body:J})).json();B.success?(de.success("Member updated successfully"),H(!1),F(null),G({}),De()):de.error(B.message||"Failed to update member");return}else ee=JSON.stringify(J);else V.type==="branch"?(U=`/api/branches/update-name/${V.branchCode}`,L="PUT",ee=JSON.stringify({name:X.name})):(U=`/api/${V.type}s/${V._id}`,L="PUT",ee=JSON.stringify(X));const q=await(await fetch(U,{method:L,headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:ee})).json();q.success?(de.success("Updated successfully"),H(!1),F(null),G({}),De()):de.error(q.message||"Failed to update")}catch(O){console.error("Error updating:",O),de.error("Failed to update")}},ue=()=>{let J=[];switch(t){case"members":J=T;break;case"collectors":J=D;break;case"branches":J=M;break}return r?J.filter(O=>{const U=r.toLowerCase();return O.name?.toLowerCase().includes(U)||O.phone?.toLowerCase().includes(U)||O.email?.toLowerCase().includes(U)||O.branchCode?.toLowerCase().includes(U)||O.memberCode?.toLowerCase().includes(U)}):J},be=()=>{const J=ue();return o?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):J.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsxs("p",{className:"text-gray-500",children:["No ",t," found"]})}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[t==="members"&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member Code"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),t==="collectors"&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch Code"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),t==="branches"&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch Code"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Members"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(O=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[t==="members"&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:O.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.memberCode}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.phone}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.branch}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:O.status})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>le(O,"member"),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:l.jsx(Zh,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>$(O._id,"member"),className:"text-red-600 hover:text-red-900",children:l.jsx(L0,{className:"h-5 w-5"})})]})]}),t==="collectors"&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:O.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.phone||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.branch||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.branchCode||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:O.isActive?"Active":"Inactive"})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>le(O,"collector"),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:l.jsx(Zh,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>$(O._id,"collector"),className:"text-red-600 hover:text-red-900",children:l.jsx(L0,{className:"h-5 w-5"})})]})]}),t==="branches"&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:O.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.branchCode}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.address||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.memberCount||0}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>le(O,"branch"),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Edit branch name",children:l.jsx(Zh,{className:"h-5 w-5"})}),l.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:"Name only"})]})]})]},O._id))})]})})},Ce=()=>!R||!V?null:t==="members"?l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l.jsx(Op,{member:V,onSave:z,onCancel:()=>{H(!1),F(null),G({})}})})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto mx-4",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Edit ",t==="collectors"?"Collector":"Branch"]}),l.jsxs("div",{className:"space-y-4",children:[t==="collectors"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),l.jsx("input",{type:"text",value:X.name||"",onChange:J=>G({...X,name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),l.jsx("input",{type:"text",value:X.phone||"",onChange:J=>G({...X,phone:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),l.jsx("input",{type:"text",value:X.branch||"",onChange:J=>G({...X,branch:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Code"}),l.jsx("input",{type:"text",value:X.branchCode||"",onChange:J=>G({...X,branchCode:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t==="branches"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Code"}),l.jsx("input",{type:"text",value:X.branchCode||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Branch code cannot be changed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Name"}),l.jsx("input",{type:"text",value:X.name||"",onChange:J=>G({...X,name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter branch name"})]}),l.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",l.jsx("strong",{children:"Note:"})," Only the branch name can be edited here. This will update the name across all collection schedules where this branch appears."]})})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:()=>{H(!1),F(null),G({})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:z,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Save Changes"})]})]})});return x?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):f?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[l.jsx(rA,{className:"h-8 w-8 text-purple-600 mr-3"}),"Admin Control Panel"]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Centralized management for all members, collectors, and branches"}),t==="branches"&&l.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[" ",l.jsx("strong",{children:"Note:"})," Branches are managed through Collection Schedules. To edit branches, please go to the Collection Schedule management page."]})})]})}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:ge.map(J=>{const O=J.icon;return l.jsxs("button",{onClick:()=>{n(J.id),i("")},className:`${t===J.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[l.jsx(O,{className:"h-5 w-5 mr-2"}),J.name]},J.id)})})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Si,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",value:r,onChange:J=>i(J.target.value),placeholder:`Search ${t}...`,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsx("button",{onClick:De,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Refresh"})]}),l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:be()}),Ce()]}):l.jsx("div",{className:"flex items-center justify-center min-h-[500px] p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-purple-100",children:[l.jsxs("div",{className:"bg-purple-600 p-8 flex flex-col items-center",children:[l.jsx("div",{className:"bg-white/20 p-4 rounded-full mb-4",children:m?l.jsx(wa,{className:"h-12 w-12 text-white"}):l.jsx(l6,{className:"h-12 w-12 text-white"})}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:m?"Admin Access":"Initial PIN Setup"}),l.jsx("p",{className:"text-purple-100 text-center mt-2",children:m?"Please enter your administrator PIN to continue":"Protect the Admin Panel by setting up a unique PIN"})]}),l.jsxs("form",{onSubmit:m?re:he,className:"p-8 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m?"Enter PIN":"Choose a New PIN"}),l.jsx("input",{type:"password",value:w,onChange:J=>N(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center text-2xl tracking-[1em] font-bold",placeholder:"",required:!0,autoFocus:!0})]}),!m&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm PIN"}),l.jsx("input",{type:"password",value:j,onChange:J=>S(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-center text-2xl tracking-[1em] font-bold",placeholder:"",required:!0})]})]}),l.jsx("button",{type:"submit",disabled:A,className:`w-full py-4 rounded-xl text-white font-bold text-lg transition-all transform active:scale-[0.98] ${A?"bg-gray-400":"bg-purple-600 hover:bg-purple-700 shadow-lg shadow-purple-200"}`,children:A?"Processing...":m?"Verify Access":"Create PIN"}),l.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:m?"Contact the system administrator if you forgot your PIN.":"Please remember this PIN as you will need it for every access."})]})]})})};function DK(){const{isAuthenticated:e,loading:t}=Ai(),[n,r]=b.useState(()=>!sessionStorage.getItem("splashShown")),i=()=>{r(!1),sessionStorage.setItem("splashShown","true")};return n?l.jsx(sM,{onComplete:i}):t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l.jsx(w4,{children:l.jsx(Q5,{children:e?l.jsxs(l.Fragment,{children:[l.jsxs(Ht,{path:"/",element:l.jsx(J6,{}),children:[l.jsx(Ht,{index:!0,element:l.jsx(QY,{})}),l.jsx(Ht,{path:"profile",element:l.jsx(lM,{})}),l.jsx(Ht,{path:"members",element:l.jsx(eK,{})}),l.jsx(Ht,{path:"members/:id",element:l.jsx(jK,{})}),l.jsx(Ht,{path:"activity-log",element:l.jsx(SK,{})}),l.jsx(Ht,{path:"products",element:l.jsx(rK,{})}),l.jsx(Ht,{path:"sales-report",element:l.jsx(aK,{})}),l.jsx(Ht,{path:"installments",element:l.jsx(gK,{})}),l.jsx(Ht,{path:"pending-installments",element:l.jsx(NK,{})}),l.jsx(Ht,{path:"extra-installments",element:l.jsx(pK,{})}),l.jsx(Ht,{path:"savings",element:l.jsx(xK,{})}),l.jsx(Ht,{path:"weekly",element:l.jsx(yK,{})}),l.jsx(Ht,{path:"daily-collection",element:l.jsx(vK,{})}),l.jsx(Ht,{path:"daily-savings",element:l.jsx(bK,{})}),l.jsx(Ht,{path:"total-due",element:l.jsx(wK,{})}),l.jsx(Ht,{path:"sms-management",element:l.jsx(AK,{})}),l.jsx(Ht,{path:"admin-control-panel",element:l.jsx(CK,{})})]}),l.jsx(Ht,{path:"*",element:l.jsx(Dw,{to:"/",replace:!0})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ht,{path:"/login",element:l.jsx(Z6,{})}),l.jsx(Ht,{path:"/register",element:l.jsx(Q6,{})}),l.jsx(Ht,{path:"*",element:l.jsx(Dw,{to:"/login",replace:!0})})]})})})}function EK(){return l.jsxs(W6,{children:[l.jsx(DK,{}),l.jsx(vP,{position:"top-right",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:4e3,style:{background:"#363636",color:"#fff",padding:"16px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},success:{duration:3e3,style:{background:"#10B981",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#10B981"}},error:{duration:4e3,style:{background:"#EF4444",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#EF4444"}},loading:{style:{background:"#3B82F6",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#3B82F6"}}}})]})}a5.createRoot(document.getElementById("root")).render(l.jsx(b.StrictMode,{children:l.jsx(EK,{})}));
